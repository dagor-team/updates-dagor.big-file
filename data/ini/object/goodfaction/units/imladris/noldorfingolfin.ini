Object NoldorFingolfin

    SelectPortrait = HPFingolfin
    ButtonImage    = HIFingolfin

    DescriptionStrategic   = CONTROLBAR:LW_ToolTip_SupportHero

    Draw = W3DScriptedModelDraw ModuleTag_Draw

        DefaultModelConditionState
            Model                      = eufingolfin
            ParticleSysBone            = B_SWORDBONE FingolfinRingilFX FollowBone:Yes
        End

       ModelConditionState = MOUNTED
            Model                      = eufingolfinm
            Skeleton                   = RUHHs_Theo_SKL
            ParticleSysBone            = B_SWORDBONE FingolfinRingilFX FollowBone:Yes
            WeaponLaunchBone           = PRIMARY PASSENGERBONE
        End

        ModelConditionState = USER_4
            Model                      = eufingolfin
            ParticleSysBone            = BAT_SPINE1 FingolfinBlade FollowBone:Yes
        End

        ModelConditionState = WEAPONSET_HERO_MODE
            Model                      = eufingolfin
            ParticleSysBone            = BAT_SPINE1 FingolfinBlade FollowBone:Yes
        End



        AnimationState                = MOUNTED DEBUG
            Animation
                AnimationName       = RUHHs_Theo_IDLA
                AnimationMode       = ONCE
            End
            ParticleSysBone = BAT_HHEAD glowHorseGold FollowBone:Yes
            ParticleSysBone = B_HHIPL glowHorseRearGold FollowBone:Yes
            ParticleSysBone = BAT_SPINE2 glowGold FollowBone:Yes
        End



        AnimationState                =    MOUNTED FREEFALL
            Animation                =    freefall
                AnimationName        =    RUHHs_Theo_FLYC
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOUNTED STUNNED_FLAILING
            Animation                =    JustDie
                AnimationName        =    RUHHs_Theo_FLYC
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOUNTED DYING SPLATTED DEATH_1
            Animation                =    Land
                AnimationName        =    RUHHs_Theo_LNDA
                AnimationMode        =    ONCE
                AnimationBlendTime  =   2
            End
            FXEvent    = Frame:2 Name:FX_SplatDust
        End



        AnimationState                =    MOUNTED DYING DEATH_1
            Animation                =    JustDie
                AnimationName        =    RUHHs_Theo_DIEA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    MOUNTED STUNNED_STANDING_UP
            Animation                =    StandUp
                AnimationName        =    RUHHs_Theo_GTPA
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 3.5 3.5
            End
        End

        AnimationState                =    MOUNTED STUNNED
            Animation                =    Land
                AnimationName        =    RUHHs_Theo_LNDA
                AnimationMode        =    ONCE
            End
        End


        AnimationState                        = PARALYZED MOUNTED
            Animation
                AnimationName                = RUHHs_Theo_IDLA
                AnimationMode                = LOOP
            End
        End

        AnimationState        = MOUNTED MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = RUHHs_Theo_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End



        AnimationState                =    MOUNTED MOVING USING_SPECIAL_ABILITY
            Animation                =    RousingSpeech
                AnimationName        =    RUHHs_Theo_WLKB
                AnimationMode        =    LOOP
            End

        End

        AnimationState                =    MOUNTED TURN_LEFT_HIGH_SPEED
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_TNL1
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.2 1.2
                AnimationBlendTime    =    20
            End
        End

        AnimationState                =    MOUNTED TURN_RIGHT_HIGH_SPEED
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_TNR1
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.2 1.2
                AnimationBlendTime    =    20
            End
        End


        AnimationState                =    MOUNTED MOVING TURN_LEFT
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_TRNL
                AnimationMode        =    LOOP
            End

        End

        AnimationState                =    MOUNTED MOVING TURN_RIGHT
            Animation                =    TurnRight
                AnimationName        =    RUHHs_Theo_TRNR
                AnimationMode        =    LOOP
            End

        End

        AnimationState                =    MOUNTED MOVING ACCELERATE
            Animation                =    Accelerate
                AnimationName        =    RUHHs_Theo_ACCL
                AnimationMode        =    LOOP
            End

        End

        AnimationState                =    MOUNTED MOVING DECELERATE
            Animation                =    Decelerate
                AnimationName        =    RUHHs_Theo_DECL
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.6 0.6
            End

        End

        AnimationState                =    MOUNTED MOVING WALKING
            Animation                =    Walk
                AnimationName        =    RUHHs_Theo_WLKA
                AnimationMode        =    LOOP
            End

        End

        AnimationState                =    MOUNTED MOVING
            Animation                =    RunA
                AnimationName        =    RUHHs_Theo_RUNA
                AnimationMode        =    LOOP
            End

        End

        AnimationState        = SPECIAL_WEAPON_THREE MOUNTED
        Animation             = CHRA
            AnimationName     = RUHHs_Theo_SPCA
            AnimationMode     = Once
        End
        Animation             = CHRB
            AnimationName     = RUHHs_Theo_IDLC
            AnimationMode     = Once
        End
            ParticleSysBone   = ROOTTRANSFORM GandalfCrystalSphere FollowBone:Yes
            ParticleSysBone   = ROOTTRANSFORM GandalfBeamGlow2 FollowBone:Yes
        End

        AnimationState                =    MOUNTED FIRING_OR_PREATTACK_A
            Animation                =    AttackA
                AnimationName        =    RUHHs_Theo_ATKA
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
            End
            Animation                =    AttackB
                AnimationName        =    RUHHs_Theo_ATKB
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                =    MOUNTED ATTACKING
            Animation                =    AttackA
                AnimationName        =    RUHHs_Theo_ATKA
                AnimationMode        =    MANUAL
            End
        End

        AnimationState                = MOUNTED LEVELED
            StateName                = Idle
            Animation                = LevelUp
                AnimationName        = RUHHs_Theo_IDLC
                AnimationMode        = ONCE
                AnimationSpeedFactorRange    =    0.666 0.666
            End
        End

        AnimationState                =    RAISING_FLAG MOUNTED
                Animation           =    CHRA
                    AnimationName   =    RUHHs_Theo_CHRA
                    AnimationMode   =    LOOP
                End
        End

        AnimationState                =    EMOTION_TAUNTING MOUNTED
                Animation           =    CHRA
                    AnimationName   =    RUHHs_Theo_CHRA
                    AnimationMode   =    LOOP
                End
        End

        AnimationState                = MOUNTED EMOTION_CELEBRATING
            Animation                = LevelUp
                AnimationName        = RUHHs_Theo_IDLC
                AnimationMode        = LOOP
            End
        End

        AnimationState                =    MOUNTED SELECTED
            SimilarRestart            =   Yes
            StateName                =    AtAttentionIdle
            Animation                =    ATNB
                AnimationName        =    RUHHs_Theo_IDLH
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
                if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
            EndScript
        End

        TransitionState                =    TRANS_MountedSelect
            Animation                =    ATNA
                AnimationName        =    RUHHs_Theo_ATNA
                AnimationMode        =    ONCE
            End
        End

        AnimationState            = MOUNTED
            StateName = Idle
            Animation    =    IdleA
                AnimationName        =    RUHHs_Theo_IDLA
                AnimationPriority    =    20
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Animation                =    IdleB
                AnimationName        =    RUHHs_Theo_IDLB
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Animation                =    IdleC
                AnimationName        =    RUHHs_Theo_IDLC
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End




    IdleAnimationState
            StateName = Idle
            Animation           = IDLB
                AnimationName     = GUBoromir_SKL.GUBoromir_IDLB
                AnimationMode     = ONCE
                AnimationPriority   = 20
            End
            Animation           = IDLD
                AnimationName     = GUBoromir_SKL.GUBoromir_IDLD
                AnimationMode     = ONCE
                AnimationPriority   = 1
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
            EndScript
        End

        TransitionState       = Trans_None_To_Sword
            Animation           = GUBoromir_STHA
                AnimationName     = GUBoromir_SKL.GUBoromir_STHA
                AnimationMode     = ONCE
            End
        End
        TransitionState       = Trans_Sword_To_None
            Animation           = GUBoromir_STHB
                AnimationName     = GUBoromir_SKL.GUBoromir_STHB
                AnimationMode     = ONCE
            End
        End

        AnimationState        = STUNNED_FLAILING
            Flags               = RANDOMSTART
            Animation           = GUBoromir_FLYA
                AnimationName     = GUBoromir_SKL.GUBoromir_FLYA
                AnimationMode     = LOOP
            End
        End




        AnimationState        = DYING SPLATTED
            Animation           = GUBoromir_LNDA
                AnimationName     = GUBoromir_SKL.GUBoromir_LNDA
                AnimationMode     = ONCE
            End
        End
        AnimationState        = DYING AFLAME
            Animation = DieAflame
                AnimationName       = GUBoromir_SKL.GUBoromir_MFDA
                AnimationMode       = LOOP
            End
        End
        AnimationState        = DYING DEATH_1
            Animation           = GUBoromir_DTHA
                AnimationName     = GUBoromir_SKL.GUBoromir_DTHA
                AnimationMode     = ONCE
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = GUBoromir_IDLB
                AnimationMode                = LOOP
            End
        End


        AnimationState        = STUNNED_STANDING_UP
            Animation           = GUBoromir_GTPA
                AnimationName     = GUBoromir_SKL.GUBoromir_GTPA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.3 1.3
            End
        End
        AnimationState        = STUNNED
            Animation           = GUBoromir_LNDA
                AnimationName     = GUBoromir_SKL.GUBoromir_LNDA
                AnimationMode     = ONCE
            End
        End

        AnimationState        = PACKING_TYPE_2
            StateName          =    CaptainPower
            Animation           = GUBoromir_CHRA
                AnimationName     = GUBoromir_SKL.GUBoromir_CHRA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.2 1.2
            End
        End


        AnimationState        = UNPACKING SPECIAL_POWER_1
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_HRNA
                AnimationMode     = ONCE
            End
        End
        AnimationState        = PREPARING SPECIAL_POWER_1
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_HRNB
                AnimationMode     = ONCE
            End
            EnteringStateFX = FX_FingolfiHorn
        End
        AnimationState        = PACKING SPECIAL_POWER_1
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_HRNC
                AnimationMode     = ONCE
            End
        End
        AnimationState        = SPECIAL_POWER_1
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_HRNB
                AnimationMode     = LOOP
            End
        End


        AnimationState        = UNPACKING SPECIAL_WEAPON_ONE
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_SPCA
                AnimationMode     = ONCE
            End
        End
        AnimationState        = PREPARING SPECIAL_WEAPON_ONE
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_SPCB
                AnimationMode     = ONCE
            End
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_SPCC
                AnimationMode     = ONCE
            End
        EnteringStateFX = FX_FingolfiHorn
        End
        AnimationState        = PACKING SPECIAL_WEAPON_ONE
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_SPCE
                AnimationMode     = ONCE
            End
        End
        AnimationState        = SPECIAL_WEAPON_ONE
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_SPCB
                AnimationMode     = ONCE
            End
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_SPCC
                AnimationMode     = ONCE
            End
        End



        AnimationState        = PACKING_TYPE_1
            StateName         = Dominate
            Animation
        AnimationName         = GUBoromir_SKL.GUBoromir_CHRA
        AnimationMode         = Once
              AnimationBlendTime   = 5
          End
          FXEvent             = Frame:6 Name:FX_SarumanDominateAtSelf
        End

        AnimationState        = SPECIAL_WEAPON_THREE
        Animation             = CiclonPutAway
            AnimationName     = GUBoromir_SKL.GUBoromir_CHRB
            AnimationMode     = Once
        End
            ParticleSysBone   = ROOTTRANSFORM GandalfCrystalSphere FollowBone:Yes
            ParticleSysBone   = ROOTTRANSFORM GandalfBeamGlow2 FollowBone:Yes
        End

        AnimationState        =  PACKING_TYPE_3 UNPACKING
            StateName = Attacking
            Animation = LightningSwordStart
                AnimationName           = GUBoromir_SKL.GUBoromir_CHRA
                AnimationMode       = ONCE
            End
            FXEvent            = Frame:14 Name:FX_GandalfLightningCharge
            FXEvent            = Frame:14 Name:FX_GandalfLightningSword  FrameStop:70
        End

        AnimationState        =  PACKING_TYPE_3 PREPARING
            StateName = Attacking
            Animation = LightningSwordLoop
                AnimationName           = GUBoromir_SKL.GUBoromir_HITA
                AnimationMode       = LOOP
            End
        End

        AnimationState        =  PACKING_TYPE_3 PACKING
            StateName = Attacking
            Animation = LightningSwordPutAway
                AnimationName           = GUBoromir_SKL.GUBoromir_CHRB
                AnimationMode       = ONCE
            End
        End



        AnimationState        = MOVING WANDER WEAPONSTATE_CLOSE_RANGE
            StateName           = WithSword

            Animation           = GUBoromir_WLKA
                AnimationName     = GUBoromir_SKL.GUBoromir_WLKA
                AnimationMode     = LOOP
            End
        End

        AnimationState        = MOVING WANDER

            Animation           = GUBoromir_WLKA
                AnimationName     = GUBoromir_SKL.GUBoromir_WLKA
                AnimationMode     = LOOP
            End
        End


        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = GUBoromir_SKL.GUBoromir_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End


        AnimationState        = MOVING

            Flags               = RANDOMSTART
            Animation           = GUBoromir_RUNB
                AnimationName     = GUBoromir_SKL.GUBoromir_RUNA
                AnimationMode     = LOOP
            End
        End



        AnimationState        = FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
            StateName           = WithSword
            Animation           = ATKA
                AnimationName     = GUBoromir_SKL.GUBoromir_ATKA
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            Animation           = ATKB
                AnimationName    = GUBoromir_SKL.GUBoromir_ATKB
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
        End

        AnimationState        = FIRING_OR_PREATTACK_A
            Animation           = GUBoromir_ATD1
                AnimationName     = GUBoromir_SKL.GUBoromir_ATKB
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
        End




        AnimationState        = ATTACKING
            Animation           = ALERT_1
                AnimationName     = GUBoromir_SKL.GUBoromir_IDLA
                AnimationMode     = LOOP
            End
        End


        TransitionState                    =    TRANS_Idle_to_Selected
            Animation                    =    ATND
                AnimationName            =    GUBoromir_SKL.GUBoromir_ATND
                AnimationMode            =    ONCE
            End
        End

        TransitionState                    =    TRANS_Selected_To_Idle
            Animation                    =    ATNE
                AnimationName            =    GUBoromir_SKL.GUBoromir_ATNE
                AnimationMode            =    ONCE
            End
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = GUBoromir_SKL.GUBoromir_CHRA
                AnimationMode        = ONCE
            End
        End

        AnimationState            = RAISING_FLAG
            Animation           = CHRA
                AnimationName   = GUBoromir_SKL.GUBoromir_CHRA
                AnimationMode   = Once
            End
            Animation           = CHRB
                AnimationName   = GUBoromir_SKL.GUBoromir_CHRB
                AnimationMode   = Once
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                =    SELECTED
            StateName                =    Selected
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =    GUBoromir_SKL.GUBoromir_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
            EndScript
        End


        AnimationState            = EMOTION_TAUNTING
            Animation           = CHRA
                AnimationName   = GUBoromir_SKL.GUBoromir_CHRA
                AnimationMode   = Once
            End
        End

        AnimationState            = EMOTION_CELEBRATING
            Animation           = CHRB
                AnimationName   = GUBoromir_SKL.GUBoromir_CHRB
                AnimationMode   = Once
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                    = EMOTION_ALERT EMOTION_MORALE_HIGH
            Animation                    = Taunting
                AnimationName            =  GUBoromir_SKL.GUBoromir_TNTB
                AnimationMode            = ONCE
            End
            Flags                        = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState        = EMOTION_ALERT
            Animation           = ALERT_1
                AnimationName     = GUBoromir_SKL.GUBoromir_IDLA
                AnimationMode     = LOOP
            End
        End



        AnimationState = HIT_REACTION HIT_LEVEL_1
            Animation = Hit_Level_1_a
                AnimationName = GUBoromir_SKL.GUBoromir_HITA
                AnimationMode = ONCE
            End
        End

    End



    Draw = W3DScriptedModelDraw DustEffects
        DefaultModelConditionState
          Model = None
        End
        IdleAnimationState
        End
        AnimationState = MOUNTED MOVING WADING
            ParticleSysBone = None FootstepSlash
        End
        AnimationState = MOUNTED MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOUNTED MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOUNTED MOVING
        End
    End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"







    Side                              = Imladris
    EditorSorting                     = UNIT
    ThreatLevel                       = 4.0
    ThingClass                        = CHARACTER_UNIT
    BuildCost                         = STRONG_FIRST_AGE_HERO_COST
    BuildTime                         = STRONG_FIRST_AGE_HERO_BUILDTIME
    ShockwaveResistance               = SHOCKWAVE_RESISTANCE_STRONG
    TransportSlotCount                = TRANSPORTSLOTCOUNT_HERO
    BountyValue                       = 400
    MaxSimultaneousOfType             = 1
    DisplayMeleeDamage                = MEDIUM_FIRST_AGE_HERO_DAMAGE
    VisionRange                       = 340
    ShroudClearingRange               = 400
    MaxVisionBonusPercent             = 300%
    VisionBonusTestRadius             = 200
    VisionBonusPercentPerFoot         = 1.0%

    DisplayName                       = OBJECT:NoldorFingolfin
    RecruitText                       = CONTROLBAR:NoldorFingolfinRecruit
    ReviveText                        = CONTROLBAR:NoldorFingolfinRevive
    Hotkey                            = CONTROLBAR:NoldorFingolfinrHotkey

    MinCrushVelocityPercent     = MINCRUSHVELOCITYPERCENT_HERO
    CrushDecelerationPercent    = CRUSHDECELERATIONPERCENT_HERO
    CrusherLevel                      = 0
	CrushableLevel					  = 3
    MountedCrusherLevel               = 1
    MountedCrushableLevel             = 2
    CrushWeapon                       = FirstAgeHeroCrush
    CrushKnockback                    = 60
    CrushZFactor                      = 1.0

    CommandSet                        = NoldorFingolfinCommandSet
    CommandPoints                     = 0





   WeaponSet
        Conditions                    = None
        Weapon                        = PRIMARY   FingolfinSword
        AutoChooseSources             = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions                    = WEAPONSET_HERO_MODE
        Weapon                        = PRIMARY   FingolfinSwordPower
    End

    WeaponSet
        Conditions                    = PLAYER_UPGRADE
        Weapon                        = PRIMARY   FingolfinSwordUpgrade
        AutoChooseSources             = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions                    = WEAPONSET_HERO_MODE PLAYER_UPGRADE
        Weapon                        = PRIMARY   FingolfinSwordPowerUpgrade
    End

    WeaponSet
        Conditions                    = MOUNTED
        Weapon                        = PRIMARY    FingolfinSword
        AutoChooseSources             = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End





    ArmorSet
        Conditions                    = None
        Armor                         = FirstAgeStrongHeroArmor
        DamageFX                      = NormalDamageFX
    End

    ArmorSet
        Conditions                    = PLAYER_UPGRADE
        Armor                         = FirstAgeVeryStrongHeroArmor
        DamageFX                      = NormalDamageFX
    End

    ArmorSet
        Conditions                    = MOUNTED
        Armor                         = FirstAgeStrongHeroArmorMounted
        DamageFX                      = NormalDamageFX
    End

    ArmorSet
        Conditions                    = MOUNTED PLAYER_UPGRADE
        Armor                         = FirstAgeVeryStrongHeroArmorMounted
        DamageFX                      = NormalDamageFX
    End



    AutoResolveUnitType               = AutoResolveUnit_Hero
    AutoResolveCombatChain            = AutoResolve_HeroCombatChain

    AutoResolveBody                   = AutoResolve_BoromirBody

    AutoResolveArmor
        Armor                         = AutoResolve_BoromirArmor
    End

    AutoResolveWeapon
        Weapon                        = AutoResolve_BoromirWeapon
    End





    VoiceCreated                        = FingolfinVoiceSalute
    VoiceFullyCreated                   = FingolfinVoiceSalute
    VoiceAttack                         = FingolfinVoiceAttack
    VoiceAttackAir                      = FingolfinVoiceAttack
    VoiceAttackCharge                   = FingolfinVoiceAttackCharge
    VoiceAttackMachine                  = FingolfinVoiceAttack
    VoiceAttackStructure                = FingolfinVoiceAttackBuilding
    VoiceGuard                          = FingolfinVoiceMove
    VoiceMove                           = FingolfinVoiceMove
    VoiceMoveToCamp                     = FingolfinVoiceMoveCamp
    VoiceMoveWhileAttacking             = FingolfinVoiceMove
    VoicePriority                       = 90
    VoiceRetreatToCastle                = FingolfinVoiceRetreat
    VoiceSelect                         = FingolfinVoiceSelectMS
    VoiceSelectBattle                   = FingolfinVoiceSelectBattle

    SoundCrushing                       = RohirrimCrushing
    SoundImpact                         = ImpactHorse

    UnitSpecificSounds
        VoiceEnterUnitElvenTransportShip = FingolfinVoiceMoveShip
        VoiceGarrison                   = FingolfinVoiceMoveGarrison
        VoiceInitiateCaptureBuilding    = FingolfinVoiceCaptureBuilding
    End

    ClientBehavior = ModelConditionSoundSelectorClientBehavior ModuleTag_MCSoundSelector
        SoundState = MOUNTED
            VoiceMove                   = FingolfinVoiceMove
            VoiceSelect                 = FingolfinVoiceSelectMS
        End
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
    MaxUpdateRangeCap = 800
        AnimationSound = Sound:SwordIntoScabbard1        Animation:GUBoromir_SKL.GUBoromir_HRNA      Frames:7
        AnimationSound = Sound:BoromirHorn               Animation:GUBoromir_SKL.GUBoromir_HRNB      Frames:0
        AnimationSound = Sound:SwordShingClean1          Animation:GUBoromir_SKL.GUBoromir_HRNC      Frames:5
        AnimationSound = Sound:FootstepDirtA             Animation:GUBoromir_SKL.GUBoromir_RUNA      Frames:10 22
        AnimationSound = Sound:FootstepDirtA             Animation:GUBoromir_SKL.GUBoromir_RUNB      Frames:10 22
        AnimationSound = Sound:FootstepDirtA             Animation:GUBoromir_SKL.GUBoromir_ATRA      Frames:11 23 35 47
        AnimationSound = Sound:FootstepDirtA             Animation:GUBoromir_SKL.GUBoromir_MFDA      Frames:8 20 31 41
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:GUBoromir_SKL.GUBoromir_DTHA      Frames:116
        AnimationSound = Sound:BodyFallSoldier           Animation:GUBoromir_SKL.GUBoromir_LNDA      Frames:4
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:GUBoromir_SKL.GUBoromir_SPCE      Frames:82

        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_ACCL    Frames:14 32
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_RUNA    Frames:0
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNL1    Frames:0
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNR1    Frames:0
        AnimationSound = Sound:HorseWhinny               Animation:RUHHs_Theo_SKL.RUHHs_Theo_IDLC    Frames:3
        AnimationSound = Sound:HorseDieForHero           Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA    Frames:0
        AnimationSound = Sound:BodyFallSoldier           Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA    Frames:1 9
        AnimationSound = Sound:HorseDieForHero           Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA    Frames:0
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA    Frames:4
        AnimationSound = Sound:BodyFallSoldier           Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA    Frames:42
    End

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key  = Humanoid_Male Elf Elf_Male Unit Infantry Hero
    End

    CrowdResponseKey = ElfHero

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance           = 200
        TauntAndPointUpdateDelay        = 2000
        PointAt                         = ANY +HERO
        AddEmotion                      = Doom_Base
        AddEmotion                      = Point_Base
        AddEmotion                      = Taunt_Base
        AddEmotion                      = CheerIdle_Base
        AddEmotion                      = CheerBusy_Base
        AddEmotion                      = Alert_Base
        AddEmotion                      = CheerForAboutToCrush_Base
    End







    RadarPriority = UNIT
    KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ARMY_SUMMARY ATTACK_NEEDS_LINE_OF_SIGHT HEAVY_MELEE_HITTER
    PathfindDiameter = 40.0

    Body = RespawnBody ModuleTag_RespawnBody
        CheerRadius                        = EMOTION_CHEER_RADIUS
        MaxHealth                          = MEDIUM_FIRST_AGE_HERO_HEALTH
        PermanentlyKilledByFilter          = NONE
        DodgePercent                       = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                          = DYING
        DeathFX                            = FX_FingolfinDieToRespawn
        DeathAnimationTime                 = 6500
        InitialSpawnFX                     = FX_FingolfinInitialSpawn
        RespawnAnim                        = LEVELED
        RespawnFX                          = FX_FingolfinRespawn
        RespawnAnimationTime               = 2000
        AutoRespawnAtObjectFilter          = NONE +CASTLE_KEEP
        ButtonImage                        = HIFingolfin_Wotr

        RespawnRules =    AutoSpawn:No           Cost:STRONG_FIRST_AGE_HERO_COST       Time:STRONG_FIRST_AGE_HERO_RESPAWNTIME        Health:100%
   End

    Behavior = AutoHealBehavior ModuleTag_LegolasHealing
        StartsActive                       = Yes
        HealingAmount                      = HERO_HEAL_AMOUNT
        HealingDelay                       = 1000
        StartHealingDelay                  = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat              = Yes
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle         = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate                = 500
        CanAttackWhileContained            = Yes
        AILuaEventsList                    = BoromirFunctions
    End

    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = 66
    End

    LocomotorSet
        Locomotor = HeroHorseLocomotor
        Condition = SET_MOUNTED
        Speed     = FAST_MOUNTED_HERO_SPEED
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult                        = 1.0
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes                         = ALL
        SinkDelay                          = 3000
        SinkRate                           = 0.5
        DestructionDelay                   = 8000
        Sound                              = INITIAL FingolfinVoiceDie
        DeathFlags                         = DEATH_1
    End

    Behavior = SquishCollide ModuleTag_06
    End

    Behavior = NotifyTargetsOfImminentProbableCrushingUpdate ModuleTag_NotifyCrushScan
    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1         = 1993
        HitReactionLifeTimer2         = 1993
        HitReactionLifeTimer3         = 1993

        HitReactionThreshold1         = 5.0
        HitReactionThreshold2         = 25.0
        HitReactionThreshold3         = 50.0
    End

    Behavior = CommandButtonHuntUpdate ModuleTag_CommandButtonHuntUpdate
    End

    Behavior = WeaponSetUpgrade ModuleTag_WeaponSetUpgradeTag
        TriggeredBy                   = Upgrade_Level_10
    End

    Behavior = ArmorUpgrade ArmorUpgradeModuleTag
        TriggeredBy                   = Upgrade_Level_10
    End











    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TheodenLeadership
        SpecialPowerTemplate               = SpecialAbilityFakeLeadership
        TriggeredBy                        = Upgrade_Level_1
    End

    Behavior = SpecialPowerModule ModuleTag_TheodenLeadershipUpdate
        SpecialPowerTemplate               = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack           = No
        StartsPaused                       = Yes
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership
        StartsActive                       = Yes
        BonusName                          = FingolfinLeadership
        TriggeredBy                        = Upgrade_Level_1
        RefreshDelay                       = 2000
        Range                              = 200
        AntiCategory                       = BUFF
        ObjectFilter                       = ANY -INFANTRY -CAVALRY -STRUCTURE -BASE_FOUNDATION +HERO
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_DreadVisage
        StartsActive                       = No
        BonusName                          = FingolfinArmorRupture
        TriggeredBy                        = Upgrade_Level_5
        RefreshDelay                       = 2000
        Range                              = 150
        TargetEnemy                        = Yes
        AntiCategory                       = LEADERSHIP BUFF
        ObjectFilter                       = ANY -INFANTRY -CAVALRY -STRUCTURE -BASE_FOUNDATION +HERO
    End



	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_HornEnabler
        SpecialPowerTemplate = SpecialAbilityTheodenGloriousCharge
        TriggeredBy = Upgrade_Level_3
        ObeyRechageOnTrigger = Yes
    End
	
	Behavior = SpecialPowerModule ModuleTag_HornStarter   
        SpecialPowerTemplate      = SpecialAbilityTheodenGloriousCharge
        UpdateModuleStartsAttack  = Yes
        StartsPaused = Yes
        AttributeModifier = FingolfinHornLeadership
        AttributeModifierRange = 200
        AttributeModifierAffectsSelf = Yes
        AttributeModifierAffects = IMLADRIS_LEADERSHIP_UNITS_OBF
        AttributeModifierFX = FX_ElessarGloriousCharge
    End
    
    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_HornAnimation
        SpecialPowerTemplate               = SpecialAbilityTheodenGloriousCharge
        SpecialWeapon                      = FingolfinPulse
        WhichSpecialWeapon                 = 3
        StartAbilityRange                  = 200
        SkipContinue                       = Yes
        UnpackTime                         = 1200
        PackTime                           = 1000
        MustFinishAbility                  = Yes
    End
	
	;Behavior = SpecialPowerModule ModuleTag_HornDummy2
        ;SpecialPowerTemplate               = SpecialAbilityFeanorOath2
        ;StartsPaused                       = Yes
        ;UpdateModuleStartsAttack           = Yes
    ;End

    ;Behavior = ActivateModuleSpecialPower ModuleTag_Horn2
       ;SpecialPowerTemplate               = SpecialAbilityFeanorOath2
        ;StartAbilityRange                  = 200
        ;TriggerSpecialPower                = ModuleTag_MiniDragonSummon
        ;TriggerSpecialPower                = ModuleTag_HornUpdate
    ;End
	
	;Behavior = OCLSpecialPower ModuleTag_MiniDragonSummon
        ;SpecialPowerTemplate            = SpecialAbilityElrosWordofPower
        ;OCL                             = OCL_SpawnFingolfinPulse2
        ;TriggerFX                       = FX_FogSummon
        ;CreateLocation                  = CREATE_AT_LOCATION
        ;StartsPaused                    = Yes
        ;;SetModelCondition               = ModelConditionState:USER_1
        ;SetModelConditionTime           = 8.1
    ;End
	
	
	
	
    
	
	

	

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_HorseToggleEnabler
        SpecialPowerTemplate               = SpecialAbilityToggleMounted
    End

    Behavior = SpecialPowerModule ModuleTag_HorseToggleStarter
       SpecialPowerTemplate                = SpecialAbilityToggleMounted
       UpdateModuleStartsAttack            = Yes
       StartsPaused                        = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle
       SpecialPowerTemplate                = SpecialAbilityToggleMounted
       UnpackTime                          = GOOD_MOUNT_TIME
       PreparationTime                     = 1
       PersistentPrepTime                  = 250
       PackTime                            = GOOD_MOUNT_TIME
       OpacityTarget                       = .3
       AwardXPForTriggering                = 0
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CiclonWave
        SpecialPowerTemplate               = SpecialAbilityFingolfinCiclon
        TriggeredBy                        = Upgrade_Level_7
    End

    Behavior = SpecialPowerModule ModuleTag_CiclonStarter
        SpecialPowerTemplate               = SpecialAbilityFingolfinCiclon
        UpdateModuleStartsAttack           = Yes
        StartsPaused                       = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_CiclonWeaponFireUpdate
        SpecialPowerTemplate               = SpecialAbilityFingolfinCiclon
        WhichSpecialWeapon                 = 3
        SkipContinue                       = Yes
        UnpackTime                         = 1400
        PackTime                           = 1
        FreezeAfterTriggerDuration         = 2500
        AwardXPForTriggering               = 0
        StartAbilityRange                  = 80.0
        SpecialWeapon                      = NatureWaveWeapon
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AragornBladeMasterEnabler
        SpecialPowerTemplate               = SpecialAbilityFingolfinRage
        TriggeredBy                        = Upgrade_Level_10
    End

    Behavior = SpecialPowerModule ModuleTag_AragornBladeMasterStarter
        SpecialPowerTemplate               = SpecialAbilityFingolfinRage
        StartsPaused                       = Yes
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_AragornBladeMasterUpdate
        SpecialPowerTemplate               = SpecialAbilityFingolfinRage
        HeroAttributeModifier              = FingolfinRage
        HeroEffectDuration                 = 35000
        UnpackTime                         = 2000
        UnpackingVariation                 = 1
    End







    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName  = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName  = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName  = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End

    Behavior = AISpecialPowerUpdate ElvenLorienWarriorHordeCaptureBuildingAI
        CommandButtonName  = Command_CaptureBuilding
        SpecialPowerAIType = AI_SPECIAL_POWER_CAPTURE_BUILDING
    End


    Behavior = AISpecialPowerUpdate Horn_AI
        CommandButtonName  = Command_FingolfinHorn
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate RochallorToggleMounted_AI
        CommandButtonName  = Command_FingolfinRochallor
        SpecialPowerAIType = AI_SPECIAL_POWER_TOGGLE_MOUNTED
    End

    Behavior = AISpecialPowerUpdate Ciclon_AI
        CommandButtonName  = Command_FingolfinCiclon
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate Rage_AI
        CommandButtonName  = Command_FingolfinRage
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Scale               = 1.05
    Geometry            = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight      = 25
    GeometryIsSmall     = Yes
    Shadow              = SHADOW_DECAL
    ShadowSizeX         = 20
    ShadowSizeY         = 20
    ShadowTexture       = ShadowI
End

ChildObject NoldorFingolfin_AI NoldorFingolfin

    EquivalentTo = NoldorFingolfin

    BuildCost            = FIRST_AGE_AI_HERO_COST
    BuildTime            = FIRST_AGE_AI_HERO_BUILDTIME
    MaxSimultaneousOfType  = 1

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
    End
End

