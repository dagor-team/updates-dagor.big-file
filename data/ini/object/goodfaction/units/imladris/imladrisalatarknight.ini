Object AlatarKnight_Dead

    Draw = W3DHordeModelDraw ModuleTag_01

        DefaultModelConditionState
            Model               = CHHW_CG_U_SKN
            Skeleton            = CHHW_CG_U_SKL
        End



        AnimationState        = USER_2
            StateName           = STATE_Sword
            Animation
                AnimationName     = CHHW_CG_U_DIEA
                AnimationMode     = ONCE
            End
        End

        IdleAnimationState
            StateName                = STATE_Idle_Sword
            Animation = Foot_IDLB
                AnimationName            = CHHW_CG_U_DIEA
                AnimationMode            = ONCE_BACKWARDS
                AnimationSpeedFactorRange    = 0 0
            End
            Flags                    = START_FRAME_LAST
        End
     End




    Side            = Imladris
    EditorSorting   = UNIT
    ThreatLevel     = 1.0
    ThingClass      = HORDE_UNIT
    CommandPoints   = 0
    BountyValue     = 0
    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT



    WeaponSet
        Conditions      = None
    End

    ArmorSet
        Conditions      = None
        Armor           = DeadKnightArmor
    End


    ShroudClearingRange = 10
    VisionRange = 10

    DisplayName = OBJECT:KnightDead
    CrushableLevel = 3
    MaxSimultaneousOfType    = 4
    CrushRevengeWeapon = BasicInfantryCrushRevenge

    CommandSet = GondorFighterCommandSet


    CrowdResponseKey = GoodMen




    RadarPriority = UNIT
    KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 1000000
    End


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    =    Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =    500
    End

    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = 0
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End


    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End


    Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
        UpgradeToGrant = Upgrade_TestBuilding
    End

    Behavior = ModelConditionUpgrade ModuleTag_BuildHackUserFlag
        TriggeredBy                = Upgrade_TestBuilding
        AddTempConditionFlag       = ModelConditionState:USER_2
        TempConditionTime          = 5.2
    End


    Behavior = SubObjectsUpgrade ModuleTag_Pieces
       TriggeredBy              = Upgrade_TestBuilding
       HideSubObjects           = BELTHRONDING WESTRONSWORD SWRD_05 SPEAR GURTHANG FIREBRAND FIREBRAND_FX01 AXE_01 HLMT_06 HLMT_05 HLMT_01 CHHW_SMNL SHLD_04 SHLD_03 SHLD_01 SHLD_02 SLDR_04 SLDR_01 GNLT_05 GNLT_02 GNLT_01 GNLT_04 SLDR_05 HAIR_00 BOOT_01 BOOT_02 BOOT_03 BOOT_00 BOOT_04 BOOT_05
    End

    Behavior = SlowDeathBehavior ModuleTag_DieAndSpawn
        DeathTypes          = ALL
        DestructionDelay    = 0
        FX                  = INITIAL FX_KnightAlive
    End

    Behavior = CreateObjectDie ModuleTag_CrushUnitsOnDeath
        CreationList = OCL_SpawnKnightAlive
    End

    Scale = 1.6
    Geometry = CYLINDER
    GeometryMajorRadius = 1.0
    GeometryMinorRadius = 1.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

End


Object AlatarKnight_Alive


    Draw = W3DScriptedModelDraw ModuleTag_Draw

        DefaultModelConditionState
            Model           = CHHW_CG_U_SKN
            Skeleton        = CHHW_CG_U_SKL
            ParticleSysBone = B_WAIST HellKnightSmokeCenter FollowBone:Yes
            ParticleSysBone = B_WAIST HellKnightFireCenter FollowBone:Yes
            ParticleSysBone = BAT_RIBS HellKnightFireCenter2 FollowBone:Yes
        End





AnimationState        = STUNNED_FLAILING
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHHW_CG_U_FLYA
        AnimationMode     = LOOP
    End
    Flags               = RANDOMSTART
End


AnimationState        = DYING SPLATTED
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHHW_CG_U_LNDA
        AnimationMode     = ONCE
    End
End

AnimationState        = DYING
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHHW_CG_U_DIEA
        AnimationMode     = ONCE
    End
End




AnimationState        = STUNNED_STANDING_UP
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHHW_CG_U_GTPA
        AnimationMode     = ONCE
        AnimationSpeedFactorRange = 1.5 1.5
    End
End

AnimationState        = STUNNED
    StateName           = STATE_Sword
    Animation           = GUHero_LNDA
        AnimationName     = CHHW_CG_U_LNDA
        AnimationMode     = ONCE
    End
End




AnimationState                = PACKING_TYPE_1
    StateName                = Curse
    Animation
        AnimationName        = CHHW_CG_U_LVLA
        AnimationMode        = ONCE
    End

End


AnimationState                = PACKING_TYPE_3
    StateName                = Curse
    Animation
        AnimationName        = CHHW_CG_U_SPCA
        AnimationMode        = ONCE
    End

End




        AnimationState            = MOVING
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART

            Animation
                AnimationName   = CHHW_CG_U_IDLA

                AnimationSpeedFactorRange = 0.85 0.85

            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_RunningBow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Running") end
                if Prev == "STATE_Rappelling"  then CurDrawableSetTransitionAnimState("Trans_RappellingToRunning") return end
            EndScript
        End




        AnimationState                = FIRING_OR_PREATTACK_A
            Animation
                AnimationName        = CHHW_CG_U_ATKA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            Animation
                AnimationName        = CHHW_CG_U_ATKB
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
        End


    AnimationState        = RESURRECTED
        StateName           = STATE_Sword
        Animation
            AnimationName     = CHHW_CG_U_ATNA
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 0.5 0.5
        End

        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_RiseUp") end
        EndScript

    End


        TransitionState       = TRANS_RiseUp
            Animation           = ATND
                AnimationName     = CHHW_CG_U_RBNA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.5 0.5
            END
        End




        AnimationState = HIT_REACTION
            Animation = Sword_HITA
                AnimationName = CHHW_CG_U_HITA
                AnimationMode = ONCE
            End
            Animation = Sword_HITB
                AnimationName = CHHW_CG_U_HITB
                AnimationMode = ONCE
            End

            BeginScript
                PrevAnim = CurDrawablePrevAnimation()
                if PrevAnim == "Foot_IDLB"
                then
                    return "Sword_HITB"
                else
                    return "Swort_HITA"
                end
            EndScript
        End



        AnimationState          =    SPECIAL_WEAPON_ONE
            StateName          =    Attacking
            Animation
                AnimationName =    CHHW_CG_U_TNTA
                AnimationMode =    ONCE
                AnimationSpeedFactorRange    = 2 2
            End
        End





        AnimationState          =    PACKING_TYPE_1 UNPACKING
            StateName          =    Attacking
            Animation          =    LightningSwordStart
                AnimationName =    CHHW_CG_U_SPCC CHHW_CG_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:14 Name:FX_CreateAHeroLightningCharge

            FXEvent              =    Frame:14 Name:FX_GandalfLightningSword    FrameStop:70
        End

        AnimationState          =    PACKING_TYPE_1 PREPARING
            StateName          =    Attacking
            Animation          =    LightningSwordLoop
                AnimationName =    CHHW_CG_U_SPCA CHHW_CG_U_ATKA
                AnimationMode =    LOOP
            End
        End

        AnimationState          =    PACKING_TYPE_1 PACKING
            StateName          =    Attacking
            Animation          =    LightningSwordPutAway
                AnimationName =    CHHW_CG_U_SPCB CHHW_CG_U_ATKA
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    PACKING_TYPE_2 CREATE_A_HERO_20 CREATE_A_HERO_21
            Animation
                AnimationName =    CHHW_CG_U_SPCC
                AnimationMode =    LOOP
            End
        End


        AnimationState          =    PACKING_TYPE_2 UNPACKING
            StateName          =    Attacking
            Animation          =    LightningSwordStart
                AnimationName =    CHHW_CG_U_SPCC CHHW_CG_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:14 Name:FX_CreateAHeroLightningCharge

            FXEvent              =    Frame:14 Name:FX_GandalfLightningSword    FrameStop:70
        End

        AnimationState          =    PACKING_TYPE_2 PREPARING
            StateName          =    Attacking
            Animation          =    LightningSwordLoop
                AnimationName =    CHHW_CG_U_SPCA CHHW_CG_U_ATKA
                AnimationMode =    LOOP
            End
        End

        AnimationState          =    PACKING_TYPE_2 PACKING
            StateName          =    Attacking
            Animation          =    LightningSwordPutAway
                AnimationName =    CHHW_CG_U_SPCB CHHW_CG_U_ATKA
                AnimationMode =    ONCE
            End
        End



        AnimationState        = PACKING_TYPE_2
            StateName          =    STATE_CaptainBow
            Animation           = GUHero_CHRD
                AnimationName     = CHHW_CG_U_SPCE CHHW_CG_U_SPCA CHHW_CG_U_CHRD
                AnimationMode     = ONCE

            End
        End


        AnimationState          =    PACKING_TYPE_3 UNPACKING
            StateName          =    Attacking
            Animation          =    LightningSwordStart
                AnimationName =    CHHW_CG_U_SPCC CHHW_CG_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:14 Name:FX_CreateAHeroLightningCharge

            FXEvent              =    Frame:14 Name:FX_GandalfLightningSword    FrameStop:70
        End

        AnimationState          =    PACKING_TYPE_3 PREPARING
            StateName          =    Attacking
            Animation          =    LightningSwordLoop
                AnimationName =    CHHW_CG_U_SPCA CHHW_CG_U_ATKA
                AnimationMode =    LOOP
            End
        End

        AnimationState          =    PACKING_TYPE_3 PACKING
            StateName          =    Attacking
            Animation          =    LightningSwordPutAway
                AnimationName =    CHHW_CG_U_SPCB CHHW_CG_U_ATKA
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    PACKING_TYPE_4 UNPACKING
            Animation
                AnimationName =    CHHW_CG_U_SPCA
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    PACKING_TYPE_4 PREPARING
            Animation
                AnimationName =    CHHW_CG_U_SPCA
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    PACKING_TYPE_4 PACKING
            Animation
                AnimationName =    CHHW_CG_U_SPCA
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    PACKING_TYPE_5 PACKING WEAPONSET_TOGGLE_1
            Animation
                AnimationName =    CHHW_CG_B_SPCB
                AnimationMode =    ONCE
                AnimationSpeedFactorRange = 0.7333 0.7333
            End
        End

        AnimationState          =    PACKING_TYPE_5 PACKING
            Animation
                AnimationName =    CHHW_CG_U_SPCB
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    PACKING_TYPE_6 PACKING
            Animation
                AnimationName =    CHHW_CG_U_SPCD
                AnimationMode =    ONCE
            End
        End






        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = CHHW_CG_U_CHRA CHHW_CG_U_LVLA
                AnimationMode        = ONCE
            End
        End




        AnimationState                =    EMOTION_CELEBRATING
            Animation CHRA
                AnimationName        =    CHHW_CG_U_CHRA CHHW_CG_U_TNTA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    CHHW_CG_U_CHRB CHHW_CG_U_CHRA CHHW_CG_U_TNTA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_TAUNTING
            Animation CHRA
                AnimationName        =    CHHW_CG_U_TNTA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    CHHW_CG_U_TNTB CHHW_CG_U_TNTA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                = ENGAGED
            StateName                = STATE_ready
            Animation
                AnimationName        = CHHW_CG_U_IDLA
                AnimationMode        = ONCE
            End
        End

        IdleAnimationState
            StateName    = STATE_Idle_Sword
            Animation = Foot_IDLB
                AnimationName       = CHHW_CG_U_ATNB
                AnimationMode       = ONCE
                AnimationPriority   = 20
            End

            BeginScript
                CurDrawableHideSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredSword") end
                if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
            EndScript
        End

    End


    Side         = Imladris
    EditorSorting     = UNIT

    ThreatLevel     = 1.0
    MaxSimultaneousOfType    = 4
    ThingClass     = HORDE_UNIT
    CommandPoints     = 0
    BountyValue     = 0

    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT


    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    KnightDeadSword
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End



    ArmorSet
        Conditions      = None
        Armor           = EdainWarriorHeroArmor
        DamageFX        = NormalDamageFX
    End

    ShroudClearingRange = 300
    VisionRange = 200

    VisionSide = 35%
    VisionRear = 25%

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 2.0%


    DisplayName = OBJECT:KnightAlive
    CrushableLevel = 3
    CrushRevengeWeapon = BasicInfantryCrushRevenge

    CommandSet = EmptyCommandSet






    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK GRAB_AND_DROP

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 1200
    End



    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    =    Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =    500
    End

    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_FOOT_MED_MEMBER_SPEED
    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 1233
    End



    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End

    Behavior               = AttributeModifierUpgrade ModuleTag_Einfrieren
       TriggeredBy         = Upgrade_TestBuilding
       AttributeModifier   = KnightEingefrorenModifier
    End

    Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
        UpgradeToGrant = Upgrade_TestBuilding
    End

    Behavior = ModelConditionUpgrade ModuleTag_BuildHackUserFlag
        TriggeredBy                  = Upgrade_TestBuilding
        AddTempConditionFlag         = ModelConditionState:RESURRECTED
        TempConditionTime            = 6.4
    End


    Behavior = SubObjectsUpgrade ModuleTag_Pieces
       TriggeredBy              = Upgrade_TestBuilding
       HideSubObjects           = BELTHRONDING WESTRONSWORD SWRD_05 SPEAR GURTHANG FIREBRAND FIREBRAND_FX01 AXE_01 HLMT_06 HLMT_05 HLMT_01 CHHW_SMNL SHLD_04 SHLD_03 SHLD_01 SHLD_02 SLDR_04 SLDR_01 GNLT_05 GNLT_02 GNLT_01 GNLT_04 SLDR_05 HAIR_00 BOOT_01 BOOT_02 BOOT_03 BOOT_00 BOOT_04 BOOT_05
    End

    Behavior = SlowDeathBehavior ModuleTag_DieAndSpawn
        DeathTypes          = ALL
        DestructionDelay    = 0
        FX                  = INITIAL FX_KnightDead
    End

    Behavior = CreateObjectDie ModuleTag_CrushUnitsOnDeath
        CreationList = OCL_SpawnKnightDead
    End


    Scale = 1.6
    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 19
    ShadowSizeY = 19
    ShadowTexture = ShadowI
End






Object AlatarRohirrim_Dead


    Draw = W3DHordeModelDraw ModuleTag_01



        DefaultModelConditionState
            Model               = CHHW_CG_U_SKN
            Skeleton            = CHHW_CG_U_SKL
        End



        AnimationState        = USER_2
            StateName           = STATE_Sword
            Animation
                AnimationName     = CHHW_CG_U_DIEA
                AnimationMode     = ONCE
            End
        End

        IdleAnimationState
            StateName                = STATE_Idle_Sword
            Animation = Foot_IDLB
                AnimationName            = CHHW_CG_U_DIEA
                AnimationMode            = ONCE_BACKWARDS
                AnimationSpeedFactorRange    = 0 0
            End
            Flags                    = START_FRAME_LAST
        End
     End




    Side            = Imladris
    EditorSorting   = UNIT
    ThreatLevel     = 1.0
    ThingClass      = HORDE_UNIT
    CommandPoints   = 0
    BountyValue     = 0
    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT



    WeaponSet
        Conditions      = None
    End

    ArmorSet
        Conditions      = None
        Armor           = DeadKnightArmor
    End


    ShroudClearingRange = 10
    VisionRange = 10

    DisplayName = OBJECT:KnightDead
    CrushableLevel = 3
    MaxSimultaneousOfType    = 4
    CrushRevengeWeapon = BasicInfantryCrushRevenge

    CommandSet = GondorFighterCommandSet


    CrowdResponseKey = GoodMen




    RadarPriority = UNIT
    KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 1000000
    End


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    =    Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =    500
    End

    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = 0
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End


    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End


    Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
        UpgradeToGrant = Upgrade_TestBuilding
    End

    Behavior = ModelConditionUpgrade ModuleTag_BuildHackUserFlag
        TriggeredBy                = Upgrade_TestBuilding
        AddTempConditionFlag       = ModelConditionState:USER_2
        TempConditionTime          = 5.2
    End


    Behavior = SubObjectsUpgrade ModuleTag_Pieces
       TriggeredBy              = Upgrade_TestBuilding
       HideSubObjects           = SLDR_02 BELTHRONDING WESTRONSWORD GNLT_04 GNLT_00 TROLLBANE HLMT_02 SPEAR GURTHANG FIREBRAND FIREBRAND_FX01 AXE_01 HLMT_06 HLMT_05 CHHW_SMNL SHLD_04 SHLD_03 SHLD_01 SHLD_02 SLDR_04 GNLT_05 GNLT_02 SLDR_05 HAIR_00 BOOT_01 BOOT_02 BOOT_03 BOOT_00 BOOT_04 BOOT_05
    End

    Behavior = SlowDeathBehavior ModuleTag_DieAndSpawn
        DeathTypes          = ALL
        DestructionDelay    = 0
        FX                  = INITIAL FX_KnightAlive
    End

    Behavior = CreateObjectDie ModuleTag_CrushUnitsOnDeath
        CreationList = OCL_SpawnRohirrimAlive
    End

    Scale = 1.6
    Geometry = CYLINDER
    GeometryMajorRadius = 1.0
    GeometryMinorRadius = 1.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

End


Object AlatarRohirrim_Alive


    Draw = W3DScriptedModelDraw ModuleTag_Draw

        DefaultModelConditionState
            Model           = CHHW_CG_U_SKN
            Skeleton        = CHHW_CG_U_SKL
            ParticleSysBone = B_WAIST HellKnightSmokeCenter FollowBone:Yes
            ParticleSysBone = B_WAIST HellKnightFireCenter FollowBone:Yes
            ParticleSysBone = BAT_RIBS HellKnightFireCenter2 FollowBone:Yes
        End





AnimationState        = STUNNED_FLAILING
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHHW_CG_U_FLYA
        AnimationMode     = LOOP
    End
    Flags               = RANDOMSTART
End


AnimationState        = DYING SPLATTED
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHHW_CG_U_LNDA
        AnimationMode     = ONCE
    End
End

AnimationState        = DYING
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHHW_CG_U_DIEA
        AnimationMode     = ONCE
    End
End




AnimationState        = STUNNED_STANDING_UP
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHHW_CG_U_GTPA
        AnimationMode     = ONCE
        AnimationSpeedFactorRange = 1.5 1.5
    End
End

AnimationState        = STUNNED
    StateName           = STATE_Sword
    Animation           = GUHero_LNDA
        AnimationName     = CHHW_CG_U_LNDA
        AnimationMode     = ONCE
    End
End




AnimationState                = PACKING_TYPE_1
    StateName                = Curse
    Animation
        AnimationName        = CHHW_CG_U_LVLA
        AnimationMode        = ONCE
    End

End


AnimationState                = PACKING_TYPE_3
    StateName                = Curse
    Animation
        AnimationName        = CHHW_CG_U_SPCA
        AnimationMode        = ONCE
    End

End




        AnimationState            = MOVING
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART

            Animation
                AnimationName   = CHHW_CG_U_IDLA

                AnimationSpeedFactorRange = 0.85 0.85

            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_RunningBow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Running") end
                if Prev == "STATE_Rappelling"  then CurDrawableSetTransitionAnimState("Trans_RappellingToRunning") return end
            EndScript
        End




        AnimationState                = FIRING_OR_PREATTACK_A
            Animation
                AnimationName        = CHHW_CG_U_ATKA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            Animation
                AnimationName        = CHHW_CG_U_ATKB
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
        End


    AnimationState        = RESURRECTED
        StateName           = STATE_Sword
        Animation
            AnimationName     = CHHW_CG_U_ATNA
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 0.5 0.5
        End

        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_RiseUp") end
        EndScript

    End


        TransitionState       = TRANS_RiseUp
            Animation           = ATND
                AnimationName     = CHHW_CG_U_RBNA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.5 0.5
            END
        End




        AnimationState = HIT_REACTION
            Animation = Sword_HITA
                AnimationName = CHHW_CG_U_HITA
                AnimationMode = ONCE
            End
            Animation = Sword_HITB
                AnimationName = CHHW_CG_U_HITB
                AnimationMode = ONCE
            End

            BeginScript
                PrevAnim = CurDrawablePrevAnimation()
                if PrevAnim == "Foot_IDLB"
                then
                    return "Sword_HITB"
                else
                    return "Swort_HITA"
                end
            EndScript
        End



        AnimationState          =    SPECIAL_WEAPON_ONE
            StateName          =    Attacking
            Animation
                AnimationName =    CHHW_CG_U_TNTA
                AnimationMode =    ONCE
                AnimationSpeedFactorRange    = 2 2
            End
        End





        AnimationState          =    PACKING_TYPE_1 UNPACKING
            StateName          =    Attacking
            Animation          =    LightningSwordStart
                AnimationName =    CHHW_CG_U_SPCC CHHW_CG_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:14 Name:FX_CreateAHeroLightningCharge

            FXEvent              =    Frame:14 Name:FX_GandalfLightningSword    FrameStop:70
        End

        AnimationState          =    PACKING_TYPE_1 PREPARING
            StateName          =    Attacking
            Animation          =    LightningSwordLoop
                AnimationName =    CHHW_CG_U_SPCA CHHW_CG_U_ATKA
                AnimationMode =    LOOP
            End
        End

        AnimationState          =    PACKING_TYPE_1 PACKING
            StateName          =    Attacking
            Animation          =    LightningSwordPutAway
                AnimationName =    CHHW_CG_U_SPCB CHHW_CG_U_ATKA
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    PACKING_TYPE_2 CREATE_A_HERO_20 CREATE_A_HERO_21
            Animation
                AnimationName =    CHHW_CG_U_SPCC
                AnimationMode =    LOOP
            End
        End


        AnimationState          =    PACKING_TYPE_2 UNPACKING
            StateName          =    Attacking
            Animation          =    LightningSwordStart
                AnimationName =    CHHW_CG_U_SPCC CHHW_CG_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:14 Name:FX_CreateAHeroLightningCharge

            FXEvent              =    Frame:14 Name:FX_GandalfLightningSword    FrameStop:70
        End

        AnimationState          =    PACKING_TYPE_2 PREPARING
            StateName          =    Attacking
            Animation          =    LightningSwordLoop
                AnimationName =    CHHW_CG_U_SPCA CHHW_CG_U_ATKA
                AnimationMode =    LOOP
            End
        End

        AnimationState          =    PACKING_TYPE_2 PACKING
            StateName          =    Attacking
            Animation          =    LightningSwordPutAway
                AnimationName =    CHHW_CG_U_SPCB CHHW_CG_U_ATKA
                AnimationMode =    ONCE
            End
        End



        AnimationState        = PACKING_TYPE_2
            StateName          =    STATE_CaptainBow
            Animation           = GUHero_CHRD
                AnimationName     = CHHW_CG_U_SPCE CHHW_CG_U_SPCA CHHW_CG_U_CHRD
                AnimationMode     = ONCE

            End
        End


        AnimationState          =    PACKING_TYPE_3 UNPACKING
            StateName          =    Attacking
            Animation          =    LightningSwordStart
                AnimationName =    CHHW_CG_U_SPCC CHHW_CG_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:14 Name:FX_CreateAHeroLightningCharge

            FXEvent              =    Frame:14 Name:FX_GandalfLightningSword    FrameStop:70
        End

        AnimationState          =    PACKING_TYPE_3 PREPARING
            StateName          =    Attacking
            Animation          =    LightningSwordLoop
                AnimationName =    CHHW_CG_U_SPCA CHHW_CG_U_ATKA
                AnimationMode =    LOOP
            End
        End

        AnimationState          =    PACKING_TYPE_3 PACKING
            StateName          =    Attacking
            Animation          =    LightningSwordPutAway
                AnimationName =    CHHW_CG_U_SPCB CHHW_CG_U_ATKA
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    PACKING_TYPE_4 UNPACKING
            Animation
                AnimationName =    CHHW_CG_U_SPCA
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    PACKING_TYPE_4 PREPARING
            Animation
                AnimationName =    CHHW_CG_U_SPCA
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    PACKING_TYPE_4 PACKING
            Animation
                AnimationName =    CHHW_CG_U_SPCA
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    PACKING_TYPE_5 PACKING WEAPONSET_TOGGLE_1
            Animation
                AnimationName =    CHHW_CG_B_SPCB
                AnimationMode =    ONCE
                AnimationSpeedFactorRange = 0.7333 0.7333
            End
        End

        AnimationState          =    PACKING_TYPE_5 PACKING
            Animation
                AnimationName =    CHHW_CG_U_SPCB
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    PACKING_TYPE_6 PACKING
            Animation
                AnimationName =    CHHW_CG_U_SPCD
                AnimationMode =    ONCE
            End
        End






        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = CHHW_CG_U_CHRA CHHW_CG_U_LVLA
                AnimationMode        = ONCE
            End
        End




        AnimationState                =    EMOTION_CELEBRATING
            Animation CHRA
                AnimationName        =    CHHW_CG_U_CHRA CHHW_CG_U_TNTA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    CHHW_CG_U_CHRB CHHW_CG_U_CHRA CHHW_CG_U_TNTA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_TAUNTING
            Animation CHRA
                AnimationName        =    CHHW_CG_U_TNTA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    CHHW_CG_U_TNTB CHHW_CG_U_TNTA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                = ENGAGED
            StateName                = STATE_ready
            Animation
                AnimationName        = CHHW_CG_U_IDLA
                AnimationMode        = ONCE
            End
        End

        IdleAnimationState
            StateName    = STATE_Idle_Sword
            Animation = Foot_IDLB
                AnimationName       = CHHW_CG_U_ATNB
                AnimationMode       = ONCE
                AnimationPriority   = 20
            End

            BeginScript
                CurDrawableHideSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredSword") end
                if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
            EndScript
        End

    End


    Side         = Imladris
    EditorSorting     = UNIT

    ThreatLevel     = 1.0
    MaxSimultaneousOfType    = 4
    ThingClass     = HORDE_UNIT
    CommandPoints     = 0
    BountyValue     = 0

    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT


    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    KnightDeadSword
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End



    ArmorSet
        Conditions      = None
        Armor           = EdainWarriorHeroArmor
        DamageFX        = NormalDamageFX
    End

    ShroudClearingRange = 300
    VisionRange = 200

    VisionSide = 35%
    VisionRear = 25%

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 2.0%


    DisplayName = OBJECT:KnightAlive
    CrushableLevel = 3
    CrushRevengeWeapon = BasicInfantryCrushRevenge

    CommandSet = EmptyCommandSet






    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK GRAB_AND_DROP

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 1200
    End



    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    =    Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =    500
    End

    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_FOOT_MED_MEMBER_SPEED
    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 1233
    End



    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End

    Behavior               = AttributeModifierUpgrade ModuleTag_Einfrieren
       TriggeredBy         = Upgrade_TestBuilding
       AttributeModifier   = KnightEingefrorenModifier
    End

    Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
        UpgradeToGrant = Upgrade_TestBuilding
    End

    Behavior = ModelConditionUpgrade ModuleTag_BuildHackUserFlag
        TriggeredBy                  = Upgrade_TestBuilding
        AddTempConditionFlag         = ModelConditionState:RESURRECTED
        TempConditionTime            = 6.4
    End


    Behavior = SubObjectsUpgrade ModuleTag_Pieces
       TriggeredBy              = Upgrade_TestBuilding
       HideSubObjects           = SLDR_02 BELTHRONDING WESTRONSWORD GNLT_04 GNLT_00 TROLLBANE HLMT_02 SPEAR GURTHANG FIREBRAND FIREBRAND_FX01 AXE_01 HLMT_06 HLMT_05 CHHW_SMNL SHLD_04 SHLD_03 SHLD_01 SHLD_02 SLDR_04 GNLT_05 GNLT_02 SLDR_05 HAIR_00 BOOT_01 BOOT_02 BOOT_03 BOOT_00 BOOT_04 BOOT_05
    End

    Behavior = SlowDeathBehavior ModuleTag_DieAndSpawn
        DeathTypes          = ALL
        DestructionDelay    = 0
        FX                  = INITIAL FX_KnightDead
    End

    Behavior = CreateObjectDie ModuleTag_CrushUnitsOnDeath
        CreationList = OCL_SpawnRohirrimDead
    End


    Scale = 1.6
    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 19
    ShadowSizeY = 19
    ShadowTexture = ShadowI
End






Object AlatarElf_Dead


    Draw = W3DHordeModelDraw ModuleTag_01



        DefaultModelConditionState
            Model           = char_el_u_skn
            Skeleton        = char_ar_u_SKL
        End



        AnimationState        = USER_2
            StateName           = STATE_Sword
            Animation
                AnimationName     = char_ar_u_DIEA
                AnimationMode     = ONCE
            End
        End

        IdleAnimationState
            StateName                = STATE_Idle_Sword
            Animation = Foot_IDLB
                AnimationName            = char_ar_u_DIEA
                AnimationMode            = ONCE_BACKWARDS
                AnimationSpeedFactorRange    = 0 0
            End
            Flags                    = START_FRAME_LAST
        End
     End




    Side            = Imladris
    EditorSorting   = UNIT
    ThreatLevel     = 1.0
    ThingClass      = HORDE_UNIT
    CommandPoints   = 0
    BountyValue     = 0
    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT



    WeaponSet
        Conditions      = None
    End

    ArmorSet
        Conditions      = None
        Armor           = DeadKnightArmor
    End


    ShroudClearingRange = 10
    VisionRange = 10

    DisplayName = OBJECT:KnightDead
    CrushableLevel = 3
    MaxSimultaneousOfType    = 4
    CrushRevengeWeapon = BasicInfantryCrushRevenge

    CommandSet = GondorFighterCommandSet


    CrowdResponseKey = GoodMen




    RadarPriority = UNIT
    KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 1000000
    End


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    =    Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =    500
    End

    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = 0
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End


    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End


    Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
        UpgradeToGrant = Upgrade_TestBuilding
    End

    Behavior = ModelConditionUpgrade ModuleTag_BuildHackUserFlag
        TriggeredBy                = Upgrade_TestBuilding
        AddTempConditionFlag       = ModelConditionState:USER_2
        TempConditionTime          = 5.2
    End


    Behavior = SubObjectsUpgrade ModuleTag_Pieces
       TriggeredBy              = Upgrade_TestBuilding
       HideSubObjects           = HLMT_02 SLDR_03 LOWLOD SLDR_04 HLMT_03 QUIVR BOW_04 MITHLONDBOW BOW_01 BELTHRONDING SLDR_02 BOW_05 BOW_03 BOOT_02 GNLT_02 BOOT_04 GNLT_04 BOOT_01 GNLT_03
    End

    Behavior = SlowDeathBehavior ModuleTag_DieAndSpawn
        DeathTypes          = ALL
        DestructionDelay    = 0
        FX                  = INITIAL FX_KnightAlive
    End

    Behavior = CreateObjectDie ModuleTag_CrushUnitsOnDeath
        CreationList = OCL_SpawnElfAlive
    End

    Scale = 1.6
    Geometry = CYLINDER
    GeometryMajorRadius = 1.0
    GeometryMinorRadius = 1.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

End


Object AlatarElf_Alive


    Draw = W3DScriptedModelDraw ModuleTag_Draw

        DefaultModelConditionState
            Model           = char_el_u_skn
            Skeleton        = char_ar_u_SKL
            ParticleSysBone = BAT_RIBS HellKnightSmokeCenter FollowBone:Yes
            ParticleSysBone = BAT_RIBS HellKnightFireCenter FollowBone:Yes
            ParticleSysBone = BAT_RIBS HellKnightFireCenter2 FollowBone:Yes
        End





AnimationState        = STUNNED_FLAILING
    StateName           = STATE_Sword
    Animation
        AnimationName     = char_ar_u_FLYA
        AnimationMode     = LOOP
    End
    Flags               = RANDOMSTART
End


AnimationState        = DYING SPLATTED
    StateName           = STATE_Sword
    Animation
        AnimationName     = char_ar_u_LNDA
        AnimationMode     = ONCE
    End
End

AnimationState        = DYING
    StateName           = STATE_Sword
    Animation
        AnimationName     = char_el_u_DIEA
        AnimationMode     = ONCE
    End
End




AnimationState        = STUNNED_STANDING_UP
    StateName           = STATE_Sword
    Animation
        AnimationName     = char_ar_u_GTPA
        AnimationMode     = ONCE
        AnimationSpeedFactorRange = 1.5 1.5
    End
End

AnimationState        = STUNNED
    StateName           = STATE_Sword
    Animation           = GUHero_LNDA
        AnimationName     = char_ar_u_LNDA
        AnimationMode     = ONCE
    End
End




AnimationState                = PACKING_TYPE_1
    StateName                = Curse
    Animation
        AnimationName        = char_ar_u_LVLA
        AnimationMode        = ONCE
    End

End


AnimationState                = PACKING_TYPE_3
    StateName                = Curse
    Animation
        AnimationName        = char_ar_u_SPCA
        AnimationMode        = ONCE
    End

End




        AnimationState            = MOVING
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART

            Animation
                AnimationName   = char_ar_u_IDLA

                AnimationSpeedFactorRange = 0.85 0.85

            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_RunningBow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Running") end
                if Prev == "STATE_Rappelling"  then CurDrawableSetTransitionAnimState("Trans_RappellingToRunning") return end
            EndScript
        End




        AnimationState                = FIRING_OR_PREATTACK_A
            Animation
                AnimationName        = char_ar_u_ATKA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            Animation
                AnimationName        = char_ar_u_ATKB
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
        End


    AnimationState        = RESURRECTED
        StateName           = STATE_Sword
        Animation
            AnimationName     = char_ar_u_ATNA
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 0.5 0.5
        End

        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_RiseUp") end
        EndScript

    End


        TransitionState       = TRANS_RiseUp
            Animation           = ATND
                AnimationName     = char_ar_u_RBNA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.5 0.5
            END
        End




        AnimationState = HIT_REACTION
            Animation = Sword_HITA
                AnimationName = char_ar_u_HITA
                AnimationMode = ONCE
            End
            Animation = Sword_HITB
                AnimationName = char_ar_u_HITB
                AnimationMode = ONCE
            End

            BeginScript
                PrevAnim = CurDrawablePrevAnimation()
                if PrevAnim == "Foot_IDLB"
                then
                    return "Sword_HITB"
                else
                    return "Swort_HITA"
                end
            EndScript
        End



        AnimationState          =    SPECIAL_WEAPON_ONE
            StateName          =    Attacking
            Animation
                AnimationName =    char_ar_u_TNTA
                AnimationMode =    ONCE
                AnimationSpeedFactorRange    = 2 2
            End
        End






        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = char_ar_u_LVLA
                AnimationMode        = ONCE
            End
        End




        AnimationState                =    EMOTION_CELEBRATING
            Animation CHRA
                AnimationName        =    char_ar_u_CHRA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    char_ar_u_CHRB
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_TAUNTING
            Animation CHRA
                AnimationName        =    char_ar_u_TNTA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                = ENGAGED
            StateName                = STATE_ready
            Animation
                AnimationName        = char_ar_u_IDLA
                AnimationMode        = ONCE
            End
        End

        IdleAnimationState
            StateName    = STATE_Idle_Sword
            Animation = Foot_IDLB
                AnimationName       = char_ar_u_ATNB
                AnimationMode       = ONCE
                AnimationPriority   = 20
            End

            BeginScript
                CurDrawableHideSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredSword") end
                if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
            EndScript
        End

    End


    Side         = Imladris
    EditorSorting     = UNIT

    ThreatLevel     = 1.0
    MaxSimultaneousOfType    = 4
    ThingClass     = HORDE_UNIT
    CommandPoints     = 0
    BountyValue     = 0

    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT


    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    KnightDeadSword
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End



    ArmorSet
        Conditions      = None
        Armor           = EdainWarriorHeroArmor
        DamageFX        = NormalDamageFX
    End

    ShroudClearingRange = 300
    VisionRange = 200

    VisionSide = 35%
    VisionRear = 25%

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 2.0%


    DisplayName = OBJECT:KnightAlive
    CrushableLevel = 3
    CrushRevengeWeapon = BasicInfantryCrushRevenge

    CommandSet = EmptyCommandSet






    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK GRAB_AND_DROP

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 1200
    End



    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    =    Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =    500
    End

    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_FOOT_MED_MEMBER_SPEED
    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 1233
    End



    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End

    Behavior               = AttributeModifierUpgrade ModuleTag_Einfrieren
       TriggeredBy         = Upgrade_TestBuilding
       AttributeModifier   = KnightEingefrorenModifier
    End

    Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
        UpgradeToGrant = Upgrade_TestBuilding
    End

    Behavior = ModelConditionUpgrade ModuleTag_BuildHackUserFlag
        TriggeredBy                  = Upgrade_TestBuilding
        AddTempConditionFlag         = ModelConditionState:RESURRECTED
        TempConditionTime            = 6.4
    End



    Behavior = SubObjectsUpgrade ModuleTag_Pieces
       TriggeredBy              = Upgrade_TestBuilding
       HideSubObjects           = HLMT_02 SLDR_03 LOWLOD SLDR_04 HLMT_03 QUIVR BOW_04 MITHLONDBOW BOW_01 BELTHRONDING SLDR_02 BOW_05 BOW_03 BOOT_02 GNLT_02 BOOT_04 GNLT_04 BOOT_01 GNLT_03
    End


    Behavior = SlowDeathBehavior ModuleTag_DieAndSpawn
        DeathTypes          = ALL
        DestructionDelay    = 0
        FX                  = INITIAL FX_KnightDead
    End

    Behavior = CreateObjectDie ModuleTag_CrushUnitsOnDeath
        CreationList = OCL_SpawnElfDead
    End


    Scale = 1.6
    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 19
    ShadowSizeY = 19
    ShadowTexture = ShadowI
End









Object AlatarDwarf_Dead


    Draw = W3DHordeModelDraw ModuleTag_01



        DefaultModelConditionState
        Model                   = CHDW_TM_U_SKN
        Skeleton                = CHDW_DW_U_SKL
        End



        AnimationState        = USER_2
            StateName           = STATE_Sword
            Animation
                AnimationName     = CHDW_DW_U_DIEA
                AnimationMode     = ONCE
            End
        End

        IdleAnimationState
            StateName                = STATE_Idle_Sword
            Animation = Foot_IDLB
                AnimationName            = CHDW_DW_U_DIEA
                AnimationMode            = ONCE_BACKWARDS
                AnimationSpeedFactorRange    = 0 0
            End
            Flags                    = START_FRAME_LAST
        End
     End




    Side            = Imladris
    EditorSorting   = UNIT
    ThreatLevel     = 1.0
    ThingClass      = HORDE_UNIT
    CommandPoints   = 0
    BountyValue     = 0
    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT



    WeaponSet
        Conditions      = None
    End

    ArmorSet
        Conditions      = None
        Armor           = DeadKnightArmor
    End


    ShroudClearingRange = 10
    VisionRange = 10

    DisplayName = OBJECT:KnightDead
    CrushableLevel = 3
    MaxSimultaneousOfType    = 4
    CrushRevengeWeapon = BasicInfantryCrushRevenge

    CommandSet = GondorFighterCommandSet


    CrowdResponseKey = GoodMen




    RadarPriority = UNIT
    KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 1000000
    End


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    =    Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =    500
    End

    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = 0
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End


    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End


    Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
        UpgradeToGrant = Upgrade_TestBuilding
    End

    Behavior = ModelConditionUpgrade ModuleTag_BuildHackUserFlag
        TriggeredBy                = Upgrade_TestBuilding
        AddTempConditionFlag       = ModelConditionState:USER_2
        TempConditionTime          = 5.2
    End

    Behavior = SubObjectsUpgrade ModuleTag_Pieces
       TriggeredBy              = Upgrade_TestBuilding
       HideSubObjects           = CH_DWARF_04 HLMT_06 SLDR_05 HMR_01 BOOT_01 GNLT_02 SLDR_02 GNLT_04 GNLT_03 SLDR_03 SLDR_04 SLDR_06 HLMT_04 HLMT_02 HLMT_04 BOOT_03 BOOT_02 BOOT_04 BOOT_05 AXE02 AXE_01 AXE_03 HLMT_05 HLMT_03
    End

    Behavior = SlowDeathBehavior ModuleTag_DieAndSpawn
        DeathTypes          = ALL
        DestructionDelay    = 0
        FX                  = INITIAL FX_KnightAlive
    End

    Behavior = CreateObjectDie ModuleTag_CrushUnitsOnDeath
        CreationList = OCL_SpawnDwarfAlive
    End

    Scale = 1.6
    Geometry = CYLINDER
    GeometryMajorRadius = 1.0
    GeometryMinorRadius = 1.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

End


Object AlatarDwarf_Alive


    Draw = W3DScriptedModelDraw ModuleTag_Draw

        DefaultModelConditionState
        Model                   = CHDW_TM_U_SKN
        Skeleton                = CHDW_DW_U_SKL
            ParticleSysBone = BAT_SPINE2 HellKnightSmokeCenter FollowBone:Yes
            ParticleSysBone = BAT_SPINE2 HellKnightFireCenter FollowBone:Yes
            ParticleSysBone = BAT_SPINE2 HellKnightFireCenter2 FollowBone:Yes
        End





AnimationState        = STUNNED_FLAILING
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHDW_DW_U_FLYA
        AnimationMode     = LOOP
    End
    Flags               = RANDOMSTART
End


AnimationState        = DYING SPLATTED
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHDW_DW_U_LNDA
        AnimationMode     = ONCE
    End
End

AnimationState        = DYING
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHDW_DW_U_DIEA
        AnimationMode     = ONCE
    End
End




AnimationState        = STUNNED_STANDING_UP
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHDW_DW_U_GTPA
        AnimationMode     = ONCE
        AnimationSpeedFactorRange = 1.5 1.5
    End
End

AnimationState        = STUNNED
    StateName           = STATE_Sword
    Animation           = GUHero_LNDA
        AnimationName     = CHDW_DW_U_LNDA
        AnimationMode     = ONCE
    End
End







        AnimationState            = MOVING
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART

            Animation
                AnimationName   = CHDW_DW_U_IDLA

                AnimationSpeedFactorRange = 0.85 0.85

            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_RunningBow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Running") end
                if Prev == "STATE_Rappelling"  then CurDrawableSetTransitionAnimState("Trans_RappellingToRunning") return end
            EndScript
        End




        AnimationState                = FIRING_OR_PREATTACK_A
            Animation
                AnimationName        = CHDW_DW_U_ATKA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            Animation
                AnimationName        = CHDW_DW_U_ATKB
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
        End


    AnimationState        = RESURRECTED
        StateName           = STATE_Sword
        Animation
            AnimationName     = CHDW_DW_U_ATNA
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 0.5 0.5
        End

        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_RiseUp") end
        EndScript

    End


        TransitionState       = TRANS_RiseUp
            Animation           = ATND
                AnimationName     = CHDW_DW_U_RBNA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.5 0.5
            END
        End




        AnimationState = HIT_REACTION
            Animation = Sword_HITA
                AnimationName = CHDW_DW_U_HITA
                AnimationMode = ONCE
            End
            Animation = Sword_HITB
                AnimationName = CHDW_DW_U_HITB
                AnimationMode = ONCE
            End

            BeginScript
                PrevAnim = CurDrawablePrevAnimation()
                if PrevAnim == "Foot_IDLB"
                then
                    return "Sword_HITB"
                else
                    return "Swort_HITA"
                end
            EndScript
        End



        AnimationState          =    SPECIAL_WEAPON_ONE
            StateName          =    Attacking
            Animation
                AnimationName =    CHDW_DW_U_TNTA
                AnimationMode =    ONCE
                AnimationSpeedFactorRange    = 2 2
            End
        End






        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = CHDW_DW_U_LVLA
                AnimationMode        = ONCE
            End
        End




        AnimationState                =    EMOTION_CELEBRATING
            Animation CHRA
                AnimationName        =    CHDW_DW_U_CHRA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    CHDW_DW_U_CHRB
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_TAUNTING
            Animation CHRA
                AnimationName        =    CHDW_DW_U_TNTA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                = ENGAGED
            StateName                = STATE_ready
            Animation
                AnimationName        = CHDW_DW_U_IDLA
                AnimationMode        = ONCE
            End
        End

        IdleAnimationState
            StateName    = STATE_Idle_Sword
            Animation = Foot_IDLB
                AnimationName       = CHDW_DW_U_ATNB
                AnimationMode       = ONCE
                AnimationPriority   = 20
            End

            BeginScript
                CurDrawableHideSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredSword") end
                if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
            EndScript
        End

    End


    Side         = Imladris
    EditorSorting     = UNIT

    ThreatLevel     = 1.0
    MaxSimultaneousOfType    = 4
    ThingClass     = HORDE_UNIT
    CommandPoints     = 0
    BountyValue     = 0

    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT


    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    KnightDeadSword
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End



    ArmorSet
        Conditions      = None
        Armor           = EdainWarriorHeroArmor
        DamageFX        = NormalDamageFX
    End

    ShroudClearingRange = 300
    VisionRange = 200

    VisionSide = 35%
    VisionRear = 25%

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 2.0%


    DisplayName = OBJECT:KnightAlive
    CrushableLevel = 3
    CrushRevengeWeapon = BasicInfantryCrushRevenge

    CommandSet = EmptyCommandSet






    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK GRAB_AND_DROP

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 1200
    End



    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    =    Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =    500
    End

    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_FOOT_MED_MEMBER_SPEED
    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 1233
    End



    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End

    Behavior               = AttributeModifierUpgrade ModuleTag_Einfrieren
       TriggeredBy         = Upgrade_TestBuilding
       AttributeModifier   = KnightEingefrorenModifier
    End

    Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
        UpgradeToGrant = Upgrade_TestBuilding
    End

    Behavior = ModelConditionUpgrade ModuleTag_BuildHackUserFlag
        TriggeredBy                  = Upgrade_TestBuilding
        AddTempConditionFlag         = ModelConditionState:RESURRECTED
        TempConditionTime            = 6.4
    End


    Behavior = SubObjectsUpgrade ModuleTag_Pieces
       TriggeredBy              = Upgrade_TestBuilding
       HideSubObjects           = CH_DWARF_04 HLMT_06 SLDR_05 HMR_01 BOOT_01 GNLT_02 SLDR_02 GNLT_04 GNLT_03 SLDR_03 SLDR_04 SLDR_06 HLMT_04 HLMT_02 HLMT_04 BOOT_03 BOOT_02 BOOT_04 BOOT_05 AXE02 AXE_01 AXE_03 HLMT_05 HLMT_03
    End

    Behavior = SlowDeathBehavior ModuleTag_DieAndSpawn
        DeathTypes          = ALL
        DestructionDelay    = 0
        FX                  = INITIAL FX_KnightDead
    End

    Behavior = CreateObjectDie ModuleTag_CrushUnitsOnDeath
        CreationList = OCL_SpawnDwarfDead
    End


    Scale = 1.6
    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 19
    ShadowSizeY = 19
    ShadowTexture = ShadowI
End





Object AlatarUruk_Dead


    Draw = W3DHordeModelDraw ModuleTag_01



        DefaultModelConditionState
        Model                   = chss_uk_u_skn
        Skeleton                = chss_uk_u_SKL
        End



        AnimationState        = USER_2
            StateName           = STATE_Sword
            Animation
                AnimationName     = chss_uk_u_DIEA
                AnimationMode     = ONCE
            End
        End

        IdleAnimationState
            StateName                = STATE_Idle_Sword
            Animation = Foot_IDLB
                AnimationName            = chss_uk_u_DIEA
                AnimationMode            = ONCE_BACKWARDS
                AnimationSpeedFactorRange    = 0 0
            End
            Flags                    = START_FRAME_LAST
        End
     End




    Side            = Imladris
    EditorSorting   = UNIT
    ThreatLevel     = 1.0
    ThingClass      = HORDE_UNIT
    CommandPoints   = 0
    BountyValue     = 0
    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT



    WeaponSet
        Conditions      = None
    End

    ArmorSet
        Conditions      = None
        Armor           = DeadKnightArmor
    End


    ShroudClearingRange = 10
    VisionRange = 10

    DisplayName = OBJECT:KnightDead
    CrushableLevel = 3
    MaxSimultaneousOfType    = 4
    CrushRevengeWeapon = BasicInfantryCrushRevenge

    CommandSet = GondorFighterCommandSet


    CrowdResponseKey = GoodMen




    RadarPriority = UNIT
    KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 1000000
    End


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    =    Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =    500
    End

    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = 0
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End


    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End


    Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
        UpgradeToGrant = Upgrade_TestBuilding
    End

    Behavior = ModelConditionUpgrade ModuleTag_BuildHackUserFlag
        TriggeredBy                = Upgrade_TestBuilding
        AddTempConditionFlag       = ModelConditionState:USER_2
        TempConditionTime          = 5.2
    End


    Behavior = SubObjectsUpgrade ModuleTag_Pieces
       TriggeredBy              = Upgrade_TestBuilding
       HideSubObjects           = HLMT_03 HLMT_04 HLMT_02 HLMT_01 SWD_04 URUK_SWORD_03 BARREL BOOT_01 URUK_SWORD_01 OBJCHSS_UK BOOT_03 HAIR_01 SLDR_01 SLDR_04 SLDR_02 GNLT_03 GNLT_01 GNLT_04 SHLD_01 BOOT_02
    End

    Behavior = SlowDeathBehavior ModuleTag_DieAndSpawn
        DeathTypes          = ALL
        DestructionDelay    = 0
        FX                  = INITIAL FX_KnightAlive
    End

    Behavior = CreateObjectDie ModuleTag_CrushUnitsOnDeath
        CreationList = OCL_SpawnUrukAlive
    End

    Scale = 1.6
    Geometry = CYLINDER
    GeometryMajorRadius = 1.0
    GeometryMinorRadius = 1.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

End


Object AlatarUruk_Alive


    Draw = W3DScriptedModelDraw ModuleTag_Draw

        DefaultModelConditionState
        Model                   = chss_uk_u_SKN
        Skeleton                = chss_uk_u_SKL
            ParticleSysBone = BAT_RIBS HellKnightSmokeCenter FollowBone:Yes
            ParticleSysBone = BAT_RIBS HellKnightFireCenter FollowBone:Yes
            ParticleSysBone = BAT_RIBS HellKnightFireCenter2 FollowBone:Yes
        End





AnimationState        = STUNNED_FLAILING
    StateName           = STATE_Sword
    Animation
        AnimationName     = chss_uk_u_FLYA
        AnimationMode     = LOOP
    End
    Flags               = RANDOMSTART
End


AnimationState        = DYING SPLATTED
    StateName           = STATE_Sword
    Animation
        AnimationName     = chss_uk_u_LNDA
        AnimationMode     = ONCE
    End
End

AnimationState        = DYING
    StateName           = STATE_Sword
    Animation
        AnimationName     = chss_uk_u_DIEA
        AnimationMode     = ONCE
    End
End




AnimationState        = STUNNED_STANDING_UP
    StateName           = STATE_Sword
    Animation
        AnimationName     = chss_uk_u_GTPA
        AnimationMode     = ONCE
        AnimationSpeedFactorRange = 1.5 1.5
    End
End

AnimationState        = STUNNED
    StateName           = STATE_Sword
    Animation           = GUHero_LNDA
        AnimationName     = chss_uk_u_LNDA
        AnimationMode     = ONCE
    End
End







        AnimationState            = MOVING
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART

            Animation
                AnimationName   = chss_uk_u_IDLA

                AnimationSpeedFactorRange = 0.85 0.85

            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_RunningBow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Running") end
                if Prev == "STATE_Rappelling"  then CurDrawableSetTransitionAnimState("Trans_RappellingToRunning") return end
            EndScript
        End




        AnimationState                = FIRING_OR_PREATTACK_A
            Animation
                AnimationName        = chss_uk_u_ATKA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            Animation
                AnimationName        = chss_uk_u_ATKB
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
        End


    AnimationState        = RESURRECTED
        StateName           = STATE_Sword
        Animation
            AnimationName     = chss_uk_u_ATNA
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 0.5 0.5
        End

        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_RiseUp") end
        EndScript

    End


        TransitionState       = TRANS_RiseUp
            Animation           = ATND
                AnimationName     = chss_uk_u_RBNA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.5 0.5
            END
        End




        AnimationState = HIT_REACTION
            Animation = Sword_HITA
                AnimationName = chss_uk_u_HITA
                AnimationMode = ONCE
            End
            Animation = Sword_HITB
                AnimationName = chss_uk_u_HITB
                AnimationMode = ONCE
            End

            BeginScript
                PrevAnim = CurDrawablePrevAnimation()
                if PrevAnim == "Foot_IDLB"
                then
                    return "Sword_HITB"
                else
                    return "Swort_HITA"
                end
            EndScript
        End



        AnimationState          =    SPECIAL_WEAPON_ONE
            StateName          =    Attacking
            Animation
                AnimationName =    chss_uk_u_TNTA
                AnimationMode =    ONCE
                AnimationSpeedFactorRange    = 2 2
            End
        End






        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = chss_uk_u_LVLA
                AnimationMode        = ONCE
            End
        End




        AnimationState                =    EMOTION_CELEBRATING
            Animation CHRA
                AnimationName        =    chss_uk_u_CHRA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    chss_uk_u_CHRB
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_TAUNTING
            Animation CHRA
                AnimationName        =    chss_uk_u_TNTA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                = ENGAGED
            StateName                = STATE_ready
            Animation
                AnimationName        = chss_uk_u_IDLA
                AnimationMode        = ONCE
            End
        End

        IdleAnimationState
            StateName    = STATE_Idle_Sword
            Animation = Foot_IDLB
                AnimationName       = chss_uk_u_ATNB
                AnimationMode       = ONCE
                AnimationPriority   = 20
            End

            BeginScript
                CurDrawableHideSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredSword") end
                if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
            EndScript
        End

    End


    Side         = Imladris
    EditorSorting     = UNIT

    ThreatLevel     = 1.0
    MaxSimultaneousOfType    = 4
    ThingClass     = HORDE_UNIT
    CommandPoints     = 0
    BountyValue     = 0

    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT


    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    KnightDeadSword
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End



    ArmorSet
        Conditions      = None
        Armor           = EdainWarriorHeroArmor
        DamageFX        = NormalDamageFX
    End

    ShroudClearingRange = 300
    VisionRange = 200

    VisionSide = 35%
    VisionRear = 25%

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 2.0%


    DisplayName = OBJECT:KnightAlive
    CrushableLevel = 3
    CrushRevengeWeapon = BasicInfantryCrushRevenge

    CommandSet = EmptyCommandSet






    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK GRAB_AND_DROP

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 1200
    End



    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    =    Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =    500
    End

    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_FOOT_MED_MEMBER_SPEED
    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 1233
    End



    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End

    Behavior               = AttributeModifierUpgrade ModuleTag_Einfrieren
       TriggeredBy         = Upgrade_TestBuilding
       AttributeModifier   = KnightEingefrorenModifier
    End

    Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
        UpgradeToGrant = Upgrade_TestBuilding
    End

    Behavior = ModelConditionUpgrade ModuleTag_BuildHackUserFlag
        TriggeredBy                  = Upgrade_TestBuilding
        AddTempConditionFlag         = ModelConditionState:RESURRECTED
        TempConditionTime            = 6.4
    End


    Behavior = SubObjectsUpgrade ModuleTag_Pieces
       TriggeredBy              = Upgrade_TestBuilding
       HideSubObjects           = HLMT_03 HLMT_04 HLMT_02 HLMT_01 SWD_04 URUK_SWORD_03 BARREL BOOT_01 URUK_SWORD_01 OBJCHSS_UK BOOT_03 HAIR_01 SLDR_01 SLDR_04 SLDR_02 GNLT_03 GNLT_01 GNLT_04 SHLD_01 BOOT_02
    End

    Behavior = SlowDeathBehavior ModuleTag_DieAndSpawn
        DeathTypes          = ALL
        DestructionDelay    = 0
        FX                  = INITIAL FX_KnightDead
    End

    Behavior = CreateObjectDie ModuleTag_CrushUnitsOnDeath
        CreationList = OCL_SpawnUrukDead
    End


    Scale = 1.6
    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 19
    ShadowSizeY = 19
    ShadowTexture = ShadowI
End




Object AlatarOrc_Dead


    Draw = W3DHordeModelDraw ModuleTag_01



        DefaultModelConditionState
        Model                   = chss_or_u_skn
        Skeleton                = chss_gb_u_skl
        End



        AnimationState        = USER_2
            StateName           = STATE_Sword
            Animation
                AnimationName     =  chss_gb_u_DIEA
                AnimationMode     = ONCE
            End
        End

        IdleAnimationState
            StateName                = STATE_Idle_Sword
            Animation = Foot_IDLB
                AnimationName            =  chss_gb_u_DIEA
                AnimationMode            = ONCE_BACKWARDS
                AnimationSpeedFactorRange    = 0 0
            End
            Flags                    = START_FRAME_LAST
        End
     End




    Side            = Imladris
    EditorSorting   = UNIT
    ThreatLevel     = 1.0
    ThingClass      = HORDE_UNIT
    CommandPoints   = 0
    BountyValue     = 0
    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT



    WeaponSet
        Conditions      = None
    End

    ArmorSet
        Conditions      = None
        Armor           = DeadKnightArmor
    End


    ShroudClearingRange = 10
    VisionRange = 10

    DisplayName = OBJECT:KnightDead
    CrushableLevel = 3
    MaxSimultaneousOfType    = 4
    CrushRevengeWeapon = BasicInfantryCrushRevenge

    CommandSet = GondorFighterCommandSet


    CrowdResponseKey = GoodMen




    RadarPriority = UNIT
    KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 1000000
    End


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    =    Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =    500
    End

    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = 0
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End


    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End


    Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
        UpgradeToGrant = Upgrade_TestBuilding
    End

    Behavior = ModelConditionUpgrade ModuleTag_BuildHackUserFlag
        TriggeredBy                = Upgrade_TestBuilding
        AddTempConditionFlag       = ModelConditionState:USER_2
        TempConditionTime          = 5.2
    End


    Behavior = SubObjectsUpgrade ModuleTag_Pieces
       TriggeredBy              = Upgrade_TestBuilding
       HideSubObjects           = HLMT_07 HLMT_03 HLMT_04 HLMT_02 CHSS_OR_H SLDR_01 SLDR_02 SWRD_04 SLDR_03 SWRD_03 SLDR_05 AXE_02 URUK_SWORD_03 OBJECT02 BOOT_04 URUK_SWORD_02 BOOT_06 BOOT_01 GNLT_03 GNLT_02 BOOT_03 GNLT_07 GNLT_01 BOOT_02 B00T_05
    End

    Behavior = SlowDeathBehavior ModuleTag_DieAndSpawn
        DeathTypes          = ALL
        DestructionDelay    = 0
        FX                  = INITIAL FX_KnightAlive
    End

    Behavior = CreateObjectDie ModuleTag_CrushUnitsOnDeath
        CreationList = OCL_SpawnOrcAlive
    End

    Scale = 1.6
    Geometry = CYLINDER
    GeometryMajorRadius = 1.0
    GeometryMinorRadius = 1.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

End


Object AlatarOrc_Alive


    Draw = W3DScriptedModelDraw ModuleTag_Draw

        DefaultModelConditionState
        Model                   = chss_or_u_skn
        Skeleton                = chss_gb_u_skl
            ParticleSysBone = BAT_SPINE2 HellKnightSmokeCenter FollowBone:Yes
            ParticleSysBone = BAT_SPINE2 HellKnightFireCenter FollowBone:Yes
            ParticleSysBone = BAT_SPINE2 HellKnightFireCenter2 FollowBone:Yes
        End





AnimationState        = STUNNED_FLAILING
    StateName           = STATE_Sword
    Animation
        AnimationName     = chss_gb_u_FLYA
        AnimationMode     = LOOP
    End
    Flags               = RANDOMSTART
End


AnimationState        = DYING SPLATTED
    StateName           = STATE_Sword
    Animation
        AnimationName     = chss_gb_u_LNDA
        AnimationMode     = ONCE
    End
End

AnimationState        = DYING
    StateName           = STATE_Sword
    Animation
        AnimationName     = chss_gb_u_DIEA
        AnimationMode     = ONCE
    End
End




AnimationState        = STUNNED_STANDING_UP
    StateName           = STATE_Sword
    Animation
        AnimationName     = chss_gb_u_GTPA
        AnimationMode     = ONCE
        AnimationSpeedFactorRange = 1.5 1.5
    End
End

AnimationState        = STUNNED
    StateName           = STATE_Sword
    Animation           = GUHero_LNDA
        AnimationName     = chss_gb_u_LNDA
        AnimationMode     = ONCE
    End
End







        AnimationState            = MOVING
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART

            Animation
                AnimationName   = chss_gb_u_IDLA

                AnimationSpeedFactorRange = 0.85 0.85

            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_RunningBow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Running") end
                if Prev == "STATE_Rappelling"  then CurDrawableSetTransitionAnimState("Trans_RappellingToRunning") return end
            EndScript
        End




        AnimationState                = FIRING_OR_PREATTACK_A
            Animation
                AnimationName        = chss_gb_u_ATKA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            Animation
                AnimationName        = chss_gb_u_ATKB
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
        End


    AnimationState        = RESURRECTED
        StateName           = STATE_Sword
        Animation
            AnimationName     = chss_gb_u_ATNA
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 0.5 0.5
        End

        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_RiseUp") end
        EndScript

    End


        TransitionState       = TRANS_RiseUp
            Animation           = ATND
                AnimationName     = chss_gb_u_RBNA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.5 0.5
            END
        End




        AnimationState = HIT_REACTION
            Animation = Sword_HITA
                AnimationName = chss_gb_u_HITA
                AnimationMode = ONCE
            End
            Animation = Sword_HITB
                AnimationName = chss_gb_u_HITB
                AnimationMode = ONCE
            End

            BeginScript
                PrevAnim = CurDrawablePrevAnimation()
                if PrevAnim == "Foot_IDLB"
                then
                    return "Sword_HITB"
                else
                    return "Swort_HITA"
                end
            EndScript
        End



        AnimationState          =    SPECIAL_WEAPON_ONE
            StateName          =    Attacking
            Animation
                AnimationName =    chss_gb_u_TNTA
                AnimationMode =    ONCE
                AnimationSpeedFactorRange    = 2 2
            End
        End






        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = chss_gb_u_LVLA
                AnimationMode        = ONCE
            End
        End




        AnimationState                =    EMOTION_CELEBRATING
            Animation CHRA
                AnimationName        =    chss_gb_u_CHRA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    chss_gb_u_CHRB
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_TAUNTING
            Animation CHRA
                AnimationName        =    chss_gb_u_TNTA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                = ENGAGED
            StateName                = STATE_ready
            Animation
                AnimationName        = chss_gb_u_IDLA
                AnimationMode        = ONCE
            End
        End

        IdleAnimationState
            StateName    = STATE_Idle_Sword
            Animation = Foot_IDLB
                AnimationName       = chss_gb_u_ATNB
                AnimationMode       = ONCE
                AnimationPriority   = 20
            End

            BeginScript
                CurDrawableHideSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredSword") end
                if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
            EndScript
        End

    End


    Side         = Imladris
    EditorSorting     = UNIT

    ThreatLevel     = 1.0
    MaxSimultaneousOfType    = 4
    ThingClass     = HORDE_UNIT
    CommandPoints     = 0
    BountyValue     = 0

    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT


    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    KnightDeadSword
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End



    ArmorSet
        Conditions      = None
        Armor           = EdainWarriorHeroArmor
        DamageFX        = NormalDamageFX
    End

    ShroudClearingRange = 300
    VisionRange = 200

    VisionSide = 35%
    VisionRear = 25%

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 2.0%


    DisplayName = OBJECT:KnightAlive
    CrushableLevel = 3
    CrushRevengeWeapon = BasicInfantryCrushRevenge

    CommandSet = EmptyCommandSet






    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK GRAB_AND_DROP

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 1200
    End



    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    =    Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =    500
    End

    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_FOOT_MED_MEMBER_SPEED
    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 1233
    End



    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End

    Behavior               = AttributeModifierUpgrade ModuleTag_Einfrieren
       TriggeredBy         = Upgrade_TestBuilding
       AttributeModifier   = KnightEingefrorenModifier
    End

    Behavior = GrantUpgradeCreate ModuleTag_GiveUpgrade
        UpgradeToGrant = Upgrade_TestBuilding
    End

    Behavior = ModelConditionUpgrade ModuleTag_BuildHackUserFlag
        TriggeredBy                  = Upgrade_TestBuilding
        AddTempConditionFlag         = ModelConditionState:RESURRECTED
        TempConditionTime            = 6.4
    End


    Behavior = SubObjectsUpgrade ModuleTag_Pieces
       TriggeredBy              = Upgrade_TestBuilding
       HideSubObjects           = HLMT_07 HLMT_03 HLMT_04 HLMT_02 CHSS_OR_H SLDR_01 SLDR_02 SWRD_04 SLDR_03 SWRD_03 SLDR_05 AXE_02 URUK_SWORD_03 OBJECT02 BOOT_04 URUK_SWORD_02 BOOT_06 BOOT_01 GNLT_03 GNLT_02 BOOT_03 GNLT_07 GNLT_01 BOOT_02 B00T_05
    End

    Behavior = SlowDeathBehavior ModuleTag_DieAndSpawn
        DeathTypes          = ALL
        DestructionDelay    = 0
        FX                  = INITIAL FX_KnightDead
    End

    Behavior = CreateObjectDie ModuleTag_CrushUnitsOnDeath
        CreationList = OCL_SpawnOrcDead
    End


    Scale = 1.6
    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 19
    ShadowSizeY = 19
    ShadowTexture = ShadowI
End

