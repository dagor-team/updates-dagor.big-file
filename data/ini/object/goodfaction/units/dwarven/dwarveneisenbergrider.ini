Object EisenbergRider


    ButtonImage        = HSDwarvenRider
    SelectPortrait     = UPDwarvenRider

    Draw = W3DHordeModelDraw ModuleTag_01

        WadingParticleSys = EntRipples


        DefaultModelConditionState
            Model                   = dudwarfrider
            Skeleton                = KUOrcRider_SKL
        End



        ModelConditionState = COMING_OUT_OF_FACTORY
            Model                    = dudwarfrider
            Skeleton                = KUOrcRider_SKL
        End



        AnimationState                        = PASSENGER
            Animation                        = Grabbed
                AnimationName                = KUOrcRider_GBDA
                AnimationMode                = LOOP
            End
        End

        AnimationState                        = FREEFALL
            Animation                        = freefall
                AnimationName                = KUOrcRider_FLYA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End

        AnimationState                =    STUNNED_FLAILING
            Animation                =    JustDie
                AnimationName       =    KUOrcRider_FLYA
                AnimationMode       =    LOOP
            End
        End

        AnimationState                =    DYING BURNINGDEATH DEATH_1
            Animation
                AnimationName        =    KUOrcRider_DIEA
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
            End
            Animation
                AnimationName        =    KUOrcRider_DIEB
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
            End
        End

        AnimationState                =    DYING SPLATTED DEATH_1
            Animation                =    splatted
                AnimationName        =    KUOrcRider_LNDA
                AnimationMode        =    ONCE
            End
        End



        AnimationState                =    DYING DEATH_1
            Animation                =    JustDie
                AnimationName        =    KUOrcRider_DIEA
                AnimationMode        =    ONCE
            End
            Animation                =    JustDie
                AnimationName        =    KUOrcRider_DIEB
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    DYING DEATH_2
            Animation                =    ByeBye
                AnimationName        =    KUOrcRider_IDLC
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    STUNNED_STANDING_UP
            Animation                =    StandUp
                AnimationName       =    KUOrcRider_GTPA
                AnimationMode       =    ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState                =    STUNNED
            Animation                =    Land
                AnimationName       =    KUOrcRider_LNDA
                AnimationMode       =    ONCE
            End
        End

        AnimationState                        = BURNINGDEATH
            Animation
                AnimationName                = KUOrcRider_MFDA
                AnimationMode                = ONCE
                Distance                    = 50
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = KUOrcRider_IDLB
                AnimationMode                = LOOP
            End
        End




        AnimationState  = COMING_OUT_OF_FACTORY
            Animation = Being_Built
                AnimationName        = KUOrcRider_RUNA
                AnimationMode        = LOOP
                AnimationBlendTime    = 0
            End
        End

        AnimationState = MOVING FIRING_OR_PREATTACK_A
            Animation = TrotAndFire
                AnimationName = KUOrcRider_RUNB
                AnimationMode = LOOP
            End

        End

        AnimationState                =    TURN_LEFT_HIGH_SPEED
            Animation                =    MTurnLeft
                AnimationName        =    KUOrcRider_TRNL
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    TURN_RIGHT_HIGH_SPEED
            Animation                =    MTurnRight
                AnimationName        =    KUOrcRider_TRNR
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    TURN_LEFT
            Animation                =    TurnRight
                AnimationName        =    KUOrcRider_TRNL
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange = 2.0 2.0
            End
        End

        AnimationState                =    TURN_RIGHT
            Animation                =    TurnRight
                AnimationName        =    KUOrcRider_TRNR
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange = 2.0 2.0
            End
        End

        AnimationState                =    MOVING ACCELERATE
            Animation                =    Accelerate
                AnimationName        =    KUOrcRider_ACCL
                AnimationMode        =    ONCE
            End

        End

        AnimationState                =    DECELERATE
            Animation                =    Decelerate
                AnimationName        =    KUOrcRider_DECL
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.4 0.4
            End

        End

        AnimationState                =    MOVING BACKING_UP
            Animation                =    BackingUpA
                AnimationName        =    KUOrcRider_BAKA
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange = 3.0 3.0
            End
        End

        AnimationState                =    MOVING
            ShareAnimation            =    Yes
            Animation                =    RunA
                AnimationName        =    KUOrcRider_RUNA
                AnimationMode        =    LOOP
            End

        End


        AnimationState                =    BETWEEN_FIRING_SHOTS_A
            Animation                =    BetweenFiringShots
                AnimationName        =    KUOrcRider_IDLB
                AnimationMode        =    LOOP
                AnimationBlendTime    =   10
            End
        End

        AnimationState                =    FIRING_OR_PREATTACK_A
            Animation
                AnimationName        =    KUOrcRider_ATKA
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
                AnimationBlendTime  =    10
            End
            Animation
                AnimationName        =    KUOrcRider_ATKB
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
                AnimationBlendTime  =    10
            End
            Animation
                AnimationName        =    KUOrcRider_ATKC
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
                AnimationBlendTime  =    10
            End
        End

        AnimationState                    = EMOTION_UNCONTROLLABLY_AFRAID
            Animation                    = FERA
                AnimationName            = KUOrcRider_FERA
                AnimationMode            = LOOP
            End
        End

        AnimationState                =    ATTACKING
            Animation                =    AttackA3
                AnimationName        =    KUOrcRider_IDLB
                AnimationMode        =    LOOP
                AnimationBlendTime  =    10
            End
        End


        AnimationState = WAR_CHANT
            Animation = Chant
                AnimationName = KUOrcRider_TNTA
                AnimationMode = LOOP
            End
        End


        AnimationState                    = EMOTION_ALERT EMOTION_AFRAID
            Animation                    = Apprehensive
                AnimationName            = KUOrcRider_FERA
                AnimationMode            = LOOP
            End
        End

        AnimationState                    = EMOTION_AFRAID
            Animation                    = FERA
                AnimationName            = KUOrcRider_FERA
                AnimationMode            = LOOP
            End
        End

        AnimationState                    = EMOTION_TAUNTING
            Animation                    = TNTA
                AnimationName            = KUOrcRider_TNTA
                AnimationMode            = LOOP
            End
            Animation                    = TNTB
                AnimationName            = KUOrcRider_TNTB
                AnimationMode            = LOOP
            End
            Flags                    = RANDOMSTART
        End
        AnimationState                    = EMOTION_POINTING
            Animation                    = Pointing1A
                AnimationName            = KUOrcRider_PNTA
                AnimationMode            = LOOP
            End
            Animation                    = Pointing1B
                AnimationName            = KUOrcRider_PNTB
                AnimationMode            = LOOP
            End
            Flags                    = RANDOMSTART
        End
        AnimationState                    = EMOTION_CELEBRATING
            Animation                   = CHRA
                AnimationName            = KUOrcRider_CHRA
                AnimationMode            = ONCE
            End
            Animation                   = CHRB
                AnimationName            = KUOrcRider_CHRB
                AnimationMode            = ONCE
            End
            Flags                    = RANDOMSTART
        End


        AnimationState                            = EMOTION_ALERT
            StateName                            = STATE_Ready
            Animation                            = ALERT
                AnimationName                    = KUOrcRider_IDLB
                AnimationMode                    = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Ready") end
            EndScript
        End

        AnimationState                    = RAISING_FLAG
            Animation
                AnimationName            = KUOrcRider_CHRA
                AnimationMode            = LOOP
            End
            Animation
                AnimationName            = KUOrcRider_CHRB
                AnimationMode            = LOOP
            End
        End


        AnimationState                =    SELECTED
            SimilarRestart            =   Yes
            Animation                =    AtAttention
                AnimationName        =    KUOrcRider_ATNB
                AnimationMode        =    LOOP
            End
            StateName                = Selected
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("Idle_to_Selected") end
                if Prev == "STATE_Ready" then CurDrawableSetTransitionAnimState("Ready_to_Selected") end
            EndScript
        End

        IdleAnimationState
            Animation
                AnimationName        =    KUOrcRider_IDLC
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
                AnimationPriority   =    20
            End
            Animation
                AnimationName        =    KUOrcRider_IDLD
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
                AnimationPriority   =    1
            End
            Animation
                AnimationName        =    KUOrcRider_IDLB
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
                AnimationPriority   =    1
            End
            StateName                = Idle
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Idle") end
            EndScript
        End


        TransitionState       = Selected_to_Idle
            Animation           = ATNE
                AnimationName        =    KUOrcRider_ATNC
                AnimationMode        =    ONCE

            End
        End

        TransitionState       = Idle_to_Selected
            Animation           = ATND
                AnimationName     = KUOrcRider_ATNA
                AnimationMode   =    ONCE

            End
        End

        TransitionState       = Ready_to_Selected
            Animation           = ATNC
                AnimationName     = KUOrcRider_ATNA
                AnimationMode   =    ONCE

            End
        End

        TransitionState       = Selected_to_Ready
            Animation           = ATNCReverse
                AnimationName     = KUOrcRider_ATNC
                AnimationMode   =    ONCE

            End
        End

    End

    Draw = W3DScriptedModelDraw DustEffects
        DefaultModelConditionState
          Model = None
        End
        IdleAnimationState
        End
        AnimationState = MOVING WADING
            ParticleSysBone = None FootstepSlash
        End
        AnimationState = MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOVING DECELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOVING
        End
    End

    #include "..\..\..\includes\StunDrawModuleMedium.inc"


    Side = Dwarves
    EditorSorting = UNIT
    ThreatLevel = 2.0
    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

    WeaponSet
        Conditions = None
        Weapon = PRIMARY    GundabadWargRiderWeapon
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    ArmorSet
        Conditions      = None
        Armor           = GOOD_ADVANCED_CAV
        DamageFX        = NormalDamageFX
    End
	
    ArmorSet
        Conditions      = PLAYER_UPGRADE
        Armor           = GOOD_ADVANCED_CAV_HEAVY_ARMOR
        DamageFX        = NormalDamageFX
    End
	
	Behavior = AttributeModifierUpgrade ModuleTag_MithrilMailBonus
        TriggeredBy       = Upgrade_DwarvenMithrilMail
        AttributeModifier = DwarvenMithrilMailBonus
    End

    BuildFadeInOnCreateTime = 0

    VisionRange         = 250
    ShroudClearingRange = 450

    VisionSide = 35%
    VisionRear = 25%

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 2.0%

    BountyValue = ANGMAR_WOLFRIDER_BOUNTY_VALUE
    DisplayName = OBJECT:EisenbergRider

    CommandSet = EisenbergeRiderHordeCommandSet
    CommandPoints = 4

    CrushableLevel = 2
    CrusherLevel = 1

    CrushWeapon = KnightCrush

    MinCrushVelocityPercent = MINCRUSHVELOCITYPERCENT_STANDARD
    CrushDecelerationPercent = CRUSHDECELERATIONPERCENT_STANDARD

    RamPower = 40
    RamZMult = 0.5





    VoiceAttack                                = DwarfGuardianVoiceAttack
    VoiceAttackCharge                        = DwarfGuardianVoiceAttackCharge
    VoiceAttackMachine                        = DwarfGuardianVoiceAttack
    VoiceAttackStructure                    = DwarfGuardianVoiceAttackBuilding
    VoiceCreated                            = DwarfGuardianVoiceSalute
    VoiceFullyCreated                         = DwarfGuardianVoiceSalute
    VoiceGuard                                = DwarfGuardianVoiceMove
    VoiceMove                                = DwarfGuardianVoiceMove
    VoiceMoveToCamp                            = DwarfGuardianVoiceMoveCamp
    VoiceMoveWhileAttacking                    = DwarfGuardianVoiceDisengage
    VoicePriority                            = 47
    VoiceRetreatToCastle                    = DwarfGuardianVoiceRetreat
    VoiceSelect                                = DwarfGuardianVoiceSelectMS
    VoiceSelectBattle                         = DwarfGuardianVoiceSelectBattle

    VoiceEnterStateAttack                    = DwarfGuardianVoiceEnterStateAttack
    VoiceEnterStateAttackCharge                = DwarfGuardianVoiceEnterStateAttackCharge
    VoiceEnterStateAttackMachine            = DwarfGuardianVoiceEnterStateAttackBuilding
    VoiceEnterStateAttackStructure            = DwarfGuardianVoiceEnterStateAttackBuilding
    VoiceEnterStateMove                        = DwarfGuardianVoiceEnterStateMove
    VoiceEnterStateMoveToCamp                = DwarfGuardianVoiceEnterStateMoveCamp
    VoiceEnterStateMoveWhileAttacking        = DwarfGuardianVoiceEnterStateDisengage
    VoiceEnterStateRetreatToCastle            = DwarfGuardianVoiceEnterStateRetreat

    SoundAmbient                            = DwarfRhinocerousVoxAmbientLoop
    SoundImpact                             = ImpactHorse

    UnitSpecificSounds
        VoiceGarrison                        = DwarfGuardianVoiceMoveGarrison
        VoiceEnterUnitElvenTransportShip    = DwarfGuardianVoiceMoveShip
        VoiceInitiateCaptureBuilding        = DwarfGuardianVoiceCaptureBuilding

    End



   #include "..\..\..\includes\StandardUnitEvaEvents.inc"


    CrowdResponseKey = Dwarf

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Dwarf Dwarf_Male Dwarf_Guardian
    End

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:EMOTION_CELEBRATING    Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxCheerSinglesLoop
        ModelCondition = Required:EMOTION_POINTING        Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxTauntSinglesLoop
        ModelCondition = Required:EMOTION_TAUNTING        Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxTauntSinglesLoop
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxTauntSinglesLoop
    End



    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:WargMoveFootsteps         Animation:KUOrcRider_RUNA     Frames:0
        AnimationSound = Sound:WargMoveFootsteps         Animation:KUOrcRider_TNL1     Frames:0
        AnimationSound = Sound:WargMoveFootsteps         Animation:KUOrcRider_TNR1     Frames:0
        AnimationSound = Sound:WargMoveFootsteps         Animation:KUOrcRider_TRNL     Frames:0
        AnimationSound = Sound:WargMoveFootsteps         Animation:KUOrcRider_TRNR     Frames:0
        AnimationSound = Sound:WargMoveFootsteps         Animation:KUOrcRider_ACCL     Frames:0

        AnimationSound = Sound:WargTauntFootstep         Animation:KUOrcRider_TNTA     Frames:7 12 64 73

        AnimationSound = Sound:BuildingWargPitRiderDrop    Animation:KUOrcRider_BLDB    Frames:44

        AnimationSound = Sound:BodyFallOrc                 Animation:KUOrcRider_DIEB    Frames:10
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:KUOrcRider_DIEB    Frames:45
        AnimationSound = Sound:BodyFallOrc                 Animation:KUOrcRider_LNDA    Frames:1 17

        AnimationSound = Sound:BodyFallGeneric1        Animation:KUOrcRider_DIEC    Frames:16
        AnimationSound = Sound:BodyFallGeneric1        Animation:KUOrcRider_DIEC    Frames:30
    End




    RadarPriority = UNIT
    ThingClass = CAVALRY_UNIT

    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CAVALRY SCORE GRAB_AND_DROP

    Body = ActiveBody BodyModuleTag
        CheerRadius         = EMOTION_CHEER_RADIUS
        MaxHealth        = 250
        MaxHealthDamaged    = 120
        BurningDeathBehavior     = Yes
        BurningDeathFX           = FX_CavalryBurningFlame
    End


    Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTagGuardian
        TriggeredBy = Upgrade_ForgedBlades
    End

    Behavior = SubObjectsUpgrade ForgedBlade_UpgradeGuardian
        TriggeredBy        = Upgrade_ForgedBlades
        ShowSubObjects    = Forged_Blade
    End

    Behavior = ArmorUpgrade ArmorUpgradeModuleTagGuardian
        TriggeredBy       = Upgrade_HeavyArmor
        ArmorSetFlag      = PLAYER_UPGRADE

    End

    Behavior = SubObjectsUpgrade Armor_UpgradeGuardian
        TriggeredBy       = Upgrade_DwarvenMithrilMail
        UpgradeTexture    = EUDwarfGua_r.tga 0 EUDwarfGua_r_HA.tga
        UpgradeTexture    = EUDwarfGua_fire.tga 0 EUDwarfGua_fire_HA.tga
        RecolorHouse      = Yes
        ExcludeSubobjects = Forged_Blade
    End

    Behavior = SubObjectsUpgrade ModuleTag_MakingTheFX
        TriggeredBy       = Upgrade_DwarfFaction
        HideSubObjects    = FORGED_BLADE BANNER
    End


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle     = Yes ATTACK_BUILDINGS
        AILuaEventsList            = WargRiderFunctions
        BurningDeathTime        = BURNINGDEATH_DURATION_CAVALRY
    End

    LocomotorSet
        Locomotor = NormalHorseHordeMemberLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_MOUNTED_SLOW_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor = BurningDeathLocomotorCavalry
        Condition = SET_BURNINGDEATH
        Speed      = BURNINGDEATH_WANDERSPEED_CAVALRY
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 2533
    End


    Behavior = HordeMemberCollide ModuleTag_HMC

    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = SlowDeathBehavior ModuleTag_08

        DeathTypes     = ALL -EXTRA_8 -FADED
        SinkDelay     = 5000
        SinkRate     = 1.50
        DestructionDelay = 17000
        DeathFlags           = DEATH_1
        Sound         = INITIAL DwarfGenericVoiceDie
    End




  Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.5
        DestructionDelay = 8000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus = DEATH_4
        StartsActive   = Yes
        DelayTime      = 0
        DeathWeapon    = GrabandDropHorsesImpactWarhead
        WeaponOffset   = X:0 Y:0 Z:0
  End

  Behavior = BezierProjectileBehavior ModuleTag_BodyHitHorse
        FirstHeight               = 24
        SecondHeight              = 24
        FirstPercentIndent        = 30%
        SecondPercentIndent       = 70%
        TumbleRandomly            = Yes
        CrushStyle                = Yes
        DieOnImpact               = Yes
        BounceCount               = 1
        BounceDistance            = 40
        BounceFirstHeight         = 24
        BounceSecondHeight        = 24
        BounceFirstPercentIndent  = 20%
        BounceSecondPercentIndent = 80%
        GroundHitFX               = FX_GrabandDropHorsesGroundHit
        GroundBounceFX            = FX_GrabandDropHorsesGroundHit
  End



    Scale = 0.90
    Geometry = CYLINDER
    GeometryMajorRadius = 8
    GeometryMinorRadius = 8
    GeometryHeight = 20.0
    GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 30
    ShadowSizeY = 20
    ShadowTexture = ShadowI

End


Object EisenbergRiderBanner


    SelectPortrait         = UPGondor_Banner

    Draw = W3DScriptedModelDraw ModuleTag_01


        ExtraPublicBone = Glow
        ExtraPublicBone = Adornment
        ExtraPublicBone = Streamers


      OkToChangeModelColor = Yes
   StaticModelLODMode = Yes

        DefaultModelConditionState
            Model                    = dudwarfrider
            Skeleton                = KUOrcRider_SKL
        End



        ModelConditionState = COMING_OUT_OF_FACTORY
            Model                    = dudwarfrider
            Skeleton                = KUOrcRider_SKL
        End











        AnimationState                        = PASSENGER
            Animation                        = Grabbed
                AnimationName                = KUOrcRider_GBDA
                AnimationMode                = LOOP
            End
        End

        AnimationState                        = FREEFALL
            Animation                        = freefall
                AnimationName                = KUOrcRider_FLYA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End

        AnimationState                =    STUNNED_FLAILING
            Animation                =    JustDie
                AnimationName       =    KUOrcRider_FLYA
                AnimationMode       =    LOOP
            End
        End

        AnimationState                =    DYING BURNINGDEATH DEATH_1
            Animation
                AnimationName        =    KUOrcRider_DIEA
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
            End
            Animation
                AnimationName        =    KUOrcRider_DIEB
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
            End
        End

        AnimationState                =    DYING SPLATTED DEATH_1
            Animation                =    splatted
                AnimationName        =    KUOrcRider_LNDA
                AnimationMode        =    ONCE
            End
        End



        AnimationState                =    DYING DEATH_1
            Animation                =    JustDie
                AnimationName        =    KUOrcRider_DIEA
                AnimationMode        =    ONCE
            End
            Animation                =    JustDie
                AnimationName        =    KUOrcRider_DIEB
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    DYING DEATH_2
            Animation                =    ByeBye
                AnimationName        =    KUOrcRider_IDLC
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    STUNNED_STANDING_UP
            Animation                =    StandUp
                AnimationName       =    KUOrcRider_GTPA
                AnimationMode       =    ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState                =    STUNNED
            Animation                =    Land
                AnimationName       =    KUOrcRider_LNDA
                AnimationMode       =    ONCE
            End
        End

        AnimationState                        = BURNINGDEATH
            Animation
                AnimationName                = KUOrcRider_MFDA
                AnimationMode                = ONCE
                Distance                    = 50
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = KUOrcRider_IDLB
                AnimationMode                = LOOP
            End
        End




        AnimationState  = COMING_OUT_OF_FACTORY
            Animation = Being_Built
                AnimationName        = KUOrcRider_RUNA
                AnimationMode        = LOOP
                AnimationBlendTime    = 0
            End
        End

        AnimationState = MOVING FIRING_OR_PREATTACK_A
            Animation = TrotAndFire
                AnimationName = KUOrcRider_RUNB
                AnimationMode = LOOP
            End

        End

        AnimationState                =    TURN_LEFT_HIGH_SPEED
            Animation                =    MTurnLeft
                AnimationName        =    KUOrcRider_TRNL
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    TURN_RIGHT_HIGH_SPEED
            Animation                =    MTurnRight
                AnimationName        =    KUOrcRider_TRNR
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    TURN_LEFT
            Animation                =    TurnRight
                AnimationName        =    KUOrcRider_TRNL
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange = 2.0 2.0
            End
        End

        AnimationState                =    TURN_RIGHT
            Animation                =    TurnRight
                AnimationName        =    KUOrcRider_TRNR
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange = 2.0 2.0
            End
        End

        AnimationState                =    MOVING ACCELERATE
            Animation                =    Accelerate
                AnimationName        =    KUOrcRider_ACCL
                AnimationMode        =    ONCE
            End

        End

        AnimationState                =    DECELERATE
            Animation                =    Decelerate
                AnimationName        =    KUOrcRider_DECL
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.4 0.4
            End

        End

        AnimationState                =    MOVING BACKING_UP
            Animation                =    BackingUpA
                AnimationName        =    KUOrcRider_BAKA
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange = 3.0 3.0
            End
        End

        AnimationState                =    MOVING
            ShareAnimation            =    Yes
            Animation                =    RunA
                AnimationName        =    KUOrcRider_RUNA
                AnimationMode        =    LOOP
            End

        End


        AnimationState                =    BETWEEN_FIRING_SHOTS_A
            Animation                =    BetweenFiringShots
                AnimationName        =    KUOrcRider_IDLB
                AnimationMode        =    LOOP
                AnimationBlendTime    =   10
            End
        End

        AnimationState                =    FIRING_OR_PREATTACK_A
            Animation
                AnimationName        =    KUOrcRider_ATKA
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
                AnimationBlendTime  =    10
            End
            Animation
                AnimationName        =    KUOrcRider_ATKB
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
                AnimationBlendTime  =    10
            End
            Animation
                AnimationName        =    KUOrcRider_ATKC
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
                AnimationBlendTime  =    10
            End
        End

        AnimationState                    = EMOTION_UNCONTROLLABLY_AFRAID
            Animation                    = FERA
                AnimationName            = KUOrcRider_FERA
                AnimationMode            = LOOP
            End
        End

        AnimationState                =    ATTACKING
            Animation                =    AttackA3
                AnimationName        =    KUOrcRider_IDLB
                AnimationMode        =    LOOP
                AnimationBlendTime  =    10
            End
        End


        AnimationState = WAR_CHANT
            Animation = Chant
                AnimationName = KUOrcRider_TNTA
                AnimationMode = LOOP
            End
        End


        AnimationState                    = EMOTION_ALERT EMOTION_AFRAID
            Animation                    = Apprehensive
                AnimationName            = KUOrcRider_FERA
                AnimationMode            = LOOP
            End
        End

        AnimationState                    = EMOTION_AFRAID
            Animation                    = FERA
                AnimationName            = KUOrcRider_FERA
                AnimationMode            = LOOP
            End
        End

        AnimationState                    = EMOTION_TAUNTING
            Animation                    = TNTA
                AnimationName            = KUOrcRider_TNTA
                AnimationMode            = LOOP
            End
            Animation                    = TNTB
                AnimationName            = KUOrcRider_TNTB
                AnimationMode            = LOOP
            End
            Flags                    = RANDOMSTART
        End
        AnimationState                    = EMOTION_POINTING
            Animation                    = Pointing1A
                AnimationName            = KUOrcRider_PNTA
                AnimationMode            = LOOP
            End
            Animation                    = Pointing1B
                AnimationName            = KUOrcRider_PNTB
                AnimationMode            = LOOP
            End
            Flags                    = RANDOMSTART
        End
        AnimationState                    = EMOTION_CELEBRATING
            Animation                   = CHRA
                AnimationName            = KUOrcRider_CHRA
                AnimationMode            = ONCE
            End
            Animation                   = CHRB
                AnimationName            = KUOrcRider_CHRB
                AnimationMode            = ONCE
            End
            Flags                    = RANDOMSTART
        End


        AnimationState                            = EMOTION_ALERT
            StateName                            = STATE_Ready
            Animation                            = ALERT
                AnimationName                    = KUOrcRider_IDLB
                AnimationMode                    = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Ready") end
            EndScript
        End

        AnimationState                    = RAISING_FLAG
            Animation
                AnimationName            = KUOrcRider_CHRA
                AnimationMode            = LOOP
            End
            Animation
                AnimationName            = KUOrcRider_CHRB
                AnimationMode            = LOOP
            End
        End


        AnimationState                =    SELECTED
            SimilarRestart            =   Yes
            Animation                =    AtAttention
                AnimationName        =    KUOrcRider_ATNB
                AnimationMode        =    LOOP
            End
            StateName                = Selected
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("Idle_to_Selected") end
                if Prev == "STATE_Ready" then CurDrawableSetTransitionAnimState("Ready_to_Selected") end
            EndScript
        End

        IdleAnimationState
            Animation
                AnimationName        =    KUOrcRider_IDLC
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
                AnimationPriority   =    20
            End
            Animation
                AnimationName        =    KUOrcRider_IDLD
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
                AnimationPriority   =    1
            End
            Animation
                AnimationName        =    KUOrcRider_IDLB
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
                AnimationPriority   =    1
            End
            StateName                = Idle
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Idle") end
            EndScript
        End


        TransitionState       = Selected_to_Idle
            Animation           = ATNE
                AnimationName        =    KUOrcRider_ATNC
                AnimationMode        =    ONCE

            End
        End

        TransitionState       = Idle_to_Selected
            Animation           = ATND
                AnimationName     = KUOrcRider_ATNA
                AnimationMode   =    ONCE

            End
        End

        TransitionState       = Ready_to_Selected
            Animation           = ATNC
                AnimationName     = KUOrcRider_ATNA
                AnimationMode   =    ONCE

            End
        End

        TransitionState       = Selected_to_Ready
            Animation           = ATNCReverse
                AnimationName     = KUOrcRider_ATNC
                AnimationMode   =    ONCE

            End
        End

    End

    Draw = W3DScriptedModelDraw DustEffects
        DefaultModelConditionState
          Model = None
        End
        IdleAnimationState
        End
        AnimationState = MOVING WADING
            ParticleSysBone = None FootstepSlash
        End
        AnimationState = MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOVING DECELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOVING
        End
    End



    Side = Dwarves
    EditorSorting = UNIT
    ThreatLevel = 1.0
    ThingClass = HORDE_UNIT
    CommandPoints = 0

    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
    WeaponSet
        Conditions = None
        Weapon = PRIMARY    GundabadWargRiderWeapon
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    ArmorSet
        Conditions      = None
        Armor           = GOOD_ADVANCED_CAV
        DamageFX        = NormalDamageFX
    End
	
    ArmorSet
        Conditions      = PLAYER_UPGRADE
        Armor           = GOOD_ADVANCED_CAV_HEAVY_ARMOR
        DamageFX        = NormalDamageFX
    End
	
	Behavior = AttributeModifierUpgrade ModuleTag_MithrilMailBonus
        TriggeredBy       = Upgrade_DwarvenMithrilMail
        AttributeModifier = DwarvenMithrilMailBonus
    End

    VisionRange = VISION_STANDARD_MELEE
    VisionSide = 35%
    VisionRear = 25%
    ShroudClearingRange = SHROUD_CLEAR_STANDARD

    DisplayName = OBJECT:EisenbergRiderBanner

    CrushableLevel = 3
    CrusherLevel = 1

    CrushWeapon = WargCrush

    MinCrushVelocityPercent = MINCRUSHVELOCITYPERCENT_STANDARD
    CrushDecelerationPercent = CRUSHDECELERATIONPERCENT_STANDARD

    RamPower = 30
    RamZMult = 0.5


    BuildCost         = GONDOR_BANNER_BUILDCOST
    BuildTime         = STRONG_BUILDTIME
    BountyValue     = GONDOR_BANNER_BOUNTY_VALUE

    CommandSet = EmptyCommandSet





    VoiceAttack                                = DwarfGuardianVoiceAttack
    VoiceAttackCharge                        = DwarfGuardianVoiceAttackCharge
    VoiceAttackMachine                        = DwarfGuardianVoiceAttack
    VoiceAttackStructure                    = DwarfGuardianVoiceAttackBuilding
    VoiceCreated                            = DwarfGuardianVoiceSalute
    VoiceFullyCreated                         = DwarfGuardianVoiceSalute
    VoiceGuard                                = DwarfGuardianVoiceMove
    VoiceMove                                = DwarfGuardianVoiceMove
    VoiceMoveToCamp                            = DwarfGuardianVoiceMoveCamp
    VoiceMoveWhileAttacking                    = DwarfGuardianVoiceDisengage
    VoicePriority                            = 47
    VoiceRetreatToCastle                    = DwarfGuardianVoiceRetreat
    VoiceSelect                                = DwarfGuardianVoiceSelectMS
    VoiceSelectBattle                         = DwarfGuardianVoiceSelectBattle

    VoiceEnterStateAttack                    = DwarfGuardianVoiceEnterStateAttack
    VoiceEnterStateAttackCharge                = DwarfGuardianVoiceEnterStateAttackCharge
    VoiceEnterStateAttackMachine            = DwarfGuardianVoiceEnterStateAttackBuilding
    VoiceEnterStateAttackStructure            = DwarfGuardianVoiceEnterStateAttackBuilding
    VoiceEnterStateMove                        = DwarfGuardianVoiceEnterStateMove
    VoiceEnterStateMoveToCamp                = DwarfGuardianVoiceEnterStateMoveCamp
    VoiceEnterStateMoveWhileAttacking        = DwarfGuardianVoiceEnterStateDisengage
    VoiceEnterStateRetreatToCastle            = DwarfGuardianVoiceEnterStateRetreat

    SoundAmbient                            = DwarfRhinocerousVoxAmbientLoop
    SoundImpact                             = ImpactHorse

    UnitSpecificSounds
        VoiceGarrison                        = DwarfGuardianVoiceMoveGarrison
        VoiceEnterUnitElvenTransportShip    = DwarfGuardianVoiceMoveShip
        VoiceInitiateCaptureBuilding        = DwarfGuardianVoiceCaptureBuilding

    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    CrowdResponseKey = GoodMen

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionMenGoodCompilationBFME1and2VoxTauntSinglesLoop
    End

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Man Man_Male Unit Infantry Cavalry Knight
    End




    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CAVALRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP BANNER IGNORES_SELECT_ALL

    Body = ActiveBody ModuleTag_02
        CheerRadius       = EMOTION_CHEER_RADIUS
        MaxHealth         = GONDOR_BANNER_HEALTH
        MaxHealthDamaged  = GONDOR_BANNER_HEALTH_DAMAGED
        BurningDeathBehavior = Yes
        BurningDeathFX       = FX_CavalryBurningFlame
    End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS STEALTHED
        MoodAttackCheckRate        = 500
        AttackPriority                =     AttackPriority_Infantry
        AILuaEventsList                =    CavalryFunctions
        BurningDeathTime            =    BURNINGDEATH_DURATION_CAVALRY
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance        =    INFANTRY_TAUNT_POINT_RADIUS
        TauntAndPointUpdateDelay    =    1000
        TauntAndPointExcluded        =    NONE
        AfraidOf                    =    EMOTION_AFRAIDOF_OBJECTFILTER
        AlwaysAfraidOf                =    EMOTION_ALWAYS_AFRAIDOF_OBJECTFILTER
        PointAt                        =    EMOTION_POINTAT_OBJECTFILTER

        HeroScanDistance            =    150
        FearScanDistance            =    INFANTRY_FEAR_SCAN_RADIUS

        AddEmotion    =    Terror_Base
        AddEmotion    =    Doom_Base
        AddEmotion    =   BraceForBeingCrushed_Base
        AddEmotion    =    UncontrollableFear_Base_Evil
        AddEmotion    =    FearIdle_Base
        AddEmotion    =    FearBusy_Base
        AddEmotion    =    Point_Base
        AddEmotion    =    Taunt_Base
        AddEmotion    =    CheerIdle_Base
        AddEmotion    =    CheerBusy_Base
        AddEmotion    =    HeroCheerIdle_Base
        AddEmotion    =    HeroCheerBusy_Base
        AddEmotion    =    Alert_Base
    End
	
    Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTagGuardian
        TriggeredBy = Upgrade_ForgedBlades
    End

    Behavior = SubObjectsUpgrade ForgedBlade_UpgradeGuardian
        TriggeredBy        = Upgrade_ForgedBlades
        ShowSubObjects    = Forged_Blade
    End

    Behavior = ArmorUpgrade ArmorUpgradeModuleTagGuardian
        TriggeredBy       = Upgrade_HeavyArmor
        ArmorSetFlag      = PLAYER_UPGRADE

    End

    Behavior = SubObjectsUpgrade Armor_UpgradeGuardian
        TriggeredBy       = Upgrade_DwarvenMithrilMail
        UpgradeTexture    = EUDwarfGua_r.tga 0 EUDwarfGua_r_HA.tga
        UpgradeTexture    = EUDwarfGua_fire.tga 0 EUDwarfGua_fire_HA.tga
        RecolorHouse      = Yes
        ExcludeSubobjects = Forged_Blade
    End	

    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_MOUNTED_SLOW_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor = HumanWanderLocomotor
        Condition = SET_WANDER
        Speed     = NORMAL_MOUNTED_SLOW_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor = HorseLocomotor
        Condition = SET_MOUNTED
        Speed     = NORMAL_MOUNTED_SLOW_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor = BurningDeathLocomotorCavalry
        Condition = SET_BURNINGDEATH
        Speed      = BURNINGDEATH_WANDERSPEED_CAVALRY
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 666
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -KNOCKBACK -FADED
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL DwarfGenericVoiceDie
    End

    Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes = NONE +FADED
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL SpellGenericUnsummonFasterMS
    End

    Behavior = SquishCollide ModuleTag_06

    End




    Behavior = BannerCarrierUpdate BannerCarrierUpdateModuleTag
        IdleSpawnRate            = 10000
        MeleeFreeUnitSpawnTime        = 20000
        DiedRespawnTime            = 10000
        MeleeFreeBannerReSpawnTime    = 20000

        BannerMorphFX        = FX_HordeResurrectionWithBannerCarrierSFX
        UnitSpawnFX            = FX_HordeResurrection





        MorphCondition        = UnitType:GondorCavalry            Locomotor:SET_MOUNTED    ModelState:"USER_3"














    End

    Behavior = SlowDeathBehavior ModuleTag_07

        DeathTypes = NONE +KNOCKBACK
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
    End

    Behavior = BezierProjectileBehavior ModuleTag_08

        FirstHeight = 24
        SecondHeight = 24
        FirstPercentIndent = 30%
        SecondPercentIndent = 70%
        TumbleRandomly = Yes

        CrushStyle = Yes
        DieOnImpact = Yes
        BounceCount = 1
        BounceDistance = 40
        BounceFirstHeight = 24
        BounceSecondHeight = 24
        BounceFirstPercentIndent = 20%
        BounceSecondPercentIndent = 80%

        GroundHitFX       = FX_ThrownRockGroundHit
        GroundBounceFX    = FX_ThrownRockBounceHit
    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 7
        HitReactionLifeTimer2 = 15
        HitReactionLifeTimer3 = 10

        HitReactionThreshold1 = 0.0
        HitReactionThreshold2 = 25.0
        HitReactionThreshold3 = 50.0
    End

    Behavior = SubObjectsUpgrade Show_Topper
        TriggeredBy        = Upgrade_AllFactionUpgrade
        HideSubObjects    = Glow FORGED_BLADE
    End


    Scale = 0.90
    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 19
  ShadowSizeY = 19
  ShadowTexture = ShadowI
End



Object EisenbergRiderHorde

    ButtonImage = HSDwarvenRider
    SelectPortrait         = UPDwarvenRider

    Draw = W3DScriptedModelDraw ModuleTag_W3DModelDraw
        DependencySharedModelFlags = EMOTION_ALERT EMOTION_MORALE_HIGH EMOTION_MORALE_LOW EMOTION_AFRAID EMOTION_COWER SELECTED EMOTION_TERROR EMOTION_LOOK_TO_SKY
        DefaultModelConditionState
            Model = None
        End
        ModelConditionState = HORDE_EMPTY
            Model = None
        End
        ModelConditionState = WORLD_BUILDER
            Model = HordeMarkIUWar
        End
    End

    Side = Angmar
    EditorSorting = UNIT
    EmotionRange = 240
    DisplayName = OBJECT:EisenbergRiderHorde
    DisplayNameStrategic = CONTROLBAR:LW_Unit_EisenbergRiderHorde
    DescriptionStrategic = CONTROLBAR:LW_ToolTip_EisenbergRiderHorde

    WeaponSet
        Conditions = None
        Weapon        = PRIMARY    NormalMeleeHordeRangefinder
        Weapon        = SECONDARY    NormalMissileHordeRangefinder
    End







    BuildCost         = 400
    BuildTime         = MEDIUM_BUILDTIME
    VisionRange         = 250
    ShroudClearingRange = 450

    VisionSide         = 50%
    VisionRear         = 25%

    MaxVisionBonusPercent     = 300%
    VisionBonusTestRadius     = 200
    VisionBonusPercentPerFoot = 1.0%


    CommandPoints         = 40

    CommandSet         = EisenbergeRiderHordeCommandSet

    FormationWidth         = 2
    FormationDepth         = 1

    CrushableLevel         = 2
    CrusherLevel         = 2
    MinCrushVelocityPercent = MINCRUSHVELOCITYPERCENT_STANDARD
    CrushDecelerationPercent = CRUSHDECELERATIONPERCENT_STANDARD
    CrushKnockback         = 50
    CrushZFactor         = 1.0


    TransportSlotCount = TRANSPORTSLOTCOUNT_LARGE_HORDE
    KindOf = SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAVALRY HORDE MELEE_HORDE ARMY_SUMMARY LARGE_RECTANGLE_PATHFIND

    ThreatLevel = ISENGARD_WARGRIDER_HORDE_THREAT
    ThreatBreakdown IsengardWargRiderHorde_DetailedThreat
        AIKindOf = CAVALRY
    End

    #include "..\..\..\includes\StandardHordeEvaEvents.inc"

    Body = ImmortalBody ModuleTag_ImmortalBody
        MaxHealth = 1
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = CavalryHorde
    End

    Behavior = HordeAIUpdate ModuleTag_HordeAIUpdate
        AutoAcquireEnemiesWhenIdle     = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            = 500
        MaxCowerTime            = 5000
        MinCowerTime            = 3000
        AttackPriority            = AttackPriority_Cavalry
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance        =    INFANTRY_TAUNT_POINT_RADIUS
        TauntAndPointUpdateDelay    =    1000
        TauntAndPointExcluded        =    NONE
        AfraidOf            =    EMOTION_AFRAIDOF_OBJECTFILTER
        AlwaysAfraidOf            =    EMOTION_ALWAYS_AFRAIDOF_OBJECTFILTER
        PointAt                =    EMOTION_POINTAT_OBJECTFILTER
        HeroScanDistance        =    150
        FearScanDistance        =    CAVALRY_FEAR_SCAN_RADIUS

        AddEmotion    =    Terror_Base
        AddEmotion    =    Doom_Base
        AddEmotion    =       BraceForBeingCrushed_Base
        AddEmotion    =    UncontrollableFear_Base_Evil
        AddEmotion    =    FearIdle_Base
        AddEmotion    =    FearBusy_Base
        AddEmotion    =    Point_Base
        AddEmotion    =    Taunt_Base
        AddEmotion    =    CheerIdle_Base
        AddEmotion    =    CheerBusy_Base
        AddEmotion    =    HeroCheerIdle_Base
        AddEmotion    =    HeroCheerBusy_Base
        AddEmotion    =    Alert_Base
        AddEmotion    =       CheerForAboutToCrush_Base
    End

    Behavior = HorseHordeContain ModuleTag_HordeContain
        FrontAngle = STANDARD_INFANTRY_FRONTANGLE
        FlankedDelay = STANDARD_INFANTRY_FLANKEDDELAY
        ObjectStatusOfContained =
        InitialPayload         = EisenbergRider  10
        Slots             = 10
        PassengerFilter     = NONE +CAVALRY
        ShowPips         = No
        RandomOffset         = X:2 y:3

        MeleeBehavior         = Amoeba
        End


        ThisFormationIsTheMainFormation = Yes


        BannerCarriersAllowed    = EisenbergRiderBanner
        BannerCarrierPosition    = UnitType:EisenbergRider    Pos:X:70.0 Y:0.0         for archer horde

        RankInfo = RankNumber:1 UnitType:EisenbergRider Position:X:40 Y:0        Position:X:40 Y:25        Position:X:40 Y:-25        Position:X:40 Y:50        Position:X:40 Y:-50
        RankInfo = RankNumber:2 UnitType:EisenbergRider Position:X:10 Y:0 Leader 1 0    Position:X:10 Y:25 Leader 1 1    Position:X:10 Y:-25 Leader 1 2    Position:X:10 Y:50 Leader 1 3    Position:X:10 Y:-50 Leader 1 4

        RanksToReleaseWhenAttacking = 1 2
        MeleeAttackLeashDistance = 25

        AlternateFormation = EisenbergRiderHordeWedgeFormation
        MeleeAttackLeashDistance = 1
        BackUpMinDelayTime       = 1
        BackUpMaxDelayTime       = 3000
        BackUpMinDistance        = 1
        BackUpMaxDistance        = 3
        BackupPercentage         = 80%
    End

    Behavior = PhysicsBehavior ModuleTag_PhysicsBehavior
        GravityMult = 1.0
    End

    Behavior = HordeNotifyTargetsOfImminentProbableCrushingUpdate ModuleTag_NotifyCrushScan
        ScanWidth = 40.0
    End


    LocomotorSet
        Locomotor     = NormalCavalryHordeLocomotor
        Condition     = SET_NORMAL
        Speed         = NORMAL_MOUNTED_VERYFAST_MEMBER_SPEED
    End

    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP = Yes
    End

    Behavior = LevelUpUpgrade ModuleTag_BasicTraining
        TriggeredBy = Upgrade_BasicTraining
        LevelsToGain = 1
        LevelCap = 2
    End

    Behavior = StatusBitsUpgrade ModuleTag_ProductionLegality
        TriggeredBy = Upgrade_ForgedBlades
    End

    Behavior = StatusBitsUpgrade ModuleTag_ProductionLegality2
        TriggeredBy = Upgrade_DwarvenMithrilMail
    End

    Behavior = PickupStuffUpdate ModuleTag_PickupStuffUpdate
        SkirmishAIOnly = Yes
        StuffToPickUp = ANY +CRATE -TheDroppedRing
        ScanRange = 200
        ScanIntervalSeconds = 0.5
    End

    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = AISpecialPowerUpdate IsengardWargRiderHordeCaptureBuildingAI
        CommandButtonName = Command_CaptureBuilding
        SpecialPowerAIType = AI_SPECIAL_POWER_CAPTURE_BUILDING
    End




    Behavior = AISpecialPowerUpdate HowlAI
        CommandButtonName = Command_SpecialAbilityWargHowl
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End

    Geometry = BOX
    GeometryMajorRadius = 30.0
    GeometryMinorRadius = 40.0
    GeometryHeight = 20.0
    GeometryIsSmall = No



    AutoResolveUnitType = AutoResolveUnit_Cavalry
    AutoResolveCombatChain = AutoResolve_CavalryCombatChain

    AutoResolveBody = AutoResolve_GondorKnightHordeBody

    AutoResolveArmor
        RequiredUpgrades = Upgrade_DwarvenMithrilMail
        Armor = AutoResolve_IsengardWargRiderHeavyArmor
    End

    AutoResolveArmor
        ExcludedUpgrades = Upgrade_DwarvenMithrilMail
        Armor = AutoResolve_IsengardWargRiderArmor
    End

    AutoResolveWeapon
        RequiredUpgrades = Upgrade_ForgedBlades
        Weapon = AutoResolve_IsengardWargRiderUpgradedWeapon
    End

    AutoResolveWeapon
        ExcludedUpgrades = Upgrade_ForgedBlades
        Weapon = AutoResolve_IsengardWargRiderWeapon
    End

    WorldMapArmoryUpgradesAllowed = Upgrade_BasicTraining Upgrade_DwarvenMithrilMail Upgrade_ForgedBlades
End



ChildObject EisenbergRiderHordeWedgeFormation EisenbergRiderHorde

    Behavior = HorseHordeContain ModuleTag_HordeContain
        AttributeModifiers = GondorKnightWedge
        ObjectStatusOfContained =
        InitialPayload = EisenbergRider 10
        Slots = 10
        PassengerFilter = NONE +CAVALRY
        ShowPips = No
        ThisFormationIsTheMainFormation = No
        RandomOffset = X:8 y:3
        MeleeBehavior = Amoeba
        End


        BannerCarriersAllowed    = EisenbergRiderBanner
        BannerCarrierPosition    = UnitType:EisenbergRider    Pos:X:30.0 Y:0.0         for archer horde

        RankInfo = RankNumber:1 UnitType:EisenbergRider Position:X:0 Y:0        Position:X:-20 Y:20       Position:X:-20 Y:-20      Position:X:-40 Y:40       Position:X:-40 Y:-40
        RankInfo = RankNumber:2 UnitType:EisenbergRider Position:X:-30 Y:0      Position:X:-50 Y:20       Position:X:-50 Y:-20      Position:X:-70 Y:40       Position:X:-70 Y:-40

        RanksToReleaseWhenAttacking = 1
        AlternateFormation = EisenbergRiderHorde

        MeleeAttackLeashDistance = 1
        BackUpMinDelayTime       = 1
        BackUpMaxDelayTime       = 3000
        BackUpMinDistance        = 1
        BackUpMaxDistance        = 3
        BackupPercentage         = 80%
    End
End


