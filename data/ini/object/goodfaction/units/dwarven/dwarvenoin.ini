Object DwarvenOin

    SelectPortrait = HPOin
    ButtonImage    = HIOin

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_Dain

    Draw = W3DScriptedModelDraw ModuleTag_01

        OkToChangeModelColor    = Yes
        StaticModelLODMode      = Yes


        DefaultModelConditionState
            Model               = duoina_film
            Skeleton            = RUGimli_SKL
            WeaponLaunchBone    = SECONDARY AXE02
            WeaponLaunchBone    = TERTIARY AXE02
        End

        ModelConditionState     = WEAPONSET_TOGGLE_1
            Model               = duoina_film
            Skeleton            = RUGimli_SKL
            WeaponLaunchBone    = SECONDARY AXE02
            WeaponLaunchBone    = TERTIARY AXE02
        End



       AnimationState        = STUNNED_FLAILING
            Animation           = FLYA
                AnimationName     = RUGimli_FLYA
                AnimationMode     = LOOP
                AnimationSpeedFactorRange    = 0.3 0.5
            End
            Flags               = RANDOMSTART
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState        = STUNNED_FLAILING WEAPONLOCK_SECONDARY
            Animation           = FLYA
                AnimationName     = RUGimli_FLYA
                AnimationMode     = LOOP
                AnimationSpeedFactorRange    = 0.3 0.5
            End
            Flags               = RANDOMSTART
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState        = DYING SPLATTED DEATH_1
            Animation           = LNDB
                AnimationName     = RUGimli_LNDA
                AnimationMode     = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState        = DYING SPLATTED DEATH_1 WEAPONLOCK_SECONDARY
            Animation           = LNDB
                AnimationName     = RUGimli_LNDA
                AnimationMode     = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End


        AnimationState        = DYING DEATH_1
            Animation           = DIEA
                AnimationName     = RUGimli_DIEA
                AnimationMode     = ONCE
            End
            Animation           = DIEC
                AnimationName     = RUGimli_DIEC
                AnimationMode     = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End

        AnimationState        = DYING DEATH_1 WEAPONLOCK_SECONDARY
            Animation           = DIEA
                AnimationName     = RUGimli_DIEA
                AnimationMode     = ONCE
            End
            Animation           = DIEC
                AnimationName     = RUGimli_DIEC
                AnimationMode     = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End


        AnimationState        = DYING DEATH_2
             Animation           = FadeOut
                AnimationName     = RUGimli_IDLB
                AnimationMode     = LOOP
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState        = DYING DEATH_2 WEAPONLOCK_SECONDARY
             Animation           = FadeOut
                AnimationName     = RUGimli_IDLB
                AnimationMode     = LOOP
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState        = STUNNED_STANDING_UP
            Animation           = GTPA
                AnimationName     = RUGimli_GTPA
                AnimationMode     = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState        = STUNNED_STANDING_UP WEAPONLOCK_SECONDARY
            Animation           = GTPA
                AnimationName     = RUGimli_GTPA
                AnimationMode     = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState        = STUNNED
            Animation           = LNDA
                AnimationName     = RUGimli_LNDA
                AnimationMode     = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState        = STUNNED WEAPONLOCK_SECONDARY
            Animation           = LNDA
                AnimationName     = RUGimli_LNDA
                AnimationMode     = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = RUGimli_IDLA
                AnimationMode                = LOOP
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState                        = PARALYZED WEAPONLOCK_SECONDARY
            Animation
                AnimationName                = RUGimli_IDLA
                AnimationMode                = LOOP
            End
            BeginScript
                 CurDrawableHideSubObject("AXE02")
            EndScript
        End





    AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = RUGimli_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

    AnimationState        = MOVING FIRING_OR_PREATTACK_A WEAPONLOCK_SECONDARY
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = RUGimli_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End


        AnimationState                =    MOVING ATTACKING
            Animation                =    RUNB
                AnimationName        =    RUGimli_RUNB
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART

            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState                =    MOVING ATTACKING WEAPONLOCK_SECONDARY
            Animation                =    RUNB
                AnimationName        =    RUGimli_RUNB
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState                =    MOVING
            Animation                =    RUNA
                AnimationName        =    RUGimli_RUNA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART

            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState                =    MOVING WEAPONLOCK_SECONDARY
            Animation                =    RUNA
                AnimationName        =    RUGimli_RUNA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End





        AnimationState                        = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
            Animation
                AnimationName                = RUGimli_SPCA
                AnimationMode                = ONCE

            End
            FrameForPristineBonePositions    = 42
        End


        AnimationState        =  FIRING_OR_PREATTACK_A
            Animation           = ATKA
                AnimationName     = RUGimli_ATKA
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            Animation           = ATKB
                AnimationName     = RUGimli_ATKB
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            Animation           = ATKC
                AnimationName     = RUGimli_ATKC
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState        =  FIRING_OR_PREATTACK_B
            Animation           = SPCA
                AnimationName     = RUGimli_SPCA
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            FrameForPristineBonePositions = 42
            BeginScript
                CurDrawableShowSubObject("AXE02")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End

        AnimationState        =  FIRING_OR_PREATTACK_C
            Animation           = ATKA
                AnimationName     = RUGimli_ATKD
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState        =  FIRING_OR_PREATTACK_A WEAPONLOCK_SECONDARY
            Animation           = SPCA
                AnimationName     = RUGimli_SPCA
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            FrameForPristineBonePositions = 42
            BeginScript
                CurDrawableShowSubObject("AXE02")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End

        AnimationState        =  FIRING_OR_PREATTACK_B WEAPONLOCK_SECONDARY
            Animation           = SPCA
                AnimationName     = RUGimli_SPCA
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            FrameForPristineBonePositions = 42
            BeginScript
                CurDrawableShowSubObject("AXE02")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End



        AnimationState        =  SPECIAL_WEAPON_ONE
            Animation           = TNTA
                AnimationName   = RUGimli_TNTA
                AnimationMode   = ONCE
            End
            Animation           = TNTB
                AnimationName   = RUGimli_TNTB
                AnimationMode   = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState        =  SPECIAL_WEAPON_ONE  WEAPONLOCK_SECONDARY
            Animation           = TNTA
                AnimationName   = RUGimli_TNTA
                AnimationMode   = ONCE
            End
            Animation           = TNTB
                AnimationName   = RUGimli_TNTB
                AnimationMode   = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState        =  SPECIAL_WEAPON_THREE
            Animation           = SPCA
                AnimationName   = RUGimli_SPCA
                AnimationMode   = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState        =  SPECIAL_WEAPON_THREE WEAPONLOCK_SECONDARY
            Animation           = SPCA
                AnimationName   = RUGimli_SPCA
                AnimationMode   = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState            = SPECIAL_WEAPON_TWO UNPACKING
            Animation            = GettingReadyToLeap
                AnimationName    = RUGimli_LEPA
                AnimationMode   = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState        =  ABOUT_TO_HIT
        StateName            = State_AboutToHitGround
            Animation           = Leap
                AnimationName     = RUGimli_LEPC
                AnimationMode     = ONCE

            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End


        AnimationState        = THROWN_PROJECTILE
            Animation           = LEPB
                AnimationName     = RUGimli_LEPB
                AnimationMode     = LOOP
                AnimationBlendTime = 20
            End
            BeginScript
                 CurDrawableHideSubObject("AXE02")
            EndScript
        End


        AnimationState        = UNPACKING PACKING_TYPE_1
            Animation           = SPCA
                AnimationName     = RUGimli_SPCA
                AnimationMode     = ONCE
            End
            FrameForPristineBonePositions = 42

            BeginScript
                CurDrawableShowSubObject("AXE02")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End


        AnimationState        = PREPARING PACKING_TYPE_1
            Animation           = SPCA
                AnimationName     = RUGimli_SPCA
                AnimationMode     = ONCE

            End
            FrameForPristineBonePositions = 42

            BeginScript
                CurDrawableShowSubObject("AXE02")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End

        AnimationState        = PACKING PACKING_TYPE_1
            Animation           = SPCA
                AnimationName     = RUGimli_SPCA
                AnimationMode     = ONCE

            End
            FrameForPristineBonePositions = 42

            BeginScript
                CurDrawableShowSubObject("AXE02")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End


        AnimationState        = UNPACKING PACKING_TYPE_2
            Animation           = ATKA1
                AnimationName     = RUGimli_SPCA
                AnimationMode     = ONCE
            End
            StateName           = STATE_Bow
        End

        AnimationState        = PREPARING PACKING_TYPE_2
            Animation           = ATKA2
                AnimationName     = RUGimli_SPCA
                AnimationMode     = LOOP
                AnimationSpeedFactorRange = 1.4 1.4
            End
            StateName           = STATE_Bow
        End

        AnimationState        = PACKING PACKING_TYPE_2
            Animation           = ATKA3
                AnimationName     = RUGimli_SPCA
                AnimationMode     = LOOP
            End
            StateName           = STATE_Bow
        End


        AnimationState        = UNPACKING PACKING_TYPE_2  WEAPONLOCK_SECONDARY
            Animation           = ATKA1
                AnimationName     = RUGimli_SPCA
                AnimationMode     = ONCE
            End
            StateName           = STATE_Bow
        End

        AnimationState        = PREPARING PACKING_TYPE_2 WEAPONLOCK_SECONDARY
            Animation           = ATKA2
                AnimationName     = RUGimli_SPCA
                AnimationMode     = LOOP
                AnimationSpeedFactorRange = 1.4 1.4
            End
            StateName           = STATE_Bow
        End

        AnimationState        = PACKING PACKING_TYPE_2  WEAPONLOCK_SECONDARY
            Animation           = ATKA3
                AnimationName     = RUGimli_SPCA
                AnimationMode     = LOOP
            End
            StateName           = STATE_Bow
        End




        AnimationState = HIT_REACTION
            Animation = Hit_Level_1_a
                AnimationName = RUGimli_HITA
                AnimationMode = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState = HIT_REACTION WEAPONLOCK_SECONDARY
            Animation = Hit_Level_1_a
                AnimationName = RUGimli_HITA
                AnimationMode = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End




        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = RUGimli_CHRB
                AnimationMode        = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState                = LEVELED WEAPONLOCK_SECONDARY
            Animation                = LevelUp
                AnimationName        = RUGimli_CHRB
                AnimationMode        = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End



        AnimationState            = EMOTION_CELEBRATING
            Animation           = CHRA
                AnimationName   = RUGimli_CHRA
                AnimationMode   = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState            = EMOTION_CELEBRATING WEAPONLOCK_SECONDARY
            Animation           = CHRA
                AnimationName   = RUGimli_CHRA
                AnimationMode   = ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End


        AnimationState            = EMOTION_TAUNTING
            Animation           = TNTA
                AnimationName   = RUGimli_TNTA
                AnimationMode   = ONCE
            End
            Animation           = TNTB
                AnimationName   = RUGimli_TNTB
                AnimationMode   = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState            = EMOTION_TAUNTING WEAPONLOCK_SECONDARY
            Animation           = TNTA
                AnimationName   = RUGimli_TNTA
                AnimationMode   = ONCE
            End

            Animation           = TNTB
                AnimationName   = RUGimli_TNTB
                AnimationMode   = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                    = EMOTION_ALERT
            Animation                    = Ready
                AnimationName            = RUGimli_IDLA
                AnimationMode            = LOOP
                AnimationBlendTime  =   15
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
                if Prev == "State_AboutToHitGround" then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle") end
            EndScript
        End

        AnimationState                    = EMOTION_ALERT WEAPONLOCK_SECONDARY
            Animation                    = Ready
                AnimationName            = RUGimli_IDLA
                AnimationMode            = LOOP
                AnimationBlendTime  =   15
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
                if Prev == "State_AboutToHitGround" then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle") end
            EndScript
        End

        AnimationState            = RAISING_FLAG
            Animation           = CHRA
                AnimationName   = RUGimli_CHRA
                AnimationMode   = LOOP
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End

        AnimationState            = RAISING_FLAG WEAPONLOCK_SECONDARY
            Animation           = CHRA
                AnimationName   = RUGimli_CHRA
                AnimationMode   = LOOP
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
            EndScript
        End



        AnimationState                =    SELECTED
            StateName                =    AtAttentionIdle
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =     RUGimli_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_Select") end
                if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_Select") end
                if Prev == "State_AboutToHitGround" then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle") end
            EndScript
        End

        AnimationState                =    SELECTED WEAPONLOCK_SECONDARY
            StateName                =    AtAttentionIdle
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =     RUGimli_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_Select") end
                if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_Select") end
                if Prev == "State_AboutToHitGround" then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle") end
            EndScript
        End



        IdleAnimationState
            StateName                = STATE_Idle
            Animation           = IDLB
                AnimationName     = RUGimli_IDLB
                AnimationMode     = ONCE
                AnimationPriority = 20
            End
            Animation           = IDLF
                AnimationName     = RUGimli_IDLF
                AnimationMode     = ONCE
                AnimationPriority = 5
            End
            Animation           = IDLD
                AnimationName     = RUGimli_IDLD
                AnimationMode     = ONCE
                AnimationPriority = 4
            End
            Animation           = IDLG
                AnimationName     = RUGimli_IDLG
                AnimationMode     = ONCE
                AnimationPriority = 3
            End
            Animation           = IDLH
                AnimationName     = RUGimli_IDLH
                AnimationMode     = ONCE
                AnimationPriority = 3
            End
            Animation           = IDLC
                AnimationName     = RUGimli_IDLC
                AnimationMode     = ONCE
                AnimationPriority = 3
            End
            Animation           = IDLE
                AnimationName     = RUGimli_IDLE
                AnimationMode     = ONCE
                AnimationPriority = 3
            End

            BeginScript
                CurDrawableHideSubObject("AXE02")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
                if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
                if Prev == "State_AboutToHitGround" then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle") end
            EndScript
        End

        AnimationState           = WEAPONLOCK_SECONDARY
            StateName                = STATE_Idle
            Animation           = IDLB
                AnimationName     = RUGimli_IDLB
                AnimationMode     = ONCE
                AnimationPriority = 20
            End
            Animation           = IDLF
                AnimationName     = RUGimli_IDLF
                AnimationMode     = ONCE
                AnimationPriority = 5
            End
            Animation           = IDLD
                AnimationName     = RUGimli_IDLD
                AnimationMode     = ONCE
                AnimationPriority = 4
            End
            Animation           = IDLG
                AnimationName     = RUGimli_IDLG
                AnimationMode     = ONCE
                AnimationPriority = 3
            End
            Animation           = IDLH
                AnimationName     = RUGimli_IDLH
                AnimationMode     = ONCE
                AnimationPriority = 3
            End
            Animation           = IDLC
                AnimationName     = RUGimli_IDLC
                AnimationMode     = ONCE
                AnimationPriority = 3
            End
            Animation           = IDLE
                AnimationName     = RUGimli_IDLE
                AnimationMode     = ONCE
                AnimationPriority = 3
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
                if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
                if Prev == "State_AboutToHitGround" then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle") end
            EndScript
        End





        TransitionState       = TRANS_EndDwarfToss
            Animation           = TOS4
                AnimationName     = RUGimli_TOS4
                AnimationMode     = ONCE
            End
        End

        TransitionState       = TRANS_SelectedToIdle
            Animation           = ATNC
                AnimationName     = RUGimli_ATNC
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.7 1.3
            End
        End

        TransitionState                =    TRANS_Select
            Animation                =    ATNA
                AnimationName        =     RUGimli_ATNA
                AnimationMode        =    ONCE
            End
        End

        TransitionState = TRANS_AboutToHitGround_To_Idle
            Animation = SplashAtEndOfJump
                AnimationName = RUGimli_LEPC
                AnimationMode = ONCE

            End
            Flags = MAINTAIN_FRAME_ACROSS_STATES
        End

    End


    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End

    Draw = W3DScriptedModelDraw FX
        ModelConditionState = NONE
            Model           = exdwrunefx
        End
    End




    #include "..\..\..\includes\StunDrawModuleSmall.inc"


    Side                 = Dwarves
    EditorSorting        = UNIT
    ThreatLevel          = DAIN_THREAT_LEVEL
    TransportSlotCount   = TRANSPORTSLOTCOUNT_HERO
    BuildCost            = OINDAG_COST
    BuildTime            = MEDIUM_HERO_BUILDTIME
    Scale                = 0.91
    HeroSortOrder        = 40
    DisplayMeleeDamage   = OINDAG_DAMAGE
    DisplayRangedDamage  = OINDAG_DAMAGE_THROWN

    WeaponSet
        Conditions               = None
        Weapon                   = PRIMARY      OinAxeWeapon
        Weapon                   = SECONDARY    OinAxeThrownWeapon
        AutoChooseSources        = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
        AutoChooseSources        = SECONDARY NONE
    End


    ArmorSet
        Conditions      = None
        Armor           = StrongHeroArmor
        DamageFX        = NormalDamageFX
    End

    ArmorSet
        Conditions      = PLAYER_UPGRADE
        Armor           = VeryStrongHeroArmor
        DamageFX        = NormalDamageFX
    End


    VisionRange = VISION_HERO_RANGED
    ShroudClearingRange = SHROUD_CLEAR_RANGED_HERO

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%


    BountyValue       = DWARVEN_DAIN_BOUNTY_VALUE
    DisplayName       = OBJECT:DwarvenOin
    RecruitText       = CONTROLBAR:DwarvenOinRecruit
    ReviveText        = CONTROLBAR:DwarvenOinRevive
    Hotkey            = CONTROLBAR:DwarvenOinHotkey
    CrushableLevel    = 2

    CommandSet        = DwarvenOinCommandSet
    CommandPoints     = 0


    Behavior = CommandSetUpgrade ModuleTag_CommandSetArmorUpgrade
        TriggeredBy         = Upgrade_DwarvenMithrilMailHeroes
        CommandSet          = DwarvenOinMithrilCommandSet
    End


    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_DainBody

    AutoResolveArmor
        Armor = AutoResolve_DainArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_DainWeapon
    End

    AutoResolveLeadership = AutoResolve_DainBonus



    VoiceAttack                               = GloinVoiceAttack
    VoiceAttackCharge                         = GloinVoiceAttackCharge
    VoiceAttackMachine                        = GloinVoiceAttack
    VoiceAttackStructure                      = GloinVoiceAttackBuilding
    VoiceFear                                 = GloinVoiceHelpMe
    VoiceCreated                              = GloinVoiceSalute
    VoiceGuard                                = GloinVoiceMove
    VoiceMove                                 = GloinVoiceMove
    VoiceMoveToCamp                           = GloinVoiceMoveCamp
    VoiceMoveWhileAttacking                   = GloinVoiceDisengage
    VoicePriority                             = 80
    VoiceRetreatToCastle                      = GloinVoiceRetreat
    VoiceSelect                               = GloinVoiceSelectMS
    VoiceSelectBattle                         = GloinVoiceSelectBattle

    SoundImpact                               = ImpactHorse

    UnitSpecificSounds
        VoiceGarrison                         = GloinVoiceMoveGarrison
        VoiceEnterUnitElvenTransportShip      = GloinVoiceMoveShip
        VoiceInitiateCaptureBuilding          = GloinVoiceCaptureBuilding
    End

    CrowdResponseKey = DwarfHero

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Dwarf Dwarf_Male Unit Infantry Hero
    End

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:EMOTION_CELEBRATING    Excluded:DYING ENGAGED    Sound:EmotionDainVoxCheerLoop
        ModelCondition = Required:EMOTION_TAUNTING       Excluded:DYING ENGAGED    Sound:EmotionDainVoxTauntLoop
        ModelCondition = Required:EMOTION_POINTING       Excluded:DYING ENGAGED    Sound:EmotionDainVoxTauntLoop
        ModelCondition = Required:RAISING_FLAG           Excluded:DYING ENGAGED    Sound:EmotionDainVoxCheerLoop
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:FootstepDirtA             Animation:RUGimli_SKL.RUGimli_RUNA    Frames:3 14
        AnimationSound = Sound:FootstepDirtA             Animation:RUGimli_SKL.RUGimli_RUNB    Frames:3 12
        AnimationSound = Sound:BodyFallSoldier           Animation:RUGimli_SKL.RUGimli_LNDA    Frames:2
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:RUGimli_SKL.RUGimli_DIEA    Frames:11
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:RUGimli_SKL.RUGimli_DIEC    Frames:59
    End


    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GIMLI HERO ARMY_SUMMARY ATTACK_NEEDS_LINE_OF_SIGHT HEAVY_MELEE_HITTER
    PathfindDiameter = 40.0

    Body = RespawnBody ModuleTag_RespawnBody
        CheerRadius               = EMOTION_CHEER_RADIUS
        MaxHealth                 = OINDAG_HEALTH
        PermanentlyKilledByFilter = NONE
        DodgePercent               = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                  = DYING
        DeathAnimationTime         = 4100
        RespawnAnim                = LEVELED
        RespawnAnimationTime       = 2000
        AutoRespawnAtObjectFilter  = NONE +CASTLE_KEEP
        ButtonImage                = HIOin

        RespawnRules =    AutoSpawn:No           Cost:OINDAG_COST       Time:MEDIUM_HERO_RESPAWNTIME        Health:100%
   End

    Behavior = AutoHealBehavior ModuleTag_ElvenGiftHealing
        StartsActive                = No
        TriggeredBy                 = Upgrade_ElvenGift
        HealingAmount               = ELVEN_GIFT_REGEN_AMOUNT
        HealingDelay                = ELVEN_GIFT_REGEN_DELAY
        StartHealingDelay           = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat       = Yes
    End

    Behavior = AutoHealBehavior ModuleTag_DainHealing
        StartsActive                = Yes
        HealingAmount               = HERO_HEAL_AMOUNT
        HealingDelay                = 1000
        StartHealingDelay           = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat       = Yes
    End
	
	#include "..\..\..\includes\DwarvenRunesHeroes.inc"

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle        = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate               = 500
        HoldGroundCloseRangeDistance      = 60
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WurfaxteEnabler
        SpecialPowerTemplate    = SpecialAbilityKnifeFighter
        TriggeredBy             = Upgrade_Level_1
    End

    Behavior = WeaponModeSpecialPowerUpdate ModuleTag_WurfaxtePowerUpdate
        SpecialPowerTemplate    = SpecialAbilityKnifeFighter
        Duration                = 30000
        AttributeModifier       = OinWurfaxteBonus
        LockWeaponSlot          = SECONDARY
        StartsPaused            = Yes
    End

    Behavior = AutoAbilityBehavior ModuleTag_WurfaxteAutoAbility
	SpecialAbility		= SpecialAbilityKnifeFighter
	ForbiddenStatus 	= INSIDE_GARRISON
	MaxScanRange		= 100.0
	Query			= 1 ANY ENEMIES +HERO +MONSTER
	Query			= 5 ALL ENEMIES -STRUCTURE
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CreateAHeroOilFireEnabler
        SpecialPowerTemplate     = SpecialAbilityCreateAHeroOilFire_Level2
        TriggeredBy              = Upgrade_Level_3
    End

    Behavior = OCLSpecialPower ModuleTag_CreateAHeroOilFireStarter
        SpecialPowerTemplate     = SpecialAbilityCreateAHeroOilFire_Level2
        OCL                      = OCL_CreateAHeroOilFire_Level2
        CreateLocation           = USE_OWNER_OBJECT
        StartsPaused             = Yes
    End

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CreateAHeroIgniteOilEnabler
        SpecialPowerTemplate     = SpecialAbilityCreateAHeroIgniteOil_Level2
        TriggeredBy              = Upgrade_Level_3
    End

    Behavior = SpecialPowerModule ModuleTag_CreateAHeroIgniteOilStarter
        SpecialPowerTemplate     = SpecialAbilityCreateAHeroIgniteOil_Level2
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_CreateAHeroIgniteOilUpdate
        SpecialPowerTemplate     = SpecialAbilityCreateAHeroIgniteOil_Level2
        UnpackTime               = 2000
        PackTime                 = 2000
        AwardXPForTriggering     = 0
        SpecialWeapon            = CreateAHeroTriggerIgniteOil
        WhichSpecialWeapon       = 1
        Instant                  = Yes
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_OilBarrelsEnabler
        SpecialPowerTemplate        = SpecialAbilityDwarvenBattleWagonOilBarrels
        TriggeredBy                 = Upgrade_Level_3
    End

    Behavior = SpecialPowerModule ModuleTag_OilBarrelsStarter
        SpecialPowerTemplate        = SpecialAbilityDwarvenBattleWagonOilBarrels
        UpdateModuleStartsAttack    = Yes
        StartsPaused                = Yes

    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_OilBarrelUpdate
        SpecialPowerTemplate        = SpecialAbilityDwarvenBattleWagonOilBarrels
        WhichSpecialWeapon          = 3
        UnpackTime                  = 1400
        PackTime                    = 2000
        StartAbilityRange           = BATTLEWAGON_OILBARREL_RANGE
        SpecialWeapon               = DwalinOilBarrel
        IgnoreFacingCheck           = Yes
    End





   Behavior = UnpauseSpecialPowerUpgrade ModuleTag_Gloin
      SpecialPowerTemplate      = SpecialAbilityDaleBeastSlayerArrow
      TriggeredBy               = Upgrade_Level_5
   End

   Behavior = SpecialPowerModule ModuleTag_GloinStarter
      SpecialPowerTemplate      = SpecialAbilityDaleBeastSlayerArrow
      UpdateModuleStartsAttack  = Yes
      StartsPaused              = Yes
   End

   Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_GloinUpdate
       SpecialPowerTemplate     = SpecialAbilityDaleBeastSlayerArrow
       SkipContinue             = Yes
       UnpackTime               = 1100
       PackTime                 = 500
       PersistentPrepTime       = 500
       AwardXPForTriggering     = 0
       StartAbilityRange        = 50
       ApproachRequiresLOS      = Yes
       SpecialWeapon            = GloinSpawnWeapon
       WhichSpecialWeapon       = 1
    End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_BeschussEnabler
        SpecialPowerTemplate        = SpecialAbilityHalbaradBeschuss
        TriggeredBy                 = Upgrade_DwarvenMithrilMailHeroes
        ObeyRechageOnTrigger        = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_BeschussStarlight
        StartsPaused                = Yes
        SpecialPowerTemplate        = SpecialAbilityHalbaradBeschuss
        OCL                         = OCL_OinBeschussObject
        CreateLocation              = CREATE_AT_LOCATION
        SetModelCondition           = ModelConditionState:PACKING_TYPE_2
        SetModelConditionTime       = 2.333
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AxthagelEnabler
        SpecialPowerTemplate     = SpecialAbilityArrowStorm
        TriggeredBy              = Upgrade_Level_10
    End

    Behavior = SpecialPowerModule ModuleTag_AxthagelStarter
        SpecialPowerTemplate     = SpecialAbilityArrowStorm
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
    End

    Behavior = ArrowStormUpdate ModuleTag_AxthagelUpdate
        SpecialPowerTemplate     = SpecialAbilityArrowStorm
        StartAbilityRange        = 320.0

        UnpackTime               = 1400
        PreparationTime          = 800
        PersistentPrepTime       = 2200
        PackTime                 = 2200
        UnpackingVariation       = 2
        ParalyzeDurationWhenCompleted = 1800
        ParalyzeDurationWhenAborted = 2000

        ApproachRequiresLOS      = Yes

        AwardXPForTriggering     = 0

        WeaponTemplate  = OinAxeStormWeapon
        TargetRadius    = 120
        ShotsPerTarget  = 1
        ShotsPerBurst   = 4
        MaxShots        = 40
        CanShootEmptyGround = Yes
    End

    LocomotorSet
        Locomotor = RohanGimliLocomotor
        Condition = SET_NORMAL
        Speed     = EREDLUIN_DWARF_HERO_SPEED
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult                = 1.0
        AllowBouncing            = No
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 2600
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes            = ALL -KNOCKBACK
        SinkDelay            = 3000
        SinkRate            = 0.40
        DestructionDelay    = 8000
        Sound                = INITIAL GloinVoiceDie
    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = SlowDeathBehavior ModuleTag_07

        DeathTypes            = NONE +KNOCKBACK
        SinkDelay            = 3000
        SinkRate            = 0.40
        DestructionDelay    = 8000
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance        =    300
         TauntAndPointUpdateDelay    =    1000
        AddEmotion            =    Doom_Base



        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
         AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base


        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
     End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 2200
        HitReactionLifeTimer2 = 15
        HitReactionLifeTimer3 = 10

        HitReactionThreshold1 = 1.0
        HitReactionThreshold2 = 2500.0
        HitReactionThreshold3 = 5000.0
    End




    Behavior = ArmorUpgrade ModuleTag_ArmorUpgradeMithril
        TriggeredBy     = Upgrade_DwarvenMithrilMailHeroes
        ArmorSetFlag    = PLAYER_UPGRADE
    End

    Behavior = SubObjectsUpgrade ModuleTag_MithrilSkinwelchsel
        TriggeredBy     = Upgrade_DwarvenMithrilMailHeroes
        UpgradeTexture  = duoin.tga 0 duoin_ha.tga
    End

    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP = Yes
    End

    Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTagMacht
        TriggeredBy       = Upgrade_OriMacht
    End

    Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTagZorn
        TriggeredBy       = Upgrade_OriZorn
    End

    Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTagEhre
        TriggeredBy       = Upgrade_OriSchicksal
    End


    Behavior = SubObjectsUpgrade ModuleTag_BLAU
        TriggeredBy       = Upgrade_OriMacht
        ShowSubObjects    = BLAU
    End

    Behavior = SubObjectsUpgrade ModuleTag_WEIS
        TriggeredBy       = Upgrade_OriAusdauer
        ShowSubObjects    = WEIS
    End

    Behavior = SubObjectsUpgrade ModuleTag_ROT
        TriggeredBy       = Upgrade_OriZorn
        ShowSubObjects    = ROT
    End

    Behavior = SubObjectsUpgrade ModuleTag_GOLD
        TriggeredBy       = Upgrade_OriSchicksal
        ShowSubObjects    = GOLD
    End



    Behavior = ObjectCreationUpgrade MaketheEagle
        TriggeredBy                  = Upgrade_RaiseShield
        Delay                        = 0.0
        ThingToSpawn                 = DwarvenDori_Summoned
        Offset                       = X:0.0 Y:20.0 Z:0.0
        FadeInTime                   = 0
    End

    Behavior = ObjectCreationUpgrade MaketheEagle2
        TriggeredBy                  = Upgrade_RaiseShield
        Delay                        = 0.0
        ThingToSpawn                 = DwarvenNori_Summoned
        Offset                       = X:0.0 Y:-20.0 Z:0.0
        FadeInTime                   = 0
    End

    Behavior = SlaveWatcherBehavior WatchTheEagle
        RemoveUpgrade                = Upgrade_RaiseShield
        LetSlaveLive                 = Yes
    End








    Behavior = AISpecialPowerUpdate DwarfBattlewagonOilBarrels
        CommandButtonName = Command_SpecialAbilityOinBrennendesFass
        SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
    End

    Behavior = AISpecialPowerUpdate FireballAI
        CommandButtonName = Command_SpecialAbilityOinGloinSpawn
        SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER
    End

    Behavior = AISpecialPowerUpdate KnifeFighterAI
        CommandButtonName = Command_OinAxeWeapon
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate LegolasArrowWindAI
        CommandButtonName = Command_SpecialAbilityOinAxthagel
        SpecialPowerAIType = AI_SPECIAL_POWER_LEGOLAS_ARROWWIND
        SpecialPowerRadius = 100
    End



    Geometry            = CYLINDER
    GeometryMajorRadius = 5.6
    GeometryMinorRadius = 5.6
    GeometryHeight        = 16.0
    GeometryIsSmall        = Yes

    Shadow                = SHADOW_DECAL
    ShadowSizeX            = 19
    ShadowSizeY            = 19
    ShadowTexture        = ShadowI
End


