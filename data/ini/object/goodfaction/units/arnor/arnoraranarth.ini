Object ArnorAranarth

   ButtonImage    = HIAranarthPrinz
   SelectPortrait = HPAranarthPrinz

    Draw = W3DScriptedModelDraw ModuleTag_DRAW

        OkToChangeModelColor = Yes
        StaticModelLODMode   = Yes


        DefaultModelConditionState
            Model               = auargeleb_skn ;guaranarth_pnz 
        End

        ModelConditionState = WEAPONSET_HERO_MODE
            ParticleSysBone = BAT_RIBS GilGaladSternenschildGlow FollowBone:Yes
            ParticleSysBone = BAT_RIBS GilGaladSternenschildGlowWhite FollowBone:Yes
        End


        ModelConditionState     = MOUNTED
            Model               = guaranarth_hpnz
            WeaponLaunchBone    = PRIMARY PASSENGERBONE
        End




        AnimationState        = PACKING_TYPE_2 MOUNTED
            StateName          =    STATE_CaptainMounted

            Animation           = GUFaramir_IDLC
                AnimationName     = RUHHs_Theo_SKL.RUHHs_Theo_IDLC
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.5 0.5
            End
        End


        AnimationState        = PACKING_TYPE_2 WEAPONSET_TOGGLE_1
            StateName          =    CaptainPower
            Animation           = GUFaramir_CHRC
                AnimationName     = GUFaramir_SKL.GUFaramir_CHRC
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.2 1.2
            End
        End


        AnimationState        = PACKING_TYPE_2
            StateName          =    STATE_CaptainBow
            Animation           = GUFaramir_CHRD
                AnimationName     = GUFaramir_SKL.GUFaramir_CHRD
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.75 0.75
            End
        End





        AnimationState                =    MOUNTED FREEFALL
            Animation                =    freefall
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_FLYC
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOUNTED STUNNED_FLAILING
            Animation                =    JustDie
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_FLYC
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOUNTED DYING SPLATTED
            Animation                =    Land
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_LNDA
                AnimationMode        =    ONCE
            End
        End


        AnimationState                =    MOUNTED DYING
            Animation                =    JustDie
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_DIEA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    MOUNTED STUNNED_STANDING_UP
            Animation                =    StandUp
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_GTPA
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState                =    MOUNTED STUNNED
            Animation                =    Land
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_LNDA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                        = PARALYZED MOUNTED
            Animation
                AnimationName                = RUHHs_Theo_SKL.RUHHs_Theo_IDLA
                AnimationMode                = LOOP
            End
        End



        AnimationState        =  MOUNTED FIRING_OR_PREATTACK_A ATTACKING_STRUCTURE
            StateName = Attacking
            Animation = attackinga  building while mounted.
                AnimationName           = RUHHs_Theo_SKL.RUHHs_Theo_ATKA
                AnimationMode       = ONCE
                UseWeaponTiming = Yes
            End
        End



        AnimationState        = MOUNTED MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = MountedRunAndFire
                AnimationName       = RUHHs_Theo_SKL.RUHHs_Theo_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End

        AnimationState                =    MOUNTED FIRING_OR_PREATTACK_A
            Animation                =    AttackA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ATKA
                AnimationMode        =    ONCE
                UseWeaponTiming        = Yes
            End
            Animation                =    AttackB
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ATKB
                AnimationMode        =    ONCE
                UseWeaponTiming        = Yes
            End
        End


        AnimationState                =    MOUNTED TURN_LEFT_HIGH_SPEED
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TNL1
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.2 1.2
                AnimationBlendTime    =    20
            End
        End

        AnimationState                =    MOUNTED TURN_RIGHT_HIGH_SPEED
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TNR1
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.2 1.2
                AnimationBlendTime    =    20
            End
        End




        AnimationState                =    MOUNTED MOVING TURN_LEFT
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TRNL
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.5 1.5
            End

        End

        AnimationState                =    MOUNTED MOVING TURN_RIGHT
            Animation                =    TurnRight
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TRNR
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.5 1.5
            End

        End

        AnimationState                =    MOUNTED MOVING ACCELERATE
            Animation                =    Accelerate
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ACCL
                AnimationMode        =    LOOP
            End

        End

        AnimationState                =    MOUNTED MOVING DECELERATE
            Animation                =    Decelerate
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_DECL
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange    = 0.55 0.55
            End

        End

        AnimationState                =    MOUNTED MOVING WALKING
            Animation                =    Walk
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_WLKA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART

        End

        AnimationState                =    MOUNTED MOVING BACKING_UP
            Animation                =    BackingUp
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_BAKA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART

        End


        AnimationState                =    MOUNTED MOVING
            Animation                =    RunA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_RUNA
                AnimationMode        =    LOOP
            End
             Flags                    =    RANDOMSTART

        End


        AnimationState                =    MOUNTED SELECTED
            SimilarRestart            =   Yes
            StateName                =    AtAttentionIdle
            Animation                =    ATNB
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_IDLH
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
                if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
                if Prev == "STATE_CaptainMounted" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
            EndScript
        End

        TransitionState                =    TRANS_MountedSelect
            Animation                =    ATNA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ATNA
                AnimationMode        =    ONCE
            End
        End


        AnimationState = MOUNTED
            StateName = Idle
            Animation    =    IdleA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_IDLA
                AnimationPriority    =    30
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Animation                =    IdleC
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_IDLC
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState        = STUNNED_FLAILING WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword
            Animation           = GUFaramir_FLYB
                AnimationName     = GUFaramir_SKL.GUFaramir_FLYB
                AnimationMode     = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            Flags               = RANDOMSTART
        End

        AnimationState        = STUNNED_FLAILING
            StateName           = STATE_Bow
            Animation           = GUFaramir_FLYA
                AnimationName     = GUFaramir_SKL.GUFaramir_FLYA
                AnimationMode     = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            Flags               = RANDOMSTART
        End


        AnimationState        = DYING SPLATTED WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword
            Animation           = GUFaramir_LNDB
                AnimationName     = GUFaramir_SKL.GUFaramir_LNDB
                AnimationMode     = ONCE
            End
        End

        AnimationState        = DYING SPLATTED
            StateName           = STATE_Bow
            Animation           = GUFaramir_LNDA
                AnimationName     = GUFaramir_SKL.GUFaramir_LNDA
                AnimationMode     = ONCE
            End
        End


        AnimationState        = DYING WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword

            Animation           = GUFaramir_DIEA
                AnimationName     = GUFaramir_SKL.GUFaramir_DIEA
                AnimationMode     = ONCE
            End

            Animation           = GUFaramir_DIEB
                AnimationName     = GUFaramir_SKL.GUFaramir_DIEB
                AnimationMode     = ONCE
            End
        End


        AnimationState        = DYING
            StateName           = STATE_Bow
            Animation           = GUFaramir_DIEC
                AnimationName     = GUFaramir_SKL.GUFaramir_DIEC
                AnimationMode     = ONCE
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = GUFaramir_IDLC
                AnimationMode                = LOOP
            End
        End





        AnimationState        = STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword
            Animation           = GUFaramir_GTPB
                AnimationName     = GUFaramir_SKL.GUFaramir_GTPB
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState        = STUNNED_STANDING_UP
            StateName           = STATE_Bow
            Animation           = GUFaramir_GTPA
                AnimationName     = GUFaramir_SKL.GUFaramir_GTPA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState        = STUNNED WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword

            Animation           = GUFaramir_LNDB
                AnimationName     = GUFaramir_SKL.GUFaramir_LNDB
                AnimationMode     = ONCE
            End
        End

        AnimationState        = STUNNED
            StateName           = STATE_Bow

            Animation           = GUFaramir_LNDA
                AnimationName     = GUFaramir_SKL.GUFaramir_LNDA
                AnimationMode     = ONCE
            End
        End


        AnimationState        = USER_1
            Animation           = GUFaramir_POSA
                AnimationName     = GUFaramir_SKL.GUFaramir_POSA
                AnimationMode     = ONCE
            End
        End


        AnimationState        =  SPECIAL_WEAPON_ONE
            StateName = STATE_Bow
            Animation
                AnimationName           = GUFaramir_SKL.GUFaramir_ATKC
                AnimationMode       = ONCE
            End
            FrameForPristineBonePositions = 59
            BeginScript
                CurDrawableShowSubObject("arrow")
            EndScript
        End






        AnimationState        = MOVING WEAPONSET_TOGGLE_1 FIRING_OR_PREATTACK_A
            Animation           = TrotAndFire
                AnimationName       = GUFaramir_SKL.GUFaramir_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
            StateName = RunAndSwing
        End

        AnimationState        = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword

            Animation           = ATKD
                AnimationName     = GUFaramir_SKL.GUFaramir_ATKD
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
                AnimationSpeedFactorRange = 1.149 1.149
            End

            Animation           = ATKE
                AnimationName    = GUFaramir_SKL.GUFaramir_ATKE
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
                AnimationSpeedFactorRange = 1.149 1.149
            End

            Animation           = ATKF
                AnimationName    = GUFaramir_SKL.GUFaramir_ATKF
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.47 1.47
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
            EndScript
        End



        AnimationState        = MOVING USER_4
            StateName           = Slaughter
            Flags               = RANDOMSTART

            Animation           = GUFaramir_ATKE
                AnimationName     = GUFaramir_SKL.GUFaramir_ATKE
                AnimationMode     = LOOP
            End
            StateName           = NoSword
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
            EndScript
        End


        AnimationState            = MOVING WEAPONSET_TOGGLE_1
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART


            Animation           = GUFaramir_RUNB
                AnimationName   = GUFaramir_SKL.GUFaramir_RUNB

                AnimationSpeedFactorRange = 0.85 0.85
                Distance        = 28
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_RunningBow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Running") end
            EndScript
        End



        AnimationState        = ATTACKING WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword
            Animation           = ATKD
                AnimationName     = GUFaramir_SKL.GUFaramir_IDLA
                AnimationMode     = MANUAL
            End
        End



        AnimationState            = MOVING
            StateName           = STATE_RunningBow
            Flags               = RANDOMSTART


            Animation           = GUFaramir_RUNA
                AnimationName   = GUFaramir_SKL.GUFaramir_RUNA

                AnimationSpeedFactorRange = 0.85 0.85
                Distance = 28
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
                if Prev == "STATE_RunningSword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Running") end
            EndScript
        End



        AnimationState                    =    PREATTACK_A
            StateName                    =    STATE_Firing
            Animation                    =    ReadyToDrawn
                AnimationName            =    GUFaramir_SKL.GUFaramir_ATKA1
                AnimationMode            =    ONCE


            End
        End

        AnimationState                    =    FIRING_OR_RELOADING_A
            StateName                    =    STATE_Firing
            Animation                    =    LooseReloadDraw
                AnimationName            =    GUFaramir_SKL.GUFaramir_ATKA2
                AnimationMode            =    ONCE

                AnimationSpeedFactorRange = 1.1 1.1

            End
        End


        AnimationState                    =    CONTINUOUS_FIRE_MEAN
            Animation                    =    HangFrameWhileCoasting
                AnimationName            =    GUFaramir_SKL.GUFaramir_ATKA2
                AnimationMode            =    MANUAL
            End
        End

        AnimationState                        = CONTINUOUS_FIRE_SLOW
            Animation                        = PutAwayArrow
                AnimationName                = GUFaramir_SKL.GUFaramir_ATKA3
                AnimationMode                = ONCE
            End
        End




        AnimationState = EMOTION_ALERT HIT_REACTION WEAPONSET_TOGGLE_1
            Animation = Hit_Level_1_d
                AnimationName = GUFaramir_SKL.GUFaramir_HITD
                AnimationMode = ONCE
            End
        End

        AnimationState = HIT_REACTION WEAPONSET_TOGGLE_1
            Animation = Hit_Level_1_b
                AnimationName = GUFaramir_SKL.GUFaramir_HITB
                AnimationMode = ONCE
            End
        End

        AnimationState = HIT_REACTION
            Animation = Hit_Level_1_c
                AnimationName = GUFaramir_SKL.GUFaramir_HITC
                AnimationMode = ONCE
            End
        End





        AnimationState                = LEVELED WEAPONSET_TOGGLE_1
            Animation                = LevelUp
                AnimationName        = GUFaramir_SKL.GUFaramir_CHRC
                AnimationMode        = ONCE
            End
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = GUFaramir_SKL.GUFaramir_CHRD
                AnimationMode        = ONCE
            End
        End



        AnimationState                =    EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_CHRC
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    EMOTION_CELEBRATING
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_CHRD
                AnimationMode        =    LOOP
            End
        End



        AnimationState                =    EMOTION_TAUNTING WEAPONSET_TOGGLE_1
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_TNTC
                AnimationMode        =    ONCE
            End
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_TNTD
                AnimationMode        =    ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                =    EMOTION_TAUNTING
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_CHRD
                AnimationMode        =    LOOP
            End
        End




        AnimationState                    = SELECTED WEAPONSET_TOGGLE_1
            StateName                    = STATE_Selected_Sword

            Animation                    = ATNE
                AnimationName            = GUFaramir_SKL.GUFaramir_ATNE
                AnimationMode            = LOOP
                AnimationBlendTime        = 15
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedSword") return end
            EndScript
        End


        AnimationState                =    EMOTION_ALERT WEAPONSET_TOGGLE_1
            StateName                =    STATE_READY
            Animation                =    ready
                AnimationName        =    GUFaramir_SKL.GUFaramir_IDLA
                AnimationMode        =    LOOP
                AnimationBlendTime    =    20
            End
        End

        AnimationState                =    RAISING_FLAG
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_CHRD
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    SELECTED
            StateName                =    STATE_Selected_Bow

            Animation                =    ATNB
                AnimationName        =    GUFaramir_SKL.GUFaramir_ATNB
                AnimationMode        =    LOOP
                AnimationBlendTime  = 15
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
                if Prev == "STATE_Idle_Bow"    then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedBow") return end
                if Prev == "STATE_CaptainBow" then CurDrawableSetTransitionAnimState("TRANS_CaptainBowToSelectedBow") end
            EndScript
        End






        AnimationState                    = WEAPONSET_TOGGLE_1
            StateName                    = STATE_Idle_Sword

            Animation                   = IDLE
                AnimationName           = GUFaramir_SKL.GUFaramir_IDLE
                AnimationMode           = LOOP
                AnimationPriority        = 20
                AnimationBlendTime  = 15
            End

            Animation                   = IDLF
                AnimationName           = GUFaramir_SKL.GUFaramir_IDLF
                AnimationMode           = LOOP
                AnimationPriority        = 1
            End

            Animation                   = IDLG
                AnimationName           = GUFaramir_SKL.GUFaramir_IDLG
                AnimationMode           = LOOP
                AnimationPriority        = 1
            End

            BeginScript
                CurDrawableHideSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredSword") end
            EndScript
        End

        IdleAnimationState
            StateName           = STATE_Idle_Bow

            Animation           = IdleBow
                AnimationName     = GUFaramir_SKL.GUFaramir_IDLC
                AnimationMode     = ONCE
                AnimationBlendTime  = 15
            End
            BeginScript
                CurDrawableShowSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
                if Prev == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredBow") end
            EndScript
        End



        TransitionState = TRANS_BoredToSelectedSword
            Animation = ANTD
                AnimationName        = GUFaramir_SKL.GUFaramir_ANTD
                AnimationMode        = ONCE
            End
        End

        TransitionState = TRANS_SelectedToBoredSword
            Animation            = ATNF
                AnimationName    = GUFaramir_SKL.GUFaramir_ATNF
                AnimationMode    = ONCE
            End
        End

        TransitionState = TRANS_BoredToSelectedBow
            Animation = ATNC
                AnimationName        = GUFaramir_SKL.GUFaramir_ATNC
                AnimationMode        = ONCE
            End
        End

        TransitionState = TRANS_CaptainBowToSelectedBow
            Animation = ATNC
                AnimationName        = GUFaramir_SKL.GUFaramir_ATNC
                AnimationMode        = ONCE
                AnimationBlendTime    = 10
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        TransitionState = TRANS_SelectedToBoredBow
            Animation            = ATNA

                AnimationName    = GUFaramir_SKL.GUFaramir_ATND
                AnimationMode    = ONCE
            End
        End


        TransitionState       = TRANS_BowToSword
            Animation           = GUFaramir_STHA
                AnimationName     = GUFaramir_SKL.GUFaramir_STHA
                AnimationMode     = ONCE
            End
        End

        TransitionState       = TRANS_SwordToBow
            Animation           = GUFaramir_STHB
                AnimationName     = GUFaramir_SKL.GUFaramir_STHB
                AnimationMode     = ONCE
            End
        End

        TransitionState               = TRANS_BowToSword_Running
            Animation               = DrawSwords
                AnimationName       = GUFaramir_SKL.GUFaramir_STHD
                AnimationMode       = ONCE
            End
        End

        TransitionState               = TRANS_SwordToBow_Running
            Animation               = DrawBow
                AnimationName       = GUFaramir_SKL.GUFaramir_STHC
                AnimationMode       = ONCE
            End
        End

    End

    Draw = W3DScriptedModelDraw DustEffects
        DefaultModelConditionState
          Model = None
        End
        IdleAnimationState
        End
        AnimationState = MOUNTED MOVING WADING
            ParticleSysBone = None FootstepSlash
        End
        AnimationState = MOUNTED MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOUNTED MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOUNTED MOVING
        End
    End



    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End


    Side = Arnor
    EditorSorting = UNIT
    ThreatLevel = 5.0
    ThingClass  = CHARACTER_UNIT
    TransportSlotCount = 1
    DisplayMeleeDamage = ARANARTHDAG_DAMAGE
    HeroSortOrder = 20
    BuildCost = ARANARTHDAG_COST
    BuildTime = MEDIUM_HERO_BUILDTIME
    Scale = 0.94

    WeaponSet
        Conditions = None
        Weapon = PRIMARY    AranarthSword
    End

    WeaponSet
        Conditions = MOUNTED
        Weapon = PRIMARY    AranarthSword
    End

    WeaponSet
        Conditions = WEAPONSET_HERO_MODE
        Weapon = PRIMARY    AranarthSwordWeaponsetSword
    End

    ArmorSet
        Conditions      = None
        Armor           = MediumHeroArmor
        DamageFX        = NormalDamageFX
    End

    ArmorSet
        Conditions      = MOUNTED
        Armor           = MediumHeroArmorMounted
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_HERO_STANDARD
    ShroudClearingRange = SHROUD_CLEAR_HERO
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue = GONDOR_ARAGORN_BOUNTY_VALUE
    DisplayName = OBJECT:ArnorAranarthPrinz
    RecruitText = CONTROLBAR:ArnorAranarthRecruitPrinz
    Hotkey      = CONTROLBAR:ArnorAranarthHotkey
    CrusherLevel = 0
    MountedCrusherLevel = 1
    CrushableLevel = 2
    MountedCrushableLevel = 2

    CrushWeapon        = HeroCrush

    MinCrushVelocityPercent     = MINCRUSHVELOCITYPERCENT_HERO
    CrushDecelerationPercent    = CRUSHDECELERATIONPERCENT_HERO

    CrushKnockback = 40
    CrushZFactor   = 1.0

    CommandSet    = ArnorAranarthCommandSet_Prinz
    CommandPoints = 0



            VoiceAttack                             = HeroWestMaleVoiceAttack
            VoiceAttackAir                          = HeroWestMaleVoiceAttack
            VoiceAttackCharge                       = HeroWestMaleVoiceAttackCharge
            VoiceAttackMachine                      = HeroWestMaleVoiceAttack
            VoiceAttackStructure                    = HeroWestMaleVoiceAttackBuilding
            VoiceCreated                            = HeroWestMaleVoiceSalute
            VoiceFear                               = HeroWestMaleVoiceHelpMe
            VoiceFullyCreated                       = HeroWestMaleVoiceSalute
            VoiceGuard                              = HeroWestMaleVoiceMove
            VoiceMove                               = HeroWestMaleVoiceMove
            VoiceMoveToCamp                         = HeroWestMaleVoiceMoveCamp
            VoiceMoveWhileAttacking                 = HeroWestMaleVoiceDisengage
            VoicePriority                           = 85
            VoiceRetreatToCastle                    = HeroWestMaleVoiceRetreat
            VoiceSelect                             = HeroWestMaleVoiceSelectMS
            VoiceSelectBattle                       = HeroWestMaleVoiceSelectBattle

            SoundImpact                             = ImpactHorse

            UnitSpecificSounds
                VoiceEnterUnitElvenTransportShip    = HeroWestMaleVoiceMoveShip
                VoiceEnterUnitMordorMumakil         = HeroWestMaleVoiceMove
                VoiceEnterUnitSlaughterHouse        = HeroWestMaleVoiceMove
                VoiceEnterUnitTransportShip         = HeroWestMaleVoiceMove
                VoiceGarrison                       = HeroWestMaleVoiceMoveGarrison
                VoiceInitiateCaptureBuilding        = HeroWestMaleVoiceCaptureBuilding
            End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:FootstepDirtA           Animation:GUFaramir_SKL.GUFaramir_RUNA          Frames:2 12
        AnimationSound = Sound:FootstepDirtA           Animation:GUFaramir_SKL.GUFaramir_RUNB          Frames:2 12

        AnimationSound = Sound:BodyFallGenericNoArmor  Animation:GUFaramir_SKL.GUFaramir_DIEA          Frames:88
        AnimationSound = Sound:BodyFallGenericNoArmor  Animation:GUFaramir_SKL.GUFaramir_DIEB          Frames:85
        AnimationSound = Sound:BodyFallGenericNoArmor  Animation:GUFaramir_SKL.GUFaramir_DIEC          Frames:49
        AnimationSound = Sound:BodyFallSoldier         Animation:GUFaramir_SKL.GUFaramir_LNDA          Frames:3
        AnimationSound = Sound:BodyFallSoldier         Animation:GUFaramir_SKL.GUFaramir_LNDB          Frames:2

        AnimationSound = Sound:HorseMoveFootsteps      Animation:RUHHs_Theo_SKL.RUHHs_Theo_ACCL        Frames:14 32
        AnimationSound = Sound:HorseMoveFootsteps      Animation:RUHHs_Theo_SKL.RUHHs_Theo_RUNA        Frames:0
        AnimationSound = Sound:HorseMoveFootsteps      Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNL1        Frames:0
        AnimationSound = Sound:HorseMoveFootsteps      Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNR1        Frames:0

        AnimationSound = Sound:HorseWhinny50Percent    Animation:RUHHs_Theo_SKL.RUHHs_Theo_IDLC        Frames:0

        AnimationSound = Sound:HorseDieForHero         Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA        Frames:0
        AnimationSound = Sound:BodyFallSoldier         Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA        Frames:1 9

        AnimationSound = Sound:HorseDieForHero         Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA        Frames:0
        AnimationSound = Sound:BodyFallGenericNoArmor  Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA        Frames:4
        AnimationSound = Sound:BodyFallSoldier         Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA        Frames:42
    End


    CrowdResponseKey = GoodMen
    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE HERO ARMY_SUMMARY HEAVY_MELEE_HITTER
    PathfindDiameter = 40.0

    Body = RespawnBody ModuleTag_RespawnBody
        CheerRadius               = EMOTION_CHEER_RADIUS
        MaxHealth                 = ARANARTHDAG_HEALTH
        PermanentlyKilledByFilter = NONE
        DodgePercent              = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                   = DYING
        DeathAnimationTime          = 5000
        RespawnAnim                 = LEVELED
        RespawnAnimationTime        = 2000
        AutoRespawnAtObjectFilter   = NONE +CASTLE_KEEP
        ButtonImage                 = HIAranarthPrinz
        RespawnAsTemplate           = ArnorAranarth

        RespawnRules =    AutoSpawn:No           Cost:ARANARTHDAG_COST       Time:MEDIUM_HERO_RESPAWNTIME        Health:100%
    End

    Behavior = ModelConditionUpgrade ModuleTag_ModellSchwert
        TriggeredBy       = Upgrade_AllFactionUpgrade
        AddConditionFlags = WEAPONSET_TOGGLE_1
        Permanent         = Yes
    End

    Behavior = AutoHealBehavior ModuleTag_AragornHealing
        StartsActive = Yes
        HealingAmount = HERO_HEAL_AMOUNT
        HealingDelay = 1000
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            = 500
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance        =    250
         TauntAndPointUpdateDelay    =    1000

        AddEmotion            =    Terror_Base
        AddEmotion            =    Doom_Base
        AddEmotion            =    UncontrollableFear_Base
        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
        AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base
        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
     End

    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_GOOD_HERO_SPEED
    End

    LocomotorSet
        Locomotor = HeroHorseLocomotor
        Condition = SET_MOUNTED
        Speed     = NORMAL_CAVALRY_FAST_MEMBER_SPEED
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime    = 3333
        ShockStunnedTimeLow    = 1000
        ShockStunnedTimeHigh= 1200
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 22000
        Sound = INITIAL HeroWestMaleVoiceDie
    End

    Behavior = SquishCollide ModuleTag_06

    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_ReitenToggleEnabler
        SpecialPowerTemplate            = SpecialAbilityToggleZwillingeSchmiede
    End

    Behavior = SpecialPowerModule ModuleTag_ReitenToggleStarter
         SpecialPowerTemplate           = SpecialAbilityToggleZwillingeSchmiede
         UpdateModuleStartsAttack       = Yes
         StartsPaused                   = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate ReitenToggle
         SpecialPowerTemplate           = SpecialAbilityToggleZwillingeSchmiede
         MountedTemplate                = ArnorAranarthDunedain
         SynchronizeTimerOnSpecialPower = SpecialAbilityElrondRestoration SpecialAbilityDamrodHeroModeMod SpecialAbilityWoundArrow SpecialAbilityArrowStorm SpecialAbilityAragornBladeMaster SpecialAbilityTheodenGloriousCharge SpecialAbilityBaukunstMorias SpecialAbility202AragornAthelas
         UnpackTime                     = OBJECT_TOGGLE_TIME
         PreparationTime                = 0
         PackTime                       = 0
         OpacityTarget                  = .0
         AwardXPForTriggering           = 0
         IgnoreFacingCheck              = Yes
    End

    Behavior = DoCommandUpgrade Module_DoCommandUpgradeSwitchDunedain
        TriggeredBy     	    = Upgrade_AranarthDunedainSwitch
        GetUpgradeCommandButtonName = Command_AranarthSwitchDunedain
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseHorseToggle
        SpecialPowerTemplate        = SpecialAbilityToggleMounted
        TriggeredBy                 = Upgrade_Level_1
    End

     Behavior = SpecialPowerModule ModuleTag_HorseToggleStarter
         SpecialPowerTemplate      = SpecialAbilityToggleMounted
         UpdateModuleStartsAttack  = Yes
         StartsPaused 		   = Yes
     End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle
         SpecialPowerTemplate    = SpecialAbilityToggleMounted
         UnpackTime              = GOOD_MOUNT_TIME
         PreparationTime         = 1
         PersistentPrepTime      = 250
         PackTime                = GOOD_MOUNT_TIME
         OpacityTarget           = .3
         AwardXPForTriggering    = 0
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TheodenLeadership
        SpecialPowerTemplate = SpecialAbilityFakeLeadership
        TriggeredBy = Upgrade_Level_3
    End

    Behavior = SpecialPowerModule ModuleTag_TheodenLeadershipUpdate
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack  = Yes
        StartsPaused = Yes
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership
        StartsActive     = No
        BonusName        = HoffnungdesKonigreichsLeadership
        TriggeredBy      = Upgrade_Level_3
        RefreshDelay     = 2000
        Range            = 200
        AntiCategory     = BUFF
        ObjectFilter     = ARNOR_LEADERSHIP_HEROES_OBF
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AnsturmEnabler
        SpecialPowerTemplate         = SpecialAbilityAragornBladeMaster
        TriggeredBy                  = Upgrade_Level_5
        ObeyRechageOnTrigger         = Yes
    End

      Behavior = SpecialPowerModule ModuleTag_AnsturmStarter
        SpecialPowerTemplate         = SpecialAbilityAragornBladeMaster
        StartsPaused                 = Yes
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_AnsturmUpdate
        SpecialPowerTemplate         = SpecialAbilityAragornBladeMaster
        HeroAttributeModifier        = AnsturmdesPrinzenAranarth
        HeroEffectDuration           = 30000
        UnpackTime                   = 1
        TriggerSound                 = AragornBladeMaster
    End

    Behavior = AutoAbilityBehavior ModuleTag_AnsturmSowrdAutoAbility
	SpecialAbility		= SpecialAbilityAragornBladeMaster
	ForbiddenStatus 	= INSIDE_GARRISON
	MaxScanRange		= 200
	Query			= 10 ALL ENEMIES
	Query			= 1 ANY ENEMIES +HERO +MONSTER
   End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TheodenGloriousChargeEnabler
        SpecialPowerTemplate = SpecialAbilityTheodenGloriousCharge
        TriggeredBy          = Upgrade_Level_5
        ObeyRechageOnTrigger = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_TheodenGloriousChargeUpdate
        SpecialPowerTemplate      = SpecialAbilityTheodenGloriousCharge
        UpdateModuleStartsAttack  = Yes
        StartsPaused              = Yes
        AttributeModifier         = ImrahilGloriousCharge
        AttributeModifierRange    = 200
        AttributeModifierAffectsSelf = Yes
        AttributeModifierAffects  = ANY +CAVALRY +ArnorAranarth +ArnorAranarthDunedain
        AttributeModifierFX       = FX_ImrahilGloriousChargeFX
    End

    Behavior = SpecialAbilityUpdate ModuleTag_GloriousChargeAnimation
        UnpackTime              = 1000
        UnpackingVariation      = 1
        SpecialPowerTemplate    = SpecialAbilityTheodenGloriousCharge
        PreparationTime         = 0
        PersistentPrepTime      = 0
        PackTime                = 1330
    End





    Behavior                  = UnpauseSpecialPowerUpgrade ModuleTag_BaumeisterEnabler
        SpecialPowerTemplate  = SpecialAbilityBaukunstMorias
        TriggeredBy           = Upgrade_Level_7
        ObeyRechageOnTrigger  = Yes
    End

    Behavior                  = PlayerHealSpecialPower ModuleTag_BaumeisterUpdate
        SpecialPowerTemplate  = SpecialAbilityBaukunstMorias
        StartsPaused          = Yes
        HealAmount            = 100000
        HealAsPercent         = No
        HealAffects           = STRUCTURE
        HealRadius            = SPELL_REBUILD_RADIUS_STRUCTURE_SCAN
        HealFX                = FX_SpellRebuild
        InitiateSound         = DainMightyRage
        TriggerFX             = FX_DainMightyRage02
    End

    Behavior                  = AutoAbilityBehavior ModuleTag_BaumeisterAutoAbility
        SpecialAbility        = SpecialAbilityBaukunstMorias
        Query                 = 1 ANY +STRUCTURE -UNATTACKABLE
        MaxScanRange          = 100
    End

	







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_BeistandUnpause
        SpecialPowerTemplate        = SpecialAbilityAranarthRestoration
        TriggeredBy                 = Upgrade_Level_10
        ObeyRechageOnTrigger        = Yes
    End

    Behavior = SpecialPowerTimerRefreshSpecialPower ModuleTag_BeistandRefresh
        SpecialPowerTemplate        = SpecialAbilityAranarthRestoration
        StartsPaused                = Yes
        UpdateModuleStartsAttack    = No
        AffectAllies                = Yes
        AttributeModifierRange      = 150
        AttributeModifierAffects    = NONE +HERO -ArnorAranarth -ImladrisElrond -ArnorAranarthDunedain ALLIES
    End

    Behavior = SpecialPowerModule ModuleTag_BeistandUpdate
        SpecialPowerTemplate        = SpecialAbilityAranarthRestorationHeal
        AttributeModifier           = BeistanddesPrinzenModifier
        AttributeModifierRange      = 150
        AttributeModifierAffectsSelf = No
        AttributeModifierAffects     = NONE +HERO -ArnorAranarth -ImladrisElrond -ArnorAranarthDunedain ALLIES
    End

    Behavior = PlayerHealSpecialPower ModuleTag_RestorationHeal
        SpecialPowerTemplate          = SpecialAbilityAranarthRestorationHeal
        HealAffects                   = HERO
        HealAmount                    = 0.5
        HealRadius                    = 150
        HealFX                        = FX_ElrondHealSpecialPower
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseWoundArrow
        SpecialPowerTemplate        = SpecialAbilityWoundArrow
        TriggeredBy                 = Upgrade_Level_3
        ObeyRechageOnTrigger        = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_WoundArrow
        SpecialPowerTemplate        = SpecialAbilityWoundArrow
        UpdateModuleStartsAttack    = Yes
        StartsPaused                = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WoundArrowUpdate
        SpecialPowerTemplate        = SpecialAbilityWoundArrow
        SkipContinue                = Yes
        UnpackTime                  = 2000
        PreparationTime             = 1
        PersistentPrepTime          = 1000
        PackTime                    = 1
        AwardXPForTriggering        = 0
        StartAbilityRange           = FARAMIR_WOUNDING_ARROW_RANGE
        ApproachRequiresLOS         = Yes
        SpecialWeapon               = FaramirWoundArrow
        WhichSpecialWeapon          = 1
    End

    Behavior = AutoAbilityBehavior ModuleTag_WoundArrowAutoAbility
        SpecialAbility              = SpecialAbilityWoundArrow
		ForbiddenStatus 		    = INSIDE_GARRISON
        MaxScanRange            = FARAMIR_WOUNDING_ARROW_RANGE
        Query                      = 1 ANY ENEMIES +MONSTER +HERO +AngmarThrallMaster  +AngmarThrallMasterBanner  +AngmarThrallMasterAxeBanner   +AngmarThrallMasterWolfBanner  +AngmarNecromancerBanner +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir +GondorGwaihir_Summoned +ElvenFortressEagle +KhamulFellBeast +MorgomirFellBeast +Drogoth +Drogoth
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseSniper
        SpecialPowerTemplate      = SpecialAbilityDamrodHeroModeMod
        TriggeredBy               = Upgrade_Level_5
        ObeyRechageOnTrigger      = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_DeadlySniperStarter
        SpecialPowerTemplate      = SpecialAbilityDamrodHeroModeMod
        UpdateModuleStartsAttack  = Yes
        StartsPaused              = Yes
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_DeadlySniper
        SpecialPowerTemplate      = SpecialAbilityDamrodHeroModeMod
        UnpackingVariation        = 1
        UnpackTime                = 1
        PreparationTime           = 0
        PackTime                  = 0
        AwardXPForTriggering      = 0
        HeroEffectDuration        = 10000
        StopUnitBeforeActivating  = Yes
    End

    Behavior = AutoAbilityBehavior ModuleTag_DeadlySniperAutoAbility
	SpecialAbility		= SpecialAbilityDamrodHeroModeMod
	ForbiddenStatus 	= INSIDE_GARRISON
	MaxScanRange		= 250
	Query			= 5 ALL ENEMIES
	Query			= 1 ANY ENEMIES +HERO +MONSTER
   End





 	Behavior = SpecialPowerModule ModuleTag_AragornAthelas
		SpecialPowerTemplate    	= SpecialAbility202AragornAthelas
		UpdateModuleStartsAttack  	= Yes
		SetModelCondition		= ModelConditionState:USER_2
		SetModelConditionTime		= 2.1
	End

	Behavior = ActivateModuleSpecialPower ModuleTag_AragornAthelasMover
		SpecialPowerTemplate		= SpecialAbility202AragornAthelas
		StartAbilityRange		= 1.6
		UnpackTime			= 1
		PreparationTime			= 3
		PackTime			= 2096
		TriggerSpecialPower		= ModuleTag_AragornAthelasHeal OBJECTPOS
		ChainedButton       = Command_SpecialAbilityAranarthKonigskrautFollow
	End

   	Behavior = PlayerHealSpecialPower ModuleTag_AragornAthelasHeal
		SpecialPowerTemplate		= SpecialAbilityActivateeDummy
		HealAmount			= ATHELAS_HEAL_AMOUNT
		HealAsPercent		= No
		HealAffects			= HERO
		HealRadius			= 200
		HealFX				= FX_AragornAthelas
		TriggerFX			= FX_AragornAthelas
	End

    Behavior = AutoAbilityBehavior ModuleTag_AragornAthelasAutoAbility
        SpecialAbility               = SpecialAbility202AragornAthelas
        MaxScanRange                 = 200
        Query                        = 2 ANY ALLIES +HERO
   	End
	
	
	
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AragornSuperAthelas2
        SpecialPowerTemplate = SpecialAbility202AragornAthelasFollow
        TriggeredBy          = Upgrade_FavourArvedui
        ObeyRechageOnTrigger = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_AragornSuperAthelas
        SpecialPowerTemplate     = SpecialAbility202AragornAthelasFollow
        UpdateModuleStartsAttack = Yes
        TriggerFX                = FX_AragornAthelas
        SetModelCondition        = ModelConditionState:USER_5
        SetModelConditionTime    = 2.1
        StartsPaused             = Yes
    End

	Behavior = ActivateModuleSpecialPower ModuleTag_AragornAthelasMover2
		SpecialPowerTemplate		= SpecialAbility202AragornAthelasFollow
		StartAbilityRange		= 1.6
		UnpackTime			= 1
		PreparationTime			= 3
		PackTime			= 2096
		TriggerSpecialPower		= ModuleTag_AragornAthelasHeal OBJECTPOS
	End

   	Behavior = PlayerHealSpecialPower ModuleTag_AragornAthelasHeal2
		SpecialPowerTemplate		= SpecialAbilityActivateeDummy
		HealAmount			= ATHELAS_HEAL_AMOUNT
		HealAsPercent			= No
		HealAffects			= HERO
		HealRadius			= 200
		HealFX				= FX_AragornAthelas
		TriggerFX			= FX_AragornAthelas
	End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_ArrowWindEnabler
        SpecialPowerTemplate  = SpecialAbilityArrowStorm
        TriggeredBy           = Upgrade_Level_10
        ObeyRechageOnTrigger  = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_ArrowWindStarter
        SpecialPowerTemplate        = SpecialAbilityArrowStorm
        UpdateModuleStartsAttack    = Yes
        StartsPaused            = Yes
    End

    Behavior = ArrowStormUpdate ModuleTag_ArrowWindUpdate
        SpecialPowerTemplate    = SpecialAbilityArrowStorm
        StartAbilityRange       = 320.0

        UnpackTime              = 1000
        PreparationTime         = 200
        PersistentPrepTime      = 600
        PackTime                = 1200
        UnpackingVariation        = 1
        ParalyzeDurationWhenCompleted = 600
        ParalyzeDurationWhenAborted = 800

        ApproachRequiresLOS     = Yes

        AwardXPForTriggering    = 0


        WeaponTemplate  = StreuschussWeapon
        TargetRadius    = 120
        ShotsPerTarget  = 1
        ShotsPerBurst   = 5
        MaxShots        = 60
          CanShootEmptyGround = Yes
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_Spezialisierung
        SpecialPowerTemplate     = SpecialAbilityFakeLeadership2
        TriggeredBy              = Upgrade_Level_7
    End

    Behavior = SpecialPowerModule ModuleTag_SpezialisierungUpdate
        SpecialPowerTemplate     = SpecialAbilityFakeLeadership2
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
    End


    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Elf Elf_Male Unit Infantry
    End


    Behavior = AttributeModifierAuraUpdate ModuleTag_LeadershipProphezeiuung
        StartsActive     = No
        BonusName        = ProphezeiuungLeadership
        TriggeredBy      = Upgrade_EisernerWille
        RefreshDelay     = 2000
        Range            = 200
        AntiCategory     = BUFF
        AllowSelf        = Yes
        ObjectFilter     = ANY +INFANTRY +CAVALRY +HERO -STRUCTURE -BASE_FOUNDATION -MACHINE -SHIP ALLIES
    End

    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP = Yes
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSetEntscheidung
        TriggeredBy       = Upgrade_PrinzArnorsUpgrade
        CommandSet        = ArnorAranarthCommandSet_EntscheidungPrinz
    End

    Behavior = TooltipUpgrade ModuleTag_NameUpgrade
        TriggeredBy       = Upgrade_PrinzArnorsUpgrade
        DisplayName       = OBJECT:ArnorAranarthPrinzEntscheidung
    End


	;Behavior = SubObjectsUpgrade ModuleTag_MakingTheAnarionHighKing
        ;TriggeredBy       = Upgrade_Level_1
        ;ShowSubObjects    = Shld_01
        ;HideSubObjects    = RUSTUNG
    ;End



    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End


    Behavior = AISpecialPowerUpdate ToggleMountedAI
        CommandButtonName = Command_AranarthSwitchDunedain
        SpecialPowerAIType = AI_SPECIAL_POWER_TOGGLE_MOUNTED
    End

    Behavior = AISpecialPowerUpdate TheodenToggleMountedAI
        CommandButtonName = Command_AranarthToggleMounted
        SpecialPowerAIType = AI_SPECIAL_POWER_TOGGLE_MOUNTED
    End

    Behavior = AISpecialPowerUpdate AragornBladeMasterAI
        CommandButtonName = Command_SpecialAbilityAnsturmdesPrinzen
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate SpecialPowerTheodenGiveXPAoE
        CommandButtonName = Command_SpecialAbilityBaumeisterArnors
        SpecialPowerAIType = AI_SPECIAL_POWER_GIVEXP_AOE
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate SpecialPowerBoromirGiveXPAoE
        CommandButtonName = Command_SpecialAbilityBeistanddesPrinzen
        SpecialPowerAIType = AI_SPECIAL_POWER_GIVEXP_AOE
        SpecialPowerRadius = 30.0
    End

    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes
    Shadow = SHADOW_DECAL
    ShadowSizeX = 20
    ShadowSizeY = 20
    ShadowTexture = ShadowI
End


Object ArnorAranarthDunedain

   ButtonImage    = HIAranarthDunedain2
   SelectPortrait = HPAranarthDunedain2



    Draw = W3DScriptedModelDraw ModuleTag_DRAW

        OkToChangeModelColor = Yes
        StaticModelLODMode   = Yes

        RandomTexture = guaranarth_ranger.tga 0 GU_Damrod2.tga


        DefaultModelConditionState
            Model            = guaranarth_dun
            WeaponLaunchBone = PRIMARY arrow
        End

        ModelConditionState = WEAPONSET_HERO_MODE
            ParticleSysBone = BAT_RIBS GilGaladSternenschildGlow FollowBone:Yes
            ParticleSysBone = BAT_RIBS GilGaladSternenschildGlowWhite FollowBone:Yes
        End


        ModelConditionState  = MOUNTED
            Model            = guaranarth_hdun
            WeaponLaunchBone = PRIMARY FIREAROWTIP
            WeaponLaunchBone = SECONDARY FIREAROWTIP
            WeaponLaunchBone = TERTIARY FIREAROWTIP
        End




        AnimationState        = UNPACKING PACKING_TYPE_1
            Animation           = ATKA1
                AnimationName     = GUFaramir_SKL.GUFaramir_ATKA1
                AnimationMode     = ONCE
            End
            StateName           = STATE_Bow
        End


        AnimationState        = PREPARING PACKING_TYPE_1
            Animation           = ATKA2
                AnimationName     = GUFaramir_SKL.GUFaramir_ATKA2
                AnimationMode     = LOOP
                AnimationSpeedFactorRange = 1.4 1.4
            End
            StateName           = STATE_Bow
        End

        AnimationState        = PACKING PACKING_TYPE_1
            Animation           = ATKA3
                AnimationName     = GUFaramir_SKL.GUFaramir_ATKA3
                AnimationMode     = LOOP
            End
            StateName           = STATE_Bow
        End



        AnimationState        = PACKING_TYPE_2 MOUNTED
            StateName          =    STATE_CaptainMounted

            Animation           = GUFaramir_IDLC
                AnimationName     = RURhrmArch_SKL.RURhrmArch_CHRA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.5 0.5
            End
        End


        AnimationState        = PACKING_TYPE_2 WEAPONSET_TOGGLE_1
            StateName          =    CaptainPower
            Animation           = GUFaramir_CHRC
                AnimationName     = GUFaramir_SKL.GUFaramir_CHRC
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.2 1.2
            End
        End


        AnimationState        = PACKING_TYPE_2
            StateName          =    STATE_CaptainBow
            Animation           = GUFaramir_CHRD
                AnimationName     = GUFaramir_SKL.GUFaramir_CHRD
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.75 0.75
            End
        End



        AnimationState                = MOUNTED    FREEFALL
            Animation                =    free fall
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_FLYA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                = MOUNTED    STUNNED_FLAILING
            Animation                =    JustDie
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_FLYC
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End


        AnimationState                =    MOUNTED DYING SPLATTED
            Animation                =    splatted
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_LNDA
                AnimationMode        =    ONCE
                AnimationBlendTime  =   2
            End
            FXEvent    = Frame:2 Name:FX_SplatDust
        End

        AnimationState                = MOUNTED    DYING
            Animation                =    JustDie
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_DIEA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                = MOUNTED    STUNNED_STANDING_UP
            Animation                =    StandUp
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_GTPA
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState                = MOUNTED    STUNNED
            Animation                =    Land
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_LNDA
                AnimationMode        =    ONCE
            End
        End


        AnimationState        =  SPECIAL_WEAPON_TWO
            StateName = STATE_Bow
            Animation
                AnimationName           = RURhrmArch_SKL.RURhrmArch_ATKB
                AnimationMode       = ONCE
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
            BeginScript
                CurDrawableShowSubObject("arrow")
            EndScript
        End

        AnimationState        = MOUNTED SPECIAL_WEAPON_TWO
            StateName = STATE_Bow
            Animation
                AnimationName           = RURhrmArch_SKL.RURhrmArch_ATKB
                AnimationMode       = ONCE
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
            BeginScript
                CurDrawableShowSubObject("arrow")
            EndScript
        End




        AnimationState                = MOUNTED FIRING_OR_PREATTACK_A MOVING TURRET_ANGLE_90
            Animation                =    MoveAndFireBow
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_ATKF
                AnimationMode        =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                    = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                = MOUNTED    FIRING_OR_PREATTACK_A MOVING TURRET_ANGLE_180
            Animation                =    MoveAndFireBow
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_ATKH
                AnimationMode        =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                    = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                = MOUNTED    FIRING_OR_PREATTACK_A MOVING TURRET_ANGLE_270
            Animation                =    MoveAndFireBow
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_ATKJ
                AnimationMode        =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                    = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                = MOUNTED    FIRING_OR_PREATTACK_A MOVING
            Animation                =    MoveAndFireBow
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_ATKD
                AnimationMode        =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                    = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End




        AnimationState                    = MOUNTED MOVING BACKING_UP
            Animation                    = BACKING UP
                AnimationName            = RURhrmArch_SKL.RURhrmArch_BAKA
                AnimationMode            = LOOP
            End
        End

        AnimationState                    =     MOUNTED MOVING TURN_LEFT_HIGH_SPEED
            Animation                    =    TurnLeft
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_TNL1
                AnimationMode            =    LOOP
                AnimationBlendTime        =    20
            End
        End

        AnimationState                    =     MOUNTED MOVING TURN_RIGHT_HIGH_SPEED
            Animation                    =    TurnRight
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_TNR1
                AnimationMode            =    LOOP
                AnimationBlendTime        =    20
            End
        End

        AnimationState                    = MOUNTED MOVING WANDER
            Animation                    = WLKA
                AnimationName            = RURhrmArch_SKL.RURhrmArch_WLKA
                AnimationMode            = LOOP
            End
        End

        AnimationState                    =     MOUNTED MOVING TURN_LEFT
            Animation                    =    TurnLeft
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_TRNL
                AnimationMode            =    LOOP
            End
        End

        AnimationState                    =     MOUNTED MOVING TURN_RIGHT
            Animation                    =    TurnRight
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_TRNR
                AnimationMode            =    LOOP
            End
        End

        AnimationState                    = MOUNTED MOVING ENGAGED
            Animation                    = Moving_Engaged
                AnimationName            = RURhrmArch_SKL.RURhrmArch_RUNC
                AnimationMode            = LOOP
            End
            Flags                        = RANDOMSTART
        End

        AnimationState                    = MOUNTED MOVING USING_COMBO_LOCOMOTOR
            Animation                    = Walk1

                AnimationName            = RURhrmArch_SKL.RURhrmArch_WLKB
                AnimationMode            = LOOP
                Distance                = 25
            End
        End

        AnimationState                    =     MOUNTED MOVING ACCELERATE
            Animation                    =    RunA
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ACCL
                AnimationMode            =    LOOP
            End
            Flags                        =    RANDOMSTART
        End

        AnimationState                    =     MOUNTED MOVING DECELERATE
            Animation                    =    RunA
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_DECL
                AnimationMode            =    LOOP
            End
            Flags                        =    RANDOMSTART
        End

        AnimationState                    =     MOUNTED MOVING
            Animation                    =    RunA
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_RUNA
                AnimationMode            =    LOOP
                Distance                =   40
            End
            Flags                        =    RANDOMSTART
        End



        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A WEAPONSET_PLAYER_UPGRADE USER_2 TURRET_ANGLE_90
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKL
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A WEAPONSET_PLAYER_UPGRADE USER_2 TURRET_ANGLE_180
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKN
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A WEAPONSET_PLAYER_UPGRADE USER_2 TURRET_ANGLE_270
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKP
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A WEAPONSET_PLAYER_UPGRADE USER_2
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKB
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End




        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A TURRET_ANGLE_90
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKL
                AnimationMode            =    ONCE

                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A TURRET_ANGLE_180
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKN
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A TURRET_ANGLE_270
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKP
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKB
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End


        AnimationState                    =     MOUNTED BETWEEN_FIRING_SHOTS_A
            Animation                    =    BetweenFiringShots
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_IDLA
                AnimationMode            =    LOOP
                AnimationBlendTime        =   15
            End
        End



        AnimationState                    =  MOUNTED MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
            Animation                    = TerrorFromTheSky
                AnimationName            = RURhrmArch_SKL.RURhrmArch_RUNB
                AnimationMode            = LOOP
            End
        End

        AnimationState                    =  MOUNTED MOVING EMOTION_TERROR
            Animation                    = TerrorFromTheSky
                AnimationName            = RURhrmArch_SKL.RURhrmArch_RUNB
                AnimationMode            = LOOP
            End
        End



        AnimationState                    =     MOUNTED EMOTION_ALERT EMOTION_AFRAID
            Animation                    =    Apprehensive
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_APPA
                AnimationMode            =    LOOP
            End
        End



        AnimationState                    =  MOUNTED EMOTION_AFRAID
            Animation                    = FERA
                AnimationName            = RURhrmArch_SKL.RURhrmArch_FERA
                AnimationMode            = LOOP
            End
        End




        AnimationState                    =     MOUNTED EMOTION_CELEBRATING
            Animation                    =    CheerA
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_CHRA
                AnimationMode            =    ONCE
            End
            Animation                    =    CheerB
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_CHRB
                AnimationMode            =    ONCE
            End
            Animation                    =    CheerD
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_CHRD
                AnimationMode            =    ONCE
            End
            Animation                    =    Salute
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_SLTA
                AnimationMode            =    ONCE
            End
            Flags                        = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState                    = MOUNTED EMOTION_TAUNTING
            Animation                    = Taunting
                AnimationName            = RURhrmArch_SKL.RURhrmArch_TNTA
                AnimationMode            = ONCE
            End
            Animation                    = Taunting2
                AnimationName            = RURhrmArch_SKL.RURhrmArch_TNTB
                AnimationMode            = ONCE
            End
            Flags                        = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState                    = MOUNTED EMOTION_POINTING
            Animation                    = Pointing1
                AnimationName            = RURhrmArch_SKL.RURhrmArch_PNTA
                AnimationMode            = LOOP
            End
        End



        AnimationState                    = MOUNTED EMOTION_ALERT
            Animation                    = IDLA
                AnimationName            = RURhrmArch_SKL.RURhrmArch_IDLA
                AnimationMode            = LOOP
            End
        End

        AnimationState                    =    MOUNTED ATTACKING
            Animation                    =    Reloading
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_IDLA
                AnimationMode            =    LOOP
            End
        End

        IdleAnimationState
            StateName                =    Idle
            Animation                =    IdleB
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_IDLB
                AnimationMode        =    ONCE
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle_Mounted") end
            EndScript
        End
        AnimationState                = MOUNTED
            Animation            =    IdleB
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_IDLB
                AnimationMode        =    LOOP
                AnimationBlendTime    =    15
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE
        End




        AnimationState                    = MOUNTED SELECTED
            StateName                    = State_Selected
            SimilarRestart                = Yes
            Animation                    = AtAttention
                AnimationName            = RURhrmArch_SKL.RURhrmArch_ATNB
                AnimationMode            = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_To_Selected_Mounted") end
            EndScript
        End


        TransitionState                    =     TRANS_Idle_to_Selected_Mounted
            Animation                    =    ATNA
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATNA
                AnimationMode            =    ONCE
                AnimationSpeedFactorRange = 0.8 1.2
            End
        End


        TransitionState                    =     TRANS_Selected_to_Idle_Mounted
            Animation                    =    ATNC
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATNA
                AnimationMode            =    ONCE_BACKWARDS
                AnimationSpeedFactorRange = 0.8 1.2
            End
            Flags                        = START_FRAME_LAST
        End

        AnimationState                = MOUNTED
            Animation            =    IdleB
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_IDLB
                AnimationMode        =    LOOP
                AnimationBlendTime    =    15
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE
        End




        AnimationState        = STUNNED_FLAILING WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword
            Animation           = GUFaramir_FLYB
                AnimationName     = GUFaramir_SKL.GUFaramir_FLYB
                AnimationMode     = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            Flags               = RANDOMSTART
        End

        AnimationState        = STUNNED_FLAILING
            StateName           = STATE_Bow
            Animation           = GUFaramir_FLYA
                AnimationName     = GUFaramir_SKL.GUFaramir_FLYA
                AnimationMode     = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            Flags               = RANDOMSTART
        End


        AnimationState        = DYING SPLATTED WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword
            Animation           = GUFaramir_LNDB
                AnimationName     = GUFaramir_SKL.GUFaramir_LNDB
                AnimationMode     = ONCE
            End
        End

        AnimationState        = DYING SPLATTED
            StateName           = STATE_Bow
            Animation           = GUFaramir_LNDA
                AnimationName     = GUFaramir_SKL.GUFaramir_LNDA
                AnimationMode     = ONCE
            End
        End


        AnimationState        = DYING WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword

            Animation           = GUFaramir_DIEA
                AnimationName     = GUFaramir_SKL.GUFaramir_DIEA
                AnimationMode     = ONCE
            End

            Animation           = GUFaramir_DIEB
                AnimationName     = GUFaramir_SKL.GUFaramir_DIEB
                AnimationMode     = ONCE
            End
        End


        AnimationState        = DYING
            StateName           = STATE_Bow
            Animation           = GUFaramir_DIEC
                AnimationName     = GUFaramir_SKL.GUFaramir_DIEC
                AnimationMode     = ONCE
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = GUFaramir_IDLC
                AnimationMode                = LOOP
            End
        End





        AnimationState        = STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword
            Animation           = GUFaramir_GTPB
                AnimationName     = GUFaramir_SKL.GUFaramir_GTPB
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState        = STUNNED_STANDING_UP
            StateName           = STATE_Bow
            Animation           = GUFaramir_GTPA
                AnimationName     = GUFaramir_SKL.GUFaramir_GTPA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState        = STUNNED WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword

            Animation           = GUFaramir_LNDB
                AnimationName     = GUFaramir_SKL.GUFaramir_LNDB
                AnimationMode     = ONCE
            End
        End

        AnimationState        = STUNNED
            StateName           = STATE_Bow

            Animation           = GUFaramir_LNDA
                AnimationName     = GUFaramir_SKL.GUFaramir_LNDA
                AnimationMode     = ONCE
            End
        End


        AnimationState        = USER_1



            Animation           = GUFaramir_POSA
                AnimationName     = GUFaramir_SKL.GUFaramir_POSA
                AnimationMode     = ONCE
            End
        End


        AnimationState        =  SPECIAL_WEAPON_ONE
            StateName = STATE_Bow
            Animation
                AnimationName           = GUFaramir_SKL.GUFaramir_ATKC
                AnimationMode       = ONCE
            End
            FrameForPristineBonePositions = 59
            BeginScript
                CurDrawableShowSubObject("arrow")
            EndScript
        End






        AnimationState        = MOVING WEAPONSET_TOGGLE_1 FIRING_OR_PREATTACK_A
            Animation           = TrotAndFire
                AnimationName       = GUFaramir_SKL.GUFaramir_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
            StateName = RunAndSwing
        End

        AnimationState        = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword

            Animation           = ATKD
                AnimationName     = GUFaramir_SKL.GUFaramir_ATKD
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
                AnimationSpeedFactorRange = 1.149 1.149
            End

            Animation           = ATKE
                AnimationName    = GUFaramir_SKL.GUFaramir_ATKE
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
                AnimationSpeedFactorRange = 1.149 1.149
            End

            Animation           = ATKF
                AnimationName    = GUFaramir_SKL.GUFaramir_ATKF
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.47 1.47
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
            EndScript
        End



        AnimationState        = MOVING USER_4
            StateName           = Slaughter
            Flags               = RANDOMSTART

            Animation           = GUFaramir_ATKE
                AnimationName     = GUFaramir_SKL.GUFaramir_ATKE
                AnimationMode     = LOOP
            End
            StateName           = NoSword
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
            EndScript
        End


        AnimationState            = MOVING WEAPONSET_TOGGLE_1
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART


            Animation           = GUFaramir_RUNB
                AnimationName   = GUFaramir_SKL.GUFaramir_RUNB

                AnimationSpeedFactorRange = 0.85 0.85
                Distance        = 28
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_RunningBow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Running") end
            EndScript
        End



        AnimationState        = ATTACKING WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword
            Animation           = ATKD
                AnimationName     = GUFaramir_SKL.GUFaramir_IDLA
                AnimationMode     = MANUAL
            End
        End



        AnimationState            = MOVING
            StateName           = STATE_RunningBow
            Flags               = RANDOMSTART


            Animation           = GUFaramir_RUNA
                AnimationName   = GUFaramir_SKL.GUFaramir_RUNA

                AnimationSpeedFactorRange = 0.85 0.85
                Distance = 28
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
                if Prev == "STATE_RunningSword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Running") end
            EndScript
        End



        AnimationState                    =    PREATTACK_A
            StateName                    =    STATE_Firing
            Animation                    =    ReadyToDrawn
                AnimationName            =    GUFaramir_SKL.GUFaramir_ATKA1
                AnimationMode            =    ONCE


            End
        End

        AnimationState                    =    FIRING_OR_RELOADING_A
            StateName                    =    STATE_Firing
            Animation                    =    LooseReloadDraw
                AnimationName            =    GUFaramir_SKL.GUFaramir_ATKA2
                AnimationMode            =    ONCE

                AnimationSpeedFactorRange = 1.1 1.1

            End
        End


        AnimationState                    =    CONTINUOUS_FIRE_MEAN
            Animation                    =    HangFrameWhileCoasting
                AnimationName            =    GUFaramir_SKL.GUFaramir_ATKA2
                AnimationMode            =    MANUAL
            End
        End

        AnimationState                        = CONTINUOUS_FIRE_SLOW

            Animation                        = PutAwayArrow
                AnimationName                = GUFaramir_SKL.GUFaramir_ATKA3
                AnimationMode                = ONCE
            End
        End









        AnimationState = EMOTION_ALERT HIT_REACTION WEAPONSET_TOGGLE_1
            Animation = Hit_Level_1_d
                AnimationName = GUFaramir_SKL.GUFaramir_HITD
                AnimationMode = ONCE
            End
        End

        AnimationState = HIT_REACTION WEAPONSET_TOGGLE_1
            Animation = Hit_Level_1_b
                AnimationName = GUFaramir_SKL.GUFaramir_HITB
                AnimationMode = ONCE
            End
        End

        AnimationState = HIT_REACTION
            Animation = Hit_Level_1_c
                AnimationName = GUFaramir_SKL.GUFaramir_HITC
                AnimationMode = ONCE
            End
        End





        AnimationState                = LEVELED WEAPONSET_TOGGLE_1
            Animation                = LevelUp
                AnimationName        = GUFaramir_SKL.GUFaramir_CHRC
                AnimationMode        = ONCE
            End
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = GUFaramir_SKL.GUFaramir_CHRD
                AnimationMode        = ONCE
            End
        End



        AnimationState                =    EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_CHRC
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    EMOTION_CELEBRATING
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_CHRD
                AnimationMode        =    LOOP
            End
        End



        AnimationState                =    EMOTION_TAUNTING WEAPONSET_TOGGLE_1
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_TNTC
                AnimationMode        =    ONCE
            End
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_TNTD
                AnimationMode        =    ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                =    EMOTION_TAUNTING
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_CHRD
                AnimationMode        =    LOOP
            End
        End




        AnimationState                    = SELECTED WEAPONSET_TOGGLE_1
            StateName                    = STATE_Selected_Sword

            Animation                    = ATNE
                AnimationName            = GUFaramir_SKL.GUFaramir_ATNE
                AnimationMode            = LOOP
                AnimationBlendTime        = 15
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedSword") return end
            EndScript
        End


        AnimationState                =    EMOTION_ALERT WEAPONSET_TOGGLE_1
            StateName                =    STATE_READY
            Animation                =    ready
                AnimationName        =    GUFaramir_SKL.GUFaramir_IDLA
                AnimationMode        =    LOOP
                AnimationBlendTime    =    20
            End
        End

        AnimationState                =    RAISING_FLAG
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_CHRD
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    SELECTED
            StateName                =    STATE_Selected_Bow

            Animation                =    ATNB
                AnimationName        =    GUFaramir_SKL.GUFaramir_ATNB
                AnimationMode        =    LOOP
                AnimationBlendTime  = 15
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
                if Prev == "STATE_Idle_Bow"    then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedBow") return end
                if Prev == "STATE_CaptainBow" then CurDrawableSetTransitionAnimState("TRANS_CaptainBowToSelectedBow") end
            EndScript
        End






        AnimationState                    = WEAPONSET_TOGGLE_1
            StateName                    = STATE_Idle_Sword

            Animation                   = IDLE
                AnimationName           = GUFaramir_SKL.GUFaramir_IDLE
                AnimationMode           = LOOP
                AnimationPriority        = 20
                AnimationBlendTime  = 15
            End

            Animation                   = IDLF
                AnimationName           = GUFaramir_SKL.GUFaramir_IDLF
                AnimationMode           = LOOP
                AnimationPriority        = 1
            End

            Animation                   = IDLG
                AnimationName           = GUFaramir_SKL.GUFaramir_IDLG
                AnimationMode           = LOOP
                AnimationPriority        = 1
            End

            BeginScript
                CurDrawableHideSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredSword") end
            EndScript
        End

        IdleAnimationState
            StateName           = STATE_Idle_Bow

            Animation           = IdleBow
                AnimationName     = GUFaramir_SKL.GUFaramir_IDLC
                AnimationMode     = ONCE
                AnimationBlendTime  = 15
            End
            BeginScript
                CurDrawableShowSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
                if Prev == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredBow") end
            EndScript
        End



        TransitionState = TRANS_BoredToSelectedSword
            Animation = ANTD
                AnimationName        = GUFaramir_SKL.GUFaramir_ANTD
                AnimationMode        = ONCE
            End
        End

        TransitionState = TRANS_SelectedToBoredSword
            Animation            = ATNF
                AnimationName    = GUFaramir_SKL.GUFaramir_ATNF
                AnimationMode    = ONCE
            End
        End

        TransitionState = TRANS_BoredToSelectedBow
            Animation = ATNC
                AnimationName        = GUFaramir_SKL.GUFaramir_ATNC
                AnimationMode        = ONCE
            End
        End

        TransitionState = TRANS_CaptainBowToSelectedBow
            Animation = ATNC
                AnimationName        = GUFaramir_SKL.GUFaramir_ATNC
                AnimationMode        = ONCE
                AnimationBlendTime    = 10
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        TransitionState = TRANS_SelectedToBoredBow
            Animation            = ATNA
                AnimationName    = GUFaramir_SKL.GUFaramir_ATND
                AnimationMode    = ONCE
            End
        End


        TransitionState       = TRANS_BowToSword
            Animation           = GUFaramir_STHA
                AnimationName     = GUFaramir_SKL.GUFaramir_STHA
                AnimationMode     = ONCE
            End
        End

        TransitionState       = TRANS_SwordToBow
            Animation           = GUFaramir_STHB
                AnimationName     = GUFaramir_SKL.GUFaramir_STHB
                AnimationMode     = ONCE
            End
        End

        TransitionState               = TRANS_BowToSword_Running
            Animation               = DrawSwords
                AnimationName       = GUFaramir_SKL.GUFaramir_STHD
                AnimationMode       = ONCE
            End
        End

        TransitionState               = TRANS_SwordToBow_Running
            Animation               = DrawBow
                AnimationName       = GUFaramir_SKL.GUFaramir_STHC
                AnimationMode       = ONCE
            End
        End

    End

    Draw = W3DScriptedModelDraw DustEffects
        DefaultModelConditionState
          Model = None
        End
        IdleAnimationState
        End
        AnimationState = MOUNTED MOVING WADING
            ParticleSysBone = None FootstepSlash
        End
        AnimationState = MOUNTED MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOUNTED MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOUNTED MOVING
        End
    End



    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End


    Side 	    	= Arnor
    EditorSorting       = UNIT
    ThreatLevel         = 5.0
    ThingClass          = CHARACTER_UNIT
    TransportSlotCount  = 1
    DisplayMeleeDamage  = ARANARTHDAG_DAMAGE
    DisplayRangedDamage = ARANARTHDAG_RANGED
    HeroSortOrder 	= 20
    BuildCost 		= ARANARTHDAG_COST
    BuildTime 		= MEDIUM_HERO_BUILDTIME
    Scale 		= 0.96

    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    FaramirBow
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions        = WEAPONSET_TOGGLE_1
        Weapon            = PRIMARY    FaramirSword
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions        = MOUNTED
        Weapon            = PRIMARY    FaramirBow
    End

    WeaponSet
        Conditions        = WEAPONSET_HERO_MODE
        Weapon            = PRIMARY    AranarthBowDeadlySniper
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    ArmorSet
        Conditions      = None
        Armor           = WeakHeroArmor
        DamageFX        = NormalDamageFX
    End

    ArmorSet
        Conditions      = MOUNTED
        Armor           = WeakHeroArmorMounted
        DamageFX        = NormalDamageFX
    End

    VisionRange 		= VISION_HERO_RANGED
    ShroudClearingRange 	= SHROUD_CLEAR_RANGED_HERO
    MaxVisionBonusPercent 	= 300%
    VisionBonusTestRadius 	= 200
    VisionBonusPercentPerFoot   = 1.0%

    BountyValue 	= GONDOR_ARAGORN_BOUNTY_VALUE
    DisplayName 	= OBJECT:ArnorAranarthDunedain
    RecruitText         = CONTROLBAR:ArnorAranarthRecruitPrinz
    Hotkey       	= CONTROLBAR:ArnorAranarthHotkey
    CrusherLevel        = 0
    MountedCrusherLevel = 1
    CrushableLevel 	= 2
    MountedCrushableLevel = 2

    CrushWeapon        = HeroCrush

    MinCrushVelocityPercent     = MINCRUSHVELOCITYPERCENT_HERO
    CrushDecelerationPercent    = CRUSHDECELERATIONPERCENT_HERO

    CrushKnockback = 40
    CrushZFactor   = 1.0

    CommandSet    = ArnorAranarthCommandSet_Dunedain
    CommandPoints = 0



            VoiceAttack                             = HeroWestMaleVoiceAttack
            VoiceAttackAir                          = HeroWestMaleVoiceAttack
            VoiceAttackCharge                       = HeroWestMaleVoiceAttackCharge
            VoiceAttackMachine                      = HeroWestMaleVoiceAttack
            VoiceAttackStructure                    = HeroWestMaleVoiceAttackBuilding
            VoiceFear                               = HeroWestMaleVoiceHelpMe
            VoiceGuard                              = HeroWestMaleVoiceMove
            VoiceMove                               = HeroWestMaleVoiceMove
            VoiceMoveToCamp                         = HeroWestMaleVoiceMoveCamp
            VoiceMoveWhileAttacking                 = HeroWestMaleVoiceDisengage
            VoicePriority                           = 85
            VoiceRetreatToCastle                    = HeroWestMaleVoiceRetreat

            VoiceSelect                             = HeroWestMaleVoiceSelectMS
            VoiceSelectBattle                       = HeroWestMaleVoiceSelectBattle

            SoundImpact                             = ImpactHorse

            UnitSpecificSounds
                VoiceEnterUnitElvenTransportShip    = HeroWestMaleVoiceMoveShip
                VoiceEnterUnitMordorMumakil         = HeroWestMaleVoiceMove
                VoiceEnterUnitSlaughterHouse        = HeroWestMaleVoiceMove
                VoiceEnterUnitTransportShip         = HeroWestMaleVoiceMove
                VoiceGarrison                       = HeroWestMaleVoiceMoveGarrison
                VoiceInitiateCaptureBuilding        = HeroWestMaleVoiceCaptureBuilding
            End


    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:FootstepDirtA              Animation:GUFaramir_SKL.GUFaramir_RUNA       Frames:2 12
        AnimationSound = Sound:FootstepDirtA              Animation:GUFaramir_SKL.GUFaramir_RUNB       Frames:2 12

        AnimationSound = Sound:WeaponSwitchBow            Animation:GUFaramir_SKL.GUFaramir_ATKC       Frames:18

        AnimationSound = Sound:SwordShingClean1           Animation:GUFaramir_SKL.GUFaramir_STHA       Frames:21
        AnimationSound = Sound:SwordIntoScabbard1         Animation:GUFaramir_SKL.GUFaramir_STHB       Frames:11
        AnimationSound = Sound:WeaponSwitchBow            Animation:GUFaramir_SKL.GUFaramir_STHB       Frames:28

        AnimationSound = Sound:SwordIntoScabbard1         Animation:GUFaramir_SKL.GUFaramir_STHC       Frames:2
        AnimationSound = Sound:WeaponSwitchBow            Animation:GUFaramir_SKL.GUFaramir_STHC       Frames:3
        AnimationSound = Sound:SwordShingClean1           Animation:GUFaramir_SKL.GUFaramir_STHD       Frames:6

        AnimationSound = Sound:BodyFallGenericNoArmor     Animation:GUFaramir_SKL.GUFaramir_DIEA       Frames:88
        AnimationSound = Sound:BodyFallGenericNoArmor     Animation:GUFaramir_SKL.GUFaramir_DIEB       Frames:85
        AnimationSound = Sound:BodyFallGenericNoArmor     Animation:GUFaramir_SKL.GUFaramir_DIEC       Frames:49
        AnimationSound = Sound:BodyFallSoldier            Animation:GUFaramir_SKL.GUFaramir_LNDA       Frames:3
        AnimationSound = Sound:BodyFallSoldier            Animation:GUFaramir_SKL.GUFaramir_LNDB       Frames:2

        AnimationSound = Sound: HorseMoveFootstepsLoose   Animation: RURhrmArch_SKL.RURhrmArch_ACCL    Frames: 8 30
        AnimationSound = Sound: HorseMoveFootstepsLoose   Animation: RURhrmArch_SKL.RURhrmArch_RUNA    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose   Animation: RURhrmArch_SKL.RURhrmArch_RUNB    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose   Animation: RURhrmArch_SKL.RURhrmArch_RUNC    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose   Animation: RURhrmArch_SKL.RURhrmArch_TNL1    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose   Animation: RURhrmArch_SKL.RURhrmArch_TNR1    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose   Animation: RURhrmArch_SKL.RURhrmArch_TRNL    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose   Animation: RURhrmArch_SKL.RURhrmArch_TRNR    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose   Animation: RURhrmArch_SKL.RURhrmArch_ATKD    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose   Animation: RURhrmArch_SKL.RURhrmArch_ATKF    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose   Animation: RURhrmArch_SKL.RURhrmArch_ATKH    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose   Animation: RURhrmArch_SKL.RURhrmArch_ATKJ    Frames: 0
        AnimationSound = Sound: HorseWhinny               Animation: RURhrmArch_SKL.RURhrmArch_CHRB    Frames: 8
        AnimationSound = Sound: HorseWhinny               Animation: RURhrmArch_SKL.RURhrmArch_CHRC    Frames: 15
        AnimationSound = Sound: HorseWhinny               Animation: RURhrmArch_SKL.RURhrmArch_DIEA    Frames: 0
        AnimationSound = Sound: HorseWhinny               Animation: RURhrmArch_SKL.RURhrmArch_DIEB    Frames: 0
        AnimationSound = Sound: BodyFallGeneric1          Animation: RURhrmArch_SKL.RURhrmArch_DIEA    Frames: 10 46
        AnimationSound = Sound: BodyFallGeneric1          Animation: RURhrmArch_SKL.RURhrmArch_DIEB    Frames: 11
        AnimationSound = Sound: BodyFallGeneric1          Animation: RURhrmArch_SKL.RURhrmArch_LNDA    Frames: 3 11
    End

    CrowdResponseKey = GoodMen
    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End


    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE HERO ARMY_SUMMARY HEAVY_MELEE_HITTER
    PathfindDiameter = 40.0

    Body = RespawnBody ModuleTag_RespawnBody
        CheerRadius               = EMOTION_CHEER_RADIUS
        MaxHealth                 = ARANARTHDAG_HEALTH
        PermanentlyKilledByFilter = NONE
        DodgePercent              = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                  = DYING
        DeathAnimationTime         = 5000
        RespawnAnim                = LEVELED
        RespawnAnimationTime       = 2000
        AutoRespawnAtObjectFilter  = NONE +CASTLE_KEEP
        ButtonImage                = HIAranarthDunedain2
        RespawnAsTemplate          = ArnorAranarth

        RespawnRules =            AutoSpawn:No    Cost:ARANARTHDAG_COST        Time:MEDIUM_HERO_RESPAWNTIME        Health:100%
    End

    Behavior = AutoHealBehavior ModuleTag_AragornHealing
        StartsActive = Yes
        HealingAmount = HERO_HEAL_AMOUNT
        HealingDelay = 1000
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate           = 500
    End

    Behavior = ObjectCreationUpgrade ModuleTag_BackSwitch
        TriggeredBy  	= Upgrade_AllFactionUpgrade
        GrantUpgrade 	= Upgrade_AranarthDunedainSwitch
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance        =    250
         TauntAndPointUpdateDelay    =    1000

        AddEmotion            =    Terror_Base
        AddEmotion            =    Doom_Base
        AddEmotion            =    UncontrollableFear_Base
        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
        AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base
        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
     End

    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_GOOD_HERO_SPEED
    End

    LocomotorSet
        Locomotor = HeroHorseLocomotor
        Condition = SET_MOUNTED
        Speed     = NORMAL_CAVALRY_FAST_MEMBER_SPEED
    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime    = 3333
        ShockStunnedTimeLow    = 1000
        ShockStunnedTimeHigh= 1200
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 22000
        Sound = INITIAL HeroWestMaleVoiceDie
    End

    Behavior = SquishCollide ModuleTag_06

    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_ReitenToggleEnabler
        SpecialPowerTemplate            = SpecialAbilityToggleZwillingeSchmiede
    End

    Behavior = SpecialPowerModule ModuleTag_ReitenToggleStarter
         SpecialPowerTemplate           = SpecialAbilityToggleZwillingeSchmiede
         UpdateModuleStartsAttack       = Yes
         StartsPaused                   = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate ReitenToggle
         SpecialPowerTemplate        = SpecialAbilityToggleZwillingeSchmiede
         MountedTemplate             = ArnorAranarth
         SynchronizeTimerOnSpecialPower = SpecialAbilityAranarthRestoration SpecialAbilityDamrodHeroModeMod SpecialAbilityWoundArrow SpecialAbilityArrowStorm SpecialAbilityAragornBladeMaster SpecialAbilityTheodenGloriousCharge SpecialAbilityBaukunstMorias SpecialAbility202AragornAthelas
         UnpackTime                  = OBJECT_TOGGLE_TIME
         PreparationTime             = 0
         PackTime                    = 0
         OpacityTarget               = .0
         AwardXPForTriggering        = 0
         IgnoreFacingCheck           = Yes
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_Getreue
        SpecialPowerTemplate     = SpecialAbilityFakeLeadership
        TriggeredBy              = Upgrade_Level_1
    End

    Behavior = SpecialPowerModule ModuleTag_GetreueUpdate
        SpecialPowerTemplate     = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_GetreueAktivierung
        StartsActive     = No
        BonusName        = AranarthsGetreueBonus
        TriggeredBy      = Upgrade_StammesfuhrerUpgrade
        RefreshDelay     = 2000
        Range            = 100000
        AntiCategory     = BUFF
        ObjectFilter     = ANY +ArnorRanger +ArnorRangerHorde -HERO -STRUCTURE -DOZER -MACHINE -SHIP -CAVALRY ALLIES
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_DunedainLeadershipDamage
        StartsActive     = Yes
        BonusName        = AranarthsDunedainBonus
        RefreshDelay     = 2000
        Range            = 300
        AntiCategory     = BUFF
        ObjectFilter     = ANY +ArnorRanger +ArnorRangerHorde -HERO -STRUCTURE -DOZER -MACHINE -SHIP -CAVALRY ALLIES
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseWoundArrow
        SpecialPowerTemplate        = SpecialAbilityWoundArrow
        TriggeredBy                 = Upgrade_Level_3
        ObeyRechageOnTrigger        = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_WoundArrow
        SpecialPowerTemplate        = SpecialAbilityWoundArrow
        UpdateModuleStartsAttack    = Yes
        StartsPaused                = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WoundArrowUpdate
        SpecialPowerTemplate        = SpecialAbilityWoundArrow
        SkipContinue                = Yes
        UnpackTime                  = 2000
        PreparationTime             = 1
        PersistentPrepTime          = 1000
        PackTime                    = 1
        AwardXPForTriggering        = 0
        StartAbilityRange           = FARAMIR_WOUNDING_ARROW_RANGE
        ApproachRequiresLOS         = Yes
        SpecialWeapon               = FaramirWoundArrow
        WhichSpecialWeapon          = 1
    End

    Behavior = AutoAbilityBehavior ModuleTag_WoundArrowAutoAbility
        SpecialAbility           = SpecialAbilityWoundArrow
	ForbiddenStatus 	 = INSIDE_GARRISON
        MaxScanRange             = FARAMIR_WOUNDING_ARROW_RANGE
        Query                    = 1 ANY ENEMIES +MONSTER +HERO +AngmarThrallMaster  +AngmarThrallMasterBanner  +AngmarThrallMasterAxeBanner   +AngmarThrallMasterWolfBanner  +AngmarNecromancerBanner +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir +GondorGwaihir_Summoned +ElvenFortressEagle +KhamulFellBeast +MorgomirFellBeast +Drogoth +Drogoth
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseSniper
        SpecialPowerTemplate      = SpecialAbilityDamrodHeroModeMod
        TriggeredBy               = Upgrade_Level_5
        ObeyRechageOnTrigger      = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_DeadlySniperStarter
        SpecialPowerTemplate      = SpecialAbilityDamrodHeroModeMod
        UpdateModuleStartsAttack  = Yes
        StartsPaused              = Yes
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_DeadlySniper
        SpecialPowerTemplate      = SpecialAbilityDamrodHeroModeMod
        UnpackingVariation        = 1
        UnpackTime                = 1
        PreparationTime           = 0
        PackTime                  = 0
        AwardXPForTriggering      = 0
        HeroEffectDuration        = 10000
        StopUnitBeforeActivating  = Yes
    End

    Behavior = AutoAbilityBehavior ModuleTag_DeadlySniperAutoAbility
	SpecialAbility		= SpecialAbilityDamrodHeroModeMod
	ForbiddenStatus 	= INSIDE_GARRISON
	MaxScanRange		= 250
	Query			= 5 ALL ENEMIES
	Query			= 1 ANY ENEMIES +HERO +MONSTER
   End





 	Behavior = SpecialPowerModule ModuleTag_AragornAthelas
		SpecialPowerTemplate    	= SpecialAbility202AragornAthelas
		UpdateModuleStartsAttack  	= Yes
		SetModelCondition		= ModelConditionState:USER_2
		SetModelConditionTime		= 2.1
	End

	Behavior = ActivateModuleSpecialPower ModuleTag_AragornAthelasMover
		SpecialPowerTemplate		= SpecialAbility202AragornAthelas
		StartAbilityRange		= 1.6
		UnpackTime			= 1
		PreparationTime			= 3
		PackTime			= 2096
		TriggerSpecialPower		= ModuleTag_AragornAthelasHeal OBJECTPOS
	End

   	Behavior = PlayerHealSpecialPower ModuleTag_AragornAthelasHeal
		SpecialPowerTemplate		= SpecialAbilityActivateeDummy
		HealAmount			= ATHELAS_HEAL_AMOUNT
		HealAsPercent			= No
		HealAffects			= HERO
		HealRadius			= 200
		HealFX				= FX_AragornAthelas
		TriggerFX			= FX_AragornAthelas
	End

    	Behavior = AutoAbilityBehavior ModuleTag_AragornAthelasAutoAbility
        	SpecialAbility               = SpecialAbility202AragornAthelas
        	MaxScanRange                 = 200
        	Query                        = 2 ANY ALLIES +HERO
   	End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_ArrowWindEnabler
        SpecialPowerTemplate  = SpecialAbilityArrowStorm
        TriggeredBy           = Upgrade_Level_10
        ObeyRechageOnTrigger  = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_ArrowWindStarter
        SpecialPowerTemplate      = SpecialAbilityArrowStorm
        UpdateModuleStartsAttack  = Yes
        StartsPaused              = Yes
    End

    Behavior = ArrowStormUpdate ModuleTag_ArrowWindUpdate
        SpecialPowerTemplate    = SpecialAbilityArrowStorm
        StartAbilityRange       = 320.0
        UnpackTime              = 1000
        PreparationTime         = 200
        PersistentPrepTime      = 600
        PackTime                = 1200
        UnpackingVariation      = 1
        ParalyzeDurationWhenCompleted = 600
        ParalyzeDurationWhenAborted = 800
		ApproachRequiresLOS     = Yes
        AwardXPForTriggering    = 0
        WeaponTemplate  	= StreuschussWeapon2
        TargetRadius    	= 120
        ShotsPerTarget  	= 1
        ShotsPerBurst   	= 5
        MaxShots        	= 70
        CanShootEmptyGround 	= Yes
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AnsturmEnabler
        SpecialPowerTemplate         = SpecialAbilityAragornBladeMaster
        TriggeredBy                  = Upgrade_Level_5
        ObeyRechageOnTrigger         = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_AnsturmStarter
        SpecialPowerTemplate         = SpecialAbilityAragornBladeMaster
        StartsPaused                 = Yes
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_AnsturmUpdate
        SpecialPowerTemplate         = SpecialAbilityAragornBladeMaster
        HeroAttributeModifier        = AnsturmdesPrinzenAranarth
        HeroEffectDuration           = 30000
        UnpackTime                   = 1
        TriggerSound                 = AragornBladeMaster
    End

    Behavior = AutoAbilityBehavior ModuleTag_AnsturmAutoAbility
	SpecialAbility		= SpecialAbilityAragornBladeMaster
	ForbiddenStatus 	= INSIDE_GARRISON
	MaxScanRange		= 300
	Query			= 5 ALL ENEMIES
	Query			= 1 ANY ENEMIES +HERO +MONSTER
   End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TheodenGloriousChargeEnabler
        SpecialPowerTemplate = SpecialAbilityTheodenGloriousCharge
        TriggeredBy          = Upgrade_Level_3
        ObeyRechageOnTrigger = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_TheodenGloriousChargeUpdate
        SpecialPowerTemplate      = SpecialAbilityTheodenGloriousCharge
        UpdateModuleStartsAttack  = Yes
        StartsPaused = Yes
        AttributeModifier = ImrahilGloriousCharge
        AttributeModifierRange = 200
        AttributeModifierAffectsSelf = Yes
        AttributeModifierAffects = ANY +CAVALRY +ArnorAranarth +ArnorAranarthDunedain
        AttributeModifierFX = FX_ImrahilGloriousChargeFX
    End

    Behavior = SpecialAbilityUpdate ModuleTag_GloriousChargeAnimation
        UnpackTime              = 1000
        UnpackingVariation        = 1
        SpecialPowerTemplate    = SpecialAbilityTheodenGloriousCharge
        PreparationTime         = 0
        PersistentPrepTime      = 0
        PackTime                = 1330
    End







    Behavior                  = UnpauseSpecialPowerUpgrade ModuleTag_BaumeisterEnabler
        SpecialPowerTemplate  = SpecialAbilityBaukunstMorias
        TriggeredBy           = Upgrade_Level_7
        ObeyRechageOnTrigger  = Yes
    End

    Behavior                  = PlayerHealSpecialPower ModuleTag_BaumeisterUpdate
        SpecialPowerTemplate  = SpecialAbilityBaukunstMorias
        StartsPaused          = Yes
        HealAmount            = 100000
        HealAsPercent         = No
        HealAffects           = STRUCTURE
        HealRadius            = SPELL_REBUILD_RADIUS_STRUCTURE_SCAN
        HealFX                = FX_SpellRebuild
        InitiateSound         = DainMightyRage
        TriggerFX             = FX_DainMightyRage02
    End

    Behavior                  = AutoAbilityBehavior ModuleTag_BaumeisterAutoAbility
        SpecialAbility        = SpecialAbilityBaukunstMorias
        Query                 = 1 ANY +STRUCTURE -UNATTACKABLE
        MaxScanRange          = 100
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_BeistandUnpause
        SpecialPowerTemplate        = SpecialAbilityAranarthRestoration
        TriggeredBy                 = Upgrade_Level_10
        ObeyRechageOnTrigger        = Yes
    End

    Behavior = SpecialPowerTimerRefreshSpecialPower ModuleTag_BeistandRefresh
        SpecialPowerTemplate        = SpecialAbilityAranarthRestoration
        StartsPaused                = Yes
        UpdateModuleStartsAttack    = No
        AffectAllies                = Yes
        AttributeModifierRange      = 150
        AttributeModifierAffects    = NONE +HERO -ArnorAranarth -ArnorAranarthDunedain ALLIES
    End

    Behavior = SpecialPowerModule ModuleTag_BeistandUpdate
        SpecialPowerTemplate         = SpecialAbilityAranarthRestorationHeal
        AttributeModifier            = BeistanddesPrinzenModifier
        AttributeModifierRange       = 150
        AttributeModifierAffectsSelf = No
        AttributeModifierAffects     = NONE +HERO -ArnorAranarth -ArnorAranarthDunedain ALLIES
    End

    Behavior = PlayerHealSpecialPower ModuleTag_RestorationHeal
        SpecialPowerTemplate          = SpecialAbilityAranarthRestorationHeal
        HealAffects                   = HERO
        HealAmount                    = 0.5
        HealRadius                    = 150
        HealFX                        = FX_ElrondHealSpecialPower
    End

    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Elf Elf_Male Unit Infantry
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_LeadershipProphezeiuung
        StartsActive     = No
        BonusName        = ProphezeiuungLeadership
        TriggeredBy      = Upgrade_EisernerWille
        RefreshDelay     = 2000
        Range            = 200
        AntiCategory     = BUFF
        AllowSelf        = Yes
        ObjectFilter     = ANY +INFANTRY +CAVALRY +HERO -STRUCTURE -BASE_FOUNDATION -MACHINE -SHIP ALLIES
    End

    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP = Yes
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSetEntscheidung
        TriggeredBy       = Upgrade_StammesfuhrerUpgrade
        CommandSet        = ArnorAranarthCommandSet_EntscheidungDunedain
    End

    Behavior = TooltipUpgrade ModuleTag_NameUpgrade
        TriggeredBy       = Upgrade_StammesfuhrerUpgrade
        DisplayName       = OBJECT:ArnorAranarthDunedainEntscheidung
    End





    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End

    Behavior = AISpecialPowerUpdate ToggleMountedAI
        CommandButtonName = Command_AranarthSwitchPrinz
        SpecialPowerAIType = AI_SPECIAL_POWER_TOGGLE_MOUNTED
    End

    Behavior = AISpecialPowerUpdate ToggleLurtzWeaponAI
        CommandButtonName = Command_ToggleLurtzWeapon
        SpecialPowerAIType = AI_SPECIAL_POWER_TOGGLE_MELEE_AND_RANGE
        SpecialPowerRange = 50
    End

    Behavior = AISpecialPowerUpdate CrippleAI
        CommandButtonName = Command_ToggleFaramirWeapon
        SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER
    End

    Behavior = AISpecialPowerUpdate AragornBladeMasterAI
        CommandButtonName = Command_SpecialAbilityAranarthDeadlySniper
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornAthelas
        CommandButtonName = Command_SpecialAbilityAranarthKonigskraut
        SpecialPowerAIType = AI_SPECIAL_POWER_SELFAOEHEALHEROS
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate LegolasArrowWindAI
        CommandButtonName = Command_SpecialAbilityAranarthStreuschuss
        SpecialPowerAIType = AI_SPECIAL_POWER_LEGOLAS_ARROWWIND
        SpecialPowerRadius = 100
    End

    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes
    Shadow = SHADOW_DECAL
    ShadowSizeX = 20
    ShadowSizeY = 20
    ShadowTexture = ShadowI
End