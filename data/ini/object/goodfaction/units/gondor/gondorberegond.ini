Object GondorBeregond


    SelectPortrait          = HPBeregond
    ButtonImage             = HPBeregond

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_SupportHero

    Draw = W3DHordeModelDraw ModuleTag_01
        OkToChangeModelColor = Yes
        StaticModelLODMode   = Yes

        DefaultModelConditionState
            Model               = gubrgndbow
            Skeleton            = GURanger_SKL
            WeaponLaunchBone    = PRIMARY ARROW
            WeaponLaunchBone    = TERTIARY ARROW
            WeaponLaunchBone    = QUINARY ARROW
        End

        ModelConditionState     = WEAPONSET_TOGGLE_1
            Model               = guberegnd2
            Skeleton            = GUTwrGrd_SKL
        End






        AnimationState            = FIRING_E
            Animation
                AnimationName    = GURanger_BMB2
                AnimationMode   = LOOP
                AnimationSpeedFactorRange    = 2.0 2.5
                AnimationBlendTime = 30
            End
        End




        AnimationState                        = THROWN_PROJECTILE WEAPONSTATE_CLOSE_RANGE
            Animation                        = FLYA
                AnimationName                = GURanger_FLYB
                AnimationMode                = LOOP
            End
        End

        AnimationState        = THROWN_PROJECTILE WEAPONSET_TOGGLE_1
            Animation           = FLYA
                AnimationName     = GUTwrGrd_FLYA
                AnimationMode     = LOOP
            End
        End

        AnimationState                        = THROWN_PROJECTILE
            Animation                        = FLYA
                AnimationName                = GURanger_FLYA
                AnimationMode                = LOOP
            End
        End

        AnimationState                        = FREEFALL WEAPONSTATE_CLOSE_RANGE
            StateName                        = STATE_Freefall
            Animation                        = FLYB
                AnimationName                = GURanger_FLYB
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
                AnimationSpeedFactorRange    = 0.7    0.7
            End
        End

        AnimationState                            = FREEFALL WEAPONSET_TOGGLE_1
            Animation                            = Falling
                AnimationName                    = GUTwrGrd_FLYA
                AnimationMode                    = LOOP
                AnimationBlendTime                = 10
            End
        End

        AnimationState                        = FREEFALL
            SimilarRestart                    = Yes
            StateName                        = STATE_Freefall
            Animation                        = FLYA
                AnimationName                = GURanger_FLYA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
                AnimationSpeedFactorRange    = 0.65    0.65
            End
        End

        AnimationState                    =    STUNNED_FLAILING WEAPONSET_TOGGLE_1
            Animation                            = Falling
                AnimationName                    = GUTwrGrd_FLYA
                AnimationMode                    = LOOP
                AnimationBlendTime                = 10
            End
            Flags                        =    RANDOMSTART
        End

        AnimationState                    =    STUNNED_FLAILING
            Animation                    =    StunFlail
                AnimationName            =    GURanger_FLYA
                AnimationMode            =    LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            Flags                        =    RANDOMSTART
        End



       AnimationState                        = DYING DEATH_2 WEAPONSET_TOGGLE_1
            Animation
                AnimationName                = GUTwrGrd_IDLA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End

        AnimationState                        = DYING DEATH_2
            Animation
                AnimationName                = GURanger_IDLA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End

        AnimationState                        = DYING SPLATTED WEAPONSTATE_CLOSE_RANGE
            Animation                        = Splattered
                AnimationName                = GURanger_LNDB
                AnimationMode                = ONCE
            End
        End

        AnimationState        = DYING SPLATTED WEAPONSET_TOGGLE_1
            Animation           = LNDA
                AnimationName     = GUTwrGrd_LNDA
                AnimationMode     = ONCE
            End
        End

        AnimationState                        = DYING SPLATTED
            Animation                        = Splattered
                AnimationName                = GURanger_LNDA
                AnimationMode                = ONCE
            End
        End

        AnimationState                        = DYING WEAPONSTATE_CLOSE_RANGE
            Animation                        = Die
                AnimationName                = GURanger_DIEB
                AnimationMode                = ONCE
            End
        End

        AnimationState        = DYING WEAPONSET_TOGGLE_1
            Animation           = DIEA
                AnimationName     = GUTwrGrd_DIEA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.8 1.2
            End
            Animation           = DIEA
                AnimationName     = GUTwrGrd_DIEB
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.8 1.2
            End
            Animation           = DIEA
                AnimationName     = GUTwrGrd_DIEC
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.8 1.2
            End
        End

        AnimationState        = DYING
            Animation           = DIEA
                AnimationName     = GUTwrGrd_DIEA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.8 1.2
            End
            Animation           = DIEA
                AnimationName     = GUTwrGrd_DIEB
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.8 1.2
            End
            Animation           = DIEA
                AnimationName     = GUTwrGrd_DIEC
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.8 1.2
            End
        End

        AnimationState                        = PARALYZED WEAPONSET_TOGGLE_1
            Animation
                AnimationName                = GUTwrGrd_IDLA
                AnimationMode                = LOOP
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = GURanger_IDLC
                AnimationMode                = LOOP
            End
        End


        AnimationState                        = STUNNED_STANDING_UP WEAPONSTATE_CLOSE_RANGE
            Animation                        = GTPA
                AnimationName                = GURanger_GTPB
                AnimationMode                = ONCE
                AnimationSpeedFactorRange    = 0.7 1.1
            End
        End

        AnimationState        = STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
            Animation           = GTPA
                AnimationName     = GUTwrGrd_GTPA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState                        = STUNNED_STANDING_UP
            Animation                        = GTPA
                AnimationName                = GURanger_GTPA
                AnimationMode                = ONCE
                AnimationSpeedFactorRange    = 0.7 1.1
            End
        End

        AnimationState                        = STUNNED WEAPONSTATE_CLOSE_RANGE
            Animation                        = Stun
                AnimationName                = GURanger_LNDB
                AnimationMode                = ONCE
            End
        End

        AnimationState        = STUNNED WEAPONSET_TOGGLE_1
            Animation           = LNDA
                AnimationName     = GUTwrGrd_LNDA
                AnimationMode     = ONCE
            End
        End

        AnimationState                        = STUNNED
            Animation                        = Stun
                AnimationName                = GURanger_LNDA
                AnimationMode                = ONCE
            End
        End




        AnimationState        =  FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
            Animation           = ATKA
                AnimationName     = GUTwrGrd_ATKA
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            Animation           = ATKA
                AnimationName     = GUTwrGrd_ATKB
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End

        End


        AnimationState        =  FIRING_OR_PREATTACK_B
            Animation           = ATKD
                AnimationName     = GURanger_ATKA
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            Animation           = ATKE
                AnimationName     = GURanger_ATKB
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End

            StateName           = STATE_Sword
            BeginScript
                CurDrawableHideSubObject("arrow")
                CurDrawableHideSubObject("arrownock")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_SwitchToSwords") end
            EndScript
        End



        AnimationState                        = PREATTACK_A
            StateName                        = STATE_Firing
            Animation                        = ReadyToDrawn
                AnimationName                = GURanger_ATKD1
                AnimationMode                = ONCE

                AnimationSpeedFactorRange    = 1.5 1.5
                AnimationBlendTime            = 10
            End
            BeginScript
                CurDrawableShowSubObject("arrow")
                CurDrawableShowSubObject("arrownock")
            EndScript
        End

        AnimationState                        = FIRING_OR_RELOADING_A
            StateName                        = STATE_Firing
            Animation                        = OneFrameOfShooting
                AnimationName                = GURanger_ATKD2
                AnimationMode                = ONCE

                AnimationSpeedFactorRange    = 1.0 1.0
                AnimationBlendTime            = 0
            End
            BeginScript
                CurDrawableShowSubObject("arrow")
                CurDrawableShowSubObject("arrownock")
            EndScript
        End

        AnimationState                        = PREATTACK_C
            StateName                        = STATE_Firing
            Animation                        = ReadyToDrawn
                AnimationName                = GURanger_ATKD1
                AnimationMode                = ONCE

                AnimationSpeedFactorRange    = 1.5 1.5
                AnimationBlendTime            = 10
            End
            BeginScript
                CurDrawableShowSubObject("arrow")
                CurDrawableShowSubObject("arrownock")
            EndScript
        End

        AnimationState                        = FIRING_OR_RELOADING_C
            StateName                        = STATE_Firing
            Animation                        = OneFrameOfShooting
                AnimationName                = GURanger_ATKD2
                AnimationMode                = ONCE

                AnimationSpeedFactorRange    = 1.0 1.0
                AnimationBlendTime            = 0
            End
            BeginScript
                CurDrawableShowSubObject("arrow")
                CurDrawableShowSubObject("arrownock")
            EndScript
        End








        AnimationState                        = MOVING WEAPONSTATE_CLOSE_RANGE
            StateName                        = STATE_Sword
            Animation                        = RunWithSword
                AnimationName                = GURanger_RUNB
                AnimationMode                = LOOP
                Distance                    = 28
            End
            BeginScript
                CurDrawableHideSubObject("arrow")
                CurDrawableHideSubObject("arrownock")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
            EndScript
        End

        AnimationState        = MOVING WEAPONSET_TOGGLE_1
            StateName                        = STATE_Pike
            ShareAnimation = Yes
            Animation           = RUNA
                AnimationName     = GUTwrGrd_RUNA
                AnimationMode     = LOOP
            End
            Animation
                AnimationName     = GUTwrGrd_RUNB
                AnimationMode     = LOOP
            End
            Flags               = RANDOMSTART

        End

        AnimationState                        = MOVING
            StateName                        = STATE_Bow
            Animation                        = RunWithSword
                AnimationName                = GURanger_RUNA
                AnimationMode                = LOOP
                Distance                    = 28
            End
            BeginScript
                CurDrawableShowSubObject("arrow")
                CurDrawableShowSubObject("arrownock")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
            EndScript
        End


        AnimationState                    = CONTINUOUS_FIRE_MEAN
            StateName                    =    STATE_Firing
            Animation                    =    HangFrameWhileCoasting
                AnimationName            =    GURanger_ATKD2
                AnimationMode            =    MANUAL
            End
            BeginScript
                CurDrawableShowSubObject("arrow")
                CurDrawableShowSubObject("arrownock")
            EndScript
        End

        AnimationState                        = CONTINUOUS_FIRE_SLOW
            StateName                        = STATE_Idle
            Animation                        = PutAwayArrow
                AnimationName                = GURanger_ATKD3
                AnimationMode                = ONCE
            End
            BeginScript
                CurDrawableShowSubObject("arrow")
                CurDrawableShowSubObject("arrownock")
            EndScript
        End


        AnimationState                    = EMOTION_TAUNTING WEAPONSET_TOGGLE_1
            Animation                    = Taunting
                AnimationName            = GUTwrGrd_TNTA
                AnimationMode            = ONCE
            End
            Animation                    = Taunting2
                AnimationName            = GUTwrGrd_TNTB
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                        = EMOTION_TAUNTING
            ShareAnimation                    = Yes
            Animation                        = Taunting
                AnimationName                = GURanger_TNTA
                AnimationMode                = ONCE
            End
            Animation                        = Taunting2
                AnimationName                = GURanger_TNTB
                AnimationMode                = ONCE
            End
            Flags                            = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableShowSubObject("arrow")
                CurDrawableShowSubObject("arrownock")
            EndScript
        End

        AnimationState                        = EMOTION_POINTING WEAPONSTATE_CLOSE_RANGE
            Animation                        = Point
                AnimationName                = GURanger_PNTA
                AnimationMode                = LOOP
            End
            Flags                = RANDOMSTART
            BeginScript
                CurDrawableHideSubObject("arrow")
                CurDrawableHideSubObject("arrownock")
            EndScript
        End


        AnimationState                    = EMOTION_POINTING WEAPONSET_TOGGLE_1
            Animation                    = Pointing1
                AnimationName            = GUTwrGrd_PNTA
                AnimationMode            = LOOP
            End
            Animation                    = Pointing1
                AnimationName            = GUTwrGrd_PNTB
                AnimationMode            = LOOP
            End
            Flags                        = RANDOMSTART
        End

        AnimationState                        = EMOTION_POINTING
            Animation                        = Pointing1
                AnimationName                = GURanger_PNTA
                AnimationMode                = LOOP
            End
            Flags                        = RANDOMSTART
            BeginScript
                CurDrawableShowSubObject("arrow")
                CurDrawableShowSubObject("arrownock")
            EndScript
        End

        AnimationState                        = EMOTION_CELEBRATING WEAPONSTATE_CLOSE_RANGE
            Animation                        = &&CHEER WITH SWORD&&
                AnimationName                = GURanger_IDLA
                AnimationMode                = LOOP
            End
            BeginScript
                CurDrawableHideSubObject("arrow")
                CurDrawableHideSubObject("arrownock")
            EndScript
        End

        AnimationState                    = EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
            Animation                    = CHRA
                AnimationName            = GUTwrGrd_CHRA
                AnimationMode            = LOOP
            End
            Animation                    = CHRA
                AnimationName            = GUTwrGrd_CHRB
                AnimationMode            = LOOP
            End
            Animation                    = CHRA
                AnimationName            = GUTwrGrd_CHRC
                AnimationMode            = LOOP
            End
        End

        AnimationState                        = EMOTION_CELEBRATING
            ShareAnimation                    = Yes
            Animation                        = CHRA
                AnimationName                = GURanger_CHRA
                AnimationMode                = Once
            End
            Animation                        = CHRB
                AnimationName                = GURanger_CHRB
                AnimationMode                = Once
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableShowSubObject("arrow")
                CurDrawableShowSubObject("arrownock")
            EndScript
        End

        AnimationState                    = EMOTION_ALERT WEAPONSET_TOGGLE_1
            Animation                    = CHRA
                AnimationName            = GUTwrGrd_IDLA
                AnimationMode            = LOOP
            End
        End

        AnimationState                        = EMOTION_ALERT
            StateName                        = STATE_Alert
            Animation                        = Alert
                AnimationName                = GURanger_IDLA
                AnimationMode                = ONCE
            End
            BeginScript
                CurDrawableShowSubObject("arrow")
                CurDrawableShowSubObject("arrownock")


            EndScript
        End

        AnimationState                    = RAISING_FLAG WEAPONSET_TOGGLE_1
            ShareAnimation                    = Yes
            Animation                    = CHRA
                AnimationName            = GUTwrGrd_CHRA
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Animation                    = CHRA
                AnimationName            = GUTwrGrd_CHRB
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Animation                    = CHRA
                AnimationName            = GUTwrGrd_CHRC
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                        = RAISING_FLAG
            ShareAnimation                    = Yes
            Animation                        = CHRA
                AnimationName                = GURanger_CHRA
                AnimationMode                = Once
                AnimationSpeedFactorRange    = 0.9 1.1
            End
            Animation                        = CHRB
                AnimationName                = GURanger_CHRB
                AnimationMode                = Once
                AnimationSpeedFactorRange    = 0.9 1.1
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState                    = SELECTED WEAPONSET_TOGGLE_1
            StateName                    = STATE_Selected_Pike

            ShareAnimation                = Yes
            Animation                    = ATNB
                AnimationName            = GUTwrGrd_ATNB
                AnimationMode            = LOOP
            End
        End


        AnimationState                        = SELECTED
            StateName                        = STATE_Selected
            Animation                        = Selected
                AnimationName                = GURanger_IDLD
                AnimationMode                = LOOP
            End
            BeginScript
                CurDrawableShowSubObject("arrow")
                CurDrawableShowSubObject("arrownock")


            EndScript
        End




        AnimationState                   = WEAPONSET_TOGGLE_1
            StateName                    = STATE_Idle
            Animation                    = IDLB
                AnimationName            = GUTwrGrd_IDLB
                AnimationMode            = ONCE
                AnimationBlendTime        = 15
                AnimationSpeedFactorRange = 0.8 1.2
            End
            Animation                    = IDLC
                AnimationName            = GUTwrGrd_IDLC
                AnimationMode            = ONCE
                AnimationBlendTime        = 9
                AnimationSpeedFactorRange = 0.8 1.2
            End
            Animation                    = IDLD
                AnimationName            = GUTwrGrd_IDLD
                AnimationMode            = ONCE
                AnimationBlendTime        = 9
                AnimationSpeedFactorRange = 0.8 1.2
            End
            Animation                    = IDLE
                AnimationName            = GUTwrGrd_IDLE
                AnimationMode            = ONCE
                AnimationBlendTime        = 9
                AnimationSpeedFactorRange = 0.8 1.2
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End

        IdleAnimationState
            StateName                        = STATE_Bow_Idle

            Animation                        = IdleBowG
                AnimationName                = GURanger_IDLC
                AnimationMode                = ONCE
                AnimationPriority            = 6
            End
            Animation                        = IdleBowG
                AnimationName                = GURanger_IDLC
                AnimationMode                = ONCE
                AnimationPriority            = 6
            End
            Animation                        = IdleBowG
                AnimationName                = GURanger_IDLF
                AnimationMode                = ONCE
            End
            Animation                        = IdleBowF
                AnimationName                = GURanger_IDLG
                AnimationMode                = ONCE
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableShowSubObject("arrow")
                CurDrawableShowSubObject("arrownock")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_AttentionToIdle") end
            EndScript
        End


        TransitionState                        = TRANS_Bow_To_Sword
            Animation                        = DrawSwords
                AnimationName                = GURanger_STHA
                AnimationMode                = ONCE
                AnimationSpeedFactorRange    = 0.9 1.1
            End
        End

        TransitionState                        = TRANS_Sword_To_Bow
            Animation                        = DrawBow
                AnimationName                = GURanger_STHB
                AnimationMode                = ONCE
                AnimationSpeedFactorRange    = 0.9 1.1
            End
        End

        TransitionState       = TRANS_IdleToAttention
            Animation           = ATNA
                AnimationName     = GURanger_ATNA
                AnimationMode     = ONCE
            End
        End

        TransitionState       = TRANS_AttentionToIdle
            Animation           = ATND
                AnimationName     = GURanger_ATNA
                AnimationMode     = ONCE_BACKWARDS
            End
            Flags                = START_FRAME_LAST
        End

        TransitionState       = TRANS_IdleToAttention
            Animation           = ATNA
                AnimationName     = GURanger_ATNC
                AnimationMode     = ONCE
            End
        End

        TransitionState       = TRANS_AttentionToIdle
            Animation           = ATND
                AnimationName     = GURanger_ATNC
                AnimationMode     = ONCE_BACKWARDS
            End
            Flags                = START_FRAME_LAST
        End

    End


    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End

    Draw = W3DScriptedModelDraw ModuleTag_Schmiedekunst
        DefaultModelConditionState
            Model = None
        End
        ModelConditionState = USER_8
            Model           = exldrspimla
        End
    End


    #include "..\..\..\includes\StunDrawModuleSmall.inc"


    Side                = Men
    EditorSorting       = UNIT
    ThreatLevel         = BOROMIR_THREAT_LEVEL
    ThingClass          = CHARACTER_UNIT
    BuildCost           = BEREGONDDAG_COST
    BuildTime           = WEAK_HERO_BUILDTIME
    DisplayMeleeDamage  = BEREGONDDAG_DAMAGE
    DisplayRangedDamage = BEREGONDDAG_RANGED

    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO

    WeaponSet
        Conditions    = None
        Weapon        = PRIMARY    BeregondBow
    End

    WeaponSet
        Conditions    = WEAPONSET_TOGGLE_1
        Weapon        = PRIMARY    BeregondPike
    End

    WeaponSet
        Conditions    = CLOSE_RANGE CONTESTING_BUILDING
        Weapon        = PRIMARY    GondorArcherBowMelee
        Weapon        = SECONDARY  BeregondSword
        OnlyAgainst   = PRIMARY STRUCTURE
    End

    ArmorSet
        Conditions    = None
        Armor         = WeakHeroArmor
        DamageFX      = NormalDamageFX
    End

    VisionRange = 350
    ShroudClearingRange = 400

    MaxVisionBonusPercent     = 300%
    VisionBonusTestRadius     = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue    = GONDOR_BOROMIR_BOUNTY_VALUE
    DisplayName    = OBJECT:GondorBeregond
    RecruitText    = CONTROLBAR:GondorBeregondRecruit_Neu
    ReviveText     = CONTROLBAR:GondorBeregondRevive
    Hotkey         = CONTROLBAR:GondorBeregondHotkey
    CrushableLevel = 2

    CommandSet    = BeregondCommandSet
    CommandPoints = 0



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_FaramirBody

    AutoResolveArmor
        Armor = AutoResolve_FaramirArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_FaramirWeapon
    End

    AutoResolveLeadership = AutoResolve_FaramirBonus




    VoiceAttack                  = BeregondVoiceAttack
    VoiceAttackCharge            = BeregondVoiceAttack
    VoiceAttackMachine           = BeregondVoiceAttackStructure
    VoiceAttackStructure         = BeregondVoiceAttackStructure
    VoiceCreated                 = BeregondVoiceCreated
    VoiceFullyCreated            = BeregondVoiceCreated
    VoiceFear                    = BeregondVoiceHelpMe
    VoiceMove                    = BeregondVoiceMove
    VoiceMoveToCamp              = BeregondVoiceMove
    VoicePriority                = 85
    VoiceRetreatToCastle         = BeregondVoiceMove
    VoiceSelect                  = BeregondVoiceSelect
    VoiceSelectBattle            = BeregondVoiceSelectinBattle
    VoiceGuard                   = BeregondVoiceMove

    SoundImpact                  = ImpactHorse

    UnitSpecificSounds
        VoiceGarrison                       = BeregondVoiceMove
        VoiceEnterUnitElvenTransportShip    = BeregondVoiceMove
        VoiceInitiateCaptureBuilding        = BeregondVoiceMove
    End

    CrowdResponseKey = GoodMen

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:ArrowDrawBow                      Animation:GURanger_SKL.GURanger_ATKD1    Frames:7
        AnimationSound = Sound:ArrowDrawBow                      Animation:GURanger_SKL.GURanger_ATKD2    Frames:17

        AnimationSound = Sound:SwordShingClean1ForHordes         Animation:GURanger_SKL.GURanger_STHA     Frames:10
        AnimationSound = Sound:SwordIntoScabbard1ForHordes       Animation:GURanger_SKL.GURanger_STHB     Frames:6

        AnimationSound = Sound:BodyFallGenericNoArmor            Animation:GURanger_SKL.GURanger_LNDA    Frames:4
        AnimationSound = Sound:BodyFallGenericNoArmor            Animation:GURanger_SKL.GURanger_LNDB    Frames:5

        AnimationSound = Sound:BodyFallGenericNoArmor            Animation:GURanger_SKL.GURanger_DIEA    Frames:50
        AnimationSound = Sound:BodyFallGenericNoArmor            Animation:GURanger_SKL.GURanger_DIEB    Frames:51
    End

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Man Man_Male Unit Infantry Hero
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE HERO ARMY_SUMMARY HEAVY_MELEE_HITTER ARCHER THROWN_OBJECT
    PathfindDiameter = 40.0

    Body = RespawnBody ModuleTag_RespawnBody
        CheerRadius               = EMOTION_CHEER_RADIUS
        MaxHealth                 = BEREGONDDAG_HEALTH
        PermanentlyKilledByFilter = NONE
        DodgePercent              = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                 = DYING
        DeathAnimationTime        = 4966
        RespawnAnim               = LEVELED
        RespawnAnimationTime      = 2000
        AutoRespawnAtObjectFilter = NONE +CASTLE_KEEP
        ButtonImage               = HPBeregond
        RespawnAsTemplate         = GondorBeregond

        RespawnRules =    AutoSpawn:No           Cost:BEREGONDDAG_COST       Time:WEAK_HERO_RESPAWNTIME        Health:100%
    End

    Behavior = AutoHealBehavior ModuleTag_BoromirHealing
        StartsActive          = Yes
        HealingAmount         = HERO_HEAL_AMOUNT
        HealingDelay          = 1000
        StartHealingDelay     = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = LifetimeUpdate ModuleTag_LifeTime
        WaitForWakeUp = Yes
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

    #include "..\..\..\includes\CaptureBuilding.inc"


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle       = Yes ATTACK_BUILDINGS STEALTHED
        StopChaseDistance                = 562
        MoodAttackCheckRate              = 500
        HoldGroundCloseRangeDistance     = 40
        CanAttackWhileContained          = Yes
        AILuaEventsList                  = RangerFunctions
        MinCowerTime                     = 4000
        MaxCowerTime                     = 6000
        AttackPriority                   = AttackPriority_Archer
        BurningDeathTime                 = BURNINGDEATH_DURATION_INFANTRY
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance               = 300
        TauntAndPointUpdateDelay            = 10000
        AddEmotion            =    Doom_Base
        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
        AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base
        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
    End

    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_GOOD_HERO_SPEED
    End

    Behavior = DualWeaponBehavior ModuleTag_13
        SwitchWeaponOnCloseRangeDistance = 24
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult       = 1.0
        ShockStandingTime = 4000
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes       = ALL
        SinkDelay        = 30000
        SinkRate         = 0.40
        DestructionDelay = 8000
        Sound            = INITIAL BeregondVoiceHelpMe
    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 7
        HitReactionLifeTimer2 = 15
        HitReactionLifeTimer3 = 10

        HitReactionThreshold1 = 0.0
        HitReactionThreshold2 = 25.0
        HitReactionThreshold3 = 50.0
    End

    Behavior = AttributeModifierUpgrade ModuleTag_FinrodBonus
        TriggeredBy       = Upgrade_RaiseShield
        AttributeModifier = FinarfinRingModifierHero
    End





    Behavior = WeaponChangeSpecialPowerModule THING
        SpecialPowerTemplate      = SpecialAbilityBerserkerLightTorch
        FlagsUsedForToggle        = WEAPONSET_TOGGLE_1
        ToggleOnAttributeModifier = WaffenwechselHeroModifier
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseLeadership2
        SpecialPowerTemplate = SpecialAbilityFakeLeadership2
        TriggeredBy 	     = Upgrade_Level_3
    End

    Behavior = SpecialPowerModule ModuleTag_BoromirLeadershipUpdate2
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership2
        UpdateModuleStartsAttack  = No
        StartsPaused = Yes
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_BoromirLeadership1
        StartsActive    = No
        BonusName       = BeregondVerteidigerModifier1
        TriggeredBy     = Upgrade_Level_3
        RefreshDelay    = 2000
        Range           = 200
        ObjectFilter    = ANY +STRUCTURE -COMMANDCENTER -WALL_GATE -WALL_SEGMENT -WALL_HUB -DEFENSIVE_WALL -FS_BASE_DEFENSE -GondorSentryTower_Independant -GondorSentryTower -GondorKeep -GondorBattleTower ALLIES
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_BoromirLeadership2
        StartsActive    = No
        BonusName       = BeregondVerteidigerModifier2
        TriggeredBy     = Upgrade_Level_3
        RefreshDelay    = 2000
        Range           = 200
        ObjectFilter    = ANY +COMMANDCENTER +WALL_GATE +WALL_SEGMENT +WALL_HUB +DEFENSIVE_WALL +FS_BASE_DEFENSE +GondorSentryTower_Independant +GondorSentryTower +GondorKeep +GondorBattleTower ALLIES
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_KompanieEnabler
        SpecialPowerTemplate    = SpecialAbilityBeregondKompanie
        TriggeredBy             = Upgrade_Level_5
    End

    Behavior = OCLSpecialPower ModuleTag_KompanieSpecialPower
        SpecialPowerTemplate    = SpecialAbilityBeregondKompanie
        OCL                     = OCL_SummonBeregondKompanie
        TriggerFX               = FX_GamlingHeroldSummon
        CreateLocation          = CREATE_AT_LOCATION
        StartsPaused            = Yes
    End

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_KommandantKompanieEnabler
        SpecialPowerTemplate    = SpecialAbilityBeregondKommandantKompanie
        TriggeredBy             = Upgrade_Level_5
    End

    Behavior = OCLSpecialPower ModuleTag_KommandantKompanieSpecialPower
        SpecialPowerTemplate    = SpecialAbilityBeregondKommandantKompanie
        OCL                     = OCL_SummonBeregondKommandantKompanie
        TriggerFX               = FX_GamlingHeroldSummon
        CreateLocation          = CREATE_AT_LOCATION
        StartsPaused            = Yes
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_RetterEnabler
        SpecialPowerTemplate     = SpecialAbilityRetterinderNot
        TriggeredBy              = Upgrade_Level_8
    End

    Behavior = SpecialPowerModule ModuleTag_RetterStarter
        SpecialPowerTemplate     = SpecialAbilityRetterinderNot
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_RetterUpdate
        SpecialPowerTemplate     = SpecialAbilityRetterinderNot
        SkipContinue             = Yes
        UnpackTime               = 1100
        PreparationTime          = 1
        PersistentPrepTime       = 500
        PackTime                 = 500
        MustFinishAbility        = Yes
        AwardXPForTriggering     = 0
        StartAbilityRange        = 200
        SpecialWeapon            = RetterinderNotWeapon
        WhichSpecialWeapon       = 1
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseKommandant
        SpecialPowerTemplate     = SpecialAbilityFakeLeadership
        TriggeredBy              = Upgrade_Level_10
    End

    Behavior = SpecialPowerModule ModuleTag_KommandantUpdate
        SpecialPowerTemplate     = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack = No
        StartsPaused             = Yes
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_KommandantLeadership
        StartsActive             = No
        BonusName                = BeregondKommandantLeadership
        TriggeredBy              = Upgrade_Level_10
        RefreshDelay             = 2000
        Range                    = 200

        ObjectFilter             = GONDOR_LEADERSHIP_HEROES_OBF ;ANY +HERO ALLIES
    End

    Behavior = SubObjectsUpgrade Armor_UpgradeLvl10
        TriggeredBy              = Upgrade_Level_10
        UpgradeTexture           = guberegnd.tga 0 guberegnd_w.tga
        UpgradeTexture           = gucitgrdequ2.tga 0 gucitgrdequ2_w.tga
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSetLvl10
        TriggeredBy              = Upgrade_Level_10
        CommandSet               = BeregondCommandSet_Lvl10
    End

    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP = Yes
    End





    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName  = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName  = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName  = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End

    Behavior = AISpecialPowerUpdate ElvenLorienWarriorHordeCaptureBuildingAI
        CommandButtonName  = Command_CaptureBuilding
        SpecialPowerAIType = AI_SPECIAL_POWER_CAPTURE_BUILDING
    End

    Behavior = AISpecialPowerUpdate SpecialPowerBoromirGiveXPAoE
        CommandButtonName = Command_SpecialAbilityBeregondKompanie
        SpecialPowerAIType = AI_SPECIAL_POWER_GIVEXP_AOE
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornOathBreakers
        CommandButtonName = Command_SpecialAbilityBeregondKommandantKompanie
        SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate SpecialPowerTheodenGiveXPAoE
        CommandButtonName = Command_SpecialAbilityRetterinderNot
        SpecialPowerAIType = AI_SPECIAL_POWER_GIVEXP_AOE
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate AToggleWeaponAI
        CommandButtonName = Command_ToggleBeregondWeapon
        SpecialPowerAIType = AI_SPECIAL_POWER_TOGGLE_MELEE_AND_RANGE
    End

    Geometry 		= CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight 	= 19.2
    GeometryIsSmall 	= Yes
    Shadow 		= SHADOW_DECAL
    ShadowSizeX 	= 20
    ShadowSizeY 	= 20
    ShadowTexture 	= ShadowI
End

