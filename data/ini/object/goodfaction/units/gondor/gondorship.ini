Object GondorShip_Interface


    SelectPortrait = UPEvil_Battleship

    Draw = W3DScriptedModelDraw ModuleTag_HullDraw
        OkToChangeModelColor = Yes

        StaticModelLODMode    = Yes
        ExtraPublicBone        = ARROW

        DefaultModelConditionState
            Model                = gubtlshp
            WeaponLaunchBone    = PRIMARY ARROW
        End

        ModelConditionState = DAMAGED ARMORSET_PLAYER_UPGRADE
            Model    = gubtlshp
            Texture = gubtlshp_u.tga gubtlshp_u_d.tga
            Texture = gubtlshp.tga gubtlshp_d.tga

            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireFront FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireRight FireBoatLargeEmbers FollowBone:Yes

        End

        ModelConditionState = REALLYDAMAGED ARMORSET_PLAYER_UPGRADE
            Model    = gubtlshp
            Texture = gubtlshp_u.tga gubtlshp_u_d.tga
            Texture = gubtlshp.tga gubtlshp_d.tga

            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireBeam02 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatSmallEmbers FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireFront FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireRight FireBoatLargeEmbers FollowBone:Yes

            ParticleSysBone = FireBack FireBoatLarge FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeSmoke FollowBone:Yes
        End

        ModelConditionState = DYING ARMORSET_PLAYER_UPGRADE
            Model    = gubtlshp
            Texture = gubtlshp_u.tga gubtlshp_u_d.tga
            Texture = gubtlshp.tga gubtlshp_d.tga
        End

        ModelConditionState = ARMORSET_PLAYER_UPGRADE
            Model    = gubtlshp
            Texture = gubtlshp.tga gubtlshp_u.tga
        End

        ModelConditionState = DAMAGED
            Model    = gubtlshp
            Texture = gubtlshp.tga gubtlshp_d.tga

            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireFront FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireRight FireBoatLargeEmbers FollowBone:Yes

        End

        ModelConditionState = REALLYDAMAGED
            Model    = gubtlshp
            Texture = gubtlshp.tga gubtlshp_d.tga
            Texture = gubtlshp.tga gubtlshp_d.tga

            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireBeam02 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatSmallEmbers FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireFront FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireRight FireBoatLargeEmbers FollowBone:Yes

            ParticleSysBone = FireBack FireBoatLarge FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeSmoke FollowBone:Yes
        End

        ModelConditionState = DYING
            Model    = gubtlshp
            Texture = gubtlshp.tga gubtlshp_d.tga
            Texture = gubtlshp.tga gubtlshp_d.tga
        End

        ModelConditionState = JUST_BUILT
            Model    =  aucorship_a
            Texture = AUCorShip.tga gubtlshp.tga
        End

        IdleAnimationState
            StateName = State_NotDamaged
        End

        AnimationState  = JUST_BUILT
            StateName = State_NotDamaged
            Animation = Being_Built
                AnimationName = aucorship_a.aucorship_a
                AnimationMode = ONCE
            End
            BeginScript
               CurDrawableHideSubObject("AUCORSHIPALPH ")
               CurDrawableHideSubObject("OBJECT01")
               CurDrawableHideSubObject("OBJECT02")
               CurDrawableHideSubObject("OBJECT05")
               CurDrawableHideSubObject("OBJECT06")
               CurDrawableHideSubObject("OBJECT07")
               CurDrawableHideSubObject("OBJECT08")
            EndScript
            ParticleSysBone = FireFront BoatFrontDust FollowBone:Yes
            ParticleSysBone = FireBack BoatBackDust FollowBone:Yes
            ParticleSysBone = FireLeft BoatSideDust FollowBone:Yes
            ParticleSysBone = FireBack BoatSideDust FollowBone:Yes

            FXEvent    = Frame:265 Name: FX_BoatWaterBlast
        End

        AnimationState = DYING
            StateName        = State_NotDamaged
            EnteringStateFX    = FX_BuildingReallyDamaged



            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireBeam02 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatBeamSmoke FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatSmallEmbers FollowBone:Yes

            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireFront FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireRight FireBoatLargeEmbers FollowBone:Yes

            ParticleSysBone = FireBack FireBoatLarge FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeSmoke FollowBone:Yes
        End

        AnimationState = DAMAGED
            StateName        = State_Damaged
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_NotDamaged"
                    then CurDrawableSetTransitionAnimState("TRANS_ToDamaged") end
            EndScript
        End

        AnimationState = REALLYDAMAGED
            StateName        = State_ReallyDamaged
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_NotDamaged" or Prev == "State_Damaged"
                    then CurDrawableSetTransitionAnimState("TRANS_ToReallyDamaged") end
            EndScript
        End

        AnimationState = MOVING
            StateName        = State_NotDamaged
            ParticleSysBone = WakeFront WakeBack2 FollowBone:Yes
            ParticleSysBone = WakeFront Wake
        End

        TransitionState = TRANS_ToReallyDamaged
            StateName        = TRANS_ToReallyDamaged
            EnteringStateFX    = FX_BuildingReallyDamaged
        End

        TransitionState = TRANS_ToDamaged
            StateName        = TRANS_ToDamaged
            EnteringStateFX    = FX_BuildingReallyDamaged
        End
    End

    Draw = W3DSailModelDraw ModuleTag_Sail01Draw
        AttachToBoneInAnotherModule = SAIL_BONE01
        MaxRotationDegrees            = 45

        RandomTexture = gubtlshpw.tga  0 EUBtlShipW.tga

        DefaultModelConditionState
            Model = EUBSHP_S1_SKN
        End

        ModelConditionState = JUST_BUILT
            Model = None
        End



        ModelConditionState = USER_1 REALLYDAMAGED
            Model    = EUBSHP_S1_SKN
            Texture = EUBtlShipW.tga gubtlshpw_u_d.tga
            Texture = GUBtlShipW.tga gubtlshpw_u_d.tga
        End

        ModelConditionState = USER_1 DYING
            Model    = EUBSHP_S1_SKN
            Texture = EUBtlShipW.tga gubtlshpw_u_d.tga
            Texture = GUBtlShipW.tga gubtlshpw_u_d.tga
        End

        ModelConditionState = USER_1
            Model    = EUBSHP_S1_SKN
            Texture = EUBtlShipW.tga gubtlshpw_u.tga
            Texture = GUBtlShipW.tga gubtlshpw_u.tga
        End



        ModelConditionState = REALLYDAMAGED
            Model    = EUBSHP_S1_SKN
            Texture = EUBtlShipW.tga gubtlshpw_d.tga
            Texture = GUBtlShipW.tga gubtlshpw_d.tga
        End

        ModelConditionState = DYING
            Model    = EUBSHP_S1_SKN
            Texture = EUBtlShipW.tga gubtlshpw_d.tga
            Texture = GUBtlShipW.tga gubtlshpw_d.tga
        End

        IdleAnimationState
            Animation
                AnimationName       = EUBSHP_S1_SKL.EUBSHP_S1_IDLA
                AnimationMode       = LOOP
                AnimationBlendTime  = 20
            End
        End
        AnimationState                = MOVING SAIL_BLOWN_LEFT
            Animation
                AnimationName       = EUBSHP_S1_SKL.EUBSHP_S1_WNDL
                AnimationMode       = LOOP
                AnimationBlendTime  = 15
            End
        End
        AnimationState                = MOVING SAIL_BLOWN_RIGHT
            Animation
                AnimationName       = EUBSHP_S1_SKL.EUBSHP_S1_WNDR
                AnimationMode       = LOOP
                AnimationBlendTime  = 15
            End
        End
        AnimationState                = MOVING
            Animation
                AnimationName       = EUBSHP_S1_SKL.EUBSHP_S1_WNDF
                AnimationMode       = LOOP
                AnimationBlendTime  = 20
            End
        End
    End

    Draw = W3DSailModelDraw ModuleTag_Sail02Draw
        AttachToBoneInAnotherModule = SAIL_BONE02
        MaxRotationDegrees            = 45

        RandomTexture = gubtlshpw.tga  0 EUBtlShipW.tga

        DefaultModelConditionState
            Model = EUBSHP_S2_SKN
        End

        ModelConditionState = JUST_BUILT
            Model = None
        End



        ModelConditionState = USER_1 REALLYDAMAGED
            Model    = EUBSHP_S2_SKN
            Texture = EUBtlShipW.tga gubtlshpw_u_d.tga
            Texture = GUBtlShipW.tga gubtlshpw_u_d.tga
        End

        ModelConditionState = USER_1 DYING
            Model    = EUBSHP_S2_SKN
            Texture = EUBtlShipW.tga gubtlshpw_u_d.tga
            Texture = GUBtlShipW.tga gubtlshpw_u_d.tga
        End

        ModelConditionState = USER_1
            Model    = EUBSHP_S2_SKN
            Texture = EUBtlShipW.tga gubtlshpw_u.tga
            Texture = GUBtlShipW.tga gubtlshpw_u.tga
        End



        ModelConditionState = REALLYDAMAGED
            Model    = EUBSHP_S2_SKN
            Texture = EUBtlShipW.tga gubtlshpw_d.tga
            Texture = GUBtlShipW.tga gubtlshpw_d.tga
        End

        ModelConditionState = DYING
            Model    = EUBSHP_S2_SKN
            Texture = EUBtlShipW.tga gubtlshpw_d.tga
            Texture = GUBtlShipW.tga gubtlshpw_d.tga
        End

        IdleAnimationState
            Animation
                AnimationName       = EUBSHP_S2_SKL.EUBSHP_S2_IDLA
                AnimationMode       = LOOP
                AnimationBlendTime  = 20
            End
        End
        AnimationState                = MOVING SAIL_BLOWN_LEFT
            Animation
                AnimationName       = EUBSHP_S2_SKL.EUBSHP_S2_WNDL
                AnimationMode       = LOOP
                AnimationBlendTime  = 15
            End
        End
        AnimationState                = MOVING SAIL_BLOWN_RIGHT
            Animation
                AnimationName       = EUBSHP_S2_SKL.EUBSHP_S2_WNDR
                AnimationMode       = LOOP
                AnimationBlendTime  = 15
            End
        End
        AnimationState                = MOVING
            Animation
                AnimationName       = EUBSHP_S2_SKL.EUBSHP_S2_WNDF
                AnimationMode       = LOOP
                AnimationBlendTime  = 20
            End
        End
    End


    Side                = Men
    EditorSorting        = UNIT
    ThreatLevel            = CORSAIRSHIP_THREAT_LEVEL
    TransportSlotCount    = TRANSPORTSLOTCOUNT_NOT_TRANSPORTABLE
    HealthBoxScale        = 0.5
    HealthBoxHeightOffset    = -20

    BountyValue            = EVILMEN_BLACKRIDER_BOUNTY_VALUE
    VisionRange            = EVILMEN_SHIP_VISION_RANGE
    ShroudClearingRange        = SHROUD_CLEAR_BATTLESHIP

    BuildFadeInOnCreateTime = 2

    CrushableLevel        = 3
    CrusherLevel        = 1
    CommandPoints        = 25
    CommandSet            = GoodLargeShipCommandSet
    BuildTime            = MEDIUM_BUILDTIME
    BuildCost            = 500
    ShockwaveResistance = SHOCKWAVE_RESISTANCE_ALWAYS

    ArmorSet
        Conditions      = None
        Armor           = LargeShipArmor
        DamageFX        = None
    End

    ArmorSet
        Conditions      = PLAYER_UPGRADE
        Armor           = LargeShipHeavyArmor
        DamageFX        = None
    End



    VoiceAttack                    = EvilMenCorsairShipAttack
    VoiceAttackCharge            = EvilMenCorsairShipAttack
    VoiceAttackStructure        = EvilMenCorsairShipAttack
    VoiceAttackMachine            = EvilMenCorsairShipAttack
    VoiceCreated                 = EvilMenCorsairShipAttack
    VoiceCreated                 = ShipSalute
    VoiceFullyCreated             = ShipSalute
    VoiceGuard                    = EvilMenCorsairShipMove
    VoiceMove                     = EvilMenCorsairShipMove
    VoiceMoveToCamp             = EvilMenCorsairShipMove
    VoiceMoveWhileAttacking        = EvilMenCorsairShipMove
    VoiceRetreatToCastle        = EvilMenCorsairShipMove
    VoiceSelect                 = EvilMenCorsairShipSelect
    VoiceSelectBattle             = EvilMenCorsairShipSelect

    SoundAmbient                = EvilMenCorsairShipAmbienceMS
    SoundAmbientDamaged            = GenericFireMediumLoop
    SoundAmbientReallyDamaged    = GenericFireLargeLoop
    SoundImpact                 = ImpactHorse
    SoundMoveLoop                = EvilMenCorsairShipMoveLoopMS

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"


    RadarPriority    = UNIT
    ThingClass        = CAVALRY_UNIT
    KindOf            = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS SCORE LARGE_RECTANGLE_PATHFIND CAN_ATTACK SHIP HAS_HEALTH_BAR

    Body = ActiveBody ModuleTag_02
        MaxHealth            = 1250
    End

    Behavior = AIUpdateInterface ModuleTag_AI
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        AILuaEventsList                = EvilShipFunctions
    End

    LocomotorSet
        Locomotor = LargeShipLocomotor
        Condition = SET_NORMAL
        Speed     = EVIL_SHIP_ANTI_SHIP_SPEED
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = ArcherHorde
    End

    Behavior = PhysicsBehavior ModuleTag_04
    End

    Behavior = SquishCollide ModuleTag_06
    End

    Behavior = NotifyTargetsOfImminentProbableCrushingUpdate ModuleTag_NotifyCrushScan
    End

    Behavior = ShipSlowDeathBehavior ModuleTag_Death
        DeathTypes            = ALL
        SinkDelay            = 0
        SinkRate            = 12.0
        DestructionDelay    = 10000

    End

    Behavior = CreateObjectDie ModuleTag_SplashFX
        CreationList        = OCL_BoatDeathSplashBack
    End
    Behavior = CreateObjectDie ModuleTag_SplashFX2
        CreationList        = OCL_BoatDeathSplashFront
    End

    Behavior = ProductionUpdate ModuleTag_UpgradeProducer
        GiveNoXP = Yes
    End

    Behavior = FlammableUpdate FlammableModuleTag_FireUpdate
        AflameDuration                = 0
        AflameDamageDelay            = EVIL_SHIP_FIRE_DAMAGE_TIMEOUT
        AflameDamageAmount            = EVIL_SHIP_FIRE_DAMAGE_AMOUNT
        FlameDamageLimit            = EVIL_SHIP_FIRE_DAMAGE_HEALTH
        FlameDamageExpiration        = 100000
        SetBurnedStatus                = No
        DamageType                    = FORCE
    End


    Behavior = AutoHealBehavior ModuleTag_CirdansCraftwork
        StartsActive                = No
        TriggeredBy                    = Upgrade_CirdansCraftwork
        HealingAmount                = GOOD_SHIP_REGEN_AMOUNT
        HealingDelay                = GOOD_SHIP_REGEN_DELAY
        StartHealingDelay            = GOOD_SHIP_HEAL_DELAY
        HealOnlyIfNotInCombat        = Yes
    End

    Behavior = StatusBitsUpgrade ModuleTag_ModelCondition
        TriggeredBy                    = Upgrade_CirdansCraftwork
        CustomAnimAndDuration        = AnimState:USER_1 AnimTime:0 TriggerTime:0
    End


    Behavior = ArmorUpgrade ModuleTag_HeavyArmor
        TriggeredBy        = Upgrade_ShipArmor
    End





    Behavior = SpecialPowerModule ModuleTag_DetonateUpdateStarter
        SpecialPowerTemplate        = SpecialAbilityDetonate
        UpdateModuleStartsAttack    = No
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_DetonateUpdate
        SpecialPowerTemplate    = SpecialAbilityDetonate
        UnpackTime        = 1500
        MustFinishAbility    = Yes
        AwardXPForTriggering    = 0
        SpecialWeapon        = DisbandShipWeapon
        WhichSpecialWeapon    = 1
    End






    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End


    GeometryIsSmall        = No

    Geometry            = BOX
    GeometryMajorRadius = 90.0
    GeometryMinorRadius = 30.0
    GeometryHeight        = 60.0

    AdditionalGeometry    = BOX
    GeometryMajorRadius = 0.9
    GeometryMinorRadius = 0.9
    GeometryHeight        = 0.9
    GeometryOffset        = X:-200 Y:0 Z:-200

    GeometryContactPoint = X:-65.0    Y:20.0    Z:60
    GeometryContactPoint = X:65.0    Y:20.0    Z:0
    GeometryContactPoint = X:65.0    Y:20.0    Z:60
    GeometryContactPoint = X:-65.0    Y:-20.0    Z:0
    GeometryContactPoint = X:65.0    Y:-20.0    Z:60
    GeometryContactPoint = X:65.0    Y:-20.0    Z:0
    GeometryContactPoint = X:-65.0    Y:-20.0    Z:60
    GeometryContactPoint = X:-65.0    Y:20.0    Z:0

    Shadow = SHADOW_VOLUME

End











Object InternalShipGondorArcher


    SelectPortrait = UPGood_Battleship

    KindOf                = INFANTRY CAN_ATTACK PASS_EXPERIENCE_TO_CONTAINER
    TransportSlotCount    = 1
    CommandPoints        = 0
    VisionRange            = GOODMEN_SHIP_VISION_RANGE

    Behavior = AIUpdateInterface ModuleTag_AI
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        CanAttackWhileContained        = Yes
    End

    LocomotorSet
        Locomotor = CatapultLocomotor
        Condition = SET_NORMAL
        Speed     = 0
    End

    Behavior = PhysicsBehavior ModuleTag_05
        GravityMult = 1.0
    End

    Body = ActiveBody ModuleTag_Body
        MaxHealth = 1
    End

    WeaponSet
        Conditions    = None
        Weapon        = PRIMARY EvilShipAntiShipWeapon
    End

    ThreatBreakdown ElvenShoreBombardShip_DetailedThreat
        AIKindOf = SHIP_BATTLESHIP
    End

End



ChildObject GondorBattleShip GondorShip_Interface

    WeaponSet
        Conditions    = None
        Weapon        = PRIMARY ShipMissileRangefinder
    End

    Behavior = HordeTransportContain  ModuleTag_Contain
        ObjectStatusOfContained        = UNSELECTABLE UNATTACKABLE CAN_ATTACK
        Slots                        = 5
        DamagePercentToUnits        = 0%
        PassengerFilter                = NONE +InternalShipGondorArcher
        PassengerBonePrefix            = PassengerBone:Arrow KindOf:INFANTRY
        ShowPips                    = No
        KillPassengersOnDeath        = Yes
        EjectPassengersOnDeath        = No
        InitialPayload                = InternalShipGondorArcher 5
    End

    ThreatBreakdown ElvenShoreBombardShip_DetailedThreat
        AIKindOf = SHIP_BATTLESHIP
    End

    DisplayName            = OBJECT:GondorArrowShip



    VoicePriority            = 50
    SoundOnDamaged            = EvilShipBattleDamageSmallMS
    SoundOnReallyDamaged    = EvilShipBattleDamageMediumMS



    Behavior = SubObjectsUpgrade ModuleTag_Ship01
        TriggeredBy        = Upgrade_MenFaction
        HideSubObjects    = AUCORSHIPALPH
    End

    Behavior = ShipSlowDeathBehavior ModuleTag_Death
        DeathTypes            = ALL
        SinkDelay            = 0
        SinkRate            = 12.0
        DestructionDelay    = 10000
        Sound = INITIAL EvilShipBattleSinkMS
    End

End






ChildObject GondorShoreBombardShip GondorShip_Interface

    SelectPortrait = UPEvil_BombardShip


    Draw = W3DScriptedModelDraw ModuleTag_HullDraw
        OkToChangeModelColor = Yes

        StaticModelLODMode    = Yes
        ExtraPublicBone        = ARROW


        DefaultModelConditionState
            Model                = AUBomShip_SKN
            WeaponLaunchBone    = PRIMARY PROJECTILEROCK
            Turret                = B_CATAPULT
            TurretArtAngle        = 0
            Texture = AUCorShip.tga gubtlshp.tga
        End

        ModelConditionState = ARMORSET_PLAYER_UPGRADE
            Model    = AUBomShip_SKN
            Texture = AUCorShip.tga gubtlshp_u.tga
        End

        ModelConditionState = DAMAGED
            Model    = AUBomShip_SKN
            Texture = AUCorShip.tga gubtlshp_d.tga
        End

        ModelConditionState = REALLYDAMAGED
            Model    = AUBomShip_SKN
            Texture = AUCorShip.tga gubtlshp_d.tga
        End

        ModelConditionState = DYING
            Model    = AUBomShip_SKN
            Texture = AUCorShip.tga gubtlshp_d.tga
        End


        ModelConditionState = DAMAGED ARMORSET_PLAYER_UPGRADE
            Model    = AUBomShip_SKN
            Texture = AUCorShip.tga gubtlshp_u_d.tga
        End

        ModelConditionState = REALLYDAMAGED ARMORSET_PLAYER_UPGRADE
            Model    = AUBomShip_SKN
            Texture = AUCorShip.tga gubtlshp_u_d.tga
        End

        ModelConditionState = DYING ARMORSET_PLAYER_UPGRADE
            Model    = AUBomShip_SKN
            Texture = AUCorShip.tga gubtlshp_u_d.tga
        End

        ModelConditionState = JUST_BUILT
            Model    =  AUBomShip_A
            Texture = AUCorShip.tga gubtlshp.tga
        End

        IdleAnimationState
            StateName = State_NotDamaged
        End

        AnimationState  = JUST_BUILT
            StateName = State_NotDamaged
            Animation
                AnimationName = AUBomShip_A.AUBomShip_A
                AnimationMode = ONCE
            End
        End

        AnimationState = DYING
            StateName        = State_NotDamaged
            EnteringStateFX    = FX_BuildingReallyDamaged



            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireBeam02 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatBeamSmoke FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatSmallEmbers FollowBone:Yes

            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireFront FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireRight FireBoatLargeEmbers FollowBone:Yes

            ParticleSysBone = FireBack FireBoatLarge FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeSmoke FollowBone:Yes
        End

        IdleAnimationState
            StateName = State_NotDamaged
            Animation
                AnimationName        = AuBomShip_SKL.AuBomShip_IDL
                AnimationMode        = LOOP
                AnimationBlendTime    = 20
            End
        End


        AnimationState = DAMAGED MOVING
            StateName        = State_Damaged

            Animation
                AnimationName        = AuBomShip_SKL.AuBomShip_MOV
                AnimationMode        = LOOP
                AnimationBlendTime    = 20
            End

            FXEvent            = Frame:90 Name:FX_OarSplash  FrameStop:10
            FXEvent            = Frame:20 Name:FX_OarSplash  FrameStop:40


            ParticleSysBone = WakeFront WakeBack3 FollowBone:Yes


            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireFront FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireRight FireBoatLargeEmbers FollowBone:Yes
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_NotDamaged"
                    then CurDrawableSetTransitionAnimState("TRANS_ToDamaged") end
            EndScript
        End

        AnimationState = REALLYDAMAGED MOVING
            StateName        = State_ReallyDamaged

            Animation
                AnimationName        = AuBomShip_SKL.AuBomShip_MOV
                AnimationMode        = LOOP
                AnimationBlendTime    = 20
            End


            FXEvent            = Frame:90 Name:FX_OarSplash  FrameStop:10
            FXEvent            = Frame:20 Name:FX_OarSplash  FrameStop:40



            ParticleSysBone = WakeFront WakeBack3 FollowBone:Yes


            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireBeam02 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatSmallEmbers FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireFront FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireRight FireBoatLargeEmbers FollowBone:Yes

            ParticleSysBone = FireBack FireBoatLarge FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeSmoke FollowBone:Yes
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_NotDamaged" or Prev == "State_Damaged"
                    then CurDrawableSetTransitionAnimState("TRANS_ToReallyDamaged") end
            EndScript
        End

        AnimationState = DAMAGED
            StateName        = State_Damaged
            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireFront FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireRight FireBoatLargeEmbers FollowBone:Yes
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_NotDamaged"
                    then CurDrawableSetTransitionAnimState("TRANS_ToDamaged") end
            EndScript
        End

        AnimationState = REALLYDAMAGED
            StateName        = State_ReallyDamaged
            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireBeam02 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatBeamSmoke FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatSmallEmbers FollowBone:Yes

            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireFront FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireRight FireBoatLargeEmbers FollowBone:Yes

            ParticleSysBone = FireBack FireBoatLarge FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeSmoke FollowBone:Yes
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_NotDamaged" or Prev == "State_Damaged"
                    then CurDrawableSetTransitionAnimState("TRANS_ToReallyDamaged") end
            EndScript
        End

        AnimationState = DAMAGED
            StateName        = State_Damaged
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_NotDamaged"
                    then CurDrawableSetTransitionAnimState("TRANS_ToDamaged") end
            EndScript
        End

        AnimationState = REALLYDAMAGED
            StateName        = State_ReallyDamaged
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_NotDamaged" or Prev == "State_Damaged"
                    then CurDrawableSetTransitionAnimState("TRANS_ToReallyDamaged") end
            EndScript
        End

        AnimationState = DECELERATE
            StateName        = State_NotDamaged
        End

        AnimationState = TURN_LEFT
            StateName        = State_NotDamaged
            Animation
                AnimationName    = AuBomShip_SKL.AuBomShip_TRNL
                AnimationMode    = LOOP
            End
        End

        AnimationState = TURN_RIGHT
            StateName        = State_NotDamaged
            Animation
                AnimationName    = AuBomShip_SKL.AuBomShip_TRNR
                AnimationMode    = LOOP
            End
        End

        AnimationState = MOVING
            StateName        = State_NotDamaged

            Animation
                AnimationName        = AUBomShip_SKL.AUBomShip_MOV
                AnimationMode        = LOOP
                AnimationBlendTime    = 20
            End

            FXEvent            = Frame:90 Name:FX_OarSplash  FrameStop:10
            FXEvent            = Frame:20 Name:FX_OarSplash  FrameStop:40

            ParticleSysBone = WakeFront WakeBack3 FollowBone:Yes


        End

        TransitionState = TRANS_ToReallyDamaged
            StateName        = TRANS_ToReallyDamaged
            EnteringStateFX    = FX_BuildingReallyDamaged
        End

        TransitionState = TRANS_ToDamaged
            StateName        = TRANS_ToDamaged
            EnteringStateFX    = FX_BuildingReallyDamaged
        End

    End

    Draw = W3DSailModelDraw ModuleTag_Sail01Draw
        DefaultModelConditionState
            Model                = None
        End
    End

    Draw = W3DSailModelDraw ModuleTag_Sail02Draw
        DefaultModelConditionState
            Model                = None
        End
    End

    Draw = W3DScriptedModelDraw ModuleTag_TurretDraw
        AttachToBoneInAnotherModule = B_CATAPULT

        ModelConditionState  = NONE
            Model            = GUFSgTreb_SKN
            WeaponLaunchBone = PRIMARY Projectile
            ParticleSysBone  = PROJECTILE01 TrebuchetProjectile FollowBoneYes
        End

        ModelConditionState = JUST_BUILT
            Model    =  None
        End

        ModelConditionState = DYING
            Model                = GUFSgTreb_SKN
        End

        IdleAnimationState
            StateName           = Stand
            Animation = IDLES
                AnimationName     = GUFSgTreb_SKL.GUFSgTreb_IDLA
                AnimationMode       = ONCE
                AnimationBlendTime  = 15
            End
        End

        AnimationState      = DYING
            Animation
                AnimationName   = GUFSgTreb_DIEA.GUFSgTreb_DIEA
                AnimationMode   = ONCE
            End
        End

        AnimationState            =     FIRING_OR_PREATTACK_A
            Animation
                AnimationName    =    GUFSgTreb_SKL.GUFSgTreb_ATKA
                AnimationMode    =    ONCE
                UseWeaponTiming    =    Yes
            End
            FrameForPristineBonePositions = 35
        End
        ParticlesAttachedToAnimatedBones = Yes
    End

    Body = ActiveBody ModuleTag_02
        MaxHealth            = 1750
    End

    DisplayName            = OBJECT:GondorBombardShip



    VoicePriority            = 45
    SoundOnDamaged            = GoodShipBombardDamageSmallMS
    SoundOnReallyDamaged    = GoodShipBombardDamageMediumMS



    Behavior = ShipSlowDeathBehavior ModuleTag_Death
        DeathTypes            = ALL
        SinkDelay            = 0
        SinkRate            = 12.0
        DestructionDelay    = 10000
        Sound = INITIAL GoodShipBombardSinkMS
    End

    WeaponSet
        Conditions    = None
        Weapon        = PRIMARY EvilShipRangedBombardWeapon
    End

    LocomotorSet
        Locomotor = LargeShipLocomotor
        Condition = SET_NORMAL
        Speed     = EVIL_SHIP_BOMBARD_SPEED
    End

    Behavior = SubObjectsUpgrade ModuleTag_Banner
        TriggeredBy        = Upgrade_CirdansCraftwork
        ShowSubObjects    = BANNER
    End

    Behavior = SubObjectsUpgrade ModuleTag_Ship02
        TriggeredBy        = Upgrade_MenFaction
        HideSubObjects    = AUBOMSHIPALPH
    End

    ThreatBreakdown ElvenShoreBombardShip_DetailedThreat
        AIKindOf = SHIP_BOMBARD
    End

    CommandSet            = GoodBombardShipCommandSet
    BuildTime            = ELITE_BUILDTIME
    BuildCost            = 1500

    BuildFadeInOnCreateTime = 2

    CommandPoints        = 25

    Behavior = MonitorConditionUpdate ModuleTag_CommandSetSwapper
        ModelConditionFlags            = ATTACKING_POSITION
        ModelConditionCommandSet    = GoodBombardShipCommandSetStopBombard
    End

    Behavior = SubObjectsUpgrade ModuleTag_Making
        TriggeredBy       = Upgrade_MenFaction
        HideSubObjects    = MANATARMSA AUBOMSHIPALPH BANNER
    End
End


Object GondorTransportShip


    SelectPortrait        = UPEvil_TransportShip

    Draw = W3DScriptedModelDraw ModuleTag_HullDraw
        OkToChangeModelColor = Yes

        StaticModelLODMode    = Yes
        ExtraPublicBone        = SAIL_BONE

        DefaultModelConditionState
            Model = AUTRANSSHIP
        End

        ModelConditionState = JUST_BUILT
            Model = AUTransShip_A
        End

        ModelConditionState = DAMAGED
            Model = AUTRANSSHIP
            Texture = AUTransShip.tga AUTransShip_D.tga
            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
        End

        ModelConditionState = REALLYDAMAGED
            Model = AUTRANSSHIP
            Texture = AUTransShip.tga AUTransShip_D.tga
            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatSmallEmbers FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLarge FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeSmoke FollowBone:Yes
        End

        IdleAnimationState
            StateName = State_NotDamaged
        End

        AnimationState = DYING DEATH_1
        End

        AnimationState = DYING
            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatSmallEmbers FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLarge FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeSmoke FollowBone:Yes
        End

        AnimationState  = JUST_BUILT
            StateName = State_NotDamaged
            Animation
                AnimationName = AUTransShip_A.AUTransShip_A
                AnimationMode = ONCE
            End
        End

        AnimationState = DAMAGED
            StateName        = State_Damaged
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_NotDamaged"
                    then CurDrawableSetTransitionAnimState("TRANS_ToDamaged") end
            EndScript
        End

        AnimationState = REALLYDAMAGED
            StateName        = State_ReallyDamaged
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_NotDamaged" or Prev == "State_Damaged"
                    then CurDrawableSetTransitionAnimState("TRANS_ToReallyDamaged") end
            EndScript
        End

        AnimationState = MOVING
            ParticleSysBone = WakeFront WakeEUTran FollowBone:Yes
            ParticleSysBone = WakeFront WakeBack3 FollowBone:Yes
        End

        TransitionState = TRANS_ToReallyDamaged
            StateName        = TRANS_ToReallyDamaged
            EnteringStateFX    = FX_BuildingReallyDamaged
        End

        TransitionState = TRANS_ToDamaged
            StateName        = TRANS_ToDamaged
            EnteringStateFX    = FX_BuildingReallyDamaged
        End

    End


    Draw = W3DSailModelDraw ModuleTag_Sail01Draw
        AttachToBoneInAnotherModule = SAIL_BONE01
        MaxRotationDegrees            = 45

        RandomTexture = gubtlshpw.tga  0 EUBtlShipW.tga

        DefaultModelConditionState
            Model = EUBSHP_S1_SKN
        End

        ModelConditionState = JUST_BUILT
            Model = None
        End



        ModelConditionState = USER_1 REALLYDAMAGED
            Model    = EUBSHP_S1_SKN
            Texture = EUBtlShipW.tga gubtlshpw_u_d.tga
            Texture = GUBtlShipW.tga gubtlshpw_u_d.tga
        End

        ModelConditionState = USER_1 DYING
            Model    = EUBSHP_S1_SKN
            Texture = EUBtlShipW.tga gubtlshpw_u_d.tga
            Texture = GUBtlShipW.tga gubtlshpw_u_d.tga
        End

        ModelConditionState = USER_1
            Model    = EUBSHP_S1_SKN
            Texture = EUBtlShipW.tga gubtlshpw_u.tga
            Texture = GUBtlShipW.tga gubtlshpw_u.tga
        End



        ModelConditionState = REALLYDAMAGED
            Model    = EUBSHP_S1_SKN
            Texture = EUBtlShipW.tga gubtlshpw_d.tga
            Texture = GUBtlShipW.tga gubtlshpw_d.tga
        End

        ModelConditionState = DYING
            Model    = EUBSHP_S1_SKN
            Texture = EUBtlShipW.tga gubtlshpw_d.tga
            Texture = GUBtlShipW.tga gubtlshpw_d.tga
        End

        IdleAnimationState
            Animation
                AnimationName       = EUBSHP_S1_SKL.EUBSHP_S1_IDLA
                AnimationMode       = LOOP
                AnimationBlendTime  = 20
            End
        End
        AnimationState                = MOVING SAIL_BLOWN_LEFT
            Animation
                AnimationName       = EUBSHP_S1_SKL.EUBSHP_S1_WNDL
                AnimationMode       = LOOP
                AnimationBlendTime  = 15
            End
        End
        AnimationState                = MOVING SAIL_BLOWN_RIGHT
            Animation
                AnimationName       = EUBSHP_S1_SKL.EUBSHP_S1_WNDR
                AnimationMode       = LOOP
                AnimationBlendTime  = 15
            End
        End
        AnimationState                = MOVING
            Animation
                AnimationName       = EUBSHP_S1_SKL.EUBSHP_S1_WNDF
                AnimationMode       = LOOP
                AnimationBlendTime  = 20
            End
        End
    End


    Side                  = Men
    EditorSorting         = UNIT
    ThreatLevel           = EVILMEN_TRANSPORTSHIP_THREAT_LEVEL
    TransportSlotCount    = TRANSPORTSLOTCOUNT_NOT_TRANSPORTABLE
    HealthBoxScale        = 0.5
    BountyValue           = 0
    VisionRange           = VISION_STANDARD_HORSE
    ShroudClearingRange   = SHROUD_CLEAR_TRANSPORTSHIP
    DisplayName           = OBJECT:GondorTransportShip
    CrushableLevel        = 2
    CrusherLevel          = 0
    CommandSet            = TransportShipCommandSet
    BuildTime             = VERYWEAK_BUILDTIME
    BuildCost             = 100
    CommandPoints         = 10

    ShockwaveResistance = SHOCKWAVE_RESISTANCE_ALWAYS

    BuildFadeInOnCreateTime = 2

    ArmorSet
        Conditions      = None
        Armor           = TransportShipArmor
        DamageFX        = None
    End



    VoiceCreated                 = ShipSalute
    VoiceFullyCreated             = ShipSalute
    VoiceGuard                    = ElvenTransportShipMove
    VoiceMove                     = ElvenTransportShipMove
    VoiceMoveToCamp             = ElvenTransportShipMove
    VoiceMoveWhileAttacking        = ElvenTransportShipMove
    VoicePriority                 = 25
    VoiceRetreatToCastle        = ElvenTransportShipMove
    VoiceSelect                 = ElvenTransportShipSelect
    VoiceSelectBattle            = ElvenTransportShipSelect

    SoundAmbient                = ElvenTransportShipAmbienceMS
    SoundAmbientDamaged            = GenericFireMediumLoop
    SoundAmbientReallyDamaged    = GenericFireLargeLoop
    SoundImpact                 = ImpactHorse
    SoundMoveLoop                = ElvenTransportShipMoveLoopMS
    SoundOnDamaged                = GoodShipTransportDamageSmallMS
    SoundOnReallyDamaged        = GoodShipTransportDamageMediumMS

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"


    RadarPriority = UNIT
    ThingClass = CAVALRY_UNIT

    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS SCORE GARRISON SHIP HAS_HEALTH_BAR LARGE_RECTANGLE_PATHFIND AMPHIBIOUS

    Body = ActiveBody ModuleTag_02
        MaxHealth            = 500
    End

    Behavior = AIUpdateInterface ModuleTag_AI
        AutoAcquireEnemiesWhenIdle    = No
    End

    Behavior = CreateObjectDie ModuleTag_SplashFX
        CreationList        = OCL_BoatDeathSplashBack
    End
    Behavior = CreateObjectDie ModuleTag_SplashFX2
        CreationList        = OCL_BoatDeathSplashFront
    End

    LocomotorSet
        Locomotor = TransportShipLocomotor
        Condition = SET_NORMAL
        Speed     = EVIL_SHIP_TRANSPORT_SPEED
    End
    LocomotorSet
        Locomotor = TransportShipLocomotorForUnitInteraction
        Condition = SET_TAXIING
        Speed     = GOOD_SHIP_TRANSPORT_SPEED
    End

    Behavior = PhysicsBehavior ModuleTag_04
    End

    Behavior = SquishCollide ModuleTag_06
    End

    Behavior = ShipSlowDeathBehavior ModuleTag_Death
        DeathTypes            = ALL -FADED
        SinkDelay            = 0
        SinkRate            = 12.0
        DestructionDelay    = 10000
        Sound                = INITIAL GoodShipTransportSinkMS
    End

    Behavior = SlowDeathBehavior ModuleTag_DeathFaded
        DeathTypes            = NONE +FADED
        SinkDelay            = 0
        SinkRate            = 0.0
        FadeTime            = 9000
        FadeDelay            = 0
        DestructionDelay    = 10000
        DeathFlags            = DEATH_1
    End

    Behavior = HordeTransportContain  ModuleTag_Contain
        ObjectStatusOfContained                = UNSELECTABLE ENCLOSED
        Slots                                = 4
        EnterSound                            = GarrisonEnter
        ExitSound                            = GarrisonExit
        DamagePercentToUnits                = 0%
        PassengerFilter                        = TRANSPORTSHIP_PASSENGER_OBJECTFILTER
        AllowOwnPlayerInsideOverride        = Yes
        AllowAlliesInside                    = No
        AllowEnemiesInside                    = No
        AllowNeutralInside                    = No
        ExitDelay                            = 0
        NumberOfExitPaths                    = 0
        ForceOrientationContainer            = No
        PassengerBonePrefix                    = PassengerBone:SAIL_BONE KindOf:INFANTRY
        ShowPips                            = Yes
        EjectPassengersOnDeath                = No
    End

    Behavior = SubObjectsUpgrade ModuleTag_Making
        TriggeredBy       = Upgrade_MenFaction
        HideSubObjects    = AUTRANSSHIPD
    End





    Behavior = SpecialPowerModule ModuleTag_DetonateUpdateStarter
        SpecialPowerTemplate        = SpecialAbilityDetonate
        UpdateModuleStartsAttack    = No
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_DetonateUpdate
        SpecialPowerTemplate    = SpecialAbilityDetonate
        UnpackTime        = 1500
        MustFinishAbility    = Yes
        AwardXPForTriggering    = 0
        SpecialWeapon        = DisbandShipWeapon
        WhichSpecialWeapon    = 1
    End

    Geometry            = BOX
    GeometryMajorRadius = 60.0
    GeometryMinorRadius = 15.0
    GeometryHeight        = 40.0
    GeometryIsSmall        = No

    GeometryContactPoint = X:-45.0    Y:10.0    Z:45
    GeometryContactPoint = X:45.0    Y:10.0    Z:0
    GeometryContactPoint = X:45.0    Y:10.0    Z:45
    GeometryContactPoint = X:-45.0    Y:-10.0    Z:0
    GeometryContactPoint = X:45.0    Y:-10.0    Z:45
    GeometryContactPoint = X:45.0    Y:-10.0    Z:0
    GeometryContactPoint = X:-45.0    Y:-10.0    Z:45
    GeometryContactPoint = X:-45.0    Y:10.0    Z:0

    Shadow = SHADOW_VOLUME

End


Object DolAmrothShip_Interface


    SelectPortrait  =  UPGood_Battleship

    Draw = W3DScriptedModelDraw ModuleTag_HullDraw

        OkToChangeModelColor = Yes
        StaticModelLODMode    = Yes
        ExtraPublicBone        = Arrow

        RandomTexture = gudolship.tga  0 EUBtlShip.tga

        DefaultModelConditionState
            Model = EUBtlShip
            WeaponLaunchBone = PRIMARY Arrow
        End

        ModelConditionState = JUST_BUILT
            Model = EUBtlShip_A
        End


        ModelConditionState = DAMAGED ARMORSET_PLAYER_UPGRADE
            Model = EUBtlShip
            Texture = EUBtlShip.tga gudolship_u_d.tga
            Texture = gudolship.tga gudolship_u_d.tga



            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireFront FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireRight FireBoatLargeEmbers FollowBone:Yes
        End

        ModelConditionState = REALLYDAMAGED ARMORSET_PLAYER_UPGRADE
            Model = EUBtlShip
            Texture = EUBtlShip.tga gudolship_u_d.tga
            Texture = gudolship.tga gudolship_u_d.tga



            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireBeam02 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatSmallEmbers FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireFront FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireRight FireBoatLargeEmbers FollowBone:Yes

            ParticleSysBone = FireBack FireBoatLarge FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeSmoke FollowBone:Yes
        End

        ModelConditionState = DYING ARMORSET_PLAYER_UPGRADE
            Model = EUBtlShip
            Texture = EUBtlShip.tga gudolship_u_d.tga
            Texture = gudolship.tga gudolship_u_d.tga
        End

        ModelConditionState = ARMORSET_PLAYER_UPGRADE
            Model    = EUBtlShip
            Texture = EUBtlShip.tga gudolship_u.tga
            Texture = gudolship.tga gudolship_u.tga
        End

        ModelConditionState = DAMAGED
            Model = EUBtlShip
            Texture = EUBtlShip.tga gudolship_d.tga
            Texture = gudolship.tga gudolship_d.tga



            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireFront FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireRight FireBoatLargeEmbers FollowBone:Yes
        End

        ModelConditionState = REALLYDAMAGED
            Model = EUBtlShip
            Texture = EUBtlShip.tga gudolship_d.tga
            Texture = gudolship.tga gudolship_d.tga

            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireBeam02 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatSmallEmbers FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireFront FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireRight FireBoatLargeEmbers FollowBone:Yes

            ParticleSysBone = FireBack FireBoatLarge FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeSmoke FollowBone:Yes
        End

        ModelConditionState = DYING
            Model = EUBtlShip
            Texture = EUBtlShip.tga gudolship_d.tga
            Texture = gudolship.tga gudolship_d.tga
        End

        AnimationState  = JUST_BUILT
            StateName = State_NotDamaged
            Animation
                AnimationName = EUBtlShip_A.EUBtlShip_A
                AnimationMode = ONCE
            End
        End

        IdleAnimationState
            StateName = State_NotDamaged
        End

        AnimationState = DYING
            StateName        = State_NotDamaged


            ParticleSysBone = FireBeam01 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam01 FireBoatBeamSmoke FollowBone:Yes

            ParticleSysBone = FireBeam02 FireBoatBeam FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatBeamSmoke FollowBone:Yes
            ParticleSysBone = FireBeam02 FireBoatSmallEmbers FollowBone:Yes

            ParticleSysBone = FireFront FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmall FollowBone:Yes
            ParticleSysBone = FireFront FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireRight FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatSmallSmoke FollowBone:Yes
            ParticleSysBone = FireFront FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireLeft FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireRight FireBoatLargeEmbers FollowBone:Yes

            ParticleSysBone = FireBack FireBoatLarge FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeEmbers FollowBone:Yes
            ParticleSysBone = FireBack FireBoatLargeSmoke FollowBone:Yes
        End

        AnimationState = DECELERATE
            StateName            = State_NotDamaged
        End

        AnimationState = DAMAGED
            StateName        = State_Damaged
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_NotDamaged"
                    then CurDrawableSetTransitionAnimState("TRANS_ToDamaged") end
            EndScript
        End

        AnimationState = REALLYDAMAGED
            StateName        = State_ReallyDamaged
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_NotDamaged" or Prev == "State_Damaged"
                    then CurDrawableSetTransitionAnimState("TRANS_ToReallyDamaged") end
            EndScript
        End

        AnimationState = MOVING
            StateName       = State_NotDamaged
            ParticleSysBone = WakeFront WakeBack2 FollowBone:Yes
            ParticleSysBone = WakeFront Wake
        End

        TransitionState = TRANS_ToReallyDamaged
            StateName        = TRANS_ToReallyDamaged
            EnteringStateFX    = FX_BuildingReallyDamaged
        End

        TransitionState = TRANS_ToDamaged
            StateName        = TRANS_ToDamaged
            EnteringStateFX    = FX_BuildingReallyDamaged
        End
    End

    Draw = W3DSailModelDraw ModuleTag_Sail01Draw
        AttachToBoneInAnotherModule = SAIL_BONE01
        MaxRotationDegrees            = 45

        RandomTexture = gudolshipw.tga  0 EUBtlShipW.tga

        DefaultModelConditionState
            Model = EUBSHP_S1_SKN
        End

        ModelConditionState = JUST_BUILT
            Model = None
        End



        ModelConditionState = USER_1 REALLYDAMAGED
            Model    = EUBSHP_S1_SKN
            Texture = EUBtlShipW.tga gudolshipw_u_d.tga
            Texture = gudolshipw.tga gudolshipw_u_d.tga
        End

        ModelConditionState = USER_1 DYING
            Model    = EUBSHP_S1_SKN
            Texture = EUBtlShipW.tga gudolshipw_u_d.tga
            Texture = gudolshipw.tga gudolshipw_u_d.tga
        End

        ModelConditionState = USER_1
            Model    = EUBSHP_S1_SKN
            Texture = EUBtlShipW.tga gudolshipw_u.tga
            Texture = gudolshipw.tga gudolshipw_u.tga
        End



        ModelConditionState = REALLYDAMAGED
            Model    = EUBSHP_S1_SKN
            Texture = EUBtlShipW.tga gudolshipw_d.tga
            Texture = gudolshipw.tga gudolshipw_d.tga
        End

        ModelConditionState = DYING
            Model    = EUBSHP_S1_SKN
            Texture = EUBtlShipW.tga gudolshipw_d.tga
            Texture = gudolshipw.tga gudolshipw_d.tga
        End

        IdleAnimationState
            Animation
                AnimationName       = EUBSHP_S1_SKL.EUBSHP_S1_IDLA
                AnimationMode       = LOOP
                AnimationBlendTime  = 20
            End
        End
        AnimationState                = MOVING SAIL_BLOWN_LEFT
            Animation
                AnimationName       = EUBSHP_S1_SKL.EUBSHP_S1_WNDL
                AnimationMode       = LOOP
                AnimationBlendTime  = 15
            End
        End
        AnimationState                = MOVING SAIL_BLOWN_RIGHT
            Animation
                AnimationName       = EUBSHP_S1_SKL.EUBSHP_S1_WNDR
                AnimationMode       = LOOP
                AnimationBlendTime  = 15
            End
        End
        AnimationState                = MOVING
            Animation
                AnimationName       = EUBSHP_S1_SKL.EUBSHP_S1_WNDF
                AnimationMode       = LOOP
                AnimationBlendTime  = 20
            End
        End
    End

    Draw = W3DSailModelDraw ModuleTag_Sail02Draw
        AttachToBoneInAnotherModule = SAIL_BONE02
        MaxRotationDegrees            = 45

        RandomTexture = gudolshipw.tga  0 EUBtlShipW.tga

        DefaultModelConditionState
            Model = EUBSHP_S2_SKN
        End

        ModelConditionState = JUST_BUILT
            Model = None
        End



        ModelConditionState = USER_1 REALLYDAMAGED
            Model    = EUBSHP_S2_SKN
            Texture = EUBtlShipW.tga gudolshipw_u_d.tga
            Texture = gudolshipw.tga gudolshipw_u_d.tga
        End

        ModelConditionState = USER_1 DYING
            Model    = EUBSHP_S2_SKN
            Texture = EUBtlShipW.tga gudolshipw_u_d.tga
            Texture = gudolshipw.tga gudolshipw_u_d.tga
        End

        ModelConditionState = USER_1
            Model    = EUBSHP_S2_SKN
            Texture = EUBtlShipW.tga gudolshipw_u.tga
            Texture = gudolshipw.tga gudolshipw_u.tga
        End



        ModelConditionState = REALLYDAMAGED
            Model    = EUBSHP_S2_SKN
            Texture = EUBtlShipW.tga gudolshipw_d.tga
            Texture = gudolshipw.tga gudolshipw_d.tga
        End

        ModelConditionState = DYING
            Model    = EUBSHP_S2_SKN
            Texture = EUBtlShipW.tga gudolshipw_d.tga
            Texture = gudolshipw.tga gudolshipw_d.tga
        End

        IdleAnimationState
            Animation
                AnimationName       = EUBSHP_S2_SKL.EUBSHP_S2_IDLA
                AnimationMode       = LOOP
                AnimationBlendTime  = 20
            End
        End
        AnimationState                = MOVING SAIL_BLOWN_LEFT
            Animation
                AnimationName       = EUBSHP_S2_SKL.EUBSHP_S2_WNDL
                AnimationMode       = LOOP
                AnimationBlendTime  = 15
            End
        End
        AnimationState                = MOVING SAIL_BLOWN_RIGHT
            Animation
                AnimationName       = EUBSHP_S2_SKL.EUBSHP_S2_WNDR
                AnimationMode       = LOOP
                AnimationBlendTime  = 15
            End
        End
        AnimationState                = MOVING
            Animation
                AnimationName       = EUBSHP_S2_SKL.EUBSHP_S2_WNDF
                AnimationMode       = LOOP
                AnimationBlendTime  = 20
            End
        End
    End



    Side                  = Men
    EditorSorting         = UNIT
    ThreatLevel           = ELVEN_SHIP_THREAT_LEVEL
    TransportSlotCount    = TRANSPORTSLOTCOUNT_NOT_TRANSPORTABLE

    HealthBoxScale           = 0.5
    HealthBoxHeightOffset    = -20
    Scale                  = 1.25

    BountyValue            = EVILMEN_BLACKRIDER_BOUNTY_VALUE

    VisionRange            = GOODMEN_SHIP_VISION_RANGE
    ShroudClearingRange    = SHROUD_CLEAR_BATTLESHIP

    CrushableLevel        = 3
    CrusherLevel        = 1
    CommandPoints        = 25
    CommandSet            = GoodLargeShipCommandSet
    BuildTime            = ELITE_BUILDTIME
    BuildCost            = 1200
    ShockwaveResistance = SHOCKWAVE_RESISTANCE_ALWAYS
    BuildFadeInOnCreateTime = 2

    ArmorSet
        Conditions      = None
        Armor           = LargeShipArmor
        DamageFX        = None
    End

    ArmorSet
        Conditions      = PLAYER_UPGRADE
        Armor           = LargeShipHeavyArmor
        DamageFX        = None
    End



    VoiceAttack                    = ElvenBattleShipAttack
    VoiceAttackCharge            = ElvenBattleShipAttack
    VoiceAttackStructure        = ElvenBattleShipAttack
    VoiceAttackMachine            = ElvenBattleShipAttack
    VoiceCreated                 = ShipSalute
    VoiceFullyCreated             = ShipSalute
    VoiceGuard                    = ElvenBattleShipMove
    VoiceMove                     = ElvenBattleShipMove
    VoiceMoveToCamp             = ElvenBattleShipMove
    VoiceMoveWhileAttacking        = ElvenBattleShipMove
    VoiceRetreatToCastle        = ElvenBattleShipMove
    VoiceSelect                 = ElvenBattleShipSelect
    VoiceSelectBattle             = ElvenBattleShipSelect

    SoundAmbient                = ElvenBattleShipAmbienceMS
    SoundAmbientDamaged            = GenericFireMediumLoop
    SoundAmbientReallyDamaged    = GenericFireLargeLoop
    SoundImpact                 = ImpactHorse
    SoundMoveLoop                = ElvenBattleShipMoveLoopMS

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"



    RadarPriority    = UNIT
    ThingClass        = CAVALRY_UNIT
    KindOf            = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS SCORE LARGE_RECTANGLE_PATHFIND CAN_ATTACK SHIP HAS_HEALTH_BAR

    Body = ActiveBody ModuleTag_02
        MaxHealth            = 3000
    End

    Behavior = AIUpdateInterface ModuleTag_AI
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        AILuaEventsList                = GoodShipFunctions
    End

    Behavior = CreateObjectDie ModuleTag_SplashFX
        CreationList        = OCL_BoatDeathSplashBack
    End
    Behavior = CreateObjectDie ModuleTag_SplashFX2
        CreationList        = OCL_BoatDeathSplashFront
    End

    LocomotorSet
        Locomotor = VeryLargeShipLocomotor
        Condition = SET_NORMAL
        Speed     = 150
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = ArcherHorde
    End

    Behavior = PhysicsBehavior ModuleTag_04
    End

    Behavior = SquishCollide ModuleTag_06
    End

    Behavior = NotifyTargetsOfImminentProbableCrushingUpdate ModuleTag_NotifyCrushScan
    End

    Behavior = ShipSlowDeathBehavior ModuleTag_Death
        DeathTypes            = ALL
        SinkDelay            = 0
        SinkRate            = 12.0
        DestructionDelay    = 10000
    End

    Behavior = ProductionUpdate ModuleTag_UpgradeProducer
        GiveNoXP = Yes
    End

    Behavior = FlammableUpdate FlammableModuleTag_FireUpdate
        AflameDuration                = 0
        AflameDamageDelay            = GOOD_SHIP_FIRE_DAMAGE_TIMEOUT
        AflameDamageAmount            = GOOD_SHIP_FIRE_DAMAGE_AMOUNT
        FlameDamageLimit            = GOOD_SHIP_FIRE_DAMAGE_HEALTH
        FlameDamageExpiration        = 100000
        SetBurnedStatus                = No
        DamageType                    = FORCE
    End


    Behavior = AutoHealBehavior ModuleTag_CirdansCraftwork
        StartsActive                = No
        TriggeredBy                    = Upgrade_CirdansCraftwork
        HealingAmount                = GOOD_SHIP_REGEN_AMOUNT
        HealingDelay                = GOOD_SHIP_REGEN_DELAY
        StartHealingDelay            = GOOD_SHIP_HEAL_DELAY
        HealOnlyIfNotInCombat        = Yes
    End

    Behavior = StatusBitsUpgrade ModuleTag_ModelCondition
        TriggeredBy                    = Upgrade_CirdansCraftwork
        CustomAnimAndDuration        = AnimState:USER_1 AnimTime:0 TriggerTime:0
    End


    Behavior = ArmorUpgrade ModuleTag_HeavyArmor
        TriggeredBy        = Upgrade_ShipArmor
    End





    Behavior = SpecialPowerModule ModuleTag_DetonateUpdateStarter
        SpecialPowerTemplate        = SpecialAbilityDetonate
        UpdateModuleStartsAttack    = No
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_DetonateUpdate
        SpecialPowerTemplate    = SpecialAbilityDetonate
        UnpackTime        = 1500
        MustFinishAbility    = Yes
        AwardXPForTriggering    = 0
        SpecialWeapon        = DisbandShipWeapon
        WhichSpecialWeapon    = 1
    End





    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End


    GeometryIsSmall        = No

    Geometry            = BOX
    GeometryMajorRadius = 125.0
    GeometryMinorRadius = 40.0
    GeometryHeight        = 75.0

    GeometryContactPoint = X:-115.0    Y:35.0    Z:70
    GeometryContactPoint = X:115.0    Y:35.0    Z:0
    GeometryContactPoint = X:115.0    Y:35.0    Z:70
    GeometryContactPoint = X:-115.0    Y:-35.0    Z:0
    GeometryContactPoint = X:115.0    Y:-35.0    Z:70
    GeometryContactPoint = X:115.0    Y:-35.0    Z:0
    GeometryContactPoint = X:-115.0    Y:-35.0    Z:70
    GeometryContactPoint = X:-115.0    Y:35.0    Z:0

    Shadow = SHADOW_VOLUME

End

ChildObject DolAmrothBattleShip DolAmrothShip_Interface

    WeaponSet
        Conditions    = None
        Weapon        = PRIMARY ShipMissileRangefinder
    End

    Behavior = HordeTransportContain  ModuleTag_Contain
        ObjectStatusOfContained        = UNSELECTABLE UNATTACKABLE CAN_ATTACK
        Slots                        = 15
        DamagePercentToUnits        = 0%
        PassengerFilter                = NONE +InternalShipGoodArcher
        PassengerBonePrefix            = PassengerBone:Arrow KindOf:INFANTRY
        ShowPips                    = No
        KillPassengersOnDeath        = Yes
        EjectPassengersOnDeath        = No
        InitialPayload                = InternalShipGoodArcher 15
    End

    ThreatBreakdown ElvenBattleShip_DetailedThreat
        AIKindOf = SHIP_BATTLESHIP
    End



    VoicePriority            = 50
    SoundOnDamaged            = GoodShipBattleDamageSmallMS
    SoundOnReallyDamaged    = GoodShipBattleDamageMediumMS
    DisplayName                = OBJECT:DolAmrothBattleship



    Behavior = ShipSlowDeathBehavior ModuleTag_Death
        DeathTypes            = ALL
        SinkDelay            = 0
        SinkRate            = 12.0
        DestructionDelay    = 10000
        Sound                = INITIAL GoodShipBattleSinkMS
    End
End



