Object GondorAragorn

    SelectPortrait = HPAragorn
    ButtonImage    = HIAragorn

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_LeaderHero

    Draw = W3DScriptedModelDraw ModuleTag_DRAW

        RandomTexture = guaragorn_rotk.tga 0 guaragorn_2trs.tga

        DefaultModelConditionState
            Model            = guaragorn_foot
        End

        ModelConditionState  = WEAPONSET_HERO_MODE USER_3
            ParticleSysBone  = BAT_RIBS BladeMaster FollowBone:Yes
            ParticleSysBone  = BAT_HEAD AragornElendill FollowBone:Yes
        End

        ModelConditionState  = WEAPONSET_HERO_MODE
            ParticleSysBone  = BAT_RIBS BladeMaster FollowBone:Yes
        End

        ModelConditionState  = USER_3
            ParticleSysBone  = BAT_HEAD AragornElendill FollowBone:Yes
        End

        ModelConditionState  = MOUNTED
            Model            = guaragorn_horse
            WeaponLaunchBone = PRIMARY PASSENGERBONE
        End

        TransitionState                = TRANS_boredToAttention_Elendil
            Animation                = GUAragorn_ATND
                AnimationName        = GUAragorn_SKL.GUAragorn_ATND
                AnimationMode        = ONCE
            End
            FXEvent    = Name: FX_ElendilGlowEvent
        End

        TransitionState                = TRANS_attentionToBored_Elendil
            Animation                = GUAragorn_ATND
                AnimationName        = GUAragorn_SKL.GUAragorn_ATND
                AnimationMode        = ONCE_BACKWARDS
            End
            FXEvent                    = Name: FX_ElendilGlowEvent
            Flags                    = START_FRAME_LAST
        End

        TransitionState                = TRANS_boredToAttention
            Animation                = GUAragorn_ATND
                AnimationName        = GUAragorn_SKL.GUAragorn_ATND
                AnimationMode        = ONCE
            End
        End

        TransitionState                = TRANS_attentionToBored
            Animation                = GUAragorn_ATND
                AnimationName        = GUAragorn_SKL.GUAragorn_ATND
                AnimationMode        = ONCE_BACKWARDS
            End
            Flags                    = START_FRAME_LAST
        End







        AnimationState                =    MOUNTED FREEFALL
            Animation                =    freefall
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_FLYC
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOUNTED STUNNED_FLAILING
            Animation                =    JustDie
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_FLYC
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOUNTED DYING SPLATTED
            Animation                =    Land
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_LNDA
                AnimationMode        =    ONCE
            End
        End


        AnimationState                =    MOUNTED DYING
            Animation                =    JustDie
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_DIEA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    MOUNTED STUNNED_STANDING_UP
            Animation                =    StandUp
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_GTPA
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState                =    MOUNTED STUNNED
            Animation                =    Land
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_LNDA
                AnimationMode        =    ONCE
            End
        End



        AnimationState        =  MOUNTED FIRING_OR_PREATTACK_A ATTACKING_STRUCTURE
            StateName = Attacking
            Animation = attackinga  building while mounted.
                AnimationName           = RUHHs_Theo_SKL.RUHHs_Theo_ATKA
                AnimationMode       = ONCE
                UseWeaponTiming = Yes
            End
        End



        AnimationState        = MOUNTED MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = MountedRunAndFire
                AnimationName       = RUHHs_Theo_SKL.RUHHs_Theo_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End

        AnimationState                =    MOUNTED FIRING_OR_PREATTACK_A
            Animation                =    AttackA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ATKA
                AnimationMode        =    ONCE
                UseWeaponTiming        = Yes
            End
            Animation                =    AttackB
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ATKB

                AnimationMode        =    ONCE
                UseWeaponTiming        = Yes
            End
        End


        AnimationState                =    MOUNTED TURN_LEFT_HIGH_SPEED
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TNL1
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.2 1.2
                AnimationBlendTime    =    20
            End
        End

        AnimationState                =    MOUNTED TURN_RIGHT_HIGH_SPEED
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TNR1
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.2 1.2
                AnimationBlendTime    =    20
            End
        End




        AnimationState                =    MOUNTED MOVING TURN_LEFT
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TRNL
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.5 1.5
            End

        End

        AnimationState                =    MOUNTED MOVING TURN_RIGHT
            Animation                =    TurnRight
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TRNR
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.5 1.5
            End

        End

        AnimationState                =    MOUNTED MOVING ACCELERATE
            Animation                =    Accelerate
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ACCL
                AnimationMode        =    LOOP
            End

        End

        AnimationState                =    MOUNTED MOVING DECELERATE
            Animation                =    Decelerate
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_DECL
                AnimationMode        =    ONCE
            End

        End

        AnimationState                =    MOUNTED MOVING WALKING
            Animation                =    Walk
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_WLKA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART

        End

        AnimationState                =    MOUNTED MOVING BACKING_UP
            Animation                =    BackingUp
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_BAKA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART

        End


        AnimationState                =    MOUNTED MOVING
            Animation                =    RunA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_RUNA
                AnimationMode        =    LOOP
            End
             Flags                    =    RANDOMSTART

        End


        AnimationState                =    MOUNTED SELECTED
            SimilarRestart            =   Yes
            StateName                =    AtAttentionIdle
            Animation                =    ATNB
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_IDLH
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
                if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
                if Prev == "STATE_CaptainMounted" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
            EndScript
        End

        TransitionState                =    TRANS_MountedSelect
            Animation                =    ATNA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ATNA
                AnimationMode        =    ONCE
            End
        End

        AnimationState = MOUNTED
            StateName = Idle
            Animation    =    IdleA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_IDLA
                AnimationPriority    =    30
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Animation                =    IdleC
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_IDLC
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        IdleAnimationState
            StateName                = STATE_bored

            Animation                = GUAragorn_IDLE
                AnimationName        = GUAragorn_SKL.GUAragorn_IDLE
                AnimationMode        = ONCE
                AnimationPriority    = 12
            End

            Animation                = GUAragorn_IDLF
                AnimationName        = GUAragorn_SKL.GUAragorn_IDLF
                AnimationMode        = ONCE
                AnimationPriority    = 1
            End

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if    Prev == "STATE_attention" or
                    Prev == "STATE_running" or
                    Prev == "OATH_BREAKERS" then CurDrawableSetTransitionAnimState("TRANS_attentionToBored") end
            EndScript
        End

        AnimationState            = THROWN_PROJECTILE
            Animation            = FLYA
                AnimationName    = GUAragorn_SKL.GUAragorn_FLYA
                AnimationMode    = LOOP
            End
        End

        AnimationState            = STUNNED_FLAILING
            Animation            = FLYA
                AnimationName    = GUAragorn_SKL.GUAragorn_FLYA
                AnimationMode    = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
        End

        AnimationState             = DYING SPLATTED
            Animation         = Splatted_On_Ground
                AnimationName    = GUAragorn_SKL.GUAragorn_LNDA
                AnimationMode    = ONCE
            End
            EnteringStateFX        = FX_SoldierHitGround
        End


        AnimationState                = DYING
            Animation                = GUAragorn_DIEA
                AnimationName        = GUAragorn_SKL.GUAragorn_DIEA
                AnimationMode        = ONCE
            End
            Animation                = GUAragorn_DIEB
                AnimationName        = GUAragorn_SKL.GUAragorn_DIEB
                AnimationMode        = ONCE
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = GUAragorn_IDLE
                AnimationMode                = LOOP
            End
        End

        AnimationState                = STUNNED_STANDING_UP
            Animation                = GUAragorn_GTPB
                AnimationName        = GUAragorn_SKL.GUAragorn_GTPB
                AnimationMode        = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState            = STUNNED
            Animation            = LNDA
                AnimationName    = GUAragorn_SKL.GUAragorn_LNDA
                AnimationMode    = ONCE
            End
            EnteringStateFX        = FX_SoldierHitGround
        End

        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = GUAragorn_SKL.GUAragorn_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End



        AnimationState                = FIRING_OR_PREATTACK_A WEAPONSET_HERO_MODE
            StateName                = STATE_ready
            Animation                = ATKF
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKF
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
            FXEvent    = Frame:25 Name: FX_BladeMasterHitOrient
            FXEvent    = Frame:45 Name: FX_BladeMasterHitOrient
        End



        AnimationState                = FIRING_OR_PREATTACK_A
            StateName                = STATE_ready
            Animation                = ATKD
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKD
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
                AnimationPriority    = 3
            End
            Animation                = ATKE
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKE
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
                AnimationPriority    = 2
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                = MOVING
            StateName                = STATE_running

            Animation                = GUAragorn_RUNB
                AnimationName        = GUAragorn_SKL.GUAragorn_RUNB
                AnimationMode        = LOOP
            End
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKO
                AnimationMode        = ONCE
            End
        End

        AnimationState                = SPECIAL_POWER_1
            StateName                = STATE_ready
            Animation                = GUAragorn_ATKL
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKL
                AnimationMode        = ONCE
            End
            ParticleSysBone            = B_SWORDBONE ElendilFlare FollowBone:Yes
            ParticleSysBone            = B_SWORDBONE ElendilSwordFlare FollowBone:Yes

        End

        AnimationState                = USER_5
            StateName                = ATHELAS
            Animation                = ATKP
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKP
                AnimationMode        = ONCE
            End
        End


        AnimationState                = HIT_REACTION HIT_LEVEL_3
            StateName                = STATE_bored
            Animation                = Hit_Level_1_b
                AnimationName        = GUAragorn_SKL.GUAragorn_HITB
                AnimationMode        = ONCE
            End
        End



        AnimationState                = EMOTION_CELEBRATING
            StateName                = STATE_ready
            Animation                = CHRB
                AnimationName        = GUAragorn_SKL.GUAragorn_CHRB
                AnimationMode        = ONCE
                AnimationPriority    = 1
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                = EMOTION_TAUNTING
            StateName                = STATE_ready
            Animation                = CHRB
                AnimationName        = GUAragorn_SKL.GUAragorn_CHRB
                AnimationMode        = ONCE
                AnimationPriority    = 1
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                = EMOTION_ALERT
            StateName                = STATE_ready
            Animation                = IDLA
                AnimationName        = GUAragorn_SKL.GUAragorn_IDLA
                AnimationMode        = ONCE
                AnimationPriority    = 1
            End
        End

        AnimationState                = EMOTION_MORALE_HIGH
            StateName                = STATE_ready
            Animation                = ATKN
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKN
                AnimationMode        = ONCE
                AnimationPriority    = 1
            End
            Animation                = ATKP
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKP
                AnimationMode        = ONCE
                AnimationPriority    = 15
            End
            Animation                = TNTC
                AnimationName        = GUAragorn_SKL.GUAragorn_TNTD
                AnimationMode        = ONCE
                AnimationPriority    = 30
            End
            Animation                = TNTD
                AnimationName        = GUAragorn_SKL.GUAragorn_TNTD
                AnimationMode        = ONCE
                AnimationPriority    = 30
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                = ENGAGED
            StateName                = STATE_ready
            Animation                = IDLA
                AnimationName        = GUAragorn_SKL.GUAragorn_IDLA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
                AnimationPriority    = 1
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                = RAISING_FLAG
            StateName                = STATE_ready
            Animation                = CHRB
                AnimationName        = GUAragorn_SKL.GUAragorn_CHRB
                AnimationMode        = LOOP
            End
        End

        AnimationState                = SELECTED
            StateName                = STATE_attention
            Animation                = ATNE
                AnimationName        = GUAragorn_SKL.GUAragorn_ATNE
                AnimationMode        = LOOP
                AnimationBlendTime    = 5
                AnimationMustCompleteBlend = Yes
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_bored" then CurDrawableSetTransitionAnimState("TRANS_boredToAttention") end
            EndScript
        End

    End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End


    #include "..\..\..\includes\StunDrawModuleSmall.inc"


    Side = Men
    EditorSorting = UNIT
    ThreatLevel = ARAGORN_THREAT_LEVEL
    ThingClass = CHARACTER_UNIT
    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
    DisplayMeleeDamage = ARAGORNDAG_DAMAGE
    HeroSortOrder = 20
    BuildCost = ARAGORNDAG_COST
    BuildTime = STRONG_HERO_BUILDTIME

    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    GondorAragornSwordMod
    End
    WeaponSet
        Conditions        = WEAPONSET_HERO_MODE
        Weapon            = PRIMARY    GondorAragornHeroSwordMod
    End
    WeaponSet
        Conditions        = PASSENGER_TYPE_ONE
        Weapon            = SECONDARY    GondorAragornDwarfToss
    End

    ArmorSet
        Conditions        = None
        Armor           = StrongHeroArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_HERO_STANDARD
    ShroudClearingRange = SHROUD_CLEAR_HERO
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue = GONDOR_ARAGORN_BOUNTY_VALUE
    DisplayName = OBJECT:GondorAragorn
    RecruitText = CONTROLBAR:GondorAragornRecruit
    ReviveText    = CONTROLBAR:GondorAragornRevive
    Hotkey        = CONTROLBAR:GondorAragornHotkey
    CrusherLevel          = 0
    MountedCrusherLevel   = 1
    CrushableLevel        = 2
    MountedCrushableLevel = 2

    CrushWeapon        = HeroCrush

    MinCrushVelocityPercent     = MINCRUSHVELOCITYPERCENT_HERO
    CrushDecelerationPercent    = CRUSHDECELERATIONPERCENT_HERO

    CrushKnockback = 40
    CrushZFactor   = 1.0


    CommandSet = GondorAragornsEntwicklung1CommandSet
    CommandPoints = 0



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_AragornBody

    AutoResolveArmor
        Armor = AutoResolve_AragornArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_AragornWeapon
    End

    AutoResolveLeadership = AutoResolve_AragornBonus




    VoiceAttack                    = AragornVoiceAttack
    VoiceAttackStructure            = AragornVoiceAttackBuilding
    VoiceAttackMachine            = AragornVoiceAttack
    VoiceAttackCharge                = AragornVoiceAttackCharge
    VoiceEnterStateAttack            = AragornVoiceEnterStateAttack
    VoiceEnterStateAttackStructure    = AragornVoiceEnterStateAttackBuilding
    VoiceEnterStateAttackMachine        = AragornVoiceEnterStateAttackBuilding
    VoiceEnterStateAttackCharge        = AragornVoiceEnterStateAttackCharge
    VoiceFear                     = AragornVoiceHelpMe
    VoiceMove                    = AragornVoiceMove
    VoiceMoveToCamp                = AragornVoiceMoveCamp
    VoiceMoveWhileAttacking            = AragornVoiceDisengage
    VoiceEnterStateMove            = AragornVoiceEnterStateMove
    VoiceEnterStateMoveToCamp        = AragornVoiceEnterStateMoveCamp
    VoiceEnterStateMoveWhileAttacking    = AragornVoiceEnterStateDisengage
    VoicePriority                = 90
    VoiceRetreatToCastle            = AragornVoiceRetreat
    VoiceEnterStateRetreatToCastle    = AragornVoiceEnterStateRetreat
    VoiceSelect                    = AragornVoiceSelectMS
    VoiceSelectBattle                = AragornVoiceSelectBattle
    VoiceGuard                    = AragornVoiceMove

    SoundImpact                    = ImpactHorse

    UnitSpecificSounds
        VoiceEnterUnitElvenTransportShip    = AragornVoiceMove
        VoiceGarrison                        = AragornVoiceGarrison
        VoiceInitiateCaptureBuilding        = AragornVoiceMove
    End


    CrowdResponseKey = GoodMen

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"
    EvaEventDieOwner                = AragornDie

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Man Man_Male Unit Infantry Hero

    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:AragornVoiceElendil                 Animation:GUAragorn_SKL.GUAragorn_ATKL    Frames:21

        AnimationSound = Sound:AragornVoiceEnterStateElendil             Animation:GUAragorn_SKL.GUAragorn_ATKL    Frames:21

        AnimationSound = Sound:FootstepDirtA                    Animation:GUAragorn_SKL.GUAragorn_RUNB    Frames:8 17 26 36

        AnimationSound = Sound:BodyFallGenericNoArmor                Animation:GUAragorn_SKL.GUAragorn_DIEA    Frames:55
        AnimationSound = Sound:BodyFallGenericNoArmor                Animation:GUAragorn_SKL.GUAragorn_DIEB    Frames:70
        AnimationSound = Sound:BodyFallSoldier                    Animation:GUAragorn_SKL.GUAragorn_LNDA    Frames:1

        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_ACCL    Frames:14 32
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_RUNA    Frames:0
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNL1    Frames:0
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNR1    Frames:0

        AnimationSound = Sound:HorseWhinny            Animation:RUHHs_Theo_SKL.RUHHs_Theo_IDLC    Frames:3

        AnimationSound = Sound:HorseDieForHero        Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA    Frames:0
        AnimationSound = Sound:BodyFallSoldier        Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA    Frames:1 9

        AnimationSound = Sound:HorseDieForHero        Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA    Frames:0
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA    Frames:4
        AnimationSound = Sound:BodyFallSoldier        Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA    Frames:42
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE HERO ARMY_SUMMARY ARAGORN HEAVY_MELEE_HITTER
    PathfindDiameter = 40.0

    Body = RespawnBody ModuleTag_RespawnBody
        CheerRadius               = EMOTION_CHEER_RADIUS
        MaxHealth                 = ARAGORNDAG_HEALTH
        PermanentlyKilledByFilter = NONE
        DodgePercent              = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                = DYING
        DeathAnimationTime        = 3933
        InitialSpawnFX            = FX_AragornInitialSpawn
        RespawnAnim                = LEVELED
        RespawnAnimationTime        = 2000
        AutoRespawnAtObjectFilter    = NONE +CASTLE_KEEP
        ButtonImage                = HIAragorn

        RespawnRules =            AutoSpawn:No    Cost:ARAGORNDAG_COST        Time:STRONG_HERO_RESPAWNTIME        Health:100%
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

    #include "..\..\..\includes\CaptureBuilding.inc"


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate        = 500
        AILuaEventsList            = AragornFunctions
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance                = 300
        TauntAndPointUpdateDelay            = 10000
        AddEmotion            =    Doom_Base
        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
        AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base
        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
    End

    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_GOOD_HERO_SPEED
    End

    LocomotorSet
        Locomotor = HeroHorseLocomotor
        Condition = SET_MOUNTED
        Speed     = 80
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 2133
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL AragornVoiceDie
    End

    Behavior = SquishCollide ModuleTag_06

    End


    Behavior = InvisibilityUpdate ModuleTag_StealthForEscape
        InvisibilityNugget
            InvisibilityType      = STEALTH
            ForbiddenConditions   = MOVING FIRING_ANY TAKING_DAMAGE USING_ABILITY
            BecomeStealthedFX     = FX_ElvenCloakOn
            ExitStealthFX         = FX_ElvenCloakOff
            Options               = UNTOGGLE_HIDDEN_WHEN_LEAVING_STEALTH
        End
        StartsActive              = No
        UpdatePeriod              = 2000
    End

    Behavior = SpecialPowerModule ModuleTag_ElfCloakStarter
        SpecialPowerTemplate      = SpecialAbilityElfCloak
        UpdateModuleStartsAttack  = Yes
    End

    Behavior = ToggleHiddenSpecialAbilityUpdate ModuleTag_ElfCloakUpdate
        SpecialPowerTemplate      = SpecialAbilityElfCloak
        AwardXPForTriggering      = 0
    End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AragornBladeMasterEnabler
        SpecialPowerTemplate = SpecialAbilityAragornBladeMaster
        TriggeredBy 	     = Upgrade_Level_2
    End

    Behavior = SpecialPowerModule ModuleTag_AragornBladeMasterStarter
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        StartsPaused            = Yes
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_AragornBladeMasterUpdate
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        HeroAttributeModifier   = AragornBladeMasterMod
        HeroEffectDuration      = 30000
        UnpackTime              = 1
        TriggerSound            = AragornBladeMaster
    End

    Behavior = AutoAbilityBehavior ModuleTag_AragornBladeMasterAutoAbility
	SpecialAbility		= SpecialAbilityAragornBladeMaster
	ForbiddenStatus 	= INSIDE_GARRISON
	MaxScanRange		= 150
	Query			= 15 ALL ENEMIES
	Query			= 1 ANY ENEMIES +HERO +MONSTER
   End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 100
        HitReactionLifeTimer2 = 1000
        HitReactionLifeTimer3 = 1993

        HitReactionThreshold1 = 0.0
        HitReactionThreshold2 = 25.0
        HitReactionThreshold3 = 50.0
    End



    Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership
        StartsActive     = No
        BonusName        = AragornGeschenkdesAbendsternsNew
        TriggeredBy      = Upgrade_Level_4
        RefreshDelay     = 2000
        Range            = 1
        AllowSelf        = Yes

        ObjectFilter     = NONE +GondorAragorn ALLIES
    End

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TheodenLeadership
        SpecialPowerTemplate = SpecialAbilityFakeLeadership
        TriggeredBy = Upgrade_Level_4
    End

    Behavior = SpecialPowerModule ModuleTag_TheodenLeadershipUpdate
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack  = No
        StartsPaused = Yes
    End

    Behavior = AutoHealBehavior ModuleTag_ElvenGiftHealing
        StartsActive          = No
        TriggeredBy           = Upgrade_Level_4
        HealingAmount         = ELVEN_GIFT_REGEN_AMOUNT
        HealingDelay          = ELVEN_GIFT_REGEN_DELAY
        StartHealingDelay     = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AragornAthelas2
        SpecialPowerTemplate = SpecialAbilityAragornAthelas
        TriggeredBy = Upgrade_Level_3
        ObeyRechageOnTrigger    = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_AragornAthelas
        SpecialPowerTemplate     = SpecialAbilityAragornAthelas
        UpdateModuleStartsAttack = Yes
        TriggerFX                = FX_AragornAthelas
        SetModelCondition        = ModelConditionState:USER_5
        SetModelConditionTime    = 2.1
        StartsPaused             = Yes
    End

    Behavior = SpecialAbilityUpdate ModuleTag_AragornAthelasUpdate
        SpecialPowerTemplate    = SpecialAbilityAragornAthelas
        StartAbilityRange       = 1.6
        UnpackTime              = 1
        PreparationTime         = 3
        PackTime                = 2096
        AwardXPForTriggering    = 0
    End

    Behavior = AutoAbilityBehavior ModuleTag_AthelasAutoAbility
        SpecialAbility    = SpecialAbilityAragornAthelas
        MaxScanRange    = 150
        Query            = 1 NONE +HERO ALLIES
    End


    Behavior = AutoHealBehavior ModuleTag_AthelasHealing
        StartsActive                = Yes
        ButtonTriggered             = Yes
        HealingAmount               = 1000
        Radius                      = 150
        HealOnlyOthers              = No
        SingleBurst                 = Yes
        UnitHealPulseFX             = FX_AragornAthelas
        KindOf                      = HERO
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_ArrowVolleyEvilEnabler
        SpecialPowerTemplate          = SpecialAbilityMenLongShot
        TriggeredBy                   = Upgrade_Level_4
        ObeyRechageOnTrigger          = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_ArrowVolleyEvil
        SpecialPowerTemplate          = SpecialAbilityMenLongShot
        OCL                           = OCL_LongShotAbility
        CreateLocation                = CREATE_AT_LOCATION
        UpdateModuleStartsAttack      = No
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_FireballUpdate
        SpecialPowerTemplate          = SpecialAbilityMenLongShot
        PackTime                      = 5000
        MustFinishAbility             = Yes
        SpecialWeapon                 = MenLongShotWeapon
        NeedLivingTargets             = No

        ApproachRequiresLOS           = No
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_EnableElendil
        SpecialPowerTemplate        = SpecialAbilityAragornElendil
        TriggeredBy                    = Upgrade_Level_6
    End

    Behavior = SpecialPowerModule ModuleTag_ElendilStarter
        SpecialPowerTemplate        = SpecialAbilityAragornElendil
        UpdateModuleStartsAttack    = Yes
        AntiCategory            = LEADERSHIP
        AttributeModifier            = AragornElendilAntiCategory
        AttributeModifierRange        = 200.0
        StartsPaused            = Yes
        SetModelCondition            = ModelConditionState:USER_3
        SetModelConditionTime        = 10.0
    End

    Behavior = ModelConditionSpecialAbilityUpdate ModuleTag_ElendilUpdate
        SpecialPowerTemplate    = SpecialAbilityAragornElendil
        UnpackTime              = 1400
        PreparationTime         = 1
        PersistentPrepTime      = 1000
        PackTime                = 1000

        GenerateTerror            = Yes
        EmotionPulseRadius        = 180
        ObjectFilter            = ELENDIL_OBJECT_FILTER
        AwardXPForTriggering    = 0
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AragornOathbreakersEnabler
        SpecialPowerTemplate = SuperweaponSpawnOathbreakers
        TriggeredBy = Upgrade_Level_10

        ObeyRechageOnTrigger   = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_OCLSpecialPower
        SpecialPowerTemplate      = SuperweaponSpawnOathbreakers
        OCL                       = OCL_GondorArmyofTheDeadCavalryEggSmall
        CreateLocation            = CREATE_AT_LOCATION
        StartsPaused              = Yes
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseHorseToggle
        SpecialPowerTemplate        = SpecialAbilityToggleMounted
        TriggeredBy                    = Upgrade_Level_1
    End

     Behavior = SpecialPowerModule ModuleTag_HorseToggleStarter
         SpecialPowerTemplate      = SpecialAbilityToggleMounted
         UpdateModuleStartsAttack  = Yes

         StartsPaused = Yes
     End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle
         SpecialPowerTemplate    = SpecialAbilityToggleMounted
         UnpackTime              = GOOD_MOUNT_TIME
         PreparationTime         = 1
         PersistentPrepTime      = 250
         PackTime                = GOOD_MOUNT_TIME
         OpacityTarget           = .3
         AwardXPForTriggering    = 0
    End



    Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership2
        StartsActive    = No
        BonusName       = KonigderMenschenModifier
        TriggeredBy     = Upgrade_Level_10
        RefreshDelay    = 2000
        Range           = 200
        ObjectFilter    = ANY +CAVALRY +INFANTRY -MACHINE -HERO -STRUCTURE -BASE_FOUNDATION -DOZER ALLIES
    End

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TheodenLeadership2
        SpecialPowerTemplate = SpecialAbilityFakeLeadership
        TriggeredBy = Upgrade_Level_10
    End

    Behavior = SpecialPowerModule ModuleTag_TheodenLeadershipUpdate2
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack  = No
        StartsPaused = Yes
    End

    Behavior = CostModifierUpgrade ModuleTag_CostModifier
        LabelForPalantirString    = GUI:HERO_DISCOUNT
        TriggeredBy               = Upgrade_Level_10
        ObjectFilter              = ANY +HERO
        Percentage                = -15%
        Percentage                = -20%
        Percentage                = -25%
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_EntwicklungenLeadership
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership3
        TriggeredBy               = Upgrade_Level_10
    End

    Behavior = SpecialPowerModule ModuleTag_EntwicklungenUpdate
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership3
        UpdateModuleStartsAttack  = No
        StartsPaused              = Yes
    End

    Behavior = SubObjectsUpgrade Upgrade_AragornHelmsDeep
        TriggeredBy        = Upgrade_Level_4
        ShowSubObjects     = ARAGORN_KOPF HELMSKLAMM_BODY
        HideSubObjects     = STREICHER_STUFF STREICHER_CLOAK STREICHER_KOPF STREICHER_BODY STREICHER_ROCK
    End

    Behavior = CommandSetUpgrade ModueTag_AragornHelmsDeepCommandSet
        TriggeredBy        = Upgrade_Level_4
        CommandSet         = GondorAragornsEntwicklung2CommandSet
    End

    Behavior = SubObjectsUpgrade Upgrade_AragornBlackGate
        TriggeredBy        = Upgrade_Level_7
        ShowSubObjects     = ARAGORN_BODY ARAGORN_KOPF ARAGORN_HAND ARAGORN_GNTL ARAGORN_ROCK ARAGORN_CLOAK
        HideSubObjects     = STREICHER_KNIFE STREICHER_HAND HELMSKLAMM_BODY STREICHER_STUFF STREICHER_CLOAK STREICHER_KOPF STREICHER_BODY STREICHER_ROCK
    End

    Behavior = CommandSetUpgrade ModueTag_AragornBlackGateCommandSet
        TriggeredBy        = Upgrade_Level_7
        CommandSet         = GondorAragornsEntwicklung3CommandSet
    End

    Behavior = SubObjectsUpgrade Upgrade_AragornElessar
        TriggeredBy        = Upgrade_Level_10
        UpgradeTexture     = guaragorn_rotk.tga 0 guelessar.tga
        UpgradeTexture     = guaragorn_2trs.tga 0 guelessar.tga
        UpgradeTexture     = guaragorn_body.tga 0 guelessar_body.tga
        ShowSubObjects     = ARAGORN_BODY KRONE ARAGORN_KOPF ARAGORN_HAND ARAGORN_GNTL ARAGORN_ROCK ARAGORN_CLOAK
        HideSubObjects     = STREICHER_KNIFE STREICHER_HAND HELMSKLAMM_BODY STREICHER_STUFF STREICHER_CLOAK STREICHER_KOPF STREICHER_BODY STREICHER_ROCK
    End

    Behavior = CommandSetUpgrade ModueTag_AragornElessarCommandSet
        TriggeredBy        = Upgrade_Level_10
        CommandSet         = GondorAragornsEntwicklung4CommandSet
    End


    Behavior = SubObjectsUpgrade ModuleTag_ShowAnduril
        TriggeredBy       = Upgrade_Anduril
        HideSubObjects    = SWORD
        ShowSubObjects    = ANDURIL ANDURIL02
    End


    Behavior = FireWeaponUpdate FireWeaponUpdateModuleTag
        FireWeaponNugget
            WeaponName = AragornRetterObjectDestroyWeapon
            FireDelay = 2000
            OneShot = Yes
        End
    End

    Behavior = ObjectCreationUpgrade ModuleTag_RetterObject
        TriggeredBy     = Upgrade_RaiseSchmiedekunst
        Delay           = 0
        ThingToSpawn    = RetterObjectAragorn
    End

    Behavior = GrantUpgradeCreate ModuleTag_EnableUpgradeZD
        UpgradeToGrant      = Upgrade_MyHour
        GiveOnBuildComplete = Yes
    End

    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP        = Yes
    End

    Behavior = AutoHealBehavior ModuleTag_AragornHealing
        StartsActive = Yes
        HealingAmount = HERO_HEAL_AMOUNT
        HealingDelay = 1000
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName  = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName  = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName  = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End

    Behavior = AISpecialPowerUpdate ElvenLorienWarriorHordeCaptureBuildingAI
        CommandButtonName  = Command_CaptureBuilding
        SpecialPowerAIType = AI_SPECIAL_POWER_CAPTURE_BUILDING
    End

    Behavior = AISpecialPowerUpdate AragornBladeMasterAI
        CommandButtonName = Command_SpecialAbilityBladeMaster
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate AragornBladeMaster2AI
        CommandButtonName = Command_SpecialAbilityAragornBladeMaster2
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate AragornBladeMaster3AI
        CommandButtonName = Command_SpecialAbilityAragornBladeMaster3
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate AragornElendilAI
        CommandButtonName = Command_SpecialAbilityElendilMod
        SpecialPowerAIType = AI_SPECIAL_POWER_ELENDIL
        SpecialPowerRadius = 200
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornAthelas
        CommandButtonName = Command_SpecialAbilityAthelasMod
        SpecialPowerAIType = AI_SPECIAL_POWER_SELFAOEHEALHEROS
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornAthelas2
        CommandButtonName = Command_SpecialAbilityAragornAthelasMod2
        SpecialPowerAIType = AI_SPECIAL_POWER_SELFAOEHEALHEROS
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornAthelas3
        CommandButtonName = Command_SpecialAbilityAthelasElessar
        SpecialPowerAIType = AI_SPECIAL_POWER_SELFAOEHEALHEROS
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornOathBreakers
        CommandButtonName = Command_SpawnOathbreakersMod
        SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
        SpecialPowerRadius = 30.0
    End

    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes
    Shadow = SHADOW_DECAL
    ShadowSizeX = 20
    ShadowSizeY = 20
    ShadowTexture = ShadowI
End

ChildObject GondorAragornMP GondorAragorn

    SelectPortrait = HPStreicher
    ButtonImage    = HIStreicher

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_Aragorn


    Draw = W3DScriptedModelDraw ModuleTag_DRAW

        DefaultModelConditionState
            Model               = gustreiern_skn
        End

        ModelConditionState     = INVISIBLE_STEALTH
            ParticleSysBone     = NONE Predator FollowBone:Yes Persist:SPAWN PersistID:100
            ParticleSysBone     = NONE Predator FollowBone:Yes Persist:HOLD PersistID:100
        End

        ModelConditionState = WEAPONSET_HERO_MODE USER_3
            ParticleSysBone = BAT_RIBS BladeMasterStreicherNeu FollowBone:Yes
            ParticleSysBone = BAT_HEAD AragornElendill FollowBone:Yes
        End

        ModelConditionState = WEAPONSET_HERO_MODE
            ParticleSysBone = BAT_RIBS BladeMasterStreicherNeu FollowBone:Yes
        End

        ModelConditionState = USER_3
            ParticleSysBone = BAT_HEAD AragornElendill FollowBone:Yes
        End




        TransitionState                = TRANS_boredToAttention_Elendil
            Animation                = GUAragorn_ATND
                AnimationName        = GUAragorn_SKL.GUAragorn_ATND
                AnimationMode        = ONCE
            End
            FXEvent    = Name: FX_ElendilGlowEvent
        End

        TransitionState                = TRANS_attentionToBored_Elendil
            Animation                = GUAragorn_ATND
                AnimationName        = GUAragorn_SKL.GUAragorn_ATND
                AnimationMode        = ONCE_BACKWARDS
            End
            FXEvent                    = Name: FX_ElendilGlowEvent
            Flags                    = START_FRAME_LAST
        End

        TransitionState                = TRANS_boredToAttention
            Animation                = GUAragorn_ATND
                AnimationName        = GUAragorn_SKL.GUAragorn_ATND
                AnimationMode        = ONCE
            End
        End

        TransitionState                = TRANS_attentionToBored
            Animation                = GUAragorn_ATND
                AnimationName        = GUAragorn_SKL.GUAragorn_ATND
                AnimationMode        = ONCE_BACKWARDS
            End
            Flags                    = START_FRAME_LAST
        End


        IdleAnimationState
            StateName                = STATE_bored

            Animation                = GUAragorn_IDLE
                AnimationName        = GUAragorn_SKL.GUAragorn_IDLE
                AnimationMode        = ONCE
                AnimationPriority    = 12
            End

            Animation                = GUAragorn_IDLF
                AnimationName        = GUAragorn_SKL.GUAragorn_IDLF
                AnimationMode        = ONCE
                AnimationPriority    = 1
            End

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if    Prev == "STATE_attention" or
                    Prev == "STATE_running" or
                    Prev == "OATH_BREAKERS" then CurDrawableSetTransitionAnimState("TRANS_attentionToBored") end
            EndScript
        End

        AnimationState            = THROWN_PROJECTILE
            Animation            = FLYA
                AnimationName    = GUAragorn_SKL.GUAragorn_FLYA
                AnimationMode    = LOOP
            End
        End

        AnimationState            = STUNNED_FLAILING
            Animation            = FLYA
                AnimationName    = GUAragorn_SKL.GUAragorn_FLYA
                AnimationMode    = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
        End

        AnimationState             = DYING SPLATTED
            Animation         = Splatted_On_Ground
                AnimationName    = GUAragorn_SKL.GUAragorn_LNDA
                AnimationMode    = ONCE
            End
            EnteringStateFX        = FX_SoldierHitGround
        End


        AnimationState                = DYING
            Animation                = GUAragorn_DIEA
                AnimationName        = GUAragorn_SKL.GUAragorn_DIEA
                AnimationMode        = ONCE
            End
            Animation                = GUAragorn_DIEB
                AnimationName        = GUAragorn_SKL.GUAragorn_DIEB
                AnimationMode        = ONCE
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = GUAragorn_IDLE
                AnimationMode                = LOOP
            End
        End

        AnimationState                = STUNNED_STANDING_UP
            Animation                = GUAragorn_GTPB
                AnimationName        = GUAragorn_SKL.GUAragorn_GTPB
                AnimationMode        = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState            = STUNNED
            Animation            = LNDA
                AnimationName    = GUAragorn_SKL.GUAragorn_LNDA
                AnimationMode    = ONCE
            End
            EnteringStateFX        = FX_SoldierHitGround
        End








        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = GUAragorn_SKL.GUAragorn_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End



        AnimationState                = FIRING_OR_PREATTACK_A WEAPONSET_HERO_MODE
            StateName                = STATE_ready
            Animation                = ATKF
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKF
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
            FXEvent    = Frame:25 Name: FX_BladeMasterHitOrient
            FXEvent    = Frame:45 Name: FX_BladeMasterHitOrient
        End



        AnimationState                = FIRING_OR_PREATTACK_A
            StateName                = STATE_ready
            Animation                = ATKD
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKD
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
                AnimationPriority    = 3
            End
            Animation                = ATKE
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKE
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
                AnimationPriority    = 2
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End







        AnimationState                = MOVING
            StateName                = STATE_running

            Animation                = GUAragorn_RUNB
                AnimationName        = GUAragorn_SKL.GUAragorn_RUNB
                AnimationMode        = LOOP
            End
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKO
                AnimationMode        = ONCE
            End
        End

        AnimationState                = SPECIAL_POWER_1
            StateName                = STATE_ready
            Animation                = GUAragorn_ATKL
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKL
                AnimationMode        = ONCE
            End
            ParticleSysBone            = B_SWORDBONE ElendilFlare FollowBone:Yes
            ParticleSysBone            = B_SWORDBONE ElendilSwordFlare FollowBone:Yes

        End

        AnimationState                = USER_2
            StateName                = ATHELAS
            Animation                = ATKP
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKP
                AnimationMode        = ONCE
            End
        End




        AnimationState                = HIT_REACTION HIT_LEVEL_3
            StateName                = STATE_bored
            Animation                = Hit_Level_1_b
                AnimationName        = GUAragorn_SKL.GUAragorn_HITB
                AnimationMode        = ONCE
            End
        End



        AnimationState                = EMOTION_CELEBRATING
            StateName                = STATE_ready
            Animation                = CHRB
                AnimationName        = GUAragorn_SKL.GUAragorn_CHRB
                AnimationMode        = ONCE
                AnimationPriority    = 1
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                = EMOTION_TAUNTING
            StateName                = STATE_ready
            Animation                = CHRB
                AnimationName        = GUAragorn_SKL.GUAragorn_CHRB
                AnimationMode        = ONCE
                AnimationPriority    = 1
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                = EMOTION_ALERT
            StateName                = STATE_ready
            Animation                = IDLA
                AnimationName        = GUAragorn_SKL.GUAragorn_IDLA
                AnimationMode        = ONCE
                AnimationPriority    = 1
            End
        End

        AnimationState                = EMOTION_MORALE_HIGH
            StateName                = STATE_ready
            Animation                = ATKN
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKN
                AnimationMode        = ONCE
                AnimationPriority    = 1
            End
            Animation                = ATKP
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKP
                AnimationMode        = ONCE
                AnimationPriority    = 15
            End
            Animation                = TNTC
                AnimationName        = GUAragorn_SKL.GUAragorn_TNTD
                AnimationMode        = ONCE
                AnimationPriority    = 30
            End
            Animation                = TNTD
                AnimationName        = GUAragorn_SKL.GUAragorn_TNTD
                AnimationMode        = ONCE
                AnimationPriority    = 30
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                = ENGAGED
            StateName                = STATE_ready
            Animation                = IDLA
                AnimationName        = GUAragorn_SKL.GUAragorn_IDLA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
                AnimationPriority    = 1
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                = RAISING_FLAG
            StateName                = STATE_ready
            Animation                = CHRB
                AnimationName        = GUAragorn_SKL.GUAragorn_CHRB
                AnimationMode        = LOOP
            End
        End

        AnimationState                = SELECTED
            StateName                = STATE_attention
            Animation                = ATNE
                AnimationName        = GUAragorn_SKL.GUAragorn_ATNE
                AnimationMode        = LOOP
                AnimationBlendTime    = 5
                AnimationMustCompleteBlend = Yes
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_bored" then CurDrawableSetTransitionAnimState("TRANS_boredToAttention") end
            EndScript
        End

    End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End



    VoiceAttack                     = StreicherVoiceAttack
    VoiceAttackStructure            = StreicherVoiceAttack
    VoiceAttackMachine              = StreicherVoiceAttack
    VoiceAttackCharge               = StreicherVoiceAttack
    VoiceEnterStateAttack           = StreicherVoiceAttack
    VoiceEnterStateAttackStructure  = StreicherVoiceAttack
    VoiceEnterStateAttackMachine    = StreicherVoiceAttack
    VoiceEnterStateAttackCharge     = StreicherVoiceAttack
    VoiceCreated                    = StreicherVoiceSelect
    VoiceFear                       = StreicherVoiceHelpMe
    VoiceMove                       = StreicherVoiceMove
    VoiceMoveToCamp                 = StreicherVoiceMove
    VoiceMoveWhileAttacking         = StreicherVoiceSelect
    VoiceEnterStateMove             = StreicherVoiceMove
    VoiceEnterStateMoveToCamp       = StreicherVoiceMove
    VoiceEnterStateMoveWhileAttacking = StreicherVoiceMove
    VoicePriority                   = 90
    VoiceRetreatToCastle            = StreicherVoiceSelect
    VoiceEnterStateRetreatToCastle  = StreicherVoiceSelect
    VoiceSelect                     = StreicherVoiceSelect
    VoiceSelectBattle               = StreicherVoiceSelect
    VoiceGuard                      = StreicherVoiceMove

    SoundImpact                     = ImpactHorse

    UnitSpecificSounds
        VoiceEnterUnitElvenTransportShip    = StreicherVoiceMove
        VoiceGarrison                       = StreicherVoiceSelect
        VoiceInitiateCaptureBuilding        = StreicherVoiceMove
    End
End

ChildObject GondorAragorn_Summoned GondorAragorn
    IsTrainable = No
    CommandPoints = 0

    KindOf = PRELOAD HERO SELECTABLE CAN_CAST_REFLECTIONS SCORE NO_FREEWILL_ENTER MONSTER SCARY CANNOT_RETALIATE SUMMONED

    Behavior = ExperienceLevelCreate ModuleTag_MPLevelBonus
        LevelToGrant = 5
    End

    Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
        MinLifetime      = 120000
        MaxLifetime      = 120000
        DeathType        = FADED
    End

      Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes = NONE +FADED
        FadeDelay = 0
        FadeTime = 2500
        DestructionDelay = 2500
        Sound = INITIAL SpellGenericUnsummonFasterMS
        DeathFlags = DEATH_2
    End
End
