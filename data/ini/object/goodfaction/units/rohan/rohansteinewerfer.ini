Object RohanStonethrower


    SelectPortrait    = UPFreisassen
    ButtonImage       = HSFreisassen

    Draw    =    W3DHordeModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    StaticModelLODMode = Yes

    LodOptions    = LOW
        AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_LOW
        MaxRandomTextures        =    MAX_RANDOM_TEXTURES_LOW
        MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_LOW
        MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_LOW
    End

    LodOptions    = MEDIUM
        AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_MED
        MaxRandomTextures        =    MAX_RANDOM_TEXTURES_MED
        MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_MED
        MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_MED
    End

    LodOptions    = HIGH
        AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_HIGH
        MaxRandomTextures        =    MAX_RANDOM_TEXTURES_HIGH
        MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_HIGH
        MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_HIGH
    End

     RandomTexture = ruspearman.tga  0 ruspearman.tga
     RandomTexture = ruspearman2.tga  0 ruspearman.tga
     RandomTexture = ruspearman3.tga  0 ruspearman.tga
     RandomTexture = ruspearman_ha.tga  0 ruspearman.tga
     RandomTexture = ruspearman3_ha.tga  0 ruspearman.tga

        ParticlesAttachedToAnimatedBones = Yes

        DefaultModelConditionState
            Model               = rusteinw_skn
            Skeleton            = GUHbtShf_SKL
            WeaponLaunchBone    = PRIMARY B_HANDR
            WeaponLaunchBone    = SECONDARY B_HANDR
        End




        AnimationState                    = STUNNED_FLAILING WEAPONSET_TOGGLE_1
            StateName                    = STATE_Bored_Rocks
            Animation                    = FLYA
                AnimationName            = GUHbtShfB_FLYA
                AnimationMode            = LOOP
                AnimationBlendTime        = 0
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            Flags                        = RANDOMSTART
        End
        AnimationState                    = STUNNED_FLAILING
            StateName                    = STATE_Bored_Sword
            Animation                    = FLYA
                AnimationName            = GUHbtShfS_FLYA
                AnimationMode            = LOOP
                AnimationBlendTime        = 0
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            Flags                        = RANDOMSTART
        End

        AnimationState                    = PASSENGER FREEFALL
            Animation
                AnimationName            = GUHbtShfB_FLLA
                AnimationMode            = LOOP
            End
        End

        AnimationState                        = DYING DEATH_2 WEAPONSET_TOGGLE_1
            Animation
                AnimationName                = GUHbtShfB_IDLB
                AnimationMode                = LOOP
            End
        End
        AnimationState                        = DYING DEATH_2
            Animation
                AnimationName                = GUHbtShfS_IDLB
                AnimationMode                = LOOP
            End
        End

        AnimationState                    = DYING BURNINGDEATH
            Animation
                AnimationName            = GUHbtShfB_DIEA
                AnimationMode            = ONCE
                AnimationBlendTime        = 10
            End
            Animation
                AnimationName            = GUHbtShfB_DIEB
                AnimationMode            = ONCE
                AnimationBlendTime        = 10
            End
            Animation
                AnimationName            = GUHbtShfB_DIEC
                AnimationMode            = ONCE
                AnimationBlendTime        = 10
            End
        End

        AnimationState                    = DYING SPLATTED WEAPONSET_TOGGLE_1
            Animation                    = LNDA
                AnimationName            = GUHbtShfB_LNDA
                AnimationMode            = ONCE
            End
        End
        AnimationState                    = DYING SPLATTED
            Animation
                AnimationName            = GUHbtShfS_LNDA
                AnimationMode            = ONCE
            End
        End
        AnimationState                    = DYING WEAPONSET_TOGGLE_1
            StateName                    = STATE_Bored_Rocks
            Animation                    = DIEA
                AnimationName            = GUHbtShfB_DIEA
                AnimationMode            = ONCE
            End
            Animation                    = DIEA
                AnimationName            = GUHbtShfB_DIEB
                AnimationMode            = ONCE
            End
            Animation                    = DIEA
                AnimationName            = GUHbtShfB_DIEC
                AnimationMode            = ONCE
            End
        End

        AnimationState                    = DYING
            Animation
                AnimationName            = GUHbtShfS_DIEA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfS_DIEB
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfS_DIEC
                AnimationMode            = ONCE
            End
        End

        AnimationState                        = BURNINGDEATH
            Animation
                AnimationName                = GUHbtShfB_MFDA
                AnimationMode                = LOOP
                Distance                    = 80
            End
        End

        AnimationState                        = PARALYZED WEAPONSET_TOGGLE_1
            Animation
                AnimationName                = GUHbtShfB_IDLB
                AnimationMode                = LOOP
            End
        End
        AnimationState                        = PARALYZED
            Animation
                AnimationName                = GUHbtShfS_IDLB
                AnimationMode                = LOOP
            End
        End



        AnimationState                    = STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
            StateName                    = STATE_Ready_Rocks
            Animation                    = GTPA
                AnimationName            = GUHbtShfB_GTPA
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End
        AnimationState                    = STUNNED_STANDING_UP
            StateName                    = STATE_Ready_Sword
            Animation
                AnimationName            = GUHbtShfS_GTPA
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState                    = STUNNED WEAPONSET_TOGGLE_1
            StateName                    = STATE_Bored_Rocks
            Animation                    = LNDA
                AnimationName            = GUHbtShfB_LNDA
                AnimationMode            = ONCE
            End
        End
        AnimationState                    = STUNNED
            StateName                    = STATE_Bored_Sword
            Animation                    = LNDA
                AnimationName            = GUHbtShfS_LNDA
                AnimationMode            = ONCE
            End
        End






        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation
                AnimationName       = GUHbtShfS_RUNC
                AnimationMode       = ONCE
            End
            Animation
                AnimationName       = GUHbtShfS_RUND
                AnimationMode       = ONCE
            End
            Flags               = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState            = MOVING EMOTION_TERROR WEAPONSET_TOGGLE_1
            Animation
                AnimationName            = GUHbtShfB_RUNC
                AnimationMode            = LOOP
            End
        End
        AnimationState            = MOVING EMOTION_TERROR
            Animation
                AnimationName            = GUHbtShfS_RUNE
                AnimationMode            = LOOP
            End
        End


        AnimationState                    = BETWEEN_FIRING_SHOTS_A WEAPONSET_TOGGLE_1
            StateName                    = STATE_Ready_Rocks
            Animation                    = IDLA
                AnimationName            = GUHbtShfB_IDLA
                AnimationMode            = LOOP
                AnimationBlendTime        = 20
            End
            BeginScript
                CurDrawableAllowToContinue()
            EndScript
        End


        AnimationState                    = BETWEEN_FIRING_SHOTS_A
            StateName                    = STATE_Ready_Sword
            Animation                    = IDLB
                AnimationName            = GUHbtShfS_IDLA
                AnimationMode            = LOOP
                AnimationBlendTime        = 10
            End
            BeginScript
                CurDrawableAllowToContinue()
            EndScript
        End



        AnimationState                    = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
            StateName                    = STATE_Ready_Rocks
            Animation                    = THRA
                AnimationName            = GUHbtShfB_ATKA
                AnimationMode            = ONCE
                UseWeaponTiming            = Yes
            End
            FrameForPristineBonePositions = 21
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
            EndScript
        End

        AnimationState                    = FIRING_OR_PREATTACK_A
            StateName                    = STATE_Ready_Sword
            Animation                    = ATKA
                AnimationName            = GUHbtShfS_ATKA
                AnimationMode            = ONCE
                UseWeaponTiming            = Yes
                AnimationBlendTime        = 10
            End
            Animation                    = ATKB
                AnimationName            = GUHbtShfS_ATKB
                AnimationMode            = ONCE
                UseWeaponTiming            = Yes
                AnimationBlendTime        = 10
            End
            Animation                    = ATKB
                AnimationName            = GUHbtShfS_ATKB
                AnimationMode            = ONCE
                UseWeaponTiming            = Yes
                AnimationBlendTime        = 10
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
            EndScript
        End




        AnimationState                    = MOVING WEAPONSET_TOGGLE_1
            StateName                    = STATE_Running_Rocks
            Animation                    = RUNA
                AnimationName            = GUHbtShfB_RUNA
                AnimationMode            = ONCE
            End
            Animation                    = RUNA
                AnimationName            = GUHbtShfB_RUNB
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
            EndScript
        End

        AnimationState                    = MOVING ATTACKING
            StateName                    = STATE_Running_Sword
            Animation                    = RUNA
                AnimationName            = GUHbtShfS_RUNC
                AnimationMode            = ONCE
            End
            Animation                    = RUNA
                AnimationName            = GUHbtShfS_RUND
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
            EndScript
        End

        AnimationState                    = MOVING BACKING_UP WEAPONSET_TOGGLE_1
            StateName                    = STATE_Running_Rocks
            Animation
                AnimationName            = GUHbtShfB_BAKA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfB_BAKB
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                    = MOVING BACKING_UP
            StateName                    = STATE_Running_Sword
            Animation
                AnimationName            = GUHbtShfS_BAKA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfS_BAKB
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                    = MOVING
            StateName                    = STATE_Running_Sword
            Animation                    = RUNA
                AnimationName            = GUHbtShfS_RUNB
                AnimationMode            = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
            EndScript
        End


















        AnimationState                    = EMOTION_POINTING WEAPONSET_TOGGLE_1
            StateName                    = STATE_Ready_Rocks
            Animation                    = IDLA
                AnimationName            = GUHbtShfB_PNTA
                AnimationMode            = ONCE
            End
            Animation                    = IDLA
                AnimationName            = GUHbtShfB_PNTB
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
            EndScript
        End
        AnimationState                    = EMOTION_POINTING
            StateName                    = STATE_Ready_Sword
            Animation
                AnimationName            = GUHbtShfS_PNTA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfS_PNTB
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
            EndScript
        End




        AnimationState                    = EMOTION_TAUNTING WEAPONSET_TOGGLE_1
            StateName                    = STATE_Ready_Rocks
            Animation
                AnimationName            = GUHbtShfB_TNTA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfB_TNTB
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfB_TNTC
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
            EndScript
        End
        AnimationState                    = EMOTION_TAUNTING
            StateName                    = STATE_Ready_Sword
            Animation
                AnimationName            = GUHbtShfS_TNTA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfS_TNTB
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfS_TNTC
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
            EndScript
        End

        AnimationState                    = EMOTION_AFRAID
            Animation
                AnimationName            = GUHbtShfB_FERA
                AnimationMode            = LOOP
            End
        End

        AnimationState                    = EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
            StateName                    = STATE_Ready_Rocks
            Animation
                AnimationName            = GUHbtShfB_CHRA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfB_CHRB
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfB_CHRC
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
            EndScript
        End

        AnimationState                    = EMOTION_CELEBRATING
            StateName                    = STATE_Ready_Sword
            Animation
                AnimationName            = GUHbtShfS_CHRA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfS_CHRB
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
            EndScript
        End


        AnimationState                    = RAISING_FLAG WEAPONSET_TOGGLE_1
            StateName                    = STATE_Ready_Rocks
            Animation
                AnimationName            = GUHbtShfB_CHRA
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Animation
                AnimationName            = GUHbtShfB_CHRB
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Animation
                AnimationName            = GUHbtShfB_CHRC
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState                    = SELECTED WEAPONSET_TOGGLE_1
            StateName                    = STATE_Attention_Rocks
            Animation                    = IDLA
                AnimationName            = GUHbtShfB_ATNB
                AnimationMode            = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_BoredToAttention_Rocks") end
            EndScript
        End

        AnimationState                    = RAISING_FLAG
            StateName                    = STATE_Ready_Sword
            Animation
                AnimationName            = GUHbtShfS_CHRA
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Animation
                AnimationName            = GUHbtShfS_CHRB
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                    = SELECTED
            StateName                    = STATE_Attention_Sword
            Animation                    = IDLA
                AnimationName            = GUHbtShfS_ATNB
                AnimationMode            = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_BoredToAttention_Sword") end
            EndScript
        End


        AnimationState                    = WEAPONSET_TOGGLE_1
            StateName                    = STATE_Bored_Rocks
            Animation
                AnimationName            = GUHbtShfB_IDLB
                AnimationMode            = ONCE
                AnimationPriority        = 10
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_AttentionToBored_Rocks") end
            EndScript
        End

        IdleAnimationState
            StateName                    = STATE_Bored_Sword
            Animation                    = IDLA
                AnimationName            = GUHbtShfS_IDLB
                AnimationMode            = ONCE
                AnimationPriority        = 10
            End
            Animation
                AnimationName            = GUHbtShfS_IDLC
                AnimationMode            = ONCE
                AnimationPriority        = 10
            End
            Animation
                AnimationName            = GUHbtShfS_IDLD
                AnimationMode            = ONCE
                AnimationPriority        = 10
            End
            Animation
                AnimationName            = GUHbtShfS_IDLE
                AnimationMode            = ONCE
                AnimationPriority        = 10
            End
            Animation
                AnimationName            = GUHbtShfS_IDLF
                AnimationMode            = ONCE
                AnimationPriority        = 10
            End
            Animation
                AnimationName            = GUHbtShfS_IDLG
                AnimationMode            = ONCE
                AnimationPriority        = 10
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_AttentionToBored_Sword") end
            EndScript
        End




        TransitionState                    = TRANS_RocksToSword
            Animation                    = STHA
                AnimationName            = GUHbtShfB_STHB
                AnimationMode            = ONCE
            End
        End
        TransitionState                    = TRANS_Running_RocksToSword
            Animation                    = STHA
                AnimationName            = GUHbtShfB_STHD
                AnimationMode            = ONCE
            End
        End

        TransitionState                    = TRANS_SwordToRocks
            Animation                    = STHA
                AnimationName            = GUHbtShfB_STHA
                AnimationMode            = ONCE
            End
        End
        TransitionState                    = TRANS_Running_SwordToRocks
            Animation                    = STHA
                AnimationName            = GUHbtShfB_STHC
                AnimationMode            = ONCE
            End
        End
        TransitionState                    = TRANS_BoredToAttention_Rocks
            Animation                    = ATNA
                AnimationName            = GUHbtShfB_ATNA
                AnimationMode            = ONCE
            End
        End
        TransitionState                    = TRANS_AttentionToBored_Rocks
            Animation                    = ATNC
                AnimationName            = GUHbtShfB_ATNC
                AnimationMode            = ONCE
            End
        End

        TransitionState                    = TRANS_BoredToAttention_Sword
            Animation                    = ATNA
                AnimationName            = GUHbtShfS_ATNA
                AnimationMode            = ONCE
            End
        End
        TransitionState                    = TRANS_AttentionToBored_Sword
            Animation                    = ATNC
                AnimationName            = GUHbtShfBS_ATNC
                AnimationMode            = ONCE
            End
        End



    End




    Side = Rohan
    EditorSorting = UNIT
    ThreatLevel = 1.0
    ThingClass = HORDE_UNIT
    CommandPoints = 2
    Scale = 1.1

    CommandSet = RohanArcherCommandSet

    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

    WeaponSet
        Conditions = None
        Weapon = PRIMARY    RohanSteinwerferThrow
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions = WEAPONSET_TOGGLE_1
        Weapon = PRIMARY    RohanSteinwerferThrow
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions = HIDDEN
    End

    ArmorSet
        Conditions      = None
        Armor           = EdainArcherArmor
        DamageFX        = NormalDamageFX
    End

    ArmorSet
        Conditions        = PLAYER_UPGRADE
        Armor            = EdainArcherHeavyArmor
        DamageFX        = NormalDamageFX
    End

    BountyValue = ROHAN_YEOMAN_BOUNTY_VALUE

    VisionRange = 300
    ShroudClearingRange = 350

    DisplayName = OBJECT:RohanStonethrower
    CrushableLevel = 0
    CrushRevengeWeapon = RangedInfantryCrushRevenge





    VoiceAttack                 = YeomanArcherVoiceAttackMod
    VoiceAttackAir                = YeomanArcherVoiceAttackMod
    VoiceAttackCharge             = YeomanArcherVoiceAttackChargeMod
    VoiceAttackStructure             = YeomanArcherVoiceAttackBuildingMod
    VoiceAttackMachine             = YeomanArcherVoiceAttackMod
    VoiceMove                 = YeomanArcherVoiceMoveMod
    VoiceMoveToCamp             = YeomanArcherVoiceMoveCampMod
    VoiceMoveWhileAttacking         = YeomanArcherVoiceDisengage
    VoiceRetreatToCastle             = YeomanArcherVoiceRetreatMod
    VoicePriority                = 45
    VoiceSelect                 = YeomanArcherVoiceSelectMSMod
    VoiceSelectBattle              = YeomanArcherVoiceSelectBattleMod

    VoiceEnterStateAttack             = YeomanArcherVoiceEnterStateAttackMod
    VoiceEnterStateAttackCharge         = YeomanArcherVoiceEnterStateAttackChargeMod
    VoiceEnterStateAttackStructure         = YeomanArcherVoiceEnterStateAttackBuildingMod
    VoiceEnterStateAttackMachine         = YeomanArcherVoiceEnterStateAttackBuildingMod
    VoiceEnterStateMove             = YeomanArcherVoiceEnterStateMoveMod
    VoiceEnterStateMoveToCamp         = YeomanArcherVoiceEnterStateMoveCampMod
    VoiceEnterStateMoveWhileAttacking    = YeomanArcherVoiceEnterStateDisengage
    VoiceEnterStateRetreatToCastle         = YeomanArcherVoiceEnterStateRetreatMod
    VoiceGuard            = YeomanArcherVoiceMove


    SoundImpact                = ImpactHorse

    UnitSpecificSounds
        VoiceGarrison                 = YeomanArcherVoiceGarrisonMod
    End



    EvaEventDamagedOwner    = UnitUnderAttack
    EvaEventDamagedFromShroudedSourceOwner = UnitUnderAttackFromShroudedUnit
    EvaEventDamagedByFireOwner  = GenericUnitBeingBurned
    EvaEventAmbushed = UnitAmbushed
    EvaEventSecondDamageFarFromFirstOwner = UnitUnderAttackAgain


    EvaEventSecondDamageFarFromFirstScanRange = 600
    EvaEventSecondDamageFarFromFirstTimeoutMS = 31000

    EvaEnemyObjectSightedEvent    = GenericEnemyUnitSighted


    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:FootstepDirtA             Animation:GUHbtShf_SKL.RUMerry_RUNA Frames:10 20
        AnimationSound = Sound:FootstepDirtA             Animation:GUHbtShf_SKL.RUMerry_RUNC Frames:10 20
        AnimationSound = Sound:FootstepDirtA             Animation:GUHbtShf_SKL.RUMerry_STHC    Frames:10 20
        AnimationSound = Sound:FootstepDirtA            Animation:GUHbtShf_SKL.RUMerry_STHD    Frames:10 20

        AnimationSound = Sound:SwordShingClean2         Animation:GUHbtShf_SKL.RUMerry_STHA    Frames:18
        AnimationSound = Sound:SwordIntoScabbard2        Animation:GUHbtShf_SKL.RUMerry_STHB    Frames:21
        AnimationSound = Sound:SwordIntoScabbard2        Animation:GUHbtShf_SKL.RUMerry_STHC    Frames:2
        AnimationSound = Sound:SwordShingClean2            Animation:GUHbtShf_SKL.RUMerry_STHD    Frames:8

        AnimationSound = Sound:BodyFallGenericNoArmor     Animation:GUHbtShf_SKL.RUMerry_LNDA    Frames:0
        AnimationSound = Sound:BodyFallGenericNoArmor     Animation:GUHbtShf_SKL.RUMerry_DIEA    Frames:44
        AnimationSound = Sound:BodyFallGenericNoArmor     Animation:GUHbtShf_SKL.RUMerry_DIEB    Frames:33

        AnimationSound = Sound:BodyFallGeneric1            Animation:GUHBTSHF_SKL.GUHBTSHF_LNDA    Frames:6
        AnimationSound = Sound:BodyFallGeneric1            Animation:GUHBTSHF_SKL.GUHBTSHF_DIEA    Frames:48
        AnimationSound = Sound:BodyFallGeneric1            Animation:GUHBTSHF_SKL.GUHBTSHF_DIEB    Frames:67
        AnimationSound = Sound:BodyFallGeneric1            Animation:GUHBTSHF_SKL.GUHBTSHF_DIEC    Frames:25
    End




    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ARCHER GRAB_AND_DROP ATTACK_NEEDS_LINE_OF_SIGHT

    Body = ActiveBody ModuleTag_02
        CheerRadius       = EMOTION_CHEER_RADIUS
        MaxHealth         = ROHAN_YEOMAN_HEALTH_MOD
        MaxHealthDamaged  = ROHAN_YEOMAN_HEALTH_DAMAGED_MOD

    End

    Behavior = ModelConditionUpgrade ModuleTag_Modell
        TriggeredBy       = Upgrade_RohanFaction Upgrade_AllFactionUpgrade
        AddConditionFlags = WEAPONSET_TOGGLE_1
        Permanent         = Yes
    End


   #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        CanAttackWhileContained        = Yes
        AILuaEventsList                = RohanArcherFunctions
        AttackPriority                =     AttackPriority_Archer
    End

    Behavior = ArmorUpgrade ModuleTag_ArmorUpgrade
        TriggeredBy = Upgrade_HeavyArmor
        ArmorSetFlag = PLAYER_UPGRADE
    End

    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_FOOT_FAST_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor = HumanWanderLocomotor
        Condition = SET_WANDER
        Speed     = NORMAL_FOOT_FAST_MEMBER_SPEED
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End

    Behavior = AimWeaponBehavior AimWeaponModuleTag
        AimLowThreshold  = -0.15
        AimHighThreshold =  0.15
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -EXTRA_3 -EXTRA_8
        SinkDelay = 3000
        SinkRate = 0.600
        DestructionDelay = 12000
        Sound = INITIAL YeomanArcherVoiceDie
    End

    Behavior = SlowDeathBehavior ModuleTag_Undead
        DeathTypes = NONE +EXTRA_3
        SinkDelay = 0
        SinkRate = 0
        DestructionDelay = 0
        Sound = INITIAL YeomanArcherVoiceDie
        DeathFlags = DEATH_5
        Weapon = FINAL EdainDeathforUndeadModule
    End


    Behavior = SquishCollide ModuleTag_06

    End


    Behavior = HordeMemberCollide ModuleTag_HMC

    End



    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End



    Behavior = WeaponSetUpgrade ModuleTag_08
        TriggeredBy = Upgrade_FireArrows


    End






    Behavior = ArmorUpgrade ArmorUpgradeModuleTag
        TriggeredBy = Upgrade_HeavyArmor

        ArmorSetFlag            = PLAYER_UPGRADE
    End

      Behavior = SubObjectsUpgrade Armor_Upgrade
          TriggeredBy        = Upgrade_HeavyArmor
          UpgradeTexture     = RUArcher1.tga 0 RUArcher1_ha.tga
          UpgradeTexture     = RUArcher2.tga 0 RUArcher2_ha.tga
          UpgradeTexture     = RUArcher3.tga 0 RUArcher3_ha.tga


          ShowSubObjects    = ARMOR
         RecolorHouse    = Yes
        ExcludeSubobjects = FireArowTip
      End

      Behavior = SubObjectsUpgrade FireArrows_Upgrade
          TriggeredBy        = Upgrade_FireArrows
          ShowSubObjects    = FireArowTip ArrowNock
          HideSubObjects    = arrow
      End




    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Human Unit Infantry Rohan_Archer
    End





    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 1993
        HitReactionLifeTimer2 = 1993
        HitReactionLifeTimer3 = 1993

        HitReactionThreshold1 = 5.0
        HitReactionThreshold2 = 25.0
        HitReactionThreshold3 = 50.0

        FastHitsResetReaction = Yes
    End

    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 19
  ShadowSizeY = 19
  ShadowTexture = ShadowI
End



ChildObject RohanStonethrower_Slaved RohanStonethrower

    VisionSide            = 100%
    VisionRear            = 100%
    ShroudClearingRange   = 300
    ShockwaveResistance   = SHOCKWAVE_RESISTANCE_ALWAYS
    KindOf                = UNATTACKABLE PRELOAD CAN_CAST_REFLECTIONS INFANTRY ARCHER PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK

    CommandPoints            = 0

    LocomotorSet
        Locomotor = FloatingLichtbringerLocomotor
        Condition = SET_NORMAL
        Speed     = 0
    End

    Behavior = SubObjectsUpgrade ForgedBlade_Upgrade1
        TriggeredBy        = Upgrade_AllFactionUpgrade
        HideSubObjects     = FireArowTip
    End

    Behavior = SlavedUpdate ModuleTag_Slave
        DieOnMastersDeath    = Yes
        MarkUnselectable    = No
    End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    = Yes
    End

    WeaponSet
        Conditions    = None
        Weapon        = PRIMARY HobbitModRockThrow
    End

    VoiceCreated                                = ElfWarriorVoiceSaluteBow_Slaved
    VoiceFullyCreated                           = ElfWarriorVoiceSaluteBow_Slaved

    CommandSet = EmptyCommandSet


    WeaponSet
        Conditions         = None
        Weapon             = PRIMARY    HobbitModRockThrow
        AutoChooseSources  = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    Behavior = WeaponSetUpgrade ModuleTag_FlamingAttack
        TriggeredBy   = Upgrade_GoodFortressFlamingMunitions
    End

    Behavior = SlavedUpdate ModuleTag_Slave
        DieOnMastersDeath   = Yes
        MarkUnselectable    = No
    End

End


