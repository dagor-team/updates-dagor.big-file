Object RohanGamling

    SelectPortrait = HPGamling
    ButtonImage    = HIGamling

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_LeaderHero

    Draw = W3DScriptedModelDraw ModuleTag_DRAW

    StaticModelLODMode   = Yes
    OkToChangeModelColor = Yes

        DefaultModelConditionState
            Model            = rugamling
        End

        ModelConditionState  = MOUNTED
            Model            = rugamling_hrs
            WeaponLaunchBone = PRIMARY FIREAROWTIP
            WeaponLaunchBone = SECONDARY FIREAROWTIP
            WeaponLaunchBone = TERTIARY FIREAROWTIP
        End



        AnimationState                = MOUNTED    FREEFALL
            Animation                =    free fall
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_FLYA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                = MOUNTED    STUNNED_FLAILING
            Animation                =    JustDie
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_FLYC
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End


        AnimationState                =    MOUNTED DYING SPLATTED
            Animation                =    splatted
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_LNDA
                AnimationMode        =    ONCE
                AnimationBlendTime  =   2
            End
            FXEvent    = Frame:2 Name:FX_SplatDust
        End

        AnimationState                = MOUNTED    DYING
            Animation                =    JustDie
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_DIEA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                = MOUNTED    STUNNED_STANDING_UP
            Animation                =    StandUp
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_GTPA
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState                = MOUNTED    STUNNED
            Animation                =    Land
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_LNDA
                AnimationMode        =    ONCE
            End
        End


        AnimationState        =  SPECIAL_WEAPON_TWO
            StateName = STATE_Bow
            Animation
                AnimationName           = RURhrmArch_SKL.RURhrmArch_ATKB
                AnimationMode       = ONCE
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
            BeginScript
                CurDrawableShowSubObject("arrow")
            EndScript
        End

        AnimationState        = MOUNTED SPECIAL_WEAPON_TWO
            StateName = STATE_Bow
            Animation
                AnimationName           = RURhrmArch_SKL.RURhrmArch_ATKB
                AnimationMode       = ONCE
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
            BeginScript
                CurDrawableShowSubObject("arrow")
            EndScript
        End




        AnimationState                = MOUNTED FIRING_OR_PREATTACK_A MOVING TURRET_ANGLE_90
            Animation                =    MoveAndFireBow
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_ATKF
                AnimationMode        =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                    = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                = MOUNTED FIRING_OR_PREATTACK_A MOVING TURRET_ANGLE_180
            Animation                =    MoveAndFireBow
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_ATKH
                AnimationMode        =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                    = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                = MOUNTED FIRING_OR_PREATTACK_A MOVING TURRET_ANGLE_270
            Animation                =    MoveAndFireBow
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_ATKJ
                AnimationMode        =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                    = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                = MOUNTED FIRING_OR_PREATTACK_A MOVING
            Animation                =    MoveAndFireBow
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_ATKD
                AnimationMode        =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                    = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End




        AnimationState                    = MOUNTED MOVING BACKING_UP
            Animation                    = BACKING UP
                AnimationName            = RURhrmArch_SKL.RURhrmArch_BAKA
                AnimationMode            = LOOP
            End
        End

        AnimationState                    =     MOUNTED MOVING TURN_LEFT_HIGH_SPEED
            Animation                    =    TurnLeft
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_TNL1
                AnimationMode            =    LOOP
                AnimationBlendTime        =    20
            End
        End

        AnimationState                    =     MOUNTED MOVING TURN_RIGHT_HIGH_SPEED
            Animation                    =    TurnRight
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_TNR1
                AnimationMode            =    LOOP
                AnimationBlendTime        =    20
            End
        End

        AnimationState                    = MOUNTED MOVING WANDER
            Animation                    = WLKA
                AnimationName            = RURhrmArch_SKL.RURhrmArch_WLKA
                AnimationMode            = LOOP
            End
        End

        AnimationState                    =     MOUNTED MOVING TURN_LEFT
            Animation                    =    TurnLeft
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_TRNL
                AnimationMode            =    LOOP
            End
        End

        AnimationState                    =     MOUNTED MOVING TURN_RIGHT
            Animation                    =    TurnRight
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_TRNR
                AnimationMode            =    LOOP
            End
        End

        AnimationState                    = MOUNTED MOVING ENGAGED
            Animation                    = Moving_Engaged
                AnimationName            = RURhrmArch_SKL.RURhrmArch_RUNC
                AnimationMode            = LOOP
            End
            Flags                        = RANDOMSTART
        End

        AnimationState                    = MOUNTED MOVING USING_COMBO_LOCOMOTOR
            Animation                    = Walk1
                AnimationName            = RURhrmArch_SKL.RURhrmArch_WLKB
                AnimationMode            = LOOP
                Distance                = 25
            End
        End

        AnimationState                    =     MOUNTED MOVING ACCELERATE
            Animation                    =    RunA
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ACCL
                AnimationMode            =    LOOP
            End
            Flags                        =    RANDOMSTART
        End

        AnimationState                    =     MOUNTED MOVING DECELERATE
            Animation                    =    RunA
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_DECL
                AnimationMode            =    LOOP
            End
            Flags                        =    RANDOMSTART
        End

        AnimationState                    =     MOUNTED MOVING
            Animation                    =    RunA
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_RUNA
                AnimationMode            =    LOOP
                Distance                =   40
            End
            Flags                        =    RANDOMSTART
        End



        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A WEAPONSET_PLAYER_UPGRADE USER_2 TURRET_ANGLE_90
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKL
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A WEAPONSET_PLAYER_UPGRADE USER_2 TURRET_ANGLE_180
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKN
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A WEAPONSET_PLAYER_UPGRADE USER_2 TURRET_ANGLE_270
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKP
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A WEAPONSET_PLAYER_UPGRADE USER_2
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKB
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End




        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A TURRET_ANGLE_90
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKL
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A TURRET_ANGLE_180
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKN
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A TURRET_ANGLE_270
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKP
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End
        AnimationState                    =     MOUNTED FIRING_OR_PREATTACK_A
            Animation                    =    AttackA1
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATKB
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            Flags                        = MAINTAIN_FRAME_ACROSS_STATES
            FrameForPristineBonePositions = 20
        End


        AnimationState        = MOUNTED SPECIAL_WEAPON_ONE
            StateName = STATE_Bow
            Animation
                AnimationName           = RURhrmArch_SKL.RURhrmArch_ATKB
                AnimationMode       = ONCE
            End
            FrameForPristineBonePositions = 59
        End



        AnimationState                    =     MOUNTED BETWEEN_FIRING_SHOTS_A
            Animation                    =    BetweenFiringShots
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_IDLA
                AnimationMode            =    LOOP
                AnimationBlendTime        =   15
            End
        End



        AnimationState                    =  MOUNTED MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
            Animation                    = TerrorFromTheSky
                AnimationName            = RURhrmArch_SKL.RURhrmArch_RUNB
                AnimationMode            = LOOP
            End
        End

        AnimationState                    =  MOUNTED MOVING EMOTION_TERROR
            Animation                    = TerrorFromTheSky
                AnimationName            = RURhrmArch_SKL.RURhrmArch_RUNB
                AnimationMode            = LOOP
            End
        End



        AnimationState                    =     MOUNTED EMOTION_ALERT EMOTION_AFRAID
            Animation                    =    Apprehensive
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_APPA
                AnimationMode            =    LOOP
            End
        End



        AnimationState                    =  MOUNTED EMOTION_AFRAID
            Animation                    = FERA
                AnimationName            = RURhrmArch_SKL.RURhrmArch_FERA
                AnimationMode            = LOOP
            End
        End




        AnimationState                    =     MOUNTED EMOTION_CELEBRATING
            Animation                    =    CheerA
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_CHRA
                AnimationMode            =    ONCE
            End
            Animation                    =    CheerB
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_CHRB
                AnimationMode            =    ONCE
            End
            Animation                    =    CheerD
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_CHRD
                AnimationMode            =    ONCE
            End
            Animation                    =    Salute
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_SLTA
                AnimationMode            =    ONCE
            End
            Flags                        = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState                    = MOUNTED EMOTION_TAUNTING
            Animation                    = Taunting
                AnimationName            = RURhrmArch_SKL.RURhrmArch_TNTA
                AnimationMode            = ONCE
            End
            Animation                    = Taunting2
                AnimationName            = RURhrmArch_SKL.RURhrmArch_TNTB
                AnimationMode            = ONCE
            End
            Flags                        = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState                    = MOUNTED EMOTION_POINTING
            Animation                    = Pointing1
                AnimationName            = RURhrmArch_SKL.RURhrmArch_PNTA
                AnimationMode            = LOOP
            End
        End



        AnimationState                    = MOUNTED EMOTION_ALERT
            Animation                    = IDLA
                AnimationName            = RURhrmArch_SKL.RURhrmArch_IDLA
                AnimationMode            = LOOP
            End
        End

        AnimationState                    =    MOUNTED ATTACKING
            Animation                    =    Reloading
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_IDLA
                AnimationMode            =    LOOP
            End
        End

        IdleAnimationState
            StateName                =    Idle
            Animation                =    IdleB
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_IDLB
                AnimationMode        =    ONCE
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle_Mounted") end
            EndScript
        End
        AnimationState                = MOUNTED
            Animation            =    IdleB
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_IDLB
                AnimationMode        =    LOOP
                AnimationBlendTime    =    15
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE





        End




        AnimationState                    = MOUNTED SELECTED
            StateName                    = State_Selected
            SimilarRestart                = Yes
            Animation                    = AtAttention
                AnimationName            = RURhrmArch_SKL.RURhrmArch_ATNB
                AnimationMode            = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_To_Selected_Mounted") end
            EndScript
        End


        TransitionState                    =     TRANS_Idle_to_Selected_Mounted
            Animation                    =    ATNA
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATNA
                AnimationMode            =    ONCE
                AnimationSpeedFactorRange = 0.8 1.2
            End
        End


        TransitionState                    =     TRANS_Selected_to_Idle_Mounted
            Animation                    =    ATNC
                AnimationName            =    RURhrmArch_SKL.RURhrmArch_ATNA
                AnimationMode            =    ONCE_BACKWARDS
                AnimationSpeedFactorRange = 0.8 1.2
            End
            Flags                        = START_FRAME_LAST
        End

        AnimationState                = MOUNTED
            Animation            =    IdleB
                AnimationName        =    RURhrmArch_SKL.RURhrmArch_IDLB
                AnimationMode        =    LOOP
                AnimationBlendTime    =    15
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE





        End








        IdleAnimationState
            StateName = Idle




            Animation           = IDLB
                AnimationName     = GUBoromir_SKL.GUBoromir_IDLB
                AnimationMode     = ONCE
                AnimationPriority   = 20
            End
            Animation           = IDLD
                AnimationName     = GUBoromir_SKL.GUBoromir_IDLD
                AnimationMode     = ONCE
                AnimationPriority   = 1
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
            EndScript
        End

        TransitionState       = Trans_None_To_Sword
            Animation           = GUBoromir_STHA
                AnimationName     = GUBoromir_SKL.GUBoromir_STHA
                AnimationMode     = ONCE
            End
        End
        TransitionState       = Trans_Sword_To_None
            Animation           = GUBoromir_STHB
                AnimationName     = GUBoromir_SKL.GUBoromir_STHB
                AnimationMode     = ONCE
            End
        End

        AnimationState        = STUNNED_FLAILING
            Flags               = RANDOMSTART
            Animation           = GUBoromir_FLYA
                AnimationName     = GUBoromir_SKL.GUBoromir_FLYA
                AnimationMode     = LOOP
            End
        End




        AnimationState        = DYING SPLATTED
            Animation           = GUBoromir_LNDA
                AnimationName     = GUBoromir_SKL.GUBoromir_LNDA
                AnimationMode     = ONCE
            End
        End
        AnimationState        = DYING AFLAME
            Animation = DieAflame
                AnimationName       = GUBoromir_SKL.GUBoromir_MFDA
                AnimationMode       = LOOP
            End
        End
        AnimationState        = DYING
            Animation           = GUBoromir_DTHA
                AnimationName     = GUBoromir_SKL.GUBoromir_DTHA
                AnimationMode     = ONCE
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = GUBoromir_IDLB
                AnimationMode                = LOOP
            End
        End


        AnimationState        = STUNNED_STANDING_UP
            Animation           = GUBoromir_GTPA
                AnimationName     = GUBoromir_SKL.GUBoromir_GTPA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.3 1.3
            End
        End
        AnimationState        = STUNNED
            Animation           = GUBoromir_LNDA
                AnimationName     = GUBoromir_SKL.GUBoromir_LNDA
                AnimationMode     = ONCE
            End
        End

        AnimationState        = PACKING_TYPE_2
            StateName          =    CaptainPower
            Animation           = GUBoromir_CHRA
                AnimationName     = GUBoromir_SKL.GUBoromir_CHRA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.2 1.2
            End
        End


        AnimationState        = UNPACKING SPECIAL_POWER_1
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_HRNA
                AnimationMode     = ONCE
            End
        End
        AnimationState        = PREPARING SPECIAL_POWER_1
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_HRNB
                AnimationMode     = ONCE
            End
            EnteringStateFX = FX_BoromirHorn
        End
        AnimationState        = PACKING SPECIAL_POWER_1
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_HRNC
                AnimationMode     = ONCE
            End
        End
        AnimationState        = SPECIAL_POWER_1
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_HRNB
                AnimationMode     = LOOP
            End
        End



        AnimationState        = MOVING WANDER WEAPONSTATE_CLOSE_RANGE
            StateName           = WithSword

            Animation           = GUBoromir_WLKA
                AnimationName     = GUBoromir_SKL.GUBoromir_WLKA
                AnimationMode     = LOOP
            End
        End

        AnimationState        = MOVING WANDER

            Animation           = GUBoromir_WLKA
                AnimationName     = GUBoromir_SKL.GUBoromir_WLKA
                AnimationMode     = LOOP
            End
        End


        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = GUBoromir_SKL.GUBoromir_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End


        AnimationState        = MOVING

            Flags               = RANDOMSTART
            Animation           = GUBoromir_RUNB
                AnimationName     = GUBoromir_SKL.GUBoromir_RUNA
                AnimationMode     = LOOP
            End
        End



        AnimationState        = FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
            StateName           = WithSword
            Animation           = ATKA
                AnimationName     = GUBoromir_SKL.GUBoromir_ATKA
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            Animation           = ATKB
                AnimationName    = GUBoromir_SKL.GUBoromir_ATKB
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
        End

        AnimationState        = FIRING_OR_PREATTACK_A
            Animation           = GUBoromir_ATD1
                AnimationName     = GUBoromir_SKL.GUBoromir_ATKB
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
        End




        AnimationState        = ATTACKING
            Animation           = ALERT_1
                AnimationName     = GUBoromir_SKL.GUBoromir_IDLA
                AnimationMode     = LOOP
            End

        End


        TransitionState                    =    TRANS_Idle_to_Selected
            Animation                    =    ATND
                AnimationName            =    GUBoromir_SKL.GUBoromir_ATND
                AnimationMode            =    ONCE
            End
        End

        TransitionState                    =    TRANS_Selected_To_Idle
            Animation                    =    ATNE
                AnimationName            =    GUBoromir_SKL.GUBoromir_ATNE
                AnimationMode            =    ONCE
            End
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = GUBoromir_SKL.GUBoromir_CHRA
                AnimationMode        = ONCE
            End
        End

        AnimationState            = RAISING_FLAG
            Animation           = CHRA
                AnimationName   = GUBoromir_SKL.GUBoromir_CHRA
                AnimationMode   = Once
            End
            Animation           = CHRB
                AnimationName   = GUBoromir_SKL.GUBoromir_CHRB
                AnimationMode   = Once
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                =    SELECTED
            StateName                =    Selected
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =    GUBoromir_SKL.GUBoromir_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
            EndScript
        End


        AnimationState            = EMOTION_TAUNTING
            Animation           = CHRA
                AnimationName   = GUBoromir_SKL.GUBoromir_CHRA
                AnimationMode   = Once
            End
        End

        AnimationState            = EMOTION_CELEBRATING
            Animation           = CHRB
                AnimationName   = GUBoromir_SKL.GUBoromir_CHRB
                AnimationMode   = Once
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                    = EMOTION_ALERT EMOTION_MORALE_HIGH
            Animation                    = Taunting
                AnimationName            =  GUBoromir_SKL.GUBoromir_TNTB
                AnimationMode            = ONCE
            End
            Flags                        = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState        = EMOTION_ALERT
            Animation           = ALERT_1
                AnimationName     = GUBoromir_SKL.GUBoromir_IDLA
                AnimationMode     = LOOP
            End

        End



        AnimationState = HIT_REACTION HIT_LEVEL_1
            Animation = Hit_Level_1_a
                AnimationName = GUBoromir_SKL.GUBoromir_HITA
                AnimationMode = ONCE
            End
        End

    End


    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End


    #include "..\..\..\includes\StunDrawModuleSmall.inc"



    Side = Rohan
    EditorSorting = UNIT
    ThreatLevel = BOROMIR_THREAT_LEVEL
    ThingClass = CHARACTER_UNIT
    BuildCost             = GAMLINGDAG_COST
    BuildTime             = MEDIUM_HERO_BUILDTIME
    DisplayMeleeDamage =  GAMLINGDAG_DAMAGE
    DisplayRangedDamage = GAMLINGDAG_RANGED

    HeroSortOrder = 50

    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
    WeaponSet
        Conditions               = None
        Weapon                   = PRIMARY    GamlingSwordEdain
        AutoChooseSources        = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions               = MOUNTED
        Weapon                   = PRIMARY    GamlingBow
        AutoChooseSources        = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End


    ArmorSet
        Conditions      = None
        Armor           = MediumHeroArmor
        DamageFX        = NormalDamageFX
    End

    ArmorSet
        Conditions      = MOUNTED
        Armor           = MediumHeroArmorMounted
        DamageFX        = NormalDamageFX
    End

    VisionRange = 350
    ShroudClearingRange = 450
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue   = GONDOR_BOROMIR_BOUNTY_VALUE
    DisplayName   = OBJECT:RohanGamling
    RecruitText   = CONTROLBAR:RohanGamlingRecruit
    ReviveText    = CONTROLBAR:RohanGamlingRevive
    Hotkey        = CONTROLBAR:RohanGamlingHotkey
    CrusherLevel  = 0
    MountedCrusherLevel   = 1
    CrushableLevel        = 2
    MountedCrushableLevel = 2

    CrushWeapon        = HeroCrush

    MinCrushVelocityPercent     = MINCRUSHVELOCITYPERCENT_HERO
    CrushDecelerationPercent    = CRUSHDECELERATIONPERCENT_HERO

    CrushKnockback = 40
    CrushZFactor = 1.0

    CommandSet = RohanGamlingCommandSet
    CommandPoints = 0



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_BoromirBody

    AutoResolveArmor
        Armor = AutoResolve_BoromirArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_BoromirWeapon
    End

    AutoResolveLeadership = AutoResolve_BoromirBonus




    VoiceAttack                = GamlingVoiceAttack
    VoiceAttackCharge          = GamlingVoiceAttack
    VoiceAttackMachine         = GamlingVoiceAttack
    VoiceAttackStructure       = GamlingVoiceAttack
    VoiceCreated               = GamlingVoiceSalute
    VoiceFullyCreated          = GamlingVoiceSalute
    VoiceFear                  = GamlingVoiceHelp
    VoiceMove                  = GamlingVoiceMove
    VoicePriority              = 80
    VoiceSelect                = GamlingVoiceSelect
    VoiceSelectBattle          = GamlingVoiceSelect
    VoiceGuard                 = GamlingVoiceMove

    SoundImpact                = ImpactHorse

    UnitSpecificSounds
        VoiceGarrison                       = GamlingVoiceMove
        VoiceEnterUnitElvenTransportShip    = GamlingVoiceMove
        VoiceInitiateCaptureBuilding        = GamlingVoiceMove
    End

    ClientBehavior = ModelConditionSoundSelectorClientBehavior ModuleTag_MCSoundSelector
        SoundState = MOUNTED
            VoiceMove            = GamlingVoiceMove
            VoiceSelect            = GamlingVoiceSelect
        End
    End

    CrowdResponseKey = GoodMen

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:SwordIntoScabbard1        Animation:GUBoromir_SKL.GUBoromir_HRNA     Frames:7
        AnimationSound = Sound:BoromirHorn            Animation:GUBoromir_SKL.GUBoromir_HRNB     Frames:0
        AnimationSound = Sound:SwordShingClean1        Animation:GUBoromir_SKL.GUBoromir_HRNC     Frames:5
        AnimationSound = Sound:FootstepDirtA        Animation:GUBoromir_SKL.GUBoromir_RUNA     Frames:10 22
        AnimationSound = Sound:FootstepDirtA        Animation:GUBoromir_SKL.GUBoromir_RUNB     Frames:10 22
        AnimationSound = Sound:FootstepDirtA        Animation:GUBoromir_SKL.GUBoromir_ATRA     Frames:11 23 35 47
        AnimationSound = Sound:FootstepDirtA        Animation:GUBoromir_SKL.GUBoromir_MFDA    Frames:8 20 31 41

        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:GUBoromir_SKL.GUBoromir_DTHA     Frames:116
        AnimationSound = Sound:BodyFallSoldier        Animation:GUBoromir_SKL.GUBoromir_LNDA     Frames:4
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:GUBoromir_SKL.GUBoromir_SPCE     Frames:82
        AnimationSound = Sound: HorseMoveFootstepsLoose        Animation: RURhrmArch_SKL.RURhrmArch_ACCL    Frames: 8 30
        AnimationSound = Sound: HorseMoveFootstepsLoose        Animation: RURhrmArch_SKL.RURhrmArch_RUNA    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose        Animation: RURhrmArch_SKL.RURhrmArch_RUNB    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose        Animation: RURhrmArch_SKL.RURhrmArch_RUNC    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose        Animation: RURhrmArch_SKL.RURhrmArch_TNL1    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose        Animation: RURhrmArch_SKL.RURhrmArch_TNR1    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose        Animation: RURhrmArch_SKL.RURhrmArch_TRNL    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose        Animation: RURhrmArch_SKL.RURhrmArch_TRNR    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose        Animation: RURhrmArch_SKL.RURhrmArch_ATKD    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose        Animation: RURhrmArch_SKL.RURhrmArch_ATKF    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose        Animation: RURhrmArch_SKL.RURhrmArch_ATKH    Frames: 0
        AnimationSound = Sound: HorseMoveFootstepsLoose        Animation: RURhrmArch_SKL.RURhrmArch_ATKJ    Frames: 0
        AnimationSound = Sound: HorseWhinny            Animation: RURhrmArch_SKL.RURhrmArch_CHRB    Frames: 8
        AnimationSound = Sound: HorseWhinny            Animation: RURhrmArch_SKL.RURhrmArch_CHRC    Frames: 15
        AnimationSound = Sound: HorseWhinny            Animation: RURhrmArch_SKL.RURhrmArch_DIEA    Frames: 0
        AnimationSound = Sound: HorseWhinny            Animation: RURhrmArch_SKL.RURhrmArch_DIEB    Frames: 0
        AnimationSound = Sound: BodyFallGeneric1        Animation: RURhrmArch_SKL.RURhrmArch_DIEA    Frames: 10 46
        AnimationSound = Sound: BodyFallGeneric1        Animation: RURhrmArch_SKL.RURhrmArch_DIEB    Frames: 11
        AnimationSound = Sound: BodyFallGeneric1        Animation: RURhrmArch_SKL.RURhrmArch_LNDA    Frames: 3 11
    End

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Man Man_Male Unit Infantry Hero
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE HERO ARMY_SUMMARY HEAVY_MELEE_HITTER


    Body = RespawnBody ModuleTag_RespawnBody
        CheerRadius               = EMOTION_CHEER_RADIUS
        MaxHealth                 = GAMLINGDAG_HEALTH
        PermanentlyKilledByFilter = NONE
        DodgePercent              = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                   = DYING
        DeathAnimationTime          = 4966
        RespawnAnim                 = LEVELED
        RespawnAnimationTime        = 2000
        AutoRespawnAtObjectFilter   = NONE +CASTLE_KEEP
        ButtonImage                 = HIGamling

        RespawnRules =    AutoSpawn:No           Cost:GAMLINGDAG_COST       Time:MEDIUM_HERO_RESPAWNTIME        Health:100%
    End

    Behavior = AutoHealBehavior ModuleTag_BoromirHealing
        StartsActive = Yes
        HealingAmount = HERO_HEAL_AMOUNT
        HealingDelay = 1000
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End


    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

    Behavior = DualWeaponBehavior ModuleTag_13
        SwitchWeaponOnCloseRangeDistance = 80
    End

    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate           = 500
        AILuaEventsList               = GamlingFunctions
    End

    Behavior = PassiveAreaEffectBehavior ModuleTag_FeelGoodHero2
        EffectRadius            = 300
        PingDelay               = 2000
        UpgradeRequired         = Upgrade_TestBuilding_2
        ModifierName            = GamlingHamaModifier
        AllowFilter             = ANY +RohanHama ALLIES
    End


    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance                = 300
        TauntAndPointUpdateDelay            = 10000
        AddEmotion            =    Doom_Base
        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
        AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base
        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
    End

    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_GOOD_HERO_SPEED
    End
    LocomotorSet
        Locomotor = HeroHorseLocomotor
        Condition = SET_MOUNTED
        Speed     = ROHAN_MOUNTED_HERO_SPEED
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult          = 1.0
        ShockStandingTime    = 4000
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL
        SinkDelay  = 3000
        SinkRate   = 0.40
        DestructionDelay = 8000
        Sound      = INITIAL BoromirVoiceDie
    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 7
        HitReactionLifeTimer2 = 15
        HitReactionLifeTimer3 = 10

        HitReactionThreshold1 = 0.0
        HitReactionThreshold2 = 25.0
        HitReactionThreshold3 = 50.0
    End

    Behavior = ObjectCreationUpgrade ModuleTag_ExilObject
        ConflictsWith   = Upgrade_RuhmdesKonigsUpgrade
        TriggeredBy     = Upgrade_RaiseShield
        Delay           = 0
        ThingToSpawn    = GamlingExilObjectStart
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_HeroldEnabler
        SpecialPowerTemplate    = SpecialAbilityGamlingSummonHerold
        TriggeredBy             = Upgrade_Level_5
    End

    Behavior = OCLSpecialPower ModuleTag_HeroldSpecialPower
        SpecialPowerTemplate    = SpecialAbilityGamlingSummonHerold
        OCL                     = OCL_GamlingHeroldSummon
        TriggerFX               = FX_GamlingHeroldSummon
        CreateLocation          = CREATE_AT_LOCATION
        StartsPaused            = Yes
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_HorseEnabler
        SpecialPowerTemplate = SpecialAbilityToggleMounted
    End

    Behavior = SpecialPowerModule ModuleTag_HorseToggleStarter
        SpecialPowerTemplate     = SpecialAbilityToggleMounted
        UpdateModuleStartsAttack = Yes
        StartsPaused             = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle
        SpecialPowerTemplate     = SpecialAbilityToggleMounted
        UnpackTime               = ROHAN_MOUNT_TIME
        PreparationTime          = 1
        PersistentPrepTime       = 250
        PackTime                 = ROHAN_MOUNT_TIME
        OpacityTarget            = .3
        AwardXPForTriggering     = 0
        TriggerInstantlyOnCreate = No
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_EnableHorn
        SpecialPowerTemplate          = SpecialAbilityHornOfGondor
        TriggeredBy                   = Upgrade_Level_2
    End

    Behavior = SpecialPowerModule ModuleTag_HornStarter
        SpecialPowerTemplate          = SpecialAbilityHornOfGondor
        UpdateModuleStartsAttack      = Yes
        AntiCategory                  = LEADERSHIP INNATE_ARMOR
        AttributeModifier             = BoromirGondorHornAntiCategory
        AttributeModifierRange        = 100.0
        StartsPaused                  = Yes
        OnTriggerRechargeSpecialPower = SpecialAbilityWoundArrow
    End

    Behavior = ModelConditionSpecialAbilityUpdate ModuleTag_HornUpdate
        SpecialPowerTemplate          = SpecialAbilityHornOfGondor
        UnpackTime                    = 1700
        PreparationTime               = 1
        PersistentPrepTime            = 1600
        PackTime                      = 1666
        AwardXPForTriggering          = 0
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseWoundArrow
        SpecialPowerTemplate        = SpecialAbilityWoundArrow
        TriggeredBy                 = Upgrade_Level_3
    End

    Behavior = SpecialPowerModule ModuleTag_WoundArrow
        SpecialPowerTemplate          = SpecialAbilityWoundArrow
        UpdateModuleStartsAttack      = Yes
        StartsPaused                  = Yes
        OnTriggerRechargeSpecialPower = SpecialAbilityHornOfGondor
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WoundArrowUpdate
        SpecialPowerTemplate        = SpecialAbilityWoundArrow
        SkipContinue                = Yes
        UnpackTime                  = 500
        PreparationTime             = 1
        PersistentPrepTime          = 500
        PackTime                    = 1
        AwardXPForTriggering        = 0
        StartAbilityRange           = FARAMIR_WOUNDING_ARROW_RANGE
        ApproachRequiresLOS         = Yes
        SpecialWeapon               = GamlingFlammenschuﬂ
        WhichSpecialWeapon          = 2
    End

    Behavior = AutoAbilityBehavior ModuleTag_WoundArrowAutoAbility
        SpecialAbility              = SpecialAbilityWoundArrow
	ForbiddenStatus 	    = INSIDE_GARRISON
        MaxScanRange                = FARAMIR_WOUNDING_ARROW_RANGE
        Query                       = 1 ANY ENEMIES +MONSTER +HERO +AngmarThrallMaster +AngmarThrallMasterBanner +AngmarThrallMasterAxeBanner +AngmarThrallMasterWolfBanner +AngmarNecromancerBanner +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir +GondorGwaihir_Summoned +ElvenFortressEagle +KhamulFellBeast +MorgomirFellBeast +Drogoth +Drogoth
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WaffenEnabler
        SpecialPowerTemplate       = SpecialAbilityZudenWaffen
        TriggeredBy                = Upgrade_Level_4
    End

    Behavior = SpecialPowerModule ModuleTag_WaffenStarter
        SpecialPowerTemplate       = SpecialAbilityZudenWaffen
        StartsPaused               = Yes
        UpdateModuleStartsAttack   = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WaffenUpdate
        SpecialPowerTemplate       = SpecialAbilityZudenWaffen
        WhichSpecialWeapon         = 1
        SkipContinue               = Yes
        FreezeAfterTriggerDuration = 100
        UnpackTime                 = 700
        PreparationTime            = 1

        PackTime                   = 100
        AwardXPForTriggering       = 0
        StartAbilityRange          = 80
        SpecialWeapon              = ZudenWaffenBonusWeapon
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TheodenLeadership1
        SpecialPowerTemplate = SpecialAbilityFakeLeadership2
        TriggeredBy = Upgrade_Level_8
    End

    Behavior = SpecialPowerModule ModuleTag_TheodenLeadershipUpdate1
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership2
        UpdateModuleStartsAttack  = No
		StartsPaused = Yes
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership12
        StartsActive            = No
        BonusName               = Gamlingleadershipdag
        TriggeredBy             = Upgrade_Level_8
        RefreshDelay            = 2000
        Range                   = 300
        ObjectFilter            = ANY +RohanRohirrimArcher_mod +RohanRohirrimArcher -INFANTRY -MACHINE -IMMOBILE -DOZER -HERO -STRUCTURE -BASE_FOUNDATION ALLIES
    End






    Behavior = AttributeModifierUpgrade ModuleTag_ExilBonus
        ConflictsWith     = Upgrade_RuhmdesKonigsUpgrade
        TriggeredBy       = Upgrade_RaiseShield
        AttributeModifier = VerbannungExilModifierHero
    End

    Behavior = MonitorConditionUpdate ModuleTag_CommandSetSwapper
        WeaponSetFlags            = MOUNTED
        WeaponToggleCommandSet    = RohanGamlingCommandSet_Mounted
    End






    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName  = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName  = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName  = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End

    Behavior = AISpecialPowerUpdate ElvenLorienWarriorHordeCaptureBuildingAI
        CommandButtonName  = Command_CaptureBuilding
        SpecialPowerAIType = AI_SPECIAL_POWER_CAPTURE_BUILDING
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornOathBreakers
        CommandButtonName = Command_SpecialAbilityGamlingHerold
        SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate BoromirHornOfGondorAI
        CommandButtonName = Command_SpecialAbilityHornGamling
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate CrippleAI
        CommandButtonName = Command_SpecialAbilityGamlingFlammenschuﬂ
        SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER
    End

    Behavior = AISpecialPowerUpdate SpecialPowerBoromirGiveXPAoE
        CommandButtonName = Command_SpecialAbilityZudenWaffen
        SpecialPowerAIType = AI_SPECIAL_POWER_GIVEXP_AOE
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate SpecialPowerTheodenGiveXPAoE
        CommandButtonName = Command_SpecialAbilityGamlingVerstarkung
        SpecialPowerAIType = AI_SPECIAL_POWER_GIVEXP_AOE
        SpecialPowerRadius = 30.0
    End

  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 20
  ShadowSizeY = 20
  ShadowTexture = ShadowI
End