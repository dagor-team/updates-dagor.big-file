Object LothlorienHeiler



       ButtonImage            = HSHeiler
       SelectPortrait         = UPHeiler

  Draw = W3DHordeModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    StaticModelLODMode = Yes

        ExtraPublicBone = STAFF
        ExtraPublicBone = B_SWORDBONE
        ExtraPublicBone = PASSENGERBONE
        DependencySharedModelFlags = TURN_LEFT_HIGH_SPEED TURN_RIGHT_HIGH_SPEED MOVING ACCELERATE DECELERATE TURN_LEFT TURN_RIGHT ATTACKING BACKING_UP



        DefaultModelConditionState
            Model               = eulichtbringer
            Skeleton            = chwz_yw_u_skl
            WeaponLaunchBone    = TERTIARY STAFF
        End


TransitionState = Trans_ExamineWeapon
    Animation = Transition
        AnimationName = chwz_yw_C_WPNA
        AnimationMode = ONCE
        AnimationBlendTime = 20
    End
End
TransitionState = Trans_ExamineSelf
    Animation = Transition
        AnimationName = chwz_yw_C_CLRA
        AnimationMode = ONCE
        AnimationBlendTime = 20
    End
End
TransitionState = Trans_SelectedCheer
    Animation = Transition
        AnimationName = chwz_yw_C_SLCA
        AnimationMode = ONCE
        AnimationBlendTime = 20
    End
End

TransitionState = Trans_SwapModels
    StateName = STATE_Unselected
    Animation = Transition
        AnimationName = chwz_yw_C_ATNB chwz_yw_C_ATND
        AnimationMode = ONCE
        AnimationBlendTime = 0
    End
End




AnimationState                        = CLIMBING WEAPONSET_TOGGLE_1
    StateName                        = STATE_Climbing
    Animation                        = Climbing
        AnimationName                = chwz_yw_U_WALB
        AnimationMode                = LOOP
        AnimationBlendTime            = 10
    End
    BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "STATE_Running"  then CurDrawableSetTransitionAnimState("Trans_RunningToClimbing_WeaponToggle") return end
    EndScript
End
TransitionState = Trans_RunningToClimbing_WeaponToggle
    Animation = Transition
        AnimationName = chwz_yw_B_WALA
        AnimationMode = ONCE
    End
End

AnimationState                        = CLIMBING
    StateName                        = STATE_Climbing
    Animation                        = Climbing
        AnimationName                = chwz_yw_U_WALB
        AnimationMode                = LOOP
        AnimationBlendTime            = 10
    End
    BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "STATE_Running"  then CurDrawableSetTransitionAnimState("Trans_RunningToClimbing") return end
    EndScript
End
TransitionState = Trans_RunningToClimbing
    Animation = Transition
        AnimationName = chwz_yw_U_WALA
        AnimationMode = ONCE
    End
End

AnimationState                        = RAPPELLING WEAPONSET_TOGGLE_1
    StateName                        = STATE_Rappelling
    Animation                        = Rapelling
        AnimationName                = chwz_yw_U_WALD
        AnimationMode                = LOOP
        AnimationBlendTime            = 10
    End
    BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "STATE_Climbing"  then CurDrawableSetTransitionAnimState("Trans_ClimbingToRappelling") return end
    EndScript
End
AnimationState                        = RAPPELLING
    StateName                        = STATE_Rappelling
    Animation                        = Rapelling
        AnimationName                = chwz_yw_U_WALD
        AnimationMode                = LOOP
        AnimationBlendTime            = 10
    End
    BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "STATE_Climbing"  then CurDrawableSetTransitionAnimState("Trans_ClimbingToRappelling") return end
    EndScript
End
TransitionState = Trans_ClimbingToRappelling
    Animation = Transition
        AnimationName = chwz_yw_U_WALC
        AnimationMode = ONCE
    End
End
TransitionState = Trans_RappellingToRunning_WeaponToggle
    Animation = Transition
        AnimationName = MUGblnSwrd_B_WALE
        AnimationMode = ONCE
    End
End
TransitionState = Trans_RappellingToRunning
    Animation = Transition
        AnimationName = MUGblnSwrd_U_WALE
        AnimationMode = ONCE
    End
End

        AnimationState        =    USER_1
            Animation
                AnimationName =    chwz_yw_U_SPCE
                AnimationMode =    ONCE
            End
        End

        AnimationState        =    USER_2
            Animation
                AnimationName =    chwz_yw_U_SPCC
                AnimationMode =    ONCE
            End
        End





AnimationState                    =    DYING AFLAME MOUNTED
    Animation                    =    Fire
        AnimationName            =    chwz_yw_M_MFDA
        AnimationSpeedFactorRange = 0.9 1.1
    End
    BeginScript
        CurDrawableHideSubObject("arrow")
    EndScript
End

AnimationState                =    DYING SPLATTED MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_LNDA
        AnimationMode        =    ONCE
    End
End
AnimationState        = DYING MOUNTED
    StateName           = STATE_Sword
    Animation
        AnimationName     = chwz_yw_M_DIEA
        AnimationMode     = ONCE
    End
End

AnimationState                =    STUNNED_STANDING_UP MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_GTPA
        AnimationMode        =    ONCE
        AnimationSpeedFactorRange = 1.5 1.5
    End
End

AnimationState                =    STUNNED MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_LNDA
        AnimationMode        =    ONCE
    End
End

AnimationState                =    FREEFALL MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_FLYA
        AnimationMode        =    LOOP
    End
    Flags                    =    RANDOMSTART
End

AnimationState                =    STUNNED_FLAILING MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_FLYA
        AnimationMode        =    LOOP
    End
    Flags                    =    RANDOMSTART
End

AnimationState        = PASSENGER MOUNTED
    Animation
        AnimationName       = chwz_yw_M_GBDA
        AnimationMode       = LOOP
    End
    Flags               = RANDOMSTART
End

AnimationState        = MOUNTED LEVELED
    Animation
        AnimationName           = chwz_yw_M_LVLA
        AnimationMode       = ONCE
    End
End


AnimationState                = FIRING_OR_PREATTACK_A MOUNTED
    Animation
        AnimationName        = chwz_yw_M_ATKA chwz_yw_M_ATKB
        AnimationMode        = ONCE
        UseWeaponTiming        = Yes
    End
End


AnimationState                =    MOUNTED TURN_LEFT_HIGH_SPEED
    Animation
        AnimationName        =    chwz_yw_M_TNL1
        AnimationMode        =    LOOP
        AnimationSpeedFactorRange= 1.8 1.8
        AnimationBlendTime    =    20
    End
End

AnimationState                =    MOUNTED TURN_RIGHT_HIGH_SPEED
    Animation
        AnimationName        =    chwz_yw_M_TNR1
        AnimationMode        =    LOOP
        AnimationSpeedFactorRange= 1.8 1.8
        AnimationBlendTime    =    20
    End
End

AnimationState                =    MOVING TURN_LEFT MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_TRNL
        AnimationMode        =    LOOP
    End

End

AnimationState                =    MOVING TURN_RIGHT MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_TRNR
        AnimationMode        =    LOOP
    End

End

AnimationState                =    MOVING ACCELERATE MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_ACCL
        AnimationMode        =    LOOP
    End

End

AnimationState                =    MOVING DECELERATE MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_DECL
        AnimationMode        =    ONCE
    End

End

AnimationState                =    MOVING WALKING MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_WLKA
        AnimationMode        =    LOOP
    End
    Flags                    =    RANDOMSTART

End

AnimationState                =    MOVING BACKING_UP MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_BAKA
        AnimationMode        =    LOOP
    End
    Flags                    =    RANDOMSTART

End

AnimationState        = MOUNTED MOVING FIRING_OR_PREATTACK_A
    ShareAnimation        = Yes
    Animation
        AnimationName       = chwz_yw_M_ATRA
        AnimationMode       = LOOP
    End
    Flags               = RANDOMSTART
End

AnimationState                =    MOVING MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_RUNA
        AnimationMode        =    LOOP
    End
     Flags                    =    RANDOMSTART

End


AnimationState                =    SELECTED MOUNTED
    SimilarRestart            =   Yes
    StateName                =    AtAttentionIdleMounted
    Animation                =    ATNB
        AnimationName        =    chwz_yw_M_ATNB
        AnimationMode        =    LOOP
    End
    BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Select") end
        if Prev == "AtAttentionIdleMounted" then CurDrawableSetTransitionAnimState("TRANS_Select") end
    EndScript
End

TransitionState                =    TRANS_Select
    Animation
        AnimationName        =    chwz_yw_M_ATNA
        AnimationMode        =    ONCE
    End
End


AnimationState                = MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_IDLA
        AnimationPriority    =    20
        AnimationMode        =    ONCE
        AnimationBlendTime    =    15
    End
    Flags                =    RESTART_ANIM_WHEN_COMPLETE
End






AnimationState        = STUNNED_FLAILING WEAPONSET_TOGGLE_1
    StateName           = STATE_Bow
    Animation
        AnimationName     = chwz_yw_B_FLYA
        AnimationMode     = LOOP
    End
    Flags               = RANDOMSTART
End

AnimationState        = STUNNED_FLAILING
    StateName           = STATE_Sword
    Animation
        AnimationName     = chwz_yw_U_FLYA
        AnimationMode     = LOOP
    End
    Flags               = RANDOMSTART
End


AnimationState        = DYING SPLATTED WEAPONSET_TOGGLE_1
    StateName           = STATE_Bow
    Animation
        AnimationName     = chwz_yw_B_LNDA
        AnimationMode     = ONCE
    End
End

AnimationState        = DYING SPLATTED
    StateName           = STATE_Sword
    Animation
        AnimationName     = chwz_yw_U_LNDA
        AnimationMode     = ONCE
    End
End

AnimationState        = DYING WEAPONSET_TOGGLE_1
    StateName           = STATE_Bow
    Animation
        AnimationName     = chwz_yw_B_DIEA
        AnimationMode     = ONCE
    End
End

AnimationState        = DYING
    StateName           = STATE_Sword
    Animation
        AnimationName     = chwz_yw_U_DIEA
        AnimationMode     = ONCE
    End
    Animation           = GUHero_DIEB
        AnimationName     = chwz_yw_U_DIEB
        AnimationMode     = ONCE
    End
End





AnimationState        = STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
    StateName           = STATE_Bow
    Animation
        AnimationName     = chwz_yw_B_GTPA
        AnimationMode     = ONCE
        AnimationSpeedFactorRange = 1.5 1.5
    End
End

AnimationState        = STUNNED_STANDING_UP
    StateName           = STATE_Sword
    Animation
        AnimationName     = chwz_yw_U_GTPA
        AnimationMode     = ONCE
        AnimationSpeedFactorRange = 1.5 1.5
    End
End

AnimationState        = STUNNED WEAPONSET_TOGGLE_1
    StateName           = STATE_Bow
    Animation
        AnimationName     = chwz_yw_B_LNDA
        AnimationMode     = ONCE
    End
End

AnimationState        = STUNNED
    StateName           = STATE_Sword
    Animation           = GUHero_LNDA
        AnimationName     = chwz_yw_U_LNDA
        AnimationMode     = ONCE
    End
End





AnimationState                = PACKING_TYPE_1  WEAPONSET_TOGGLE_1
    StateName                = rainofarrows
    Animation
        AnimationName        = chwz_yw_B_ATKA2
        AnimationMode        = LOOP
    End

End


AnimationState                = PACKING_TYPE_1
    StateName                = Curse
    Animation
        AnimationName        = chwz_yw_U_LVLA
        AnimationMode        = ONCE
    End

End


AnimationState                = PACKING_TYPE_3
    StateName                = Curse
    Animation
        AnimationName        = chwz_yw_U_SPCA
        AnimationMode        = ONCE
    End

End


AnimationState        =  SPECIAL_WEAPON_TWO
    StateName = STATE_Bow
    Animation
        AnimationName       = chwz_yw_U_SPCL chwz_yw_U_ATKC
        AnimationMode       = ONCE
    End
    FrameForPristineBonePositions = 59
    BeginScript
        CurDrawableShowSubObject("arrow")
    EndScript
End















































        AnimationState        = MOVING USER_4
            StateName           = Slaughter
            Flags               = RANDOMSTART

            Animation           = GUHero_ATKE
                AnimationName     = chwz_yw_U_ATKE
                AnimationMode     = LOOP
            End
            StateName           = NoSword
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
            EndScript
        End


        AnimationState            = MOVING WEAPONSET_TOGGLE_1
            StateName           = STATE_RunningBow
            Flags               = RANDOMSTART

            Animation
                AnimationName   = chwz_yw_B_RUNA

                AnimationSpeedFactorRange = 0.85 0.85

            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
                if Prev == "STATE_RunningSword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Running") end
                if Prev == "STATE_Rappelling"  then CurDrawableSetTransitionAnimState("Trans_RappellingToRunning_WeaponToggle") return end
            EndScript
        End


        AnimationState            = MOVING
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART

            Animation
                AnimationName   = chwz_yw_U_RUNA

                AnimationSpeedFactorRange = 0.85 0.85

            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_RunningBow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Running") end
                if Prev == "STATE_Rappelling"  then CurDrawableSetTransitionAnimState("Trans_RappellingToRunning") return end
            EndScript
        End



        AnimationState                    =    PREATTACK_A WEAPONSET_TOGGLE_1
            StateName                    =    STATE_Firing
            Animation                    =    ReadyToDrawn
                AnimationName            =    chwz_yw_B_ATKA1
                AnimationMode            =    ONCE


            End
        End

        AnimationState                    =    FIRING_OR_RELOADING_A WEAPONSET_TOGGLE_1
            StateName                    =    STATE_Firing
            Animation                    =    LooseReloadDraw
                AnimationName            =    chwz_yw_B_ATKA2
                AnimationMode            =    ONCE

                AnimationSpeedFactorRange = 1.1 1.1

            End
        End




















        AnimationState                = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
            StateName                = STATE_Firing
            Animation
                AnimationName        = chwz_yw_B_ATKA1
                AnimationMode        = ONCE
                UseWeaponTiming        = No
            End
        End

        AnimationState                = FIRING_OR_PREATTACK_A
            Animation
                AnimationName        = chwz_yw_U_spca
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
        End






        AnimationState = EMOTION_ALERT HIT_REACTION WEAPONSET_TOGGLE_1
            Animation
                AnimationName = chwz_yw_B_HITA
                AnimationMode = ONCE
            End
        End

        AnimationState = HIT_REACTION WEAPONSET_TOGGLE_1
            Animation
                AnimationName = chwz_yw_B_HITA
                AnimationMode = ONCE
            End
        End

        AnimationState = HIT_REACTION
            Animation = Sword_HITA
                AnimationName = chwz_yw_U_HITA
                AnimationMode = ONCE
            End
            Animation = Sword_HITB
                AnimationName = chwz_yw_U_HITB
                AnimationMode = ONCE
            End

            BeginScript
                PrevAnim = CurDrawablePrevAnimation()
                if PrevAnim == "Foot_IDLB"
                then
                    return "Sword_HITB"
                else
                    return "Swort_HITA"
                end
            EndScript
        End



        AnimationState                = SPECIAL_POWER_1
            StateName                = STATE_ready
            Animation
                AnimationName        = chwz_yw_U_SPCA
                AnimationMode        = ONCE
            End
            ParticleSysBone            = B_SWORDBONE ElendilFlare FollowBone:Yes
            ParticleSysBone            = B_SWORDBONE ElendilSwordFlare FollowBone:Yes

        End


        AnimationState          =    SPECIAL_WEAPON_ONE
            StateName          =    Attacking
            Animation
                AnimationName =    chwz_yw_U_SPCA
                AnimationMode =    ONCE
            End

        End


        AnimationState          =    SPECIAL_WEAPON_TWO MOUNTED
            StateName          =    Attacking
            Animation
                AnimationName =    chwz_yw_U_SPLD chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    SPECIAL_WEAPON_TWO
            StateName          =    Attacking
            Animation
                AnimationName =    chwz_yw_U_SPCB chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    SPECIAL_WEAPON_THREE MOUNTED
            StateName          =    Attacking
            Animation          =    StaffLaser
                AnimationName =    chwz_yw_U_SPCD chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:30 Name:FX_GandalfStaffFlare
        End


        AnimationState          =    SPECIAL_WEAPON_THREE
            StateName          =    Attacking
            Animation          =    StaffLaser
                AnimationName =    chwz_yw_U_SPCE chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:30 Name:FX_GandalfStaffFlare
        End


        AnimationState          =    SPECIAL_WEAPON_FOUR
            StateName          =    Attacking
            Animation
                AnimationName =    chwz_yw_U_SPCD
                AnimationMode =    ONCE
            End
            FrameForPristineBonePositions    = 44
        End

        AnimationState          =    SPECIAL_WEAPON_FIVE
            StateName          =    Attacking
            Animation
                AnimationName =    chwz_yw_U_SPCE
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    SPECIAL_WEAPON_SIX
            StateName          =    Attacking
            Animation
                AnimationName =    chwz_yw_U_SPCF
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    PACKING_TYPE_1 UNPACKING
            StateName          =    Attacking
            Animation          =    LightningSwordStart
                AnimationName =    chwz_yw_U_SPCC chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:14 Name:FX_CreateAHeroLightningCharge

            FXEvent              =    Frame:14 Name:FX_GandalfLightningSword    FrameStop:70
        End

        AnimationState          =    PACKING_TYPE_1 PREPARING
            StateName          =    Attacking
            Animation          =    LightningSwordLoop
                AnimationName =    chwz_yw_U_SPCA chwz_yw_U_ATKA
                AnimationMode =    LOOP
            End
        End

        AnimationState          =    PACKING_TYPE_1 PACKING
            StateName          =    Attacking
            Animation          =    LightningSwordPutAway
                AnimationName =    chwz_yw_U_SPCB chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    PACKING_TYPE_2 CREATE_A_HERO_20 CREATE_A_HERO_21
            Animation
                AnimationName =    chwz_yw_U_SPCC
                AnimationMode =    LOOP
            End
        End


        AnimationState          =    PACKING_TYPE_2 UNPACKING
            StateName          =    Attacking
            Animation          =    LightningSwordStart
                AnimationName =    chwz_yw_U_SPCC chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:14 Name:FX_CreateAHeroLightningCharge

            FXEvent              =    Frame:14 Name:FX_GandalfLightningSword    FrameStop:70
        End

        AnimationState          =    PACKING_TYPE_2 PREPARING
            StateName          =    Attacking
            Animation          =    LightningSwordLoop
                AnimationName =    chwz_yw_U_SPCA chwz_yw_U_ATKA
                AnimationMode =    LOOP
            End
        End

        AnimationState          =    PACKING_TYPE_2 PACKING
            StateName          =    Attacking
            Animation          =    LightningSwordPutAway
                AnimationName =    chwz_yw_U_SPCB chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
        End


        AnimationState        = PACKING_TYPE_2 WEAPONSET_TOGGLE_1
            StateName          =    CaptainPower
            Animation           = GUHero_CHRC
                AnimationName     = chwz_yw_U_CHRC
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.2 1.2
            End
        End


        AnimationState        = PACKING_TYPE_2
            StateName          =    STATE_CaptainBow
            Animation           = GUHero_CHRD
                AnimationName     = chwz_yw_U_SPCE chwz_yw_U_SPCA chwz_yw_U_CHRD
                AnimationMode     = ONCE

            End
        End


        AnimationState          =    PACKING_TYPE_3 UNPACKING
            StateName          =    Attacking
            Animation          =    LightningSwordStart
                AnimationName =    chwz_yw_U_SPCC chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:14 Name:FX_CreateAHeroLightningCharge

            FXEvent              =    Frame:14 Name:FX_GandalfLightningSword    FrameStop:70
        End

        AnimationState          =    PACKING_TYPE_3 PREPARING
            StateName          =    Attacking
            Animation          =    LightningSwordLoop
                AnimationName =    chwz_yw_U_SPCA chwz_yw_U_ATKA
                AnimationMode =    LOOP
            End
        End

        AnimationState          =    PACKING_TYPE_3 PACKING
            StateName          =    Attacking
            Animation          =    LightningSwordPutAway
                AnimationName =    chwz_yw_U_SPCB chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    PACKING_TYPE_4 UNPACKING
            Animation
                AnimationName =    chwz_yw_U_SPCA
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    PACKING_TYPE_4 PREPARING
            Animation
                AnimationName =    chwz_yw_U_SPCA
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    PACKING_TYPE_4 PACKING
            Animation
                AnimationName =    chwz_yw_U_SPCA
                AnimationMode =    ONCE
            End
        End

















        AnimationState          =    PACKING_TYPE_5 PACKING WEAPONSET_TOGGLE_1
            Animation
                AnimationName =    chwz_yw_B_SPCB
                AnimationMode =    ONCE
                AnimationSpeedFactorRange = 0.7333 0.7333
            End
        End















        AnimationState          =    PACKING_TYPE_5 PACKING
            Animation
                AnimationName =    chwz_yw_U_SPCB
                AnimationMode =    ONCE
            End
        End
















        AnimationState          =    PACKING_TYPE_6 PACKING
            Animation
                AnimationName =    chwz_yw_U_SPCD
                AnimationMode =    ONCE
            End
        End





        AnimationState                = LEVELED WEAPONSET_TOGGLE_1
            Animation                = LevelUp
                AnimationName        = chwz_yw_B_CHRA chwz_yw_B_LVLA
                AnimationMode        = ONCE
            End
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = chwz_yw_U_CHRA chwz_yw_U_LVLA
                AnimationMode        = ONCE
            End
        End




        AnimationState                =    EMOTION_CELEBRATING MOUNTED
            Animation
                AnimationName        =    chwz_yw_M_CHRA chwz_yw_M_IRFA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
            Animation
                AnimationName        =    chwz_yw_B_CHRA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_CELEBRATING
            Animation CHRA
                AnimationName        =    chwz_yw_U_CHRA chwz_yw_U_TNTA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    chwz_yw_U_CHRB chwz_yw_U_CHRA chwz_yw_U_TNTA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_TAUNTING MOUNTED
            Animation
                AnimationName        =    chwz_yw_M_TNTA chwz_yw_M_IRFA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_TAUNTING WEAPONSET_TOGGLE_1
            Animation
                AnimationName        =    chwz_yw_B_TNTA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_TAUNTING
            Animation CHRA
                AnimationName        =    chwz_yw_U_TNTA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    chwz_yw_U_TNTB chwz_yw_U_TNTA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End





        AnimationState                = ENGAGED
            StateName                = STATE_ready
            Animation
                AnimationName        = chwz_yw_U_IDLA
                AnimationMode        = ONCE
            End
        End


        AnimationState                = WEAPONSET_TOGGLE_1
            StateName                = STATE_Idle_Bow
            Animation
                AnimationName        =    chwz_yw_B_IDLA
                AnimationPriority    =    20
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
            EndScript
        End

        IdleAnimationState
            StateName                    = STATE_Idle_Sword
            Animation = Foot_IDLB
                AnimationName       = chwz_yw_U_IDLB
                AnimationMode       = ONCE
                AnimationPriority   = 20
            End
            Animation = Foot_IDLC
                AnimationName       = chwz_yw_U_IBFA
                AnimationMode       = ONCE
                AnimationPriority   = 2
            End
            Animation = Foot_IDLD
                AnimationName       = chwz_yw_U_IBFB
                AnimationMode       = ONCE
                AnimationPriority   = 2
            End

            BeginScript
                CurDrawableHideSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredSword") end
                if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
            EndScript
        End




        TransitionState = TRANS_BoredToSelectedSword

            Animation = ANTD
                AnimationName    = chwz_yw_U_ATNA chwz_yw_U_ATND chwz_yw_U_IDLA
                AnimationMode    = ONCE
            End
        End

        TransitionState = TRANS_SelectedToBoredSword
            Animation            = ATNF
                AnimationName    = chwz_yw_U_ATNC chwz_yw_U_ATNF chwz_yw_U_ATNE
                AnimationMode    = ONCE
            End
        End

        TransitionState = TRANS_BoredToSelectedBow
            Animation = ATNC
                AnimationName        = chwz_yw_U_ATNF chwz_yw_U_ATNE
                AnimationMode        = ONCE
            End
        End

        TransitionState = TRANS_CaptainBowToSelectedBow
            Animation = ATNC
                AnimationName        = chwz_yw_U_ATNF
                AnimationMode        = ONCE
                AnimationBlendTime    = 10
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        TransitionState = TRANS_SelectedToBoredBow
            Animation            = ATNA
                AnimationName    = chwz_yw_U_ATNF
                AnimationMode    = ONCE
            End
        End


        TransitionState       = TRANS_BowToSword
            Animation           = CUHero_STHA
                AnimationName     = chwz_yw_B_STHA
                AnimationMode     = ONCE
            End
        End

        TransitionState       = TRANS_SwordToBow
            Animation           = CUHero_STHB
                AnimationName     = chwz_yw_U_STHA
                AnimationMode     = ONCE
            End
        End

        TransitionState               = TRANS_BowToSword_Running
            Animation               = DrawSwords
                AnimationName       = chwz_yw_B_STHB
                AnimationMode       = ONCE
            End
        End

        TransitionState               = TRANS_SwordToBow_Running
            Animation               = DrawBow
                AnimationName       = chwz_yw_U_STHB
                AnimationMode       = ONCE
            End
        End

    End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"




    Side = Lothlorien
    EditorSorting = UNIT
    ThreatLevel       = ISENGARD_BESERKER_THREAT_LEVEL
    ThreatBreakdown   = IsengardBeserker_DetailedThreat
        AIKindOf      = INFANTRY
    End
    CommandPoints = 10
    BuildCost     = 300
    BuildTime     = WEAK_BUILDTIME

    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

    WeaponSet
        Conditions = None
    End

    ArmorSet
        Conditions      = None
        Armor           = LichtbringerArmor
        DamageFX        = NormalDamageFX
    End


    BuildFadeInOnCreateTime = 0

    VisionRange = ELVEN_MIRKWOOD_ARCHER_VISION_RANGE
    VisionSide = 35%
    VisionRear = 25%
    VisionBonusPercentPerFoot = 5.0%
    ShroudClearingRange = SHROUD_CLEAR_STANDARD
    BountyValue = ELVEN_MIRKWOOD_ARCHER_BOUNTY_VALUE
    DisplayName = OBJECT:LothlorienHeiler
    CrushableLevel = 1
    CrusherLevel = 0
    CrushRevengeWeapon = RangedInfantryCrushRevenge

    CommandSet = LorienHeilerCommandSet




    VoiceAttack                             = ElfSentryVoiceAttack
    VoiceAttackAir                            = ElfSentryVoiceAttack
    VoiceAttackCharge                         = ElfSentryVoiceAttackCharge
    VoiceAttackMachine                         = ElfSentryVoiceAttack
    VoiceAttackStructure                     = ElfSentryVoiceAttackBuilding


    VoiceGuard                                = ElfSentryVoiceMove
    VoiceMove                                 = ElfSentryVoiceMove
    VoiceMoveToCamp                         = ElfSentryVoiceMoveCamp
    VoiceMoveWhileAttacking                 = ElfSentryVoiceDisengage
    VoicePriority                            = 40
    VoiceRetreatToCastle                     = ElfSentryVoiceRetreat
    VoiceSelect                             = ElfSentryVoiceSelectMS
    VoiceSelectBattle                          = ElfSentryVoiceSelectBattle

    VoiceEnterStateAttack                     = ElfSentryVoiceEnterStateAttack
    VoiceEnterStateAttackCharge             = ElfSentryVoiceEnterStateAttackCharge
    VoiceEnterStateAttackStructure             = ElfSentryVoiceEnterStateAttackBuilding
    VoiceEnterStateAttackMachine             = ElfSentryVoiceEnterStateAttackBuilding
    VoiceEnterStateMove                     = ElfSentryVoiceEnterStateMove
    VoiceEnterStateMoveToCamp                 = ElfSentryVoiceEnterStateMoveCamp
    VoiceEnterStateMoveWhileAttacking        = ElfSentryVoiceEnterStateDisengage
    VoiceEnterStateRetreatToCastle             = ElfSentryVoiceEnterStateRetreat

    CrowdResponseKey = Elf

    UnitSpecificSounds
        VoiceEnterUnitElvenTransportShip    = ElfSentryVoiceMoveShip
        VoiceGarrison                         = ElfSentryVoiceMoveGarrison
        VoiceInitiateCaptureBuilding        = ElfSentryVoiceCaptureBuilding
        VoiceMoveToTrees                    = ElfSentryVoiceMoveForest
        VoiceEnterStateMoveToTrees            = ElfSentryVoiceEnterStateMoveForest
    End

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:EMOTION_CELEBRATING    Excluded:DYING ENGAGED    Sound:EmotionElfCompilationVoxCheerSinglesLoop
        ModelCondition = Required:EMOTION_TAUNTING        Excluded:DYING ENGAGED    Sound:EmotionElfCompilationVoxTauntSinglesLoop

        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionElfCompilationVoxTauntSinglesLoop
    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"



    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Elf Unit Infantry Elf_Warrior
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallOrc            Animation:chwz_yw_U_SKL.chwz_yw_U_DIEC    Frames:56
        AnimationSound = Sound:BodyFallOrc            Animation:chwz_yw_U_SKL.chwz_yw_U_DTHA    Frames:23
        AnimationSound = Sound:BodyFallOrc            Animation:chwz_yw_U_SKL.chwz_yw_U_DTHB    Frames:34
        AnimationSound = Sound:BodyFallOrc            Animation:chwz_yw_U_SKL.chwz_yw_U_LNDD    Frames:2

        AnimationSound = Sound:BodyFallOrc            Animation:chwz_yw_U_SKL.chwz_yw_U_LNDA    Frames:6
        AnimationSound = Sound:BodyFallGeneric1        Animation:chwz_yw_U_SKL.chwz_yw_U_DIEA    Frames:50
        AnimationSound = Sound:BodyFallGeneric1        Animation:chwz_yw_U_SKL.chwz_yw_U_DIEB    Frames:75
        AnimationSound = Sound:BodyFallGeneric1        Animation:chwz_yw_U_SKL.chwz_yw_U_DIEC    Frames:53
        AnimationSound = Sound:BodyFallGeneric1        Animation:chwz_yw_U_SKL.chwz_yw_U_PLTA    Frames:18
    End




    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SCORE THROWN_OBJECT PATH_THROUGH_EACH_OTHER ATTACK_NEEDS_LINE_OF_SIGHT


    Body = ActiveBody ModuleTag_02
        CheerRadius       = EMOTION_CHEER_RADIUS
        MaxHealth         = 500
        MaxHealthDamaged  = 250
        BurningDeathBehavior = Yes
        BurningDeathFX       = FX_InfantryBurningFlame
    End


    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate                        = Hero
    End


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle        = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate                = 500
        CanAttackWhileContained            = Yes

        AILuaEventsList                    = RohanElvenWarriorFunctions
        BurningDeathTime                = BURNINGDEATH_DURATION_INFANTRY
    End

    LocomotorSet
        Locomotor     = HumanLocomotor
        Condition     = SET_NORMAL
        Speed         = NORMAL_ELVEN_PIKEMEN_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor = BurningDeathLocomotorInfantry
        Condition = SET_BURNINGDEATH
        Speed      = BURNINGDEATH_WANDERSPEED_INFANTRY
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult                = 1.0
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 2133
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -KNOCKBACK
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL ElfGenericVoiceDie
    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = SlowDeathBehavior ModuleTag_07

        DeathTypes = NONE +KNOCKBACK
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL ElfGenericVoiceDie
    End

    Behavior = BezierProjectileBehavior ModuleTag_08

        FirstHeight = 24
        SecondHeight = 24
        FirstPercentIndent = 30%
        SecondPercentIndent = 70%
        TumbleRandomly = Yes

        CrushStyle = Yes
        DieOnImpact = Yes
        BounceCount = 1
        BounceDistance = 40
        BounceFirstHeight = 24
        BounceSecondHeight = 24
        BounceFirstPercentIndent = 20%
        BounceSecondPercentIndent = 80%

        GroundHitFX       = FX_ThrownRockGroundHit
        GroundBounceFX    = FX_ThrownRockBounceHit
    End


    Behavior = PassiveAreaEffectBehavior ModuleTag_SplashOfHealingWater_Ahh
        EffectRadius         = 120
        PingDelay            = 2000
        HealPercentPerSecond = 3%
        AllowFilter          = ANY +INFANTRY +CAVALRY +HERO -MACHINE +MONSTER -IMMOBILE +DOZER -STRUCTURE -SHIP
        NonStackable         = Yes
        HealFX               = FX_SpellHealUnitHealBuff
    End




    Behavior = BannerCarrierUpdate BannerCarrierUpdateModuleTag
        IdleSpawnRate            = 5000
        UnitSpawnFX                = FX_BannerCarrierSpawnUnit


        ReplenishNearbyHorde    = Yes
        ScanHordeDistance        = 200
    End

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TheodenLeadership
        SpecialPowerTemplate = SpecialAbilityFakeLeadership
        TriggeredBy = Upgrade_AllFactionUpgrade
    End

    Behavior = SpecialPowerModule ModuleTag_TheodenLeadershipUpdate
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack  = Yes
        StartsPaused = No
    End


    Behavior = SubObjectsUpgrade ModuleTag_Making
        TriggeredBy       = Upgrade_ElfFaction Upgrade_AllFactionUpgrade
        HideSubObjects    = WIZARDSTAFF03 WIZSTAFF01_FX4 WIZSTAFF03_FX02
    End






    Behavior = SpecialPowerModule ModuleTag_RingannehmenStarter
         SpecialPowerTemplate           = SpecialAbilityGandalfVerfuhrte
         UpdateModuleStartsAttack       = Yes
         StartsPaused                   = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Ringannehmen
         SpecialPowerTemplate           = SpecialAbilityGandalfVerfuhrte
         MountedTemplate                = LothlorienHeilerNachRing
         SynchronizeTimerOnSpecialPower = SpecialAbilityFakeLeadership
         UnpackTime                     = OBJECT_TOGGLE_TIME
         PreparationTime                = 0
         PackTime                       = 0
         OpacityTarget                  = .0
         AwardXPForTriggering           = 0
         IgnoreFacingCheck              = Yes
    End

    Behavior = DoCommandUpgrade Module_DoCommandUpgradeRingannehmen
        TriggeredBy                     = Upgrade_GaladrielRingannehmen
        GetUpgradeCommandButtonName     = Command_SpecialAbilityGandalfVerfuhrte
    End



    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 21
    ShadowSizeY = 21
    ShadowTexture = ShadowI
    Scale = 0.94
End



Object LothlorienHeilerNachRing




       ButtonImage            = HSImladrisLichtbringer
       SelectPortrait         = UPImladrisLichtbringer

     EquivalentTo = LothlorienHeiler

  Draw = W3DHordeModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    StaticModelLODMode = Yes

        ExtraPublicBone = STAFF
        ExtraPublicBone = B_SWORDBONE
        ExtraPublicBone = PASSENGERBONE
        DependencySharedModelFlags = TURN_LEFT_HIGH_SPEED TURN_RIGHT_HIGH_SPEED MOVING ACCELERATE DECELERATE TURN_LEFT TURN_RIGHT ATTACKING BACKING_UP



        DefaultModelConditionState
            Model               = eulichtbringer
            Skeleton            = chwz_yw_u_skl
            WeaponLaunchBone    = TERTIARY STAFF
        End


TransitionState = Trans_ExamineWeapon
    Animation = Transition
        AnimationName = chwz_yw_C_WPNA
        AnimationMode = ONCE
        AnimationBlendTime = 20
    End
End
TransitionState = Trans_ExamineSelf
    Animation = Transition
        AnimationName = chwz_yw_C_CLRA
        AnimationMode = ONCE
        AnimationBlendTime = 20
    End
End
TransitionState = Trans_SelectedCheer
    Animation = Transition
        AnimationName = chwz_yw_C_SLCA
        AnimationMode = ONCE
        AnimationBlendTime = 20
    End
End

TransitionState = Trans_SwapModels
    StateName = STATE_Unselected
    Animation = Transition
        AnimationName = chwz_yw_C_ATNB chwz_yw_C_ATND
        AnimationMode = ONCE
        AnimationBlendTime = 0
    End
End




AnimationState                        = CLIMBING WEAPONSET_TOGGLE_1
    StateName                        = STATE_Climbing
    Animation                        = Climbing
        AnimationName                = chwz_yw_U_WALB
        AnimationMode                = LOOP
        AnimationBlendTime            = 10
    End
    BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "STATE_Running"  then CurDrawableSetTransitionAnimState("Trans_RunningToClimbing_WeaponToggle") return end
    EndScript
End
TransitionState = Trans_RunningToClimbing_WeaponToggle
    Animation = Transition
        AnimationName = chwz_yw_B_WALA
        AnimationMode = ONCE
    End
End

AnimationState                        = CLIMBING
    StateName                        = STATE_Climbing
    Animation                        = Climbing
        AnimationName                = chwz_yw_U_WALB
        AnimationMode                = LOOP
        AnimationBlendTime            = 10
    End
    BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "STATE_Running"  then CurDrawableSetTransitionAnimState("Trans_RunningToClimbing") return end
    EndScript
End
TransitionState = Trans_RunningToClimbing
    Animation = Transition
        AnimationName = chwz_yw_U_WALA
        AnimationMode = ONCE
    End
End

AnimationState                        = RAPPELLING WEAPONSET_TOGGLE_1
    StateName                        = STATE_Rappelling
    Animation                        = Rapelling
        AnimationName                = chwz_yw_U_WALD
        AnimationMode                = LOOP
        AnimationBlendTime            = 10
    End
    BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "STATE_Climbing"  then CurDrawableSetTransitionAnimState("Trans_ClimbingToRappelling") return end
    EndScript
End
AnimationState                        = RAPPELLING
    StateName                        = STATE_Rappelling
    Animation                        = Rapelling
        AnimationName                = chwz_yw_U_WALD
        AnimationMode                = LOOP
        AnimationBlendTime            = 10
    End
    BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "STATE_Climbing"  then CurDrawableSetTransitionAnimState("Trans_ClimbingToRappelling") return end
    EndScript
End
TransitionState = Trans_ClimbingToRappelling
    Animation = Transition
        AnimationName = chwz_yw_U_WALC
        AnimationMode = ONCE
    End
End
TransitionState = Trans_RappellingToRunning_WeaponToggle
    Animation = Transition
        AnimationName = MUGblnSwrd_B_WALE
        AnimationMode = ONCE
    End
End
TransitionState = Trans_RappellingToRunning
    Animation = Transition
        AnimationName = MUGblnSwrd_U_WALE
        AnimationMode = ONCE
    End
End

        AnimationState        =    USER_1
            Animation
                AnimationName =    chwz_yw_U_SPCE
                AnimationMode =    ONCE
            End
        End

        AnimationState        =    USER_2
            Animation
                AnimationName =    chwz_yw_U_SPCC
                AnimationMode =    ONCE
            End
        End





AnimationState                    =    DYING AFLAME MOUNTED
    Animation                    =    Fire
        AnimationName            =    chwz_yw_M_MFDA
        AnimationSpeedFactorRange = 0.9 1.1
    End
    BeginScript
        CurDrawableHideSubObject("arrow")
    EndScript
End

AnimationState                =    DYING SPLATTED MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_LNDA
        AnimationMode        =    ONCE
    End
End
AnimationState        = DYING MOUNTED
    StateName           = STATE_Sword
    Animation
        AnimationName     = chwz_yw_M_DIEA
        AnimationMode     = ONCE
    End
End

AnimationState                =    STUNNED_STANDING_UP MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_GTPA
        AnimationMode        =    ONCE
        AnimationSpeedFactorRange = 1.5 1.5
    End
End

AnimationState                =    STUNNED MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_LNDA
        AnimationMode        =    ONCE
    End
End

AnimationState                =    FREEFALL MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_FLYA
        AnimationMode        =    LOOP
    End
    Flags                    =    RANDOMSTART
End

AnimationState                =    STUNNED_FLAILING MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_FLYA
        AnimationMode        =    LOOP
    End
    Flags                    =    RANDOMSTART
End

AnimationState        = PASSENGER MOUNTED
    Animation
        AnimationName       = chwz_yw_M_GBDA
        AnimationMode       = LOOP
    End
    Flags               = RANDOMSTART
End

AnimationState        = MOUNTED LEVELED
    Animation
        AnimationName           = chwz_yw_M_LVLA
        AnimationMode       = ONCE
    End
End


AnimationState                = FIRING_OR_PREATTACK_A MOUNTED
    Animation
        AnimationName        = chwz_yw_M_ATKA chwz_yw_M_ATKB
        AnimationMode        = ONCE
        UseWeaponTiming        = Yes
    End
End


AnimationState                =    MOUNTED TURN_LEFT_HIGH_SPEED
    Animation
        AnimationName        =    chwz_yw_M_TNL1
        AnimationMode        =    LOOP
        AnimationSpeedFactorRange= 1.8 1.8
        AnimationBlendTime    =    20
    End
End

AnimationState                =    MOUNTED TURN_RIGHT_HIGH_SPEED
    Animation
        AnimationName        =    chwz_yw_M_TNR1
        AnimationMode        =    LOOP
        AnimationSpeedFactorRange= 1.8 1.8
        AnimationBlendTime    =    20
    End
End

AnimationState                =    MOVING TURN_LEFT MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_TRNL
        AnimationMode        =    LOOP
    End

End

AnimationState                =    MOVING TURN_RIGHT MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_TRNR
        AnimationMode        =    LOOP
    End

End

AnimationState                =    MOVING ACCELERATE MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_ACCL
        AnimationMode        =    LOOP
    End

End

AnimationState                =    MOVING DECELERATE MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_DECL
        AnimationMode        =    ONCE
    End

End

AnimationState                =    MOVING WALKING MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_WLKA
        AnimationMode        =    LOOP
    End
    Flags                    =    RANDOMSTART

End

AnimationState                =    MOVING BACKING_UP MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_BAKA
        AnimationMode        =    LOOP
    End
    Flags                    =    RANDOMSTART

End

AnimationState        = MOUNTED MOVING FIRING_OR_PREATTACK_A
    ShareAnimation        = Yes
    Animation
        AnimationName       = chwz_yw_M_ATRA
        AnimationMode       = LOOP
    End
    Flags               = RANDOMSTART
End

AnimationState                =    MOVING MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_RUNA
        AnimationMode        =    LOOP
    End
     Flags                    =    RANDOMSTART

End


AnimationState                =    SELECTED MOUNTED
    SimilarRestart            =   Yes
    StateName                =    AtAttentionIdleMounted
    Animation                =    ATNB
        AnimationName        =    chwz_yw_M_ATNB
        AnimationMode        =    LOOP
    End
    BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Select") end
        if Prev == "AtAttentionIdleMounted" then CurDrawableSetTransitionAnimState("TRANS_Select") end
    EndScript
End

TransitionState                =    TRANS_Select
    Animation
        AnimationName        =    chwz_yw_M_ATNA
        AnimationMode        =    ONCE
    End
End


AnimationState                = MOUNTED
    Animation
        AnimationName        =    chwz_yw_M_IDLA
        AnimationPriority    =    20
        AnimationMode        =    ONCE
        AnimationBlendTime    =    15
    End
    Flags                =    RESTART_ANIM_WHEN_COMPLETE
End






AnimationState        = STUNNED_FLAILING WEAPONSET_TOGGLE_1
    StateName           = STATE_Bow
    Animation
        AnimationName     = chwz_yw_B_FLYA
        AnimationMode     = LOOP
    End
    Flags               = RANDOMSTART
End

AnimationState        = STUNNED_FLAILING
    StateName           = STATE_Sword
    Animation
        AnimationName     = chwz_yw_U_FLYA
        AnimationMode     = LOOP
    End
    Flags               = RANDOMSTART
End


AnimationState        = DYING SPLATTED WEAPONSET_TOGGLE_1
    StateName           = STATE_Bow
    Animation
        AnimationName     = chwz_yw_B_LNDA
        AnimationMode     = ONCE
    End
End

AnimationState        = DYING SPLATTED
    StateName           = STATE_Sword
    Animation
        AnimationName     = chwz_yw_U_LNDA
        AnimationMode     = ONCE
    End
End

AnimationState        = DYING WEAPONSET_TOGGLE_1
    StateName           = STATE_Bow
    Animation
        AnimationName     = chwz_yw_B_DIEA
        AnimationMode     = ONCE
    End
End

AnimationState        = DYING
    StateName           = STATE_Sword
    Animation
        AnimationName     = chwz_yw_U_DIEA
        AnimationMode     = ONCE
    End
    Animation           = GUHero_DIEB
        AnimationName     = chwz_yw_U_DIEB
        AnimationMode     = ONCE
    End
End





AnimationState        = STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
    StateName           = STATE_Bow
    Animation
        AnimationName     = chwz_yw_B_GTPA
        AnimationMode     = ONCE
        AnimationSpeedFactorRange = 1.5 1.5
    End
End

AnimationState        = STUNNED_STANDING_UP
    StateName           = STATE_Sword
    Animation
        AnimationName     = chwz_yw_U_GTPA
        AnimationMode     = ONCE
        AnimationSpeedFactorRange = 1.5 1.5
    End
End

AnimationState        = STUNNED WEAPONSET_TOGGLE_1
    StateName           = STATE_Bow
    Animation
        AnimationName     = chwz_yw_B_LNDA
        AnimationMode     = ONCE
    End
End

AnimationState        = STUNNED
    StateName           = STATE_Sword
    Animation           = GUHero_LNDA
        AnimationName     = chwz_yw_U_LNDA
        AnimationMode     = ONCE
    End
End





AnimationState                = PACKING_TYPE_1  WEAPONSET_TOGGLE_1
    StateName                = rainofarrows
    Animation
        AnimationName        = chwz_yw_B_ATKA2
        AnimationMode        = LOOP
    End

End


AnimationState                = PACKING_TYPE_1
    StateName                = Curse
    Animation
        AnimationName        = chwz_yw_U_LVLA
        AnimationMode        = ONCE
    End

End


AnimationState                = PACKING_TYPE_3
    StateName                = Curse
    Animation
        AnimationName        = chwz_yw_U_SPCA
        AnimationMode        = ONCE
    End

End


AnimationState        =  SPECIAL_WEAPON_TWO
    StateName = STATE_Bow
    Animation
        AnimationName       = chwz_yw_U_SPCL chwz_yw_U_ATKC
        AnimationMode       = ONCE
    End
    FrameForPristineBonePositions = 59
    BeginScript
        CurDrawableShowSubObject("arrow")
    EndScript
End















































        AnimationState        = MOVING USER_4
            StateName           = Slaughter
            Flags               = RANDOMSTART

            Animation           = GUHero_ATKE
                AnimationName     = chwz_yw_U_ATKE
                AnimationMode     = LOOP
            End
            StateName           = NoSword
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
            EndScript
        End


        AnimationState            = MOVING WEAPONSET_TOGGLE_1
            StateName           = STATE_RunningBow
            Flags               = RANDOMSTART

            Animation
                AnimationName   = chwz_yw_B_RUNA

                AnimationSpeedFactorRange = 0.85 0.85

            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
                if Prev == "STATE_RunningSword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Running") end
                if Prev == "STATE_Rappelling"  then CurDrawableSetTransitionAnimState("Trans_RappellingToRunning_WeaponToggle") return end
            EndScript
        End


        AnimationState            = MOVING
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART

            Animation
                AnimationName   = chwz_yw_U_RUNA

                AnimationSpeedFactorRange = 0.85 0.85

            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_RunningBow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Running") end
                if Prev == "STATE_Rappelling"  then CurDrawableSetTransitionAnimState("Trans_RappellingToRunning") return end
            EndScript
        End



        AnimationState                    =    PREATTACK_A WEAPONSET_TOGGLE_1
            StateName                    =    STATE_Firing
            Animation                    =    ReadyToDrawn
                AnimationName            =    chwz_yw_B_ATKA1
                AnimationMode            =    ONCE


            End
        End

        AnimationState                    =    FIRING_OR_RELOADING_A WEAPONSET_TOGGLE_1
            StateName                    =    STATE_Firing
            Animation                    =    LooseReloadDraw
                AnimationName            =    chwz_yw_B_ATKA2
                AnimationMode            =    ONCE

                AnimationSpeedFactorRange = 1.1 1.1

            End
        End




















        AnimationState                = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
            StateName                = STATE_Firing
            Animation
                AnimationName        = chwz_yw_B_ATKA1
                AnimationMode        = ONCE
                UseWeaponTiming        = No
            End
        End

        AnimationState                = FIRING_OR_PREATTACK_A
            Animation
                AnimationName        = chwz_yw_U_spca
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
        End






        AnimationState = EMOTION_ALERT HIT_REACTION WEAPONSET_TOGGLE_1
            Animation
                AnimationName = chwz_yw_B_HITA
                AnimationMode = ONCE
            End
        End

        AnimationState = HIT_REACTION WEAPONSET_TOGGLE_1
            Animation
                AnimationName = chwz_yw_B_HITA
                AnimationMode = ONCE
            End
        End

        AnimationState = HIT_REACTION
            Animation = Sword_HITA
                AnimationName = chwz_yw_U_HITA
                AnimationMode = ONCE
            End
            Animation = Sword_HITB
                AnimationName = chwz_yw_U_HITB
                AnimationMode = ONCE
            End

            BeginScript
                PrevAnim = CurDrawablePrevAnimation()
                if PrevAnim == "Foot_IDLB"
                then
                    return "Sword_HITB"
                else
                    return "Swort_HITA"
                end
            EndScript
        End



        AnimationState                = SPECIAL_POWER_1
            StateName                = STATE_ready
            Animation
                AnimationName        = chwz_yw_U_SPCA
                AnimationMode        = ONCE
            End
            ParticleSysBone            = B_SWORDBONE ElendilFlare FollowBone:Yes
            ParticleSysBone            = B_SWORDBONE ElendilSwordFlare FollowBone:Yes

        End


        AnimationState          =    SPECIAL_WEAPON_ONE
            StateName          =    Attacking
            Animation
                AnimationName =    chwz_yw_U_SPCA
                AnimationMode =    ONCE
            End

        End


        AnimationState          =    SPECIAL_WEAPON_TWO MOUNTED
            StateName          =    Attacking
            Animation
                AnimationName =    chwz_yw_U_SPLD chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    SPECIAL_WEAPON_TWO
            StateName          =    Attacking
            Animation
                AnimationName =    chwz_yw_U_SPCB chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    SPECIAL_WEAPON_THREE MOUNTED
            StateName          =    Attacking
            Animation          =    StaffLaser
                AnimationName =    chwz_yw_U_SPCD chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:30 Name:FX_GandalfStaffFlare
        End


        AnimationState          =    SPECIAL_WEAPON_THREE
            StateName          =    Attacking
            Animation          =    StaffLaser
                AnimationName =    chwz_yw_U_SPCE chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:30 Name:FX_GandalfStaffFlare
        End


        AnimationState          =    SPECIAL_WEAPON_FOUR
            StateName          =    Attacking
            Animation
                AnimationName =    chwz_yw_U_SPCD
                AnimationMode =    ONCE
            End
            FrameForPristineBonePositions    = 44
        End

        AnimationState          =    SPECIAL_WEAPON_FIVE
            StateName          =    Attacking
            Animation
                AnimationName =    chwz_yw_U_SPCE
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    SPECIAL_WEAPON_SIX
            StateName          =    Attacking
            Animation
                AnimationName =    chwz_yw_U_SPCF
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    PACKING_TYPE_1 UNPACKING
            StateName          =    Attacking
            Animation          =    LightningSwordStart
                AnimationName =    chwz_yw_U_SPCC chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:14 Name:FX_CreateAHeroLightningCharge

            FXEvent              =    Frame:14 Name:FX_GandalfLightningSword    FrameStop:70
        End

        AnimationState          =    PACKING_TYPE_1 PREPARING
            StateName          =    Attacking
            Animation          =    LightningSwordLoop
                AnimationName =    chwz_yw_U_SPCA chwz_yw_U_ATKA
                AnimationMode =    LOOP
            End
        End

        AnimationState          =    PACKING_TYPE_1 PACKING
            StateName          =    Attacking
            Animation          =    LightningSwordPutAway
                AnimationName =    chwz_yw_U_SPCB chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    PACKING_TYPE_2 CREATE_A_HERO_20 CREATE_A_HERO_21
            Animation
                AnimationName =    chwz_yw_U_SPCC
                AnimationMode =    LOOP
            End
        End


        AnimationState          =    PACKING_TYPE_2 UNPACKING
            StateName          =    Attacking
            Animation          =    LightningSwordStart
                AnimationName =    chwz_yw_U_SPCC chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:14 Name:FX_CreateAHeroLightningCharge

            FXEvent              =    Frame:14 Name:FX_GandalfLightningSword    FrameStop:70
        End

        AnimationState          =    PACKING_TYPE_2 PREPARING
            StateName          =    Attacking
            Animation          =    LightningSwordLoop
                AnimationName =    chwz_yw_U_SPCA chwz_yw_U_ATKA
                AnimationMode =    LOOP
            End
        End

        AnimationState          =    PACKING_TYPE_2 PACKING
            StateName          =    Attacking
            Animation          =    LightningSwordPutAway
                AnimationName =    chwz_yw_U_SPCB chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
        End


        AnimationState        = PACKING_TYPE_2 WEAPONSET_TOGGLE_1
            StateName          =    CaptainPower
            Animation           = GUHero_CHRC
                AnimationName     = chwz_yw_U_CHRC
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.2 1.2
            End
        End


        AnimationState        = PACKING_TYPE_2
            StateName          =    STATE_CaptainBow
            Animation           = GUHero_CHRD
                AnimationName     = chwz_yw_U_SPCE chwz_yw_U_SPCA chwz_yw_U_CHRD
                AnimationMode     = ONCE

            End
        End


        AnimationState          =    PACKING_TYPE_3 UNPACKING
            StateName          =    Attacking
            Animation          =    LightningSwordStart
                AnimationName =    chwz_yw_U_SPCC chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
            FXEvent              =    Frame:14 Name:FX_CreateAHeroLightningCharge

            FXEvent              =    Frame:14 Name:FX_GandalfLightningSword    FrameStop:70
        End

        AnimationState          =    PACKING_TYPE_3 PREPARING
            StateName          =    Attacking
            Animation          =    LightningSwordLoop
                AnimationName =    chwz_yw_U_SPCA chwz_yw_U_ATKA
                AnimationMode =    LOOP
            End
        End

        AnimationState          =    PACKING_TYPE_3 PACKING
            StateName          =    Attacking
            Animation          =    LightningSwordPutAway
                AnimationName =    chwz_yw_U_SPCB chwz_yw_U_ATKA
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    PACKING_TYPE_4 UNPACKING
            Animation
                AnimationName =    chwz_yw_U_SPCA
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    PACKING_TYPE_4 PREPARING
            Animation
                AnimationName =    chwz_yw_U_SPCA
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    PACKING_TYPE_4 PACKING
            Animation
                AnimationName =    chwz_yw_U_SPCA
                AnimationMode =    ONCE
            End
        End

















        AnimationState          =    PACKING_TYPE_5 PACKING WEAPONSET_TOGGLE_1
            Animation
                AnimationName =    chwz_yw_B_SPCB
                AnimationMode =    ONCE
                AnimationSpeedFactorRange = 0.7333 0.7333
            End
        End















        AnimationState          =    PACKING_TYPE_5 PACKING
            Animation
                AnimationName =    chwz_yw_U_SPCB
                AnimationMode =    ONCE
            End
        End
















        AnimationState          =    PACKING_TYPE_6 PACKING
            Animation
                AnimationName =    chwz_yw_U_SPCD
                AnimationMode =    ONCE
            End
        End





        AnimationState                = LEVELED WEAPONSET_TOGGLE_1
            Animation                = LevelUp
                AnimationName        = chwz_yw_B_CHRA chwz_yw_B_LVLA
                AnimationMode        = ONCE
            End
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = chwz_yw_U_CHRA chwz_yw_U_LVLA
                AnimationMode        = ONCE
            End
        End




        AnimationState                =    EMOTION_CELEBRATING MOUNTED
            Animation
                AnimationName        =    chwz_yw_M_CHRA chwz_yw_M_IRFA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
            Animation
                AnimationName        =    chwz_yw_B_CHRA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_CELEBRATING
            Animation CHRA
                AnimationName        =    chwz_yw_U_CHRA chwz_yw_U_TNTA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    chwz_yw_U_CHRB chwz_yw_U_CHRA chwz_yw_U_TNTA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_TAUNTING MOUNTED
            Animation
                AnimationName        =    chwz_yw_M_TNTA chwz_yw_M_IRFA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_TAUNTING WEAPONSET_TOGGLE_1
            Animation
                AnimationName        =    chwz_yw_B_TNTA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_TAUNTING
            Animation CHRA
                AnimationName        =    chwz_yw_U_TNTA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    chwz_yw_U_TNTB chwz_yw_U_TNTA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End





        AnimationState                = ENGAGED
            StateName                = STATE_ready
            Animation
                AnimationName        = chwz_yw_U_IDLA
                AnimationMode        = ONCE
            End
        End


        AnimationState                = WEAPONSET_TOGGLE_1
            StateName                = STATE_Idle_Bow
            Animation
                AnimationName        =    chwz_yw_B_IDLA
                AnimationPriority    =    20
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
            EndScript
        End

        IdleAnimationState
            StateName                    = STATE_Idle_Sword
            Animation = Foot_IDLB
                AnimationName       = chwz_yw_U_IDLB
                AnimationMode       = ONCE
                AnimationPriority   = 20
            End
            Animation = Foot_IDLC
                AnimationName       = chwz_yw_U_IBFA
                AnimationMode       = ONCE
                AnimationPriority   = 2
            End
            Animation = Foot_IDLD
                AnimationName       = chwz_yw_U_IBFB
                AnimationMode       = ONCE
                AnimationPriority   = 2
            End

            BeginScript
                CurDrawableHideSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredSword") end
                if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
            EndScript
        End




        TransitionState = TRANS_BoredToSelectedSword

            Animation = ANTD
                AnimationName    = chwz_yw_U_ATNA chwz_yw_U_ATND chwz_yw_U_IDLA
                AnimationMode    = ONCE
            End
        End

        TransitionState = TRANS_SelectedToBoredSword
            Animation            = ATNF
                AnimationName    = chwz_yw_U_ATNC chwz_yw_U_ATNF chwz_yw_U_ATNE
                AnimationMode    = ONCE
            End
        End

        TransitionState = TRANS_BoredToSelectedBow
            Animation = ATNC
                AnimationName        = chwz_yw_U_ATNF chwz_yw_U_ATNE
                AnimationMode        = ONCE
            End
        End

        TransitionState = TRANS_CaptainBowToSelectedBow
            Animation = ATNC
                AnimationName        = chwz_yw_U_ATNF
                AnimationMode        = ONCE
                AnimationBlendTime    = 10
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        TransitionState = TRANS_SelectedToBoredBow
            Animation            = ATNA
                AnimationName    = chwz_yw_U_ATNF
                AnimationMode    = ONCE
            End
        End


        TransitionState       = TRANS_BowToSword
            Animation           = CUHero_STHA
                AnimationName     = chwz_yw_B_STHA
                AnimationMode     = ONCE
            End
        End

        TransitionState       = TRANS_SwordToBow
            Animation           = CUHero_STHB
                AnimationName     = chwz_yw_U_STHA
                AnimationMode     = ONCE
            End
        End

        TransitionState               = TRANS_BowToSword_Running
            Animation               = DrawSwords
                AnimationName       = chwz_yw_B_STHB
                AnimationMode       = ONCE
            End
        End

        TransitionState               = TRANS_SwordToBow_Running
            Animation               = DrawBow
                AnimationName       = chwz_yw_U_STHB
                AnimationMode       = ONCE
            End
        End

    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"




    Side = Lothlorien
    EditorSorting = UNIT
    ThreatLevel       = ISENGARD_BESERKER_THREAT_LEVEL
    ThreatBreakdown   = IsengardBeserker_DetailedThreat
        AIKindOf      = INFANTRY
    End
    CommandPoints = 10
    BuildCost     = 300
    BuildTime     = WEAK_BUILDTIME

    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

    WeaponSet
        Conditions = None
    End

    ArmorSet
        Conditions      = None
        Armor           = LichtbringerArmor
        DamageFX        = NormalDamageFX
    End


    BuildFadeInOnCreateTime = 0

    VisionRange = ELVEN_MIRKWOOD_ARCHER_VISION_RANGE
    VisionSide = 35%
    VisionRear = 25%
    VisionBonusPercentPerFoot = 5.0%
    ShroudClearingRange = SHROUD_CLEAR_STANDARD
    BountyValue = ELVEN_MIRKWOOD_ARCHER_BOUNTY_VALUE
    DisplayName = OBJECT:LothlorienHeiler
    CrushableLevel = 1
    CrusherLevel = 0
    CrushRevengeWeapon = RangedInfantryCrushRevenge

    CommandSet = LorienHeilerCommandSet_NachRing




    VoiceAttack                             = ElfSentryVoiceAttack
    VoiceAttackAir                            = ElfSentryVoiceAttack
    VoiceAttackCharge                         = ElfSentryVoiceAttackCharge
    VoiceAttackMachine                         = ElfSentryVoiceAttack
    VoiceAttackStructure                     = ElfSentryVoiceAttackBuilding


    VoiceGuard                                = ElfSentryVoiceMove
    VoiceMove                                 = ElfSentryVoiceMove
    VoiceMoveToCamp                         = ElfSentryVoiceMoveCamp
    VoiceMoveWhileAttacking                 = ElfSentryVoiceDisengage
    VoicePriority                            = 40
    VoiceRetreatToCastle                     = ElfSentryVoiceRetreat
    VoiceSelect                             = ElfSentryVoiceSelectMS
    VoiceSelectBattle                          = ElfSentryVoiceSelectBattle

    VoiceEnterStateAttack                     = ElfSentryVoiceEnterStateAttack
    VoiceEnterStateAttackCharge             = ElfSentryVoiceEnterStateAttackCharge
    VoiceEnterStateAttackStructure             = ElfSentryVoiceEnterStateAttackBuilding
    VoiceEnterStateAttackMachine             = ElfSentryVoiceEnterStateAttackBuilding
    VoiceEnterStateMove                     = ElfSentryVoiceEnterStateMove
    VoiceEnterStateMoveToCamp                 = ElfSentryVoiceEnterStateMoveCamp
    VoiceEnterStateMoveWhileAttacking        = ElfSentryVoiceEnterStateDisengage
    VoiceEnterStateRetreatToCastle             = ElfSentryVoiceEnterStateRetreat

    CrowdResponseKey = Elf

    UnitSpecificSounds
        VoiceEnterUnitElvenTransportShip    = ElfSentryVoiceMoveShip
        VoiceGarrison                         = ElfSentryVoiceMoveGarrison
        VoiceInitiateCaptureBuilding        = ElfSentryVoiceCaptureBuilding
        VoiceMoveToTrees                    = ElfSentryVoiceMoveForest
        VoiceEnterStateMoveToTrees            = ElfSentryVoiceEnterStateMoveForest
    End

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:EMOTION_CELEBRATING    Excluded:DYING ENGAGED    Sound:EmotionElfCompilationVoxCheerSinglesLoop
        ModelCondition = Required:EMOTION_TAUNTING        Excluded:DYING ENGAGED    Sound:EmotionElfCompilationVoxTauntSinglesLoop

        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionElfCompilationVoxTauntSinglesLoop
    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"



    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Elf Unit Infantry Elf_Warrior
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallOrc            Animation:chwz_yw_U_SKL.chwz_yw_U_DIEC    Frames:56
        AnimationSound = Sound:BodyFallOrc            Animation:chwz_yw_U_SKL.chwz_yw_U_DTHA    Frames:23
        AnimationSound = Sound:BodyFallOrc            Animation:chwz_yw_U_SKL.chwz_yw_U_DTHB    Frames:34
        AnimationSound = Sound:BodyFallOrc            Animation:chwz_yw_U_SKL.chwz_yw_U_LNDD    Frames:2

        AnimationSound = Sound:BodyFallOrc            Animation:chwz_yw_U_SKL.chwz_yw_U_LNDA    Frames:6
        AnimationSound = Sound:BodyFallGeneric1        Animation:chwz_yw_U_SKL.chwz_yw_U_DIEA    Frames:50
        AnimationSound = Sound:BodyFallGeneric1        Animation:chwz_yw_U_SKL.chwz_yw_U_DIEB    Frames:75
        AnimationSound = Sound:BodyFallGeneric1        Animation:chwz_yw_U_SKL.chwz_yw_U_DIEC    Frames:53
        AnimationSound = Sound:BodyFallGeneric1        Animation:chwz_yw_U_SKL.chwz_yw_U_PLTA    Frames:18
    End




    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SCORE THROWN_OBJECT PATH_THROUGH_EACH_OTHER ATTACK_NEEDS_LINE_OF_SIGHT


    Body = ActiveBody ModuleTag_02
        CheerRadius       = EMOTION_CHEER_RADIUS
        MaxHealth         = 500
        MaxHealthDamaged  = 250
        BurningDeathBehavior = Yes
        BurningDeathFX       = FX_InfantryBurningFlame
    End


    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate                        = Hero
    End


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle        = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate                = 500
        CanAttackWhileContained            = Yes

        AILuaEventsList                    = RohanElvenWarriorFunctions
        BurningDeathTime                = BURNINGDEATH_DURATION_INFANTRY
    End

    LocomotorSet
        Locomotor     = HumanLocomotor
        Condition     = SET_NORMAL
        Speed         = NORMAL_ELVEN_PIKEMEN_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor = BurningDeathLocomotorInfantry
        Condition = SET_BURNINGDEATH
        Speed      = BURNINGDEATH_WANDERSPEED_INFANTRY
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult                = 1.0
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 2133
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -KNOCKBACK
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL ElfGenericVoiceDie
    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = SlowDeathBehavior ModuleTag_07

        DeathTypes = NONE +KNOCKBACK
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL ElfGenericVoiceDie
    End

    Behavior = BezierProjectileBehavior ModuleTag_08

        FirstHeight = 24
        SecondHeight = 24
        FirstPercentIndent = 30%
        SecondPercentIndent = 70%
        TumbleRandomly = Yes

        CrushStyle = Yes
        DieOnImpact = Yes
        BounceCount = 1
        BounceDistance = 40
        BounceFirstHeight = 24
        BounceSecondHeight = 24
        BounceFirstPercentIndent = 20%
        BounceSecondPercentIndent = 80%

        GroundHitFX       = FX_ThrownRockGroundHit
        GroundBounceFX    = FX_ThrownRockBounceHit
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TheodenLeadership
        SpecialPowerTemplate = SpecialAbilityFakeLeadership
        TriggeredBy = Upgrade_AllFactionUpgrade
    End

    Behavior = SpecialPowerModule ModuleTag_TheodenLeadershipUpdate
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack  = Yes
        StartsPaused = No
    End

    Behavior = FireWeaponUpdate FireWeaponUpdateModuleTag
        FireWeaponNugget
            WeaponName = LothlorienHeilerWeapon
            FireDelay = 3000
            OneShot = No
        End
    End


    Behavior = SubObjectsUpgrade ModuleTag_Making
        TriggeredBy       = Upgrade_ElfFaction Upgrade_AllFactionUpgrade
        HideSubObjects    = WIZARDSTAFF03 WIZSTAFF01_FX4 WIZSTAFF03_FX02
    End




    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 21
    ShadowSizeY = 21
    ShadowTexture = ShadowI
    Scale = 0.94
End


