Object DwarvenSeestadtHaus

    SelectPortrait = BRCenterSeestadt


  Draw = W3DScriptedModelDraw ModuleTag_Draw

    ExtraPublicBone = ARROW_01
    ExtraPublicBone = ARROW_02
    ExtraPublicBone = ARROW_03
    ExtraPublicBone = ARROW_04
    ExtraPublicBone = ARROW_05
    ExtraPublicBone = ARROW_06
    ExtraPublicBone = ARROW_07
    ExtraPublicBone = ARROW_08
    ExtraPublicBone = FXBONE01
    ExtraPublicBone = FXBONE02
    ExtraPublicBone = FXBONE03
    ExtraPublicBone = FXBONE04

    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    StaticModelLODMode    = Yes


    DefaultModelConditionState
        Model = dbseestadt_cen
        WeaponLaunchBone = PRIMARY ARROW_
    End


        AnimationState = BUILD_PLACEMENT_CURSOR
            BeginScript
                   CurDrawableHideSubObject("STEPHENFRY")
            EndScript
        End


        AnimationState = PHANTOM_STRUCTURE
            BeginScript
                   CurDrawableHideSubObject("STEPHENFRY")
            EndScript
        End


    IdleAnimationState
        Animation = IDLA
            AnimationName      = dbseestadt_skl.dbseestadt_idla
            AnimationMode      = ONCE
            AnimationBlendTime = 0
            AnimationPriority  = 10
        End
        Animation = IDLB
            AnimationName      = dbseestadt_skl.dbseestadt_idlb
            AnimationMode      = ONCE
            AnimationBlendTime = 0
            AnimationPriority  = 4
        End
        Animation = IDLC
            AnimationName      = dbseestadt_skl.dbseestadt_idlc
            AnimationMode      = ONCE
            AnimationBlendTime = 0
            AnimationPriority  = 6
        End
        ParticleSysBone          = FXBONE01 ElvenForgeSmoke FollowBone:Yes Persist:SPAWN PersistID:101
        BeginScript
                CurDrawableHideSubObject("STEPHENFRY")
        EndScript
    End


        ModelConditionState = SNOW AWAITING_CONSTRUCTION
            Model    = dbseestadt_cena
            Texture = KBMill.tga KBMill_snow.tga
        End

        ModelConditionState   = AWAITING_CONSTRUCTION
            Model               = dbseestadt_cena
        End
        AnimationState        = AWAITING_CONSTRUCTION
            Animation           =  dbseestadt_cena
                AnimationName     =  dbseestadt_cena.dbseestadt_cena
                AnimationMode     = MANUAL
                AnimationBlendTime = 0
            End
            Flags                  = START_FRAME_FIRST
        End

        ModelConditionState = SNOW ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
            Model    = dbseestadt_cena
            ParticleSysBone   = NONE BuildingContructDust FollowBone:Yes
            Texture = KBMill.tga KBMill_snow.tga
        End

        ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
            Model             = dbseestadt_cena
            ParticleSysBone   = NONE BuildingContructDust FollowBone:Yes
        End

        AnimationState        = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
            Animation           = dbseestadt_cena
                AnimationName     = dbseestadt_cena.dbseestadt_cena
                AnimationMode     = MANUAL
                AnimationBlendTime = 0
            End
            Flags                  = START_FRAME_FIRST
            StateName              = BeingConstructed
            BeginScript
                CurDrawablePlaySound("GondorBarracksBeginConstruction")
            EndScript
        End


    ModelConditionState  = DAMAGED
      Model         = dbseestadt_cen
        Texture = dbschenke.tga dbschenke_d.tga
        Texture = rbstable.tga dbschenke_d.tga
        ParticleSysBone FireSmall01 FireBuildingLarge
        ParticleSysBone FireSmall02 FireBuildingMedium
        ParticleSysBone FireSmall03 FireBuildingMedium
        ParticleSysBone FireSmall04 FireBuildingMedium
        ParticleSysBone FireSmall05 SmokeBuildingLarge
    End

    AnimationState = DAMAGED
    EnteringStateFX    = FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = dbseestadt_cen
        Texture = dbschenke.tga dbschenke_d.tga
        Texture = rbstable.tga dbschenke_d.tga
        ParticleSysBone FireSmall01 FireBuildingLarge
        ParticleSysBone FireSmall02 FireBuildingLarge
        ParticleSysBone FireSmall03 FireBuildingLarge
        ParticleSysBone FireSmall04 FireBuildingMedium
        ParticleSysBone FireSmall05 SmokeBuildingLarge
    End

    AnimationState = REALLYDAMAGED
    EnteringStateFX    = FX_BuildingReallyDamaged
    End

    ModelConditionState  = RUBBLE
      Model         = dbseestadt_cen
        Texture = dbschenke.tga dbschenke_d.tga
        Texture = rbstable.tga dbschenke_d.tga
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = RUBBLE
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End
    ModelConditionState  = POST_COLLAPSE
        Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState = SNOW
        Model   = dbseestadt_cen
        Texture = KBMill.tga KBMill_snow.tga
    End
  End


  Draw = W3DScriptedModelDraw ModuleTag_DrawBarracks

    ExtraPublicBone = ARROW_01
    ExtraPublicBone = ARROW_02
    ExtraPublicBone = ARROW_03
    ExtraPublicBone = ARROW_04
    ExtraPublicBone = ARROW_05
    ExtraPublicBone = ARROW_06
    ExtraPublicBone = ARROW_07
    ExtraPublicBone = ARROW_08
    ExtraPublicBone = FXBONE01
    ExtraPublicBone = FXBONE02
    ExtraPublicBone = FXBONE03
    ExtraPublicBone = FXBONE04

    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    StaticModelLODMode    = Yes

        DefaultModelConditionState
            Model = NONE
        End

        ModelConditionState = FORTRESS_IMPROVEMENT_1 USER_1 DAMAGED
            Model           = dbseestadt_bara
        End

        ModelConditionState = FORTRESS_IMPROVEMENT_1 USER_1 REALLYDAMAGED
            Model           = dbseestadt_bara
        End

        ModelConditionState = FORTRESS_IMPROVEMENT_1 USER_1
            Model           = dbseestadt_bara
        End

        AnimationState = FORTRESS_IMPROVEMENT_1 USER_1
            Animation                    = RiseUp
                AnimationName            = dbseestadt_bara.dbseestadt_bara
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 2 2
            End
            Flags = START_FRAME_FIRST
            BeginScript
                CurDrawablePlaySound("BuildingTopple")
            EndScript
        End

    ModelConditionState  = FORTRESS_IMPROVEMENT_1 RUBBLE
      Model         = dbseestadt_barr
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = FORTRESS_IMPROVEMENT_1 RUBBLE
      Animation                =    RubbleAnimation
            AnimationName        =    dbseestadt_barr.dbseestadt_barr
            AnimationMode        =    ONCE
        End
        EnteringStateFX    = FX_StructureMediumCollapse
    End

    ModelConditionState  = FORTRESS_IMPROVEMENT_1 POST_RUBBLE
        Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = FORTRESS_IMPROVEMENT_1 POST_COLLAPSE
        Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End

        ModelConditionState = FORTRESS_IMPROVEMENT_1
            Model = dbseestadt_barr
        End

        AnimationState = FORTRESS_IMPROVEMENT_1
            Animation = IdleA
                AnimationName        = dbseestadt_barr.dbseestadt_barr
                AnimationMode        = ONCE
                AnimationPriority    = 30
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
            ParticleSysBone          = FXBONE02 ElvenForgeSmoke FollowBone:Yes Persist:SPAWN PersistID:101
        End
  End


  Draw = W3DScriptedModelDraw ModuleTag_DrawFlat

    ExtraPublicBone = ARROW_01
    ExtraPublicBone = ARROW_02
    ExtraPublicBone = ARROW_03
    ExtraPublicBone = ARROW_04
    ExtraPublicBone = ARROW_05
    ExtraPublicBone = ARROW_06
    ExtraPublicBone = ARROW_07
    ExtraPublicBone = ARROW_08
    ExtraPublicBone = FXBONE01
    ExtraPublicBone = FXBONE02
    ExtraPublicBone = FXBONE03
    ExtraPublicBone = FXBONE04

    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    StaticModelLODMode    = Yes

        DefaultModelConditionState
            Model = NONE
        End

        ModelConditionState = FORTRESS_IMPROVEMENT_2 USER_2 DAMAGED
            Model           = dbseestadt_flaa
        End

        ModelConditionState = FORTRESS_IMPROVEMENT_2 USER_2 REALLYDAMAGED
            Model           = dbseestadt_flaa
        End

        ModelConditionState = FORTRESS_IMPROVEMENT_2 USER_2
            Model           = dbseestadt_flaa
        End

        AnimationState = FORTRESS_IMPROVEMENT_2 USER_2
            Animation                    = RiseUp
                AnimationName            = dbseestadt_flaa.dbseestadt_flaa
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 2 2
            End
            Flags = START_FRAME_FIRST
            BeginScript
                CurDrawablePlaySound("BuildingTopple")
            EndScript
        End

    ModelConditionState  = FORTRESS_IMPROVEMENT_2 RUBBLE
      Model         = dbseestadt_flat
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = FORTRESS_IMPROVEMENT_2 RUBBLE
      Animation                =    RubbleAnimation
            AnimationName        =    dbseestadt_flat.dbseestadt_flat
            AnimationMode        =    ONCE
        End
        EnteringStateFX    = FX_StructureMediumCollapse
    End

    ModelConditionState  = FORTRESS_IMPROVEMENT_2 POST_RUBBLE
        Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = FORTRESS_IMPROVEMENT_2 POST_COLLAPSE
        Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End

        ModelConditionState = FORTRESS_IMPROVEMENT_2
            Model = dbseestadt_flat
        End

        AnimationState = FORTRESS_IMPROVEMENT_2
            Animation = IdleA
                AnimationName        = dbseestadt_flat.dbseestadt_flat
                AnimationMode        = ONCE
                AnimationPriority    = 30
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
            ParticleSysBone          = FXBONE03 ElvenForgeSmoke FollowBone:Yes Persist:SPAWN PersistID:101
            ParticleSysBone          = FXBONE04 ElvenForgeSmoke FollowBone:Yes Persist:SPAWN PersistID:101
        End
  End


  Draw = W3DScriptedModelDraw ModuleTag_DrawWell

    ExtraPublicBone = ARROW_01
    ExtraPublicBone = ARROW_02
    ExtraPublicBone = ARROW_03
    ExtraPublicBone = ARROW_04
    ExtraPublicBone = ARROW_05
    ExtraPublicBone = ARROW_06
    ExtraPublicBone = ARROW_07
    ExtraPublicBone = ARROW_08
    ExtraPublicBone = FXBONE01
    ExtraPublicBone = FXBONE02
    ExtraPublicBone = FXBONE03
    ExtraPublicBone = FXBONE04

    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    StaticModelLODMode    = Yes

        DefaultModelConditionState
            Model = NONE
        End

        ModelConditionState = FORTRESS_IMPROVEMENT_3 USER_3 DAMAGED
            Model           = dbseestadt_wela
        End

        ModelConditionState = FORTRESS_IMPROVEMENT_3 USER_3 REALLYDAMAGED
            Model           = dbseestadt_wela
        End

        ModelConditionState = FORTRESS_IMPROVEMENT_3 USER_3
            Model           = dbseestadt_wela
        End

        AnimationState = FORTRESS_IMPROVEMENT_3 USER_3
            Animation                    = RiseUp
                AnimationName            = dbseestadt_wela.dbseestadt_wela
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 2 2
            End
            Flags = START_FRAME_FIRST
            BeginScript
                CurDrawablePlaySound("BuildingTopple")
            EndScript
        End

    ModelConditionState  = FORTRESS_IMPROVEMENT_3 RUBBLE
      Model         = dbseestadt_well
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = FORTRESS_IMPROVEMENT_3 RUBBLE
      Animation                =    RubbleAnimation
            AnimationName        =    dbseestadt_well.dbseestadt_well
            AnimationMode        =    ONCE
        End
        EnteringStateFX    = FX_StructureMediumCollapse
    End

    ModelConditionState  = FORTRESS_IMPROVEMENT_3 POST_RUBBLE
        Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = FORTRESS_IMPROVEMENT_3 POST_COLLAPSE
        Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End

        ModelConditionState = FORTRESS_IMPROVEMENT_3
            Model = dbseestadt_well
        End

        AnimationState = FORTRESS_IMPROVEMENT_3
            Animation = IdleA
                AnimationName        = dbseestadt_well.dbseestadt_well
                AnimationMode        = ONCE
                AnimationPriority    = 30
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
        End
  End


  Draw = W3DScriptedModelDraw ModuleTag_DrawWatchtower

    ExtraPublicBone = ARROW_01
    ExtraPublicBone = ARROW_02
    ExtraPublicBone = ARROW_03
    ExtraPublicBone = ARROW_04
    ExtraPublicBone = ARROW_05
    ExtraPublicBone = ARROW_06
    ExtraPublicBone = ARROW_07
    ExtraPublicBone = ARROW_08
    ExtraPublicBone = FXBONE01
    ExtraPublicBone = FXBONE02
    ExtraPublicBone = FXBONE03
    ExtraPublicBone = FXBONE04

    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    StaticModelLODMode    = Yes

        DefaultModelConditionState
            Model = NONE
        End

        ModelConditionState = FORTRESS_IMPROVEMENT_4 USER_4 DAMAGED
            Model           = dbseestadt_towa
            WeaponLaunchBone = PRIMARY ARROW_
        End

        ModelConditionState = FORTRESS_IMPROVEMENT_4 USER_4 REALLYDAMAGED
            Model           = dbseestadt_towa
            WeaponLaunchBone = PRIMARY ARROW_
        End

        ModelConditionState = FORTRESS_IMPROVEMENT_4 USER_4
            Model           = dbseestadt_towa
            WeaponLaunchBone = PRIMARY ARROW_
        End

        AnimationState = FORTRESS_IMPROVEMENT_4 USER_4
            Animation                    = RiseUp
                AnimationName            = dbseestadt_towa.dbseestadt_towa
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 2 2
            End
            Flags = START_FRAME_FIRST
            BeginScript
                CurDrawablePlaySound("BuildingTopple")
            EndScript
        End

    ModelConditionState  = FORTRESS_IMPROVEMENT_4 RUBBLE
      Model         = dbseestadt_tow
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = FORTRESS_IMPROVEMENT_4 RUBBLE
      Animation                =    RubbleAnimation
            AnimationName        =    dbseestadt_tow.dbseestadt_tow
            AnimationMode        =    ONCE
        End
        EnteringStateFX    = FX_StructureMediumCollapse
    End

    ModelConditionState  = FORTRESS_IMPROVEMENT_3 POST_RUBBLE
        Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = FORTRESS_IMPROVEMENT_3 POST_COLLAPSE
        Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End

        ModelConditionState = FORTRESS_IMPROVEMENT_4
            Model = dbseestadt_tow
            WeaponLaunchBone = PRIMARY ARROW_
        End

        AnimationState = FORTRESS_IMPROVEMENT_4
            Animation = IdleA
                AnimationName        = dbseestadt_tow.dbseestadt_tow
                AnimationMode        = ONCE
                AnimationPriority    = 30
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
        End
  End


    Draw = W3DFloorDraw DrawFloorV1
        StaticModelLODMode     = Yes
        ModelName              = dbthal_bib
        WeatherTexture         = SNOWY dbdale_bib_snow.tga
        HideIfModelConditions  = AWAITING_CONSTRUCTION
        HideIfModelConditions  = PARTIALLY_CONSTRUCTED
    End




    DisplayName         = OBJECT:DwarvenSeestadtHaus
    Description         = OBJECT:DwarvenSeestadtHausDescription
    EditorSorting       = STRUCTURE
    Side                = Dwarves
    ThreatLevel         = FACTORY_THREAT_LEVEL
    CommandSet          = SeestadtHausCommandSet
    RefundValue         = 750
    BuildCost               = 1500
    BuildTime               = 55
    BountyValue             = 300
    VisionRange             = 160
    ShroudClearingRange     = 180
    CommandPointBonus         = 100
    PlacementViewAngle        = -45

    MaxSimultaneousOfType     = 1

    WeaponSet
        Conditions        = None
    End

    WeaponSet
        Conditions        = PLAYER_UPGRADE
        Weapon            = PRIMARY FortressArrowTowerBow
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    ArmorSet
        Conditions        = None
        Armor             = CitadelFortressArmor
    End



    #include "..\..\..\Includes\StandardBuildingEvaEvents.inc"

   VoiceSelect                   = GondorMarketSelect

    SoundOnDamaged               = BuildingLightDamageWood
    SoundOnReallyDamaged         = BuildingHeavyDamageWood

    SoundAmbient                 = GondorMarketVenderAmbience
    VoiceFullyCreated            = EVA:GenericBuildingComplete-Builder-Dwarf

    SoundOnDamaged               = BuildingLightDamageWood
    SoundOnReallyDamaged         = BuildingHeavyDamageWood

    UnitSpecificSounds
        UnderConstruction        = BuildingConstructionLoop
        UnderRepairFromRubble    = BuildingConstructionLoop
    End



    RadarPriority       = STRUCTURE
    KindOf              = CASTLE_KEEP AUTO_RALLYPOINT ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK FS_FACTORY SELECTABLE IMMOBILE STRUCTURE SCORE MADE_OF_WOOD CAN_ATTACK MP_COUNT_FOR_VICTORY NEED_BASE_FOUNDATION


    Body = StructureBody ModuleTag_Body
        MaxHealth       = MINIFORT_DAG_HEALTH
    End

    Behavior = AttributeModifierUpgrade ModuleTag_ProductionModifier
        TriggeredBy       = Upgrade_Produktivitat
        AttributeModifier = DwarvenRuneProduktivitat
    End

    Behavior = AIUpdateInterface ModuleTag_SoWeCanUseWeapon
        AutoAcquireEnemiesWhenIdle = Yes
        MoodAttackCheckRate        = 250
    End


  Behavior = QueueProductionExitUpdate ModuleTag_07
    UnitCreatePoint          = X:-108 Y:-84 Z:0.0
    NaturalRallyPoint        = X:-108 Y:-160.0 Z:0.0
    ExitDelay                = STANDARD_HORDE_EXIT_DELAY
    UseReturnToFormation     = No
  End


    Behavior = GettingBuiltBehavior ModuleTag_04
       SelfBuildingLoop         = BuildingBigConstructionLoop
       SelfRepairFromDamageLoop = NoSound
       SelfRepairFromRubbleLoop = BuildingBigConstructionLoop
    End


    Behavior = WeaponSetUpgrade ModuleTag_BuildingArrows
        TriggeredBy          = Upgrade_SeestadtWatchtower
        ConflictsWith        = Upgrade_EasyAIMultiPlayer
    End


    Behavior = CommandSetUpgrade ModuleTag_CommandsetBrracks
        TriggeredBy          = Upgrade_SeestadtBarracks
        CommandSet           = SeestadtHausCommandSet_Barracks
    End

    Behavior = ObjectCreationUpgrade CreateTheHealPing
        TriggeredBy          = Upgrade_SeestadtWell
        Delay                = 0.0
        ThingToSpawn         = SeestadtWellReplenishPing
        FadeInTime           = 0
        Offset               = X:151 Y:-5 Z:0
    End

    Behavior = ModelConditionUpgrade ModuleTag_ShowSeestadtBarracks
        TriggeredBy          = Upgrade_SeestadtBarracks
        AddConditionFlags    = FORTRESS_IMPROVEMENT_1
        AddTempConditionFlag = ModelConditionState:USER_1
        TempConditionTime    = 7.0
    End

    Behavior = ModelConditionUpgrade ModuleTag_ShowSeestadtFlat
        TriggeredBy          = Upgrade_SeestadtFlat
        AddConditionFlags    = FORTRESS_IMPROVEMENT_2
        AddTempConditionFlag = ModelConditionState:USER_2
        TempConditionTime    = 7.0
    End

    Behavior = ModelConditionUpgrade ModuleTag_ShowSeestadtWell
        TriggeredBy          = Upgrade_SeestadtWell
        AddConditionFlags    = FORTRESS_IMPROVEMENT_3
        AddTempConditionFlag = ModelConditionState:USER_3
        TempConditionTime    = 7.0
    End

    Behavior = ModelConditionUpgrade ModuleTag_ShowSeestadtWatchtower
        TriggeredBy          = Upgrade_SeestadtWatchtower
        AddConditionFlags    = FORTRESS_IMPROVEMENT_4
        AddTempConditionFlag = ModelConditionState:USER_4
        TempConditionTime    = 7.0
    End

    Behavior = ObjectCreationUpgrade CreateTheRessourceFlat1
        TriggeredBy          = Upgrade_SeestadtFlat
        Delay                = 0.0
        ThingToSpawn         = SeestadtRessourcePingObject
        FadeInTime           = 0
        Offset               = X:129 Y:114 Z:0
    End

    Behavior = ObjectCreationUpgrade CreateTheRessourceFlat2
        TriggeredBy          = Upgrade_SeestadtFlat
        Delay                = 0.0
        ThingToSpawn         = SeestadtRessourcePingObject
        FadeInTime           = 0
        Offset               = X:-8 Y:123 Z:0
    End

    Behavior = ObjectCreationUpgrade CreateTheRessourceFlat3
        TriggeredBy          = Upgrade_SeestadtFlat
        Delay                = 0.0
        ThingToSpawn         = SeestadtRessourcePingObject
        FadeInTime           = 0
        Offset               = X:91 Y:-120 Z:0
    End

    Behavior = ObjectCreationUpgrade CreateTheRessource
        TriggeredBy          = Upgrade_SeestadtBarracks
        Delay                = 0.0
        ThingToSpawn         = SeestadtRessourcePingObject
        FadeInTime           = 0
        Offset               = X:-108 Y:-80 Z:0
    End

    Behavior = ObjectCreationUpgrade CreateTheRessource2
        TriggeredBy          = Upgrade_SeestadtWatchtower
        Delay                = 0.0
        ThingToSpawn         = SeestadtRessourcePingObject
        FadeInTime           = 0
        Offset               = X:-101 Y:-59 Z:0
    End

    Behavior = GrantUpgradeCreate ModuleTag_ActLikeAnOldUpgrade
        UpgradeToGrant          = Upgrade_TrebuchetTurret
        GiveOnBuildComplete     = Yes
    End

    Behavior = ObjectCreationUpgrade MakeTheFreeTreb2
        TriggeredBy             = Upgrade_TrebuchetTurret
        Delay                   = 3000.0
        ThingToSpawn            = SeestadtBurgermeister
        Offset                  = X:70 Y:-12 Z:53
        FadeInTime              = 500
    End

    Behavior = ObjectCreationUpgrade ModuleTag_MaketheHuman1
        TriggeredBy       = Upgrade_TrebuchetTurret
        Delay             = 0.0
        ThingToSpawn      = ThalPeasent01
        Offset            = X:109 Y:-50 Z:0.0
        FadeInTime        = 100
    End

    Behavior = ObjectCreationUpgrade ModuleTag_MaketheHuman2
        TriggeredBy       = Upgrade_TrebuchetTurret
        Delay             = 0.0
        ThingToSpawn      = ThalPeasent02
        Offset            = X:105 Y:51 Z:0.0
        FadeInTime        = 100
    End

    Behavior = ObjectCreationUpgrade ModuleTag_MaketheHuman3
        TriggeredBy       = Upgrade_TrebuchetTurret
        Delay             = 0.0
        ThingToSpawn      = ThalPeasent03
        Offset            = X:0 Y:-104 Z:0.0
        FadeInTime        = 100
    End

    Behavior = ObjectCreationUpgrade ModuleTag_MaketheHuman5
        TriggeredBy       = Upgrade_SeestadtBarracks
        Delay             = 0.0
        ThingToSpawn      = ThalPeasent02
        Offset            = X:-60 Y:-66 Z:0.0
        FadeInTime        = 100
    End

    Behavior = ObjectCreationUpgrade ModuleTag_MaketheHuman6
        TriggeredBy       = Upgrade_SeestadtBarracks
        Delay             = 0.0
        ThingToSpawn      = ThalPeasent03
        Offset            = X:-127 Y:8 Z:0.0
        FadeInTime        = 100
    End

    Behavior = ObjectCreationUpgrade ModuleTag_MaketheHuman7
        TriggeredBy       = Upgrade_SeestadtFlat
        Delay             = 0.0
        ThingToSpawn      = ThalPeasent01
        Offset            = X:24 Y:-90 Z:0.0
        FadeInTime        = 100
    End

    Behavior = ObjectCreationUpgrade ModuleTag_MaketheHuman8
        TriggeredBy       = Upgrade_SeestadtFlat
        Delay             = 0.0
        ThingToSpawn      = ThalPeasent02
        Offset            = X:55.8 Y:84.8 Z:0.0
        FadeInTime        = 100
    End

    Behavior = ObjectCreationUpgrade ModuleTag_MaketheHuman9
        TriggeredBy       = Upgrade_SeestadtFlat
        Delay             = 0.0
        ThingToSpawn      = ThalPeasent03
        Offset            = X:55.8 Y:84.8 Z:0.0
        FadeInTime        = 100
    End

    Behavior = ObjectCreationUpgrade ModuleTag_MaketheHuman10
        TriggeredBy       = Upgrade_SeestadtFlat
        Delay             = 0.0
        ThingToSpawn      = ThalPeasent01
        Offset            = X:57.6 Y:125.8 Z:0.0
        FadeInTime        = 100
    End

    Behavior = ObjectCreationUpgrade ModuleTag_MaketheHuman11
        TriggeredBy       = Upgrade_SeestadtWatchtower
        Delay             = 0.0
        ThingToSpawn      = ThalPeasent02
        Offset            = X:-88 Y:116 Z:0.0
        FadeInTime        = 100
    End


    Behavior = GeometryUpgrade Geom_ModuleTag_HideAll
        TriggeredBy        = Upgrade_StructureLevel1
        ShowGeometry       = Geom_Orig
        HideGeometry       = Geom_V1 Geom_V2 Geom_V3 Geom_V4 Geom_V5 Geom_V6
    End

    Behavior = GeometryUpgrade Geom_ModuleTag_ShowSeestadtBarracks
        TriggeredBy        = Upgrade_SeestadtBarracks
        ShowGeometry       = Geom_V1
    End

    Behavior = GeometryUpgrade Geom_ModuleTag_ShowSeestadtFlat
        TriggeredBy        = Upgrade_SeestadtFlat
        ShowGeometry       = Geom_V2 Geom_V3 Geom_V4
    End

    Behavior = GeometryUpgrade Geom_ModuleTag_ShowSeestadtWell
        TriggeredBy        = Upgrade_SeestadtWell
        ShowGeometry       = Geom_V5
    End

    Behavior = GeometryUpgrade Geom_ModuleTag_ShowSeestadtWatchtower
        TriggeredBy        = Upgrade_SeestadtWatchtower
        ShowGeometry       = Geom_V6
    End


    Behavior = AttributeModifierUpgrade ModuleTag_SeestadtBarracksBonus
        TriggeredBy        = Upgrade_SeestadtBarracks
        AttributeModifier  = SeestadtBarracksModifier
    End

    Behavior = AttributeModifierUpgrade ModuleTag_SeestadtFlatBonus
        TriggeredBy        = Upgrade_SeestadtFlat
        AttributeModifier  = SeestadtFlatModifier
    End

    Behavior = AttributeModifierUpgrade ModuleTag_SeestadtWellBonus
        TriggeredBy        = Upgrade_SeestadtWell
        AttributeModifier  = SeestadtWellModifier
    End

    Behavior = AttributeModifierUpgrade ModuleTag_SeestadtWatchtowerBonus
        TriggeredBy        = Upgrade_SeestadtWatchtower
        AttributeModifier  = SeestadtWatchtowerModifier
    End



    Behavior                    = StructureCollapseUpdate ModuleTag_08
        MinCollapseDelay        = 000
        MaxCollapseDelay        = 000
        CollapseDamping         = .5
        MaxShudder              = 0.6
        MinBurstDelay           = 250
        MaxBurstDelay           = 800
        BigBurstFrequency       = 4
        FXList                  = INITIAL   FX_StructureMediumCollapse
        FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
        DestroyObjectWhenDone   = Yes
        CollapseHeight          = 155
    End


    Behavior                  = BuildingBehavior BuildingModuleTag
        NightWindowName       = N_Window N_Glow
    End

    Behavior = CastleMemberBehavior ModuleTag_CMB
    End

    Behavior = ProductionUpdate ModuleTag_06
       GiveNoXP = No
    End

    Behavior = ObjectCreationUpgrade ModuleTag_IamAI1
        TriggeredBy  = Upgrade_EasyAISinglePlayer Upgrade_EasyAIMultiPlayer Upgrade_MediumAISinglePlayer Upgrade_MediumAIMultiPlayer Upgrade_HardAISinglePlayer Upgrade_HardAIMultiPlayer Upgrade_BrutalAISinglePlayer Upgrade_BrutalAIMultiPlayer
        Delay        = 220000
        GrantUpgrade = Upgrade_SeestadtFlat
    End

    Behavior = ObjectCreationUpgrade ModuleTag_IamAI2
        TriggeredBy  = Upgrade_EasyAISinglePlayer Upgrade_EasyAIMultiPlayer Upgrade_MediumAISinglePlayer Upgrade_MediumAIMultiPlayer Upgrade_HardAISinglePlayer Upgrade_HardAIMultiPlayer Upgrade_BrutalAISinglePlayer Upgrade_BrutalAIMultiPlayer
        Delay        = 400000
        GrantUpgrade = Upgrade_SeestadtBarracks
    End

    Behavior = ObjectCreationUpgrade ModuleTag_IamAI3
        TriggeredBy  = Upgrade_EasyAISinglePlayer Upgrade_EasyAIMultiPlayer Upgrade_MediumAISinglePlayer Upgrade_MediumAIMultiPlayer Upgrade_HardAISinglePlayer Upgrade_HardAIMultiPlayer Upgrade_BrutalAISinglePlayer Upgrade_BrutalAIMultiPlayer
        Delay        = 590000
        GrantUpgrade = Upgrade_SeestadtWell
    End

    Behavior = ObjectCreationUpgrade ModuleTag_IamAI4
        TriggeredBy  = Upgrade_EasyAISinglePlayer Upgrade_EasyAIMultiPlayer Upgrade_MediumAISinglePlayer Upgrade_MediumAIMultiPlayer Upgrade_HardAISinglePlayer Upgrade_HardAIMultiPlayer Upgrade_BrutalAISinglePlayer Upgrade_BrutalAIMultiPlayer
        Delay        = 720000
        GrantUpgrade = Upgrade_SeestadtWatchtower
    End


    Scale                 = 0.85
    Geometry              = BOX
    GeometryName          = Geom_Orig
    GeometryMajorRadius   = 130.0
    GeometryMinorRadius   = 130.0
    GeometryHeight        = 100.0
    GeometryOffset        = X:25.0 Y:5.0 Z:0

    AdditionalGeometry    = BOX
    GeometryActive        = No
    GeometryName          = Geom_V1
    GeometryMajorRadius   = 65
    GeometryMinorRadius   = 65
    GeometryHeight        = 100.0
    GeometryOffset        = X:-108 Y:-80 Z:0

    AdditionalGeometry    = BOX
    GeometryActive        = No
    GeometryName          = Geom_V2
    GeometryMajorRadius   = 40
    GeometryMinorRadius   = 40
    GeometryHeight        = 100.0
    GeometryOffset        = X:91 Y:-120 Z:0

    AdditionalGeometry    = BOX
    GeometryActive        = No
    GeometryName          = Geom_V3
    GeometryMajorRadius   = 40
    GeometryMinorRadius   = 40
    GeometryHeight        = 100.0
    GeometryOffset        = X:-8 Y:123 Z:0

    AdditionalGeometry    = BOX
    GeometryActive        = No
    GeometryName          = Geom_V4
    GeometryMajorRadius   = 37
    GeometryMinorRadius   = 37
    GeometryHeight        = 100.0
    GeometryOffset        = X:129 Y:114 Z:0

    AdditionalGeometry    = BOX
    GeometryActive        = No
    GeometryName          = Geom_V5
    GeometryMajorRadius   = 40
    GeometryMinorRadius   = 40
    GeometryHeight        = 100.0
    GeometryOffset        = X:152 Y:-3 Z:0

    AdditionalGeometry    = BOX
    GeometryActive        = No
    GeometryName          = Geom_V6
    GeometryMajorRadius   = 27
    GeometryMinorRadius   = 27
    GeometryHeight        = 160.0
    GeometryOffset        = X:-101 Y:-59 Z:0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME
    BuildCompletion       = PLACED_BY_PLAYER
End


Object SeestadtPeasent01


  Draw = W3DScriptedModelDraw ModuleTag_01

        RandomTexture = dumpeasent01.tga 0 dumpeasent01.tga
        RandomTexture = dumpeasent02.tga 0 dumpeasent01.tga
        RandomTexture = dumpeasent03.tga 0 dumpeasent01.tga
        RandomTexture = dumpeasent04.tga 0 dumpeasent01.tga

   StaticModelLODMode = Yes

        DefaultModelConditionState
            Model               = DUMpeasent_SKA
            Model               = DUMpeasent_SKB  ExtraMesh:Yes
            Skeleton            = GUTownsmn_SKL
        End

        IdleAnimationState
            Animation           = IDLA
                AnimationName     = GUTownsmn_IDLA
                AnimationMode     = ONCE
                AnimationPriority = 15
            End
            Animation           = IDLB
                AnimationName     = GUTownsmn_TLKA
                AnimationMode     = ONCE
                AnimationPriority = 5
            End
            Animation           = IDLC
                AnimationName     = GUTownsmn_TLKB
                AnimationMode     = ONCE
                AnimationPriority = 5
            End
            Animation           = IDLD
                AnimationName     = GUTownsmn_TLKC
                AnimationMode     = ONCE
                AnimationPriority = 5
            End
        End

        AnimationState        = DYING DEATH_1 AFLAME
            Animation           = MFDA
                AnimationName     = GUTownsmn_MFDA
                AnimationMode     = ONCE
            End
        End

        AnimationState        = DYING DEATH_1
            Animation           = DIEA
                AnimationName     = GUTownsmn_DIEA
                AnimationMode     = ONCE
            End
        End

        AnimationState        = DYING DEATH_2
            Animation           = DIEB
                AnimationName     = GUTownsmn_DIEB
                AnimationMode     = ONCE
            End
        End

        AnimationState        = DYING SPLATTED
            Animation           = LNDA
                AnimationName     = GUTownsmn_LNDA
                AnimationMode     = ONCE
            End
        End

        AnimationState        = STUNNED_FLAILING
            Animation           = FLYA
                AnimationName     = GUTownsmn_FLYA
                AnimationMode     = LOOP
            End
            Flags               = RANDOMSTART
        End

        AnimationState        = STUNNED
            Animation           = LNDA
                AnimationName     = GUTownsmn_LNDA
                AnimationMode     = ONCE
            End
        End

        AnimationState        = PASSENGER
            Animation           = FLLA
                AnimationName     = GUTownsmn_FLLA
                AnimationMode     = LOOP
            End
        End

        AnimationState        = THROWN_PROJECTILE
            Animation           = FLYA
                AnimationName     = GUTownsmn_FLYA
                AnimationMode     = LOOP
            End
        End

        AnimationState        = MOVING PANICKING
            Animation            = RUNA
                AnimationName    = GUTownsmn_RUNA
                AnimationMode    = ONCE
            End
            Animation            = RUNB
                AnimationName    = GUTownsmn_RUNB
                AnimationMode    = ONCE
            End
            Flags =            RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState        = MOVING EMOTION_AFRAID
            Animation            = RUNA
                AnimationName    = GUTownsmn_RUNA
                AnimationMode    = LOOP
            End
        End

        AnimationState        = MOVING WEAPONSET_ENRAGED
            Animation            = RUNA
                AnimationName    = GUTownsmn_RUNA
                AnimationMode    = LOOP
            End
        End

        AnimationState        = MOVING WANDER
            Animation           = WLKA
                AnimationName     = GUTownsmn_WLKA
                AnimationMode     = LOOP
            End

        End

        AnimationState                = MOVING
            Animation                = WLKA
                AnimationName        = GUTownsmn_WLKA
                AnimationMode        = LOOP
            End
            Flags               = RANDOMSTART

        End

    End


  Side = Dwarves
  EditorSorting =     UNIT
  TransportSlotCount = 1
  ShockwaveResistance   = SHOCKWAVE_RESISTANCE_ALWAYS

  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End

  VisionRange = 0
  DisplayName = OBJECT:GondorTownsman
  CrushableLevel = 2




  RadarPriority = NOT_ON_RADAR
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_BE_REPULSED CREEP

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 10
        MaxHealthDamaged  = 5
        RecoveryTime      = 5000
    End


    Behavior = AnimalAIUpdate ModuleTagWanderAround
        FleeRange = 0
        FleeDistance = 0
        WanderPercentage = 5
        MaxWanderDistance = 15
        MaxWanderRadius = 30
        UpdateTimer = 99999999
    End


    Behavior = EntEnragedUpdate EnragedBehaviorModuleTag
        HatedObjectFilter     = ANY +INFANTRY +HERO +CAVALRY +MONSTER ENEMIES
        EnragedTime           = 10000
        TimeUntilCanRageAgain = 1000
        EnragedTransitionTime = 0
    End

    LocomotorSet
        Locomotor = GondorCivilianLocomotor
        Condition = SET_NORMAL
        Speed     = 17
    End

    LocomotorSet
        Locomotor = GondorCivilianLocomotor
        Condition = SET_PANIC
        Speed     = 45
    End

    LocomotorSet
        Locomotor = GondorCivilianLocomotor
        Condition = SET_ENRAGED
        Speed     = 45
    End


     Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        AfraidOf          =    ANY +INFANTRY +HERO +CAVALRY +MONSTER ENEMIES
        AlwaysAfraidOf    =    ANY +INFANTRY +HERO +CAVALRY +MONSTER ENEMIES
        PointAt           =    EMOTION_POINTAT_OBJECTFILTER
        HeroScanDistance  =    150
        FearScanDistance  =    INFANTRY_FEAR_SCAN_RADIUS
        AddEmotion        =    Terror_Base
        AddEmotion        =    Doom_Base
        AddEmotion        =    UncontrollableFear_Base_Evil
        AddEmotion        =    FearIdle_Base
        AddEmotion        =    FearBusy_Base
    End



    Behavior = SlavedUpdate ModuleTag_Slave
        DieOnMastersDeath = Yes
    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -CRUSHED
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        DeathFlags = DEATH_1
        Sound = INITIAL CivilianManVoiceDie
    End

    Behavior = SlowDeathBehavior ModuleTag_05b
        DeathTypes = NONE +CRUSHED
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        DeathFlags = DEATH_2
        Sound = INITIAL CivilianManVoiceDie
    End

  Behavior = SquishCollide ModuleTag_06

  End

    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes
    Shadow = SHADOW_DECAL

    ShadowSizeX = 12
    ShadowSizeY = 12
    ShadowTexture = ShadowI
End


Object SeestadtPeasent02


    Draw = W3DScriptedModelDraw ModuleTag_01

        RandomTexture = dupeasentb01.tga 0 dupeasentb01.tga
        RandomTexture = dupeasentb02.tga 0 dupeasentb01.tga
        RandomTexture = dupeasentb03.tga 0 dupeasentb01.tga


        DefaultModelConditionState
            Model               = DUPeasent_SKB
            Skeleton            = GUTownWmn_SKL
        End

        IdleAnimationState
            Animation           = IDLA
                AnimationName     = GUTownWmn_IDLA
                AnimationMode     = ONCE
                AnimationPriority = 15
            End
            Animation           = IDLB
                AnimationName     = GUTownWmn_TLKA
                AnimationMode     = ONCE
                AnimationPriority = 5
            End
            Animation           = IDLC
                AnimationName     = GUTownWmn_TLKB
                AnimationMode     = ONCE
                AnimationPriority = 5
            End
            Animation           = IDLD
                AnimationName     = GUTownWmn_TLKC
                AnimationMode     = ONCE
                AnimationPriority = 5
            End
        End

        AnimationState        = ATTACKING PREATTACK_A
            Animation           = ATKA
                AnimationName     = GUTownWmn_ATKA
                AnimationMode     = LOOP
            End
        End

        AnimationState        = DYING
            Animation           = DIEA
                AnimationName     = GUTownWmn_DIEA
                AnimationMode     = ONCE
            End
            Animation           = DIEB
                AnimationName     = GUTownWmn_DIEB
                AnimationMode     = ONCE
            End
        End

        AnimationState        = THROWN_PROJECTILE
            Animation           = FLYA
                AnimationName     = GUTownWmn_FLYA
                AnimationMode     = LOOP
            End
        End


        AnimationState        = STUNNED
            Animation           = LNDA
                AnimationName     = GUTownWmn_LNDA
                AnimationMode     = ONCE
            End
        End

        AnimationState                = MOVING WANDER
            Animation                = WLKA
                AnimationName        = GUTownWmn_WLKA
                AnimationMode        = LOOP
            End

        End



        AnimationState                = MOVING PANICKING
            Animation                = RUNA
                AnimationName        = GUTownWmn_RUNB
                AnimationMode        = LOOP
            End
            Flags                    = RANDOMSTART
        End

        AnimationState                = MOVING WEAPONSET_ENRAGED
            Animation                = RUNA
                AnimationName        = GUTownWmn_RUNB
                AnimationMode        = LOOP
            End
            Flags                    = RANDOMSTART
        End

        AnimationState                = MOVING EMOTION_AFRAID
            Animation                = RUNA
                AnimationName        = GUTownWmn_RUNB
                AnimationMode        = LOOP
            End
            Flags                    = RANDOMSTART
        End

        AnimationState                = MOVING
            Animation                = WLKA
                AnimationName        = GUTownWmn_WLKA
                AnimationMode        = LOOP
            End
            Flags                    = RANDOMSTART

        End

    End


  Side = Dwarves
  EditorSorting =     UNIT
  TransportSlotCount = 1
  ShockwaveResistance   = SHOCKWAVE_RESISTANCE_ALWAYS

  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End

  VisionRange = 0
  DisplayName = OBJECT:GondorPeasant
  CrushableLevel = 2




  RadarPriority = NOT_ON_RADAR
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_BE_REPULSED CREEP

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 10
        MaxHealthDamaged  = 5
        RecoveryTime      = 5000
    End


    Behavior = AnimalAIUpdate ModuleTagWanderAround
        FleeRange = 0
        FleeDistance = 0
        WanderPercentage = 5
        MaxWanderDistance = 15
        MaxWanderRadius = 30
        UpdateTimer = 99999999
    End


    Behavior = EntEnragedUpdate EnragedBehaviorModuleTag
        HatedObjectFilter     = ANY +INFANTRY +HERO +CAVALRY +MONSTER ENEMIES
        EnragedTime           = 10000
        TimeUntilCanRageAgain = 1000
        EnragedTransitionTime = 0
    End

    LocomotorSet
        Locomotor = GondorCivilianLocomotor
        Condition = SET_NORMAL
        Speed     = 17
    End

    LocomotorSet
        Locomotor = GondorCivilianLocomotor
        Condition = SET_PANIC
        Speed     = 45
    End

    LocomotorSet
        Locomotor = GondorCivilianLocomotor
        Condition = SET_ENRAGED
        Speed     = 45
    End


     Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        AfraidOf          =    ANY +INFANTRY +HERO +CAVALRY +MONSTER ENEMIES
        AlwaysAfraidOf    =    ANY +INFANTRY +HERO +CAVALRY +MONSTER ENEMIES
        PointAt           =    EMOTION_POINTAT_OBJECTFILTER
        HeroScanDistance  =    150
        FearScanDistance  =    INFANTRY_FEAR_SCAN_RADIUS
        AddEmotion        =    Terror_Base
        AddEmotion        =    Doom_Base
        AddEmotion        =    UncontrollableFear_Base_Evil
        AddEmotion        =    FearIdle_Base
        AddEmotion        =    FearBusy_Base
    End


    Behavior = SlavedUpdate ModuleTag_Slave
        DieOnMastersDeath = Yes
    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -EXPLODED
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL CivilianWomanVoiceDie
    End

    Behavior = SlowDeathBehavior ModuleTag_FF
        DeathTypes = NONE +EXPLODED
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL CivilianWomanVoiceDie
    End

  Behavior = SquishCollide ModuleTag_06

  End

    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes
    Shadow = SHADOW_DECAL

    ShadowSizeX = 12
    ShadowSizeY = 12
    ShadowTexture = ShadowI
End

Object SeestadtPeasent03


    Draw = W3DScriptedModelDraw ModuleTag_01

        RandomTexture = dupeasent01.tga 0 dupeasent01.tga
        RandomTexture = dupeasent02.tga 0 dupeasent01.tga
        RandomTexture = dupeasent03.tga 0 dupeasent01.tga


        DefaultModelConditionState
            Model               = DUPeasent_SKA
            Skeleton            = GUTownWmn_SKL
        End

        IdleAnimationState
            Animation           = IDLA
                AnimationName     = GUTownWmn_IDLA
                AnimationMode     = ONCE
                AnimationPriority = 15
            End
            Animation           = IDLB
                AnimationName     = GUTownWmn_TLKA
                AnimationMode     = ONCE
                AnimationPriority = 5
            End
            Animation           = IDLC
                AnimationName     = GUTownWmn_TLKB
                AnimationMode     = ONCE
                AnimationPriority = 5
            End
            Animation           = IDLD
                AnimationName     = GUTownWmn_TLKC
                AnimationMode     = ONCE
                AnimationPriority = 5
            End
        End

        AnimationState        = ATTACKING PREATTACK_A
            Animation           = ATKA
                AnimationName     = GUTownWmn_ATKA
                AnimationMode     = LOOP
            End
        End

        AnimationState        = DYING
            Animation           = DIEA
                AnimationName     = GUTownWmn_DIEA
                AnimationMode     = ONCE
            End
            Animation           = DIEB
                AnimationName     = GUTownWmn_DIEB
                AnimationMode     = ONCE
            End
        End

        AnimationState        = THROWN_PROJECTILE
            Animation           = FLYA
                AnimationName     = GUTownWmn_FLYA
                AnimationMode     = LOOP
            End
        End


        AnimationState        = STUNNED
            Animation           = LNDA
                AnimationName     = GUTownWmn_LNDA
                AnimationMode     = ONCE
            End
        End

        AnimationState                = MOVING WANDER
            Animation                = WLKA
                AnimationName        = GUTownWmn_WLKA
                AnimationMode        = LOOP
            End

        End


        AnimationState                = MOVING PANICKING
            Animation                = RUNA
                AnimationName        = GUTownWmn_RUNB
                AnimationMode        = LOOP
            End
            Flags                    = RANDOMSTART
        End

        AnimationState                = MOVING WEAPONSET_ENRAGED
            Animation                = RUNA
                AnimationName        = GUTownWmn_RUNB
                AnimationMode        = LOOP
            End
            Flags                    = RANDOMSTART
        End

        AnimationState                = MOVING EMOTION_AFRAID
            Animation                = RUNA
                AnimationName        = GUTownWmn_RUNB
                AnimationMode        = LOOP
            End
            Flags                    = RANDOMSTART
        End

        AnimationState                = MOVING
            Animation                = WLKA
                AnimationName        = GUTownWmn_WLKA
                AnimationMode        = LOOP
            End
            Flags                    = RANDOMSTART

        End

    End



  Side = Dwarves
  EditorSorting =     UNIT
  TransportSlotCount = 1
  ShockwaveResistance   = SHOCKWAVE_RESISTANCE_ALWAYS

  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End

  VisionRange = 0
  DisplayName = OBJECT:GondorPeasant
  CrushableLevel = 2




  RadarPriority = NOT_ON_RADAR
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_BE_REPULSED CREEP

    Body = ActiveBody ModuleTag_02
        MaxHealth         = 10
        MaxHealthDamaged  = 5
        RecoveryTime      = 5000
    End


    Behavior = AnimalAIUpdate ModuleTagWanderAround
        FleeRange = 0
        FleeDistance = 0
        WanderPercentage = 5
        MaxWanderDistance = 15
        MaxWanderRadius = 30
        UpdateTimer = 99999999
    End


    Behavior = EntEnragedUpdate EnragedBehaviorModuleTag
        HatedObjectFilter     = ANY +INFANTRY +HERO +CAVALRY +MONSTER ENEMIES
        EnragedTime           = 10000
        TimeUntilCanRageAgain = 1000
        EnragedTransitionTime = 0
    End

    LocomotorSet
        Locomotor = GondorCivilianLocomotor
        Condition = SET_NORMAL
        Speed     = 17
    End

    LocomotorSet
        Locomotor = GondorCivilianLocomotor
        Condition = SET_PANIC
        Speed     = 45
    End

    LocomotorSet
        Locomotor = GondorCivilianLocomotor
        Condition = SET_ENRAGED
        Speed     = 45
    End


     Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        AfraidOf          =    ANY +INFANTRY +HERO +CAVALRY +MONSTER ENEMIES
        AlwaysAfraidOf    =    ANY +INFANTRY +HERO +CAVALRY +MONSTER ENEMIES
        PointAt           =    EMOTION_POINTAT_OBJECTFILTER
        HeroScanDistance  =    150
        FearScanDistance  =    INFANTRY_FEAR_SCAN_RADIUS
        AddEmotion        =    Terror_Base
        AddEmotion        =    Doom_Base
        AddEmotion        =    UncontrollableFear_Base_Evil
        AddEmotion        =    FearIdle_Base
        AddEmotion        =    FearBusy_Base
    End


    Behavior = SlavedUpdate ModuleTag_Slave
        DieOnMastersDeath = Yes
    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -EXPLODED
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL CivilianWomanVoiceDie
    End

    Behavior = SlowDeathBehavior ModuleTag_FF
        DeathTypes = NONE +EXPLODED
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL CivilianWomanVoiceDie
    End

  Behavior = SquishCollide ModuleTag_06

  End

    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes
    Shadow = SHADOW_DECAL

    ShadowSizeX = 12
    ShadowSizeY = 12
    ShadowTexture = ShadowI
End


Object SeestadtWellReplenishPing

    EvaEnemyObjectSightedEvent = None


    EditorSorting   = SYSTEM
    KindOf = NO_COLLIDE IMMOBILE UNATTACKABLE IGNORE_FOR_VICTORY IGNORE_FOR_EVA_SPEECH_POSITION


    Body = ImmortalBody ModuleTag_01
        MaxHealth = 10000
        InitialHealth = 10000
    End

    Behavior = SlavedUpdate ModuleTag_Slave
        DieOnMastersDeath = Yes
    End

    Behavior = PassiveAreaEffectBehavior ModuleTag_Leadership
        UpgradeRequired      = Upgrade_SeestadtWell
        EffectRadius         = 250
        PingDelay            = 2000
        ModifierName         = ZwergeStatueLeadership
        AllowFilter          = ANY +INFANTRY +CAVALRY -HERO -MONSTER -MACHINE -STRUCTURE -CREEP -DOZER -SHIP -SeestadtPeasent01 -SeestadtPeasent02 -SeestadtPeasent03 ALLIES
    End

    Behavior = PassiveAreaEffectBehavior ModuleTag_SplashOfHealingWater_Ahh
        EffectRadius          = 200
        PingDelay             = 3000
        HealPercentPerSecond  = 1%
        AllowFilter           = ANY +INFANTRY +CAVALRY -MACHINE -IMMOBILE +DOZER -MordorNekromantSauron -MordorSauron_mod -MordorAnnatar -MordorGorthaur
        NonStackable          = Yes
        HealFX                = FX_SpellHealUnitHealBuff
    End

    Behavior = BannerCarrierUpdate BannerCarrierUpdateModuleTag
        IdleSpawnRate            = 10000
        UnitSpawnFX              = FX_BannerCarrierSpawnUnit
        ReplenishNearbyHorde     = Yes
        ReplenishAllNearbyHordes = Yes
        ScanHordeDistance        = 200
    End
End





