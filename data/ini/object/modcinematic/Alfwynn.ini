Object Alfwynn_Child


    SelectPortrait = HPAlfwynnchild


    ButtonImage = HIAlfwynnchild


    Draw = W3DScriptedModelDraw ModuleTag_DRAW

         DefaultModelConditionState
            Model               = gualfwynchild
            Skeleton            = RUFrodo_SKL
            WeaponLaunchBone    = PRIMARY B_HANDR
            WeaponLaunchBone    = SECONDARY B_HANDR
        End







        AnimationState                        = STUNNED_FLAILING
            StateName                        = STATE_Bored_Rocks
            Animation                        = FLYA
                AnimationName                = RUFrodo_FLYA
                AnimationMode                = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            Flags                            = RANDOMSTART
        End

        AnimationState                        = DYING DEATH_2
            Animation
                AnimationName                = RUFrodo_IDLA
                AnimationMode                = LOOP
            End
        End


        AnimationState                        = DYING SPLATTED
            StateName                        = STATE_Bored_Rocks
            Animation                        = LNDA
                AnimationName                = RUFrodo_LNDA
                AnimationMode                = ONCE
            End
        End

        AnimationState                        = DYING WEAPONSET_TOGGLE_1
            StateName                        = STATE_Bored_Rocks
                Animation                    = DIEA
                AnimationName                = RUFrodo_DIEA
                AnimationMode                = ONCE
            End
        End

        AnimationState                        = DYING EMOTION_ALERT
            StateName                        = STATE_Dead.
                Animation                    = DIEB
                AnimationName                = RUFrodo_DIEB
                AnimationMode                = ONCE
            End
        End

        AnimationState                        = DYING
            StateName                        = STATE_Dead.
            Animation                        = GTPA
                AnimationName                = RUFrodo_DIEA
                AnimationMode                = ONCE
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = RUFrodo_IDLB
                AnimationMode                = LOOP
            End
        End



















        AnimationState                        = STUNNED_STANDING_UP
            StateName                        = STATE_Ready_Rocks
            Animation                        = GTPA
                AnimationName                = RUFrodo_GTPA
                AnimationMode                = ONCE

            End
        End

        AnimationState                        = STUNNED
            StateName                        = STATE_Bored_Rocks
            Animation                        = LNDA
                AnimationName                = RUFrodo_LNDA
                AnimationMode                = ONCE
            End
        End



        AnimationState                        = RESURRECTED WEAPONSET_TOGGLE_1
            StateName                        = STATE_Bored_Rocks
            Animation                        = KnockedDownAndGetsUpBareHanded
                AnimationName                = RUFrodo_GTPA
                AnimationMode                = ONCE
            End
            ParticleSysBone                    = BAT_SPINE2 FrodoMithrilCoat FollowBone:Yes
            EnteringStateFX                    = FX_Resurrect
        End


        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = RUFrodo_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End

        AnimationState                        = MOVING WEAPONSET_TOGGLE_1
            StateName                        = STATE_Running_Rocks
            Animation                        = RUND
                AnimationName                = RUFrodo_RUND
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
            EndScript
        End

        AnimationState                        = MOVING ONE_RING
            StateName                        = STATE_Running_Rocks
            Animation                        = RUND
                AnimationName                = RUFrodo_RUND
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
            EndScript
        End

        AnimationState                        = MOVING EMOTION_ALERT
            StateName                        = STATE_Running_Sword
            Animation                        = RUNA
                AnimationName                = RUFrodo_RUNA
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
                if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
            EndScript
        End

        AnimationState                        = MOVING
            StateName                        = STATE_Running_Rocks
            Animation                        = RUND
                AnimationName                = RUFrodo_RUND
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
            EndScript
        End




        AnimationState                    = BETWEEN_FIRING_SHOTS_A WEAPONSET_TOGGLE_1
            StateName                    = STATE_Ready_Rocks
            Animation                    = IDLB
                AnimationName            = RUFrodo_IDLB
                AnimationMode            = LOOP
                AnimationBlendTime        = 20
            End



        End

        AnimationState                    = BETWEEN_FIRING_SHOTS_A
            StateName                    = STATE_Ready_Sword
            Animation                    = IDLA
                AnimationName            = RUFrodo_IDLA
                AnimationMode            = LOOP
                AnimationBlendTime        = 20
            End
            BeginScript
                CurDrawableAllowToContinue()
            EndScript
        End

        AnimationState                        = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
            StateName                        = STATE_Ready_Rocks
            Animation                        = RockThrow
                AnimationName                = RUFrodo_THRA
                AnimationMode                = ONCE

            End
            FrameForPristineBonePositions    = 29
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
            EndScript
        End

        AnimationState                        = FIRING_OR_PREATTACK_A
            StateName                        = STATE_Ready_Sword
            Animation                        = ATKC
                AnimationName                = RUFrodo_ATKC
                AnimationMode                = ONCE
                UseWeaponTiming                = Yes
                AnimationBlendTime        = 10

            End
            Animation                        = ATKB
                AnimationName                = RUFrodo_ATKB
                AnimationMode                = ONCE
                UseWeaponTiming                = Yes
                AnimationBlendTime        = 10
            End
            Flags = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
                if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
            EndScript
        End






        AnimationState                        = UNPACKING PACKING_TYPE_1 WEAPONSET_TOGGLE_1
            Animation
                AnimationName                = RUFrodo_PHLD
                AnimationMode                = ONCE
            End
            ParticleSysBone                    = B_HANDL PhialofGaladrielDelay FollowBone:Yes
        End

        AnimationState                        = PREPARING PACKING_TYPE_1 WEAPONSET_TOGGLE_1
            Animation
                AnimationName                = RUFrodo_PHLE
                AnimationMode                = ONCE
            End
            ParticleSysBone                    = B_HANDL PhialofGaladriel FollowBone:Yes
        End
        AnimationState                        = PACKING PACKING_TYPE_1 WEAPONSET_TOGGLE_1
            Animation
                AnimationName                = RUFrodo_PHLD
                AnimationMode                = ONCE_BACKWARDS
            End
            Flags                            = START_FRAME_LAST
            ParticleSysBone                    = B_HANDL PhialofGaladrielEnd FollowBone:Yes
        End

        AnimationState                        = PACKING_TYPE_1 WEAPONSET_TOGGLE_1
            Animation
                AnimationName                = RUFrodo_PHLE
                AnimationMode                = LOOP
            End
            ParticleSysBone                    = B_HANDL PhialofGaladriel FollowBone:Yes
        End

        AnimationState                        = UNPACKING PACKING_TYPE_1 EMOTION_ALERT
            Animation
                AnimationName                = RUFrodo_PHLA
                AnimationMode                = ONCE
            End
            ParticleSysBone                    = B_HANDL PhialofGaladrielDelay FollowBone:Yes
        End

        AnimationState                        = PREPARING PACKING_TYPE_1 EMOTION_ALERT
            Animation
                AnimationName                = RUFrodo_PHLB
                AnimationMode                = ONCE
            End
            ParticleSysBone                    = B_HANDL PhialofGaladriel FollowBone:Yes
        End

        AnimationState                        = PACKING PACKING_TYPE_1 EMOTION_ALERT
            Animation
                AnimationName                = RUFrodo_PHLC
                AnimationMode                = ONCE
            End
            ParticleSysBone                    = B_HANDL PhialofGaladrielEnd FollowBone:Yes
        End
        AnimationState                        = PACKING_TYPE_1 EMOTION_ALERT
            Animation
                AnimationName                = RUFrodo_PHLB
                AnimationMode                = LOOP
            End
            ParticleSysBone                    = B_HANDL PhialofGaladriel FollowBone:Yes
        End

        AnimationState                        = UNPACKING PACKING_TYPE_1
            Animation
                AnimationName                = RUFrodo_PHLD
                AnimationMode                = ONCE
            End
            ParticleSysBone                    = B_HANDL PhialofGaladrielDelay FollowBone:Yes
        End

        AnimationState                        = PREPARING PACKING_TYPE_1
            Animation
                AnimationName                = RUFrodo_PHLE
                AnimationMode                = ONCE
            End
            ParticleSysBone                    = B_HANDL PhialofGaladriel FollowBone:Yes
        End
        AnimationState                        = PACKING PACKING_TYPE_1
            Animation
                AnimationName                = RUFrodo_PHLD
                AnimationMode                = ONCE_BACKWARDS
            End
            Flags                            = START_FRAME_LAST
            ParticleSysBone                    = B_HANDL PhialofGaladrielEnd FollowBone:Yes
        End

        AnimationState                        = PACKING_TYPE_1
            Animation
                AnimationName                = RUFrodo_PHLE
                AnimationMode                = LOOP
            End
            ParticleSysBone                    = B_HANDL PhialofGaladriel FollowBone:Yes
        End





        AnimationState                        = USER_1
            StateName                        = STATE_Bored_Rocks
            Animation                        = CinematicSigh
                AnimationName                = RUFrodo_SIEA
                AnimationMode                = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_AttentionToBored_Rocks") end
            EndScript
        End


        AnimationState        = USER_2
            Animation           = CinematicNervousPutOnRing
                AnimationName     = RUFrodo_RNGB
                AnimationMode     = ONCE
            End
            StateName           = NoSword
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState                        = PUTTING_ON_RING

            Animation                        = CinematicNervousPutOnRing
                AnimationName                = RUFrodo_RNGA
                AnimationMode                = ONCE
            End








            FXEvent                            = Frame:30    Name:FX_FrodoRingOn
        End

        AnimationState                        = TAKING_OFF_RING
            StateName                        = STATE_Bored_Rocks
            Animation                        = TakeOffRingAndBeScared
                AnimationName                = RUFrodo_RNGB
                AnimationMode                = ONCE
            End
            FXEvent                            = Frame:30 Name:FX_FrodoRingOff
        End





        AnimationState                        = EMOTION_CELEBRATING
            Animation
                AnimationName                = RUFrodo_CHRA
                AnimationMode                = ONCE
            End
            Animation
                AnimationName                = RUFrodo_CHRB
                AnimationMode                = ONCE
            End
            Animation
                AnimationName                = RUFrodo_CHRC
                AnimationMode                = ONCE
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                        = EMOTION_TAUNTING
            Animation
                AnimationName                = RUFrodo_TNTA
                AnimationMode                = LOOP
            End
        End

        AnimationState                        = EMOTION_ALERT WEAPONSET_TOGGLE_1
            StateName                        = STATE_Ready_Rocks
            Animation                        = readyToHuckSomeRocks
                AnimationName                = RUFrodo_IDLB
                AnimationMode                = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
            EndScript
        End

        AnimationState                        = EMOTION_ALERT
            StateName                        = STATE_Ready_Sword
            Animation                        = readyToHackSomeFoos
                AnimationName                = RUFrodo_IDLA
                AnimationMode                = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
                if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
            EndScript
        End

        AnimationState                        = RAISING_FLAG
            Animation
                AnimationName                = RUFrodo_CHRA
                AnimationMode                = ONCE
            End
            Animation
                AnimationName                = RUFrodo_CHRB
                AnimationMode                = ONCE
            End
            Animation
                AnimationName                = RUFrodo_CHRC
                AnimationMode                = ONCE
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState                        = SELECTED
            StateName                        = STATE_Attention_Rocks
            Animation                        = attention
                AnimationName                = RUFrodo_ATNB
                AnimationMode                = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Attention_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Attention_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_Attention_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Attention_SwordToRocks") end
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_BoredToAttention_Rocks") end
                if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_BoredToAttention_Rocks") end
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_BoredToAttention_Rocks") end
            EndScript
        End




        IdleAnimationState
            StateName                    = STATE_Bored_Rocks
            Animation                    = IDLB
                AnimationName            = RUFrodo_IDLB
                AnimationMode            = ONCE
                AnimationPriority        = 10
            End
            Animation                    = CinematicSigh
                AnimationName            = RUFrodo_SIEA
                AnimationMode            = ONCE
                AnimationPriority        = 10
            End
            Animation                    = EATA
                AnimationName            = RUFrodo_EATA
                AnimationMode            = ONCE
                AnimationPriority        = 5
            End
            Animation                    = IDLY
                AnimationName            = RUMerry_IDLY
                AnimationMode            = ONCE
                AnimationPriority        = 5
            End
            Animation                    = IDLS
                AnimationName            = RUMerry_IDLS
                AnimationMode            = ONCE
                AnimationPriority        = 5
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_AttentionToBored_Rocks") end
            EndScript
        End



        TransitionState                        = TRANS_DrawSword
            Animation                        = STHA
                AnimationName                = RUFrodo_STHA
                AnimationMode                = ONCE
            End
        End

        TransitionState                        = TRANS_Running_RocksToSword
            Animation                        = STHD
                AnimationName                = RUFrodo_STHD
                AnimationMode                = ONCE
            End
        End
        TransitionState                        = TRANS_Ready_RocksToSword
            Animation                        = STHA
                AnimationName                = RUFrodo_STHA
                AnimationMode                = ONCE
            End
        End
        TransitionState                        = TRANS_Bored_RocksToSword
            Animation                        = STHA
                AnimationName                = RUFrodo_STHA
                AnimationMode                = ONCE
            End
        End
        TransitionState                        = TRANS_Attention_RocksToSword
            Animation                        = STHA
                AnimationName                = RUFrodo_STHA
                AnimationMode                = ONCE
            End
        End

        TransitionState                        = TRANS_SheatheSword
            Animation                        = STHA
                AnimationName                = RUFrodo_STHA
                AnimationMode                = ONCE_BACKWARDS
            End
            Flags                            = START_FRAME_LAST
        End

        TransitionState                        = TRANS_Running_SwordToRocks
            Animation                        = STHC
                AnimationName                = RUFrodo_STHC
                AnimationMode                = ONCE
            End
        End
        TransitionState                        = TRANS_Ready_SwordToRocks
            Animation                        = STHB
                AnimationName                = RUFrodo_STHB
                AnimationMode                = ONCE
            End
        End
        TransitionState                        = TRANS_Bored_SwordToRocks
            Animation                        = STHB
                AnimationName                = RUFrodo_STHB
                AnimationMode                = ONCE
            End
        End
        TransitionState                        = TRANS_Attention_SwordToRocks
            Animation                        = STHB
                AnimationName                = RUFrodo_STHB
                AnimationMode                = ONCE
            End
        End
        TransitionState                        = TRANS_BoredToAttention_Rocks
            Animation                        = ATNA
                AnimationName                = RUFrodo_ATNA
                AnimationMode                = ONCE
            End
        End
        TransitionState                        = TRANS_AttentionToBored_Rocks
            Animation                        = ATNC
                AnimationName                = RUFrodo_ATNC
                AnimationMode                = ONCE
            End
        End

        TransitionState                        = TRANS_DrawSword_Running
            Animation                        = STHA
                AnimationName                = RUFrodo_RUNC
                AnimationMode                = ONCE
            End
        End

        TransitionState                        = TRANS_SheatheSword_Running
            Animation                        = STHA
                AnimationName                = RUFrodo_RUND
                AnimationMode                = ONCE
            End
        End

    End






    Side = Men
    EditorSorting = UNIT
    ThreatLevel = ARAGORN_THREAT_LEVEL
    ThingClass = CHARACTER_UNIT
    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
    Scale = 1.1

    DisplayMeleeDamage = ARAGORN_DAMAGE

    HeroSortOrder = 20

    BuildCost = ARAGORN_MOD_BUILDCOST
    BuildTime = ARAGORN_BUILDTIME

    ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG

    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    BilboStingWeapon
    End

    WeaponSet
        Conditions        = WEAPONSET_HERO_MODE
        Weapon            = PRIMARY    BilboStingWeapon
    End


    ArmorSet
        Conditions        = None
        Armor           = HeroArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_HERO_STANDARD
    ShroudClearingRange = SHROUD_CLEAR_HERO
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue = GONDOR_ARAGORN_BOUNTY_VALUE
    DisplayName = OBJECT:Alfwynn
    Hotkey        = CONTROLBAR:AlfwynnHotkey
    CrushableLevel = 2



    CommandSet = AlfwynCommandSet
    CommandPoints = 0



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_AragornBody

    AutoResolveArmor
        Armor = AutoResolve_AragornArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_AragornWeapon
    End

    AutoResolveLeadership = AutoResolve_AragornBonus





    VoiceAttack                = PippinVoiceAttack
    VoiceAttackCharge        = PippinVoiceAttackCharge
    VoiceAttackMachine        = PippinVoiceAttack
    VoiceAttackStructure    = PippinVoiceAttack

    VoiceFear                 = PippinVoiceHelpMe
    VoiceMove                = PippinVoiceMove
    VoiceMoveToCamp            = PippinVoiceMove
    VoiceMoveWhileAttacking    = PippinVoiceDisengage
    VoicePriority            = 62
    VoiceRetreatToCastle    = PippinVoiceRetreat
    VoiceSelect                = PippinVoiceSelectMS
    VoiceSelectBattle         = PippinVoiceSelectBattle
    VoiceGuard                = PippinVoiceMove



    UnitSpecificSounds
        VoiceGarrison        = PippinVoiceGarrison
        VoiceEnterUnitElvenTransportShip    = PippinVoiceMove
        VoiceInitiateCaptureBuilding        = PippinVoiceMove
    End

    CrowdResponseKey = GoodMen


    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Man Man_Male Unit Infantry Hero

    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:FootstepDirtA                             Animation:RUFrodo_SKL.RUFrodo_RUNA     Frames:2 12 21 30
        AnimationSound = Sound:FootstepDirtA                             Animation:RUFrodo_SKL.RUFrodo_RUNB     Frames:2 10 20 28 38 46
        AnimationSound = Sound:FootstepDirtA                             Animation:RUFrodo_SKL.RUFrodo_RUNC     Frames:6 14 22 30
        AnimationSound = Sound:FootstepDirtA                             Animation:RUFrodo_SKL.RUFrodo_RUND     Frames:2 12 21 30
        AnimationSound = Sound:FootstepDirtA                             Animation:RUFrodo_SKL.RUFrodo_CINC     Frames:5 17
        AnimationSound = Sound:FootstepDirtA                             Animation:RUFrodo_SKL.RUFrodo_MFDA     Frames:4 13
        AnimationSound = Sound:FootstepDirtA                             Animation:RUFrodo_SKL.RUFrodo_STHC     Frames:2 12 21 31
        AnimationSound = Sound:FootstepDirtA                             Animation:RUFrodo_SKL.RUFrodo_STHD     Frames:2 12 21 31

        AnimationSound = Sound:BodyFallGenericNoArmor                         Animation:RUFrodo_SKL.RUFrodo_DIEA     Frames:34
        AnimationSound = Sound:BodyFallGenericNoArmor                         Animation:RUFrodo_SKL.RUFrodo_DIEB     Frames:37
        AnimationSound = Sound:BodyFallGenericNoArmor                         Animation:RUFrodo_SKL.RUFrodo_LNDA     Frames:2

        AnimationSound = Sound:SwordShingClean2                             Animation:RUFrodo_SKL.RUFrodo_STHA    Frames:6
        AnimationSound = Sound:SwordIntoScabbard2                            Animation:RUFrodo_SKL.RUFrodo_STHB    Frames:10
        AnimationSound = Sound:SwordIntoScabbard2                            Animation:RUFrodo_SKL.RUFrodo_STHC    Frames:5
        AnimationSound = Sound:SwordShingClean2                            Animation:RUFrodo_SKL.RUFrodo_STHD    Frames:2

        AnimationSound = Sound:PhialOn             RequiredMC:UNPACKING        Animation:RUFrodo_SKL.RUFrodo_PHLA     Frames:40
        AnimationSound = Sound:PhialOn             RequiredMC:UNPACKING        Animation:RUFrodo_SKL.RUFrodo_PHLD     Frames:30
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE HERO ARMY_SUMMARY ARAGORN HEAVY_MELEE_HITTER
    PathfindDiameter = 40.0

    Body = RespawnBody ModuleTag_RespawnBody
        CheerRadius               = EMOTION_CHEER_RADIUS
        MaxHealth                 = ARAGORN_MOD_HEALTH
        PermanentlyKilledByFilter = NONE
        DodgePercent              = HERO_DODGE_PERCENT
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End


    Behavior = SpecialPowerModule ModuleTag_CaptureBuilding
        SpecialPowerTemplate        = SpecialAbilityCaptureBuilding
        UpdateModuleStartsAttack    = Yes
        StartsPaused                = No
    End
    Behavior = SpecialAbilityUpdate ModuleTag_CaptureBuildingUpdate
        SpecialPowerTemplate        = SpecialAbilityCaptureBuilding
        StartAbilityRange            = 15.0
        UnpackTime                    = 1
        PreparationTime                = 15000
        PackTime                    = 1
        DoCaptureFX                    = Yes
    End


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate        = 500
        AILuaEventsList                = AragornFunctions
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance                = 300
        TauntAndPointUpdateDelay            = 10000
        AddEmotion            =    Doom_Base



        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
         AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base


        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
    End

    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_GOOD_HOBBIT_SPEED
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 4600
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -KNOCKBACK -FADED
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL FrodoVoiceDie
    End


    Behavior = SquishCollide ModuleTag_06

    End


    Behavior = AutoHealBehavior ModuleTag_ElvenGiftHealing
        StartsActive                = No
        TriggeredBy                    = Upgrade_ElvenGift
        HealingAmount                = ELVEN_GIFT_REGEN_AMOUNT
        HealingDelay                = ELVEN_GIFT_REGEN_DELAY
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = AttributeModifierUpgrade ModuleTag_ElvenGiftBonus
        TriggeredBy = Upgrade_ElvenGift
        AttributeModifier = SpellBookElvenGifts
    End


    Behavior = AutoHealBehavior ModuleTag_AragornHealing
        StartsActive = Yes
        HealingAmount = HERO_HEAL_AMOUNT
        HealingDelay = 1000
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End



    Behavior = SubObjectsUpgrade ModuleTag_HideALL
        TriggeredBy       = Upgrade_Level_1
        HideSubObjects    = CLOAK SWORD AST
    End

    Behavior = SubObjectsUpgrade ModuleTag_Upgrade1
        TriggeredBy       = Upgrade_MiniHordeLvl1
        ShowSubObjects    = CLOAK
    End

    Behavior = SubObjectsUpgrade ModuleTag_Upgrade2
        TriggeredBy       = Upgrade_MiniHordeLvl6
        ShowSubObjects    = AST
        HideSubObjects    = SWORD
    End

    Behavior = SubObjectsUpgrade ModuleTag_Upgrade3
        TriggeredBy       = Upgrade_MiniHordeLvl3
        ShowSubObjects    = SWORD
        HideSubObjects    = AST
    End








    Behavior = AISpecialPowerUpdate AragornBladeMasterAI
        CommandButtonName = Command_SpecialAbilityBladeMaster
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate AragornElendilAI
        CommandButtonName = Command_SpecialAbilityElendil
        SpecialPowerAIType = AI_SPECIAL_POWER_ELENDIL
        SpecialPowerRadius = 200
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornAthelas
        CommandButtonName = Command_SpecialAbilityAthelasMod
        SpecialPowerAIType = AI_SPECIAL_POWER_SELFAOEHEALHEROS
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornOathBreakers
        CommandButtonName = Command_SpawnOathbreakers
        SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
        SpecialPowerRadius = 30.0
    End


    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes
    Shadow = SHADOW_DECAL
    ShadowSizeX = 20
    ShadowSizeY = 20
    ShadowTexture = ShadowI
End


Object Alfwynn



    SelectPortrait = HPAlfwyn


    ButtonImage = HIAlfwyn

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_Aragorn

    Draw = W3DScriptedModelDraw ModuleTag_DRAW

        DefaultModelConditionState
            Model                = gualfwyn_good
            Skeleton             = CHHW_CG_U_SKL
            ModelAnimationPrefix = CHHW_CG
        End





AnimationState        = STUNNED_FLAILING
    StateName           = STATE_Sword
    Animation
        AnimationName     = #(MODEL)_U_FLYA
        AnimationMode     = LOOP
    End
    Flags               = RANDOMSTART
End


AnimationState        = DYING SPLATTED
    StateName           = STATE_Sword
    Animation
        AnimationName     = #(MODEL)_U_LNDA
        AnimationMode     = ONCE
    End
End

AnimationState        = DYING
    StateName           = STATE_Sword
    Animation
        AnimationName     = #(MODEL)_U_DIEA
        AnimationMode     = ONCE
    End
End


AnimationState        = DYING DEATH_2
    StateName           = STATE_Sword
    Animation
        AnimationName     = #(MODEL)_U_IDLA
        AnimationMode     = ONCE
    End
End




AnimationState        = STUNNED_STANDING_UP
    StateName           = STATE_Sword
    Animation
        AnimationName     = #(MODEL)_U_GTPA
        AnimationMode     = ONCE
        AnimationSpeedFactorRange = 1.5 1.5
    End
End


AnimationState        = STUNNED
    StateName           = STATE_Sword
    Animation           = GUHero_LNDA
        AnimationName     = #(MODEL)_U_LNDA
        AnimationMode     = ONCE
    End
End





        AnimationState            = MOVING
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART

            Animation
                AnimationName   = #(MODEL)_U_RUNA
                AnimationSpeedFactorRange = 0.95 0.95
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
            EndScript
        End

        AnimationState            = MOVING WEAPONSET_HERO_MODE
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART
            Animation
                AnimationName   = #(MODEL)_U_SPCF
                AnimationSpeedFactorRange = 0.95 0.95
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
            EndScript
        End


        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = #(MODEL)_U_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End

        AnimationState        = MOVING FIRING_OR_PREATTACK_A WEAPONSET_HERO_MODE
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = #(MODEL)_U_SPCF
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End





        AnimationState                = FIRING_OR_PREATTACK_A
            Animation
                AnimationName        = #(MODEL)_U_ATKA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            Animation
                AnimationName        = #(MODEL)_U_ATKB
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
        End







        AnimationState = HIT_REACTION
            Animation
                AnimationName = #(MODEL)_U_HITA
                AnimationMode = ONCE
            End
        End



        AnimationState          =    SPECIAL_WEAPON_ONE
            StateName          =    Attacking
            Animation
                AnimationName =    #(MODEL)_U_TNTA
                AnimationMode =    ONCE
            End
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = #(MODEL)_U_LVLA
                AnimationMode        = ONCE
            End
        End





        AnimationState                =    EMOTION_CELEBRATING
            Animation CHRA
                AnimationName        =    #(MODEL)_U_CHRA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    #(MODEL)_U_CHRB
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End




        AnimationState                =    EMOTION_TAUNTING
            Animation CHRA
                AnimationName        =    #(MODEL)_U_TNTA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    #(MODEL)_U_TNTB
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End





        AnimationState                = ENGAGED
            StateName                = STATE_ready
            Animation
                AnimationName        = #(MODEL)_U_IDLA
                AnimationMode        = ONCE
            End
        End



        IdleAnimationState
            StateName                = STATE_bored
            Animation = Foot_IDLB
                AnimationName       = #(MODEL)_U_IDLB
                AnimationMode       = ONCE
                AnimationPriority   = 20
            End
            Animation = Foot_IDLC
                AnimationName       = #(MODEL)_U_IBFA
                AnimationMode       = ONCE
                AnimationPriority   = 2
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if  Prev == "STATE_attention" or
                    Prev == "STATE_running" then CurDrawableSetTransitionAnimState("TRANS_attentionToBored") end
            EndScript
        End


        AnimationState                = SELECTED
            StateName                = STATE_attention
            Animation                = ATNE
                AnimationName        = #(MODEL)_U_ATNB
                AnimationMode        = LOOP
                AnimationBlendTime    = 5
                AnimationMustCompleteBlend = Yes
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_bored" then CurDrawableSetTransitionAnimState("TRANS_boredToAttention") end
            EndScript
        End


        TransitionState                = TRANS_boredToAttention
            Animation                = GUAragorn_ATND
                AnimationName        = #(MODEL)_U_ATND
                AnimationMode        = ONCE
            End
        End

        TransitionState                = TRANS_attentionToBored
            Animation                = GUAragorn_ATNC
                AnimationName        = #(MODEL)_U_ATNC
                AnimationMode        = ONCE
            End
        End

    End



    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End




    Side = Men
    EditorSorting = UNIT
    ThreatLevel = ARAGORN_THREAT_LEVEL
    ThingClass = CHARACTER_UNIT
    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO

    DisplayMeleeDamage = ARAGORN_DAMAGE

    HeroSortOrder = 20

    BuildCost = ARAGORN_MOD_BUILDCOST
    BuildTime = ARAGORN_BUILDTIME

    ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG

    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    GondorAragornSwordMod
    End

    WeaponSet
        Conditions        = WEAPONSET_HERO_MODE
        Weapon            = PRIMARY    GondorAragornHeroSwordMod
    End


    ArmorSet
        Conditions        = None
        Armor           = HeroArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_HERO_STANDARD
    ShroudClearingRange = SHROUD_CLEAR_HERO
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue = GONDOR_ARAGORN_BOUNTY_VALUE
    DisplayName = OBJECT:Alfwynn
    Hotkey        = CONTROLBAR:AlfwynnHotkey
    CrushableLevel = 2



    CommandSet = AlfwynCommandSet
    CommandPoints = 0



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_AragornBody

    AutoResolveArmor
        Armor = AutoResolve_AragornArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_AragornWeapon
    End

    AutoResolveLeadership = AutoResolve_AragornBonus




            VoiceAttack                             = HeroWestMaleVoiceAttack
            VoiceAttackAir                            = HeroWestMaleVoiceAttack
            VoiceAttackCharge                         = HeroWestMaleVoiceAttackCharge
            VoiceAttackMachine                         = HeroWestMaleVoiceAttack
            VoiceAttackStructure                     = HeroWestMaleVoiceAttackBuilding
            VoiceCreated                            = HeroWestMaleVoiceSalute
            VoiceFear                                = HeroWestMaleVoiceHelpMe
            VoiceFullyCreated                        = HeroWestMaleVoiceSalute
            VoiceGuard                                = HeroWestMaleVoiceMove
            VoiceMove                                 = HeroWestMaleVoiceMove
            VoiceMoveToCamp                         = HeroWestMaleVoiceMoveCamp
            VoiceMoveWhileAttacking                 = HeroWestMaleVoiceDisengage
            VoicePriority                            = 95
            VoiceRetreatToCastle                     = HeroWestMaleVoiceRetreat
            VoiceSelect                             = HeroWestMaleVoiceSelectMS
            VoiceSelectBattle                          = HeroWestMaleVoiceSelectBattle

            SoundImpact                                = ImpactHorse

            UnitSpecificSounds
                VoiceEnterUnitElvenTransportShip    = HeroWestMaleVoiceMoveShip
                VoiceEnterUnitMordorMumakil            = HeroWestMaleVoiceMove
                VoiceEnterUnitSlaughterHouse        = HeroWestMaleVoiceMove
                VoiceEnterUnitTransportShip            = HeroWestMaleVoiceMove
                VoiceGarrison                        = HeroWestMaleVoiceMoveGarrison
                VoiceInitiateCaptureBuilding        = HeroWestMaleVoiceCaptureBuilding
            End

    CrowdResponseKey = GoodMen


    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Man Man_Male Unit Infantry Hero

    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:FootstepDirtA                    Animation:GUAragorn_SKL.GUAragorn_RUNB    Frames:8 17 26 36
        AnimationSound = Sound:BodyFallGenericNoArmor                Animation:GUAragorn_SKL.GUAragorn_DIEA    Frames:55
        AnimationSound = Sound:BodyFallGenericNoArmor                Animation:GUAragorn_SKL.GUAragorn_DIEB    Frames:70
        AnimationSound = Sound:BodyFallSoldier                    Animation:GUAragorn_SKL.GUAragorn_LNDA    Frames:1
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE HERO ARMY_SUMMARY HEAVY_MELEE_HITTER
    PathfindDiameter = 40.0


    Body = RespawnBody ModuleTag_RespawnBody
        CheerRadius             = EMOTION_CHEER_RADIUS
        MaxHealth                 = ARAGORN_MOD_HEALTH
        PermanentlyKilledByFilter    = NONE
        DodgePercent              = HERO_DODGE_PERCENT
    End



    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End


    Behavior = SpecialPowerModule ModuleTag_CaptureBuilding
        SpecialPowerTemplate        = SpecialAbilityCaptureBuilding
        UpdateModuleStartsAttack    = Yes
        StartsPaused                = No
    End
    Behavior = SpecialAbilityUpdate ModuleTag_CaptureBuildingUpdate
        SpecialPowerTemplate        = SpecialAbilityCaptureBuilding
        StartAbilityRange            = 15.0
        UnpackTime                    = 1
        PreparationTime                = 15000
        PackTime                    = 1
        DoCaptureFX                    = Yes
    End



    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate        = 500
        AILuaEventsList                = AragornFunctions
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance                = 300
        TauntAndPointUpdateDelay            = 10000
        AddEmotion            =    Doom_Base



        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
         AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base


        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
    End

    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_GOOD_HERO_SPEED
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 2133
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL AragornVoiceDie
    End

    Behavior = SquishCollide ModuleTag_06

    End



    Behavior = AutoHealBehavior ModuleTag_ElvenGiftHealing
        StartsActive                = No
        TriggeredBy                    = Upgrade_ElvenGift
        HealingAmount                = ELVEN_GIFT_REGEN_AMOUNT
        HealingDelay                = ELVEN_GIFT_REGEN_DELAY
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = AttributeModifierUpgrade ModuleTag_ElvenGiftBonus
        TriggeredBy = Upgrade_ElvenGift
        AttributeModifier = SpellBookElvenGifts
    End


    Behavior = AutoHealBehavior ModuleTag_AragornHealing
        StartsActive = Yes
        HealingAmount = HERO_HEAL_AMOUNT
        HealingDelay = 1000
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End


    Behavior = SubObjectsUpgrade ModuleTag_HideALL
        TriggeredBy       = Upgrade_Level_1
        HideSubObjects    = BOOT00 GNLT00 SCHULTER00
    End



    Behavior = AISpecialPowerUpdate AragornBladeMasterAI
        CommandButtonName = Command_SpecialAbilityBladeMaster
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate AragornElendilAI
        CommandButtonName = Command_SpecialAbilityElendil
        SpecialPowerAIType = AI_SPECIAL_POWER_ELENDIL
        SpecialPowerRadius = 200
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornAthelas
        CommandButtonName = Command_SpecialAbilityAthelasMod
        SpecialPowerAIType = AI_SPECIAL_POWER_SELFAOEHEALHEROS
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornOathBreakers
        CommandButtonName = Command_SpawnOathbreakers
        SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
        SpecialPowerRadius = 30.0
    End


    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes
    Shadow = SHADOW_DECAL
    ShadowSizeX = 20
    ShadowSizeY = 20
    ShadowTexture = ShadowI
End


Object Alfwyn_good



    SelectPortrait = HPAlfwyn


    ButtonImage = HIAlfwyn

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_Aragorn

    Draw = W3DScriptedModelDraw ModuleTag_DRAW

        DefaultModelConditionState
            Model                = gualfwyn_good
            Skeleton             = CHHW_CG_U_SKL
            ModelAnimationPrefix = CHHW_CG
        End

        ModelConditionState = MOUNTED
            Model                = rutheodenhd_mnt
            Skeleton             = RUHHs_Theo_SKL
            WeaponLaunchBone     = PRIMARY PASSENGERBONE
        End



       AnimationState                = MOUNTED DEBUG
            Animation
                AnimationName       = RUHHs_Theo_IDLA
                AnimationMode       = ONCE
            End
            ParticleSysBone = BAT_HHEAD glowHorseGold FollowBone:Yes
            ParticleSysBone = B_HHIPL glowHorseRearGold FollowBone:Yes
            ParticleSysBone = BAT_SPINE2 glowGold FollowBone:Yes
        End





        AnimationState                =    MOUNTED FREEFALL
            Animation                =    freefall
                AnimationName        =    RUHHs_Theo_FLYC
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOUNTED STUNNED_FLAILING
            Animation                =    JustDie
                AnimationName        =    RUHHs_Theo_FLYC
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOUNTED PASSENGER
            Animation                =    grabbed
                AnimationName        =    RUHHs_Theo_GBDA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End



        AnimationState                =    MOUNTED DYING SPLATTED DEATH_1
            Animation                =    Land
                AnimationName        =    RUHHs_Theo_LNDA
                AnimationMode        =    ONCE
                AnimationBlendTime  =   2
            End
            FXEvent    = Frame:2 Name:FX_SplatDust
        End



        AnimationState                =    MOUNTED DYING DEATH_1
            Animation                =    JustDie
                AnimationName        =    RUHHs_Theo_DIEA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    MOUNTED DYING DEATH_2
            Animation                =    ByeBye
                AnimationName        =    RUHHs_Theo_IDLA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    MOUNTED STUNNED_STANDING_UP
            Animation                =    StandUp
                AnimationName        =    RUHHs_Theo_GTPA
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 3.5 3.5
            End
        End

        AnimationState                =    MOUNTED STUNNED
            Animation                =    Land
                AnimationName        =    RUHHs_Theo_LNDA
                AnimationMode        =    ONCE
            End
        End


        AnimationState                        = PARALYZED MOUNTED
            Animation
                AnimationName                = RUHHs_Theo_IDLA
                AnimationMode                = LOOP
            End
        End

        AnimationState        = MOUNTED MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = RUHHs_Theo_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End




        AnimationState                =    MOUNTED MOVING USING_SPECIAL_ABILITY
            Animation                =    RousingSpeech
                AnimationName        =    RUHHs_Theo_WLKB
                AnimationMode        =    LOOP
            End

        End

        AnimationState                =    MOUNTED TURN_LEFT_HIGH_SPEED
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_TNL1
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.2 1.2
                AnimationBlendTime    =    20
            End
        End

        AnimationState                =    MOUNTED TURN_RIGHT_HIGH_SPEED
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_TNR1
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.2 1.2
                AnimationBlendTime    =    20
            End
        End


        AnimationState                =    MOUNTED MOVING TURN_LEFT
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_TRNL
                AnimationMode        =    LOOP
            End

        End

        AnimationState                =    MOUNTED MOVING TURN_RIGHT
            Animation                =    TurnRight
                AnimationName        =    RUHHs_Theo_TRNR
                AnimationMode        =    LOOP
            End

        End

        AnimationState                =    MOUNTED MOVING ACCELERATE
            Animation                =    Accelerate
                AnimationName        =    RUHHs_Theo_ACCL
                AnimationMode        =    LOOP
            End

        End

        AnimationState                =    MOUNTED MOVING DECELERATE
            Animation                =    Decelerate
                AnimationName        =    RUHHs_Theo_DECL
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.6 0.6
            End

        End

        AnimationState                =    MOUNTED MOVING WALKING
            Animation                =    Walk
                AnimationName        =    RUHHs_Theo_WLKA
                AnimationMode        =    LOOP
            End

        End

        AnimationState                =    MOUNTED MOVING BACKING_UP
            Animation                =    BackingUp
                AnimationName        =    RUHHs_Theo_BAKA
                AnimationMode        =    LOOP
            End

        End


        AnimationState                =    MOUNTED MOVING
            Animation                =    RunA
                AnimationName        =    RUHHs_Theo_RUNA
                AnimationMode        =    LOOP
            End

        End

        AnimationState                        =    PACKING_TYPE_2 MOUNTED
            StateName                        =    SPELL
            Animation                        =    SPCC
                AnimationName                =    RUHHs_Theo_SPCA
                AnimationMode                =    ONCE
                AnimationBlendTime    =    20
            End
        End

        AnimationState                        =    PACKING_TYPE_1 MOUNTED
            StateName                        =    SPELL
            Animation                        =    SPCC
                AnimationName                =    RUHHs_Theo_IDLC
                AnimationSpeedFactorRange    =    0.842 0.842
                AnimationMode                =    ONCE
            End
        End

        AnimationState                =    MOUNTED FIRING_OR_PREATTACK_A
            Animation                =    AttackA
                AnimationName        =    RUHHs_Theo_ATKA
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
            End
            Animation                =    AttackB
                AnimationName        =    RUHHs_Theo_ATKB
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                =    MOUNTED ATTACKING
            Animation                =    AttackA
                AnimationName        =    RUHHs_Theo_ATKA
                AnimationMode        =    MANUAL
            End
        End

        AnimationState                = MOUNTED LEVELED
            StateName                = Idle
            Animation                = LevelUp
                AnimationName        = RUHHs_Theo_IDLC
                AnimationMode        = ONCE
                AnimationSpeedFactorRange    =    0.666 0.666
            End
        End

        AnimationState                =    RAISING_FLAG MOUNTED
                Animation           =    CHRA
                    AnimationName   =    RUHHs_Theo_CHRA
                    AnimationMode   =    LOOP
                End
        End

        AnimationState                =    EMOTION_TAUNTING MOUNTED
                Animation           =    CHRA
                    AnimationName   =    RUHHs_Theo_CHRA
                    AnimationMode   =    LOOP
                End
        End

        AnimationState                = MOUNTED EMOTION_CELEBRATING
            Animation                = LevelUp
                AnimationName        = RUHHs_Theo_IDLC
                AnimationMode        = LOOP
            End
        End

        AnimationState                =    MOUNTED SELECTED
            SimilarRestart            =   Yes
            StateName                =    AtAttentionIdle
            Animation                =    ATNB
                AnimationName        =    RUHHs_Theo_IDLH
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
                if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
            EndScript
        End

        TransitionState                =    TRANS_MountedSelect
            Animation                =    ATNA
                AnimationName        =    RUHHs_Theo_ATNA
                AnimationMode        =    ONCE
            End
        End

        AnimationState            = MOUNTED
            StateName = Idle
            Animation    =    IdleA
                AnimationName        =    RUHHs_Theo_IDLA
                AnimationPriority    =    20
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Animation                =    IdleB
                AnimationName        =    RUHHs_Theo_IDLB
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Animation                =    IdleC
                AnimationName        =    RUHHs_Theo_IDLC
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End





AnimationState        = STUNNED_FLAILING
    StateName           = STATE_Sword
    Animation
        AnimationName     = #(MODEL)_U_FLYA
        AnimationMode     = LOOP
    End
    Flags               = RANDOMSTART
End


AnimationState        = DYING SPLATTED
    StateName           = STATE_Sword
    Animation
        AnimationName     = #(MODEL)_U_LNDA
        AnimationMode     = ONCE
    End
End

AnimationState        = DYING
    StateName           = STATE_Sword
    Animation
        AnimationName     = #(MODEL)_U_DIEA
        AnimationMode     = ONCE
    End
End


AnimationState        = DYING DEATH_2
    StateName           = STATE_Sword
    Animation
        AnimationName     = #(MODEL)_U_IDLA
        AnimationMode     = ONCE
    End
End




AnimationState        = STUNNED_STANDING_UP
    StateName           = STATE_Sword
    Animation
        AnimationName     = #(MODEL)_U_GTPA
        AnimationMode     = ONCE
        AnimationSpeedFactorRange = 1.5 1.5
    End
End


AnimationState        = STUNNED
    StateName           = STATE_Sword
    Animation           = GUHero_LNDA
        AnimationName     = #(MODEL)_U_LNDA
        AnimationMode     = ONCE
    End
End





        AnimationState            = MOVING
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART

            Animation
                AnimationName   = #(MODEL)_U_RUNA
                AnimationSpeedFactorRange = 0.95 0.95
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
            EndScript
        End

        AnimationState            = MOVING WEAPONSET_HERO_MODE
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART
            Animation
                AnimationName   = #(MODEL)_U_SPCF
                AnimationSpeedFactorRange = 0.95 0.95
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
            EndScript
        End


        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = #(MODEL)_U_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End

        AnimationState        = MOVING FIRING_OR_PREATTACK_A WEAPONSET_HERO_MODE
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = #(MODEL)_U_SPCF
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End





        AnimationState                = FIRING_OR_PREATTACK_A
            Animation
                AnimationName        = #(MODEL)_U_ATKA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            Animation
                AnimationName        = #(MODEL)_U_ATKB
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
        End







        AnimationState = HIT_REACTION
            Animation
                AnimationName = #(MODEL)_U_HITA
                AnimationMode = ONCE
            End
        End



        AnimationState          =    SPECIAL_WEAPON_ONE
            StateName          =    Attacking
            Animation
                AnimationName =    #(MODEL)_U_TNTA
                AnimationMode =    ONCE
            End
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = #(MODEL)_U_LVLA
                AnimationMode        = ONCE
            End
        End





        AnimationState                =    EMOTION_CELEBRATING
            Animation CHRA
                AnimationName        =    #(MODEL)_U_CHRA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    #(MODEL)_U_CHRB
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End




        AnimationState                =    EMOTION_TAUNTING
            Animation CHRA
                AnimationName        =    #(MODEL)_U_TNTA
                AnimationMode        =    ONCE
            End
            Animation CHRB
                AnimationName        =    #(MODEL)_U_TNTB
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End





        AnimationState                = ENGAGED
            StateName                = STATE_ready
            Animation
                AnimationName        = #(MODEL)_U_IDLA
                AnimationMode        = ONCE
            End
        End



        IdleAnimationState
            StateName                = STATE_bored
            Animation = Foot_IDLB
                AnimationName       = #(MODEL)_U_IDLB
                AnimationMode       = ONCE
                AnimationPriority   = 20
            End
            Animation = Foot_IDLC
                AnimationName       = #(MODEL)_U_IBFA
                AnimationMode       = ONCE
                AnimationPriority   = 2
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if  Prev == "STATE_attention" or
                    Prev == "STATE_running" then CurDrawableSetTransitionAnimState("TRANS_attentionToBored") end
            EndScript
        End


        AnimationState                = SELECTED
            StateName                = STATE_attention
            Animation                = ATNE
                AnimationName        = #(MODEL)_U_ATNB
                AnimationMode        = LOOP
                AnimationBlendTime    = 5
                AnimationMustCompleteBlend = Yes
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_bored" then CurDrawableSetTransitionAnimState("TRANS_boredToAttention") end
            EndScript
        End


        TransitionState                = TRANS_boredToAttention
            Animation                = GUAragorn_ATND
                AnimationName        = #(MODEL)_U_ATND
                AnimationMode        = ONCE
            End
        End

        TransitionState                = TRANS_attentionToBored
            Animation                = GUAragorn_ATNC
                AnimationName        = #(MODEL)_U_ATNC
                AnimationMode        = ONCE
            End
        End

    End



    Draw = W3DScriptedModelDraw DustEffects
        DefaultModelConditionState
          Model = None
        End
        IdleAnimationState
        End
        AnimationState = MOUNTED MOVING WADING
            ParticleSysBone = None FootstepSlash
        End
        AnimationState = MOUNTED MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOUNTED MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOUNTED MOVING
        End
    End


    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End




    Side = Men
    EditorSorting = UNIT
    ThreatLevel = ARAGORN_THREAT_LEVEL
    ThingClass = CHARACTER_UNIT
    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO

    DisplayMeleeDamage = ARAGORN_DAMAGE

    HeroSortOrder = 20

    BuildCost = ARAGORN_MOD_BUILDCOST
    BuildTime = ARAGORN_BUILDTIME

    ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG

    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    FaramirSword
    End

    WeaponSet
        Conditions        = WEAPONSET_HERO_MODE
        Weapon            = PRIMARY    FaramirSword
    End


    ArmorSet
        Conditions        = None
        Armor             = EdainWarriorHeroArmor
        DamageFX          = NormalDamageFX
    End

    ArmorSet
        Conditions        = MOUNTED
        Armor             = EdainWarriorHeroArmorMounted
        DamageFX          = NormalDamageFX
    End

    ArmorSet
        Conditions        = PLAYER_UPGRADE
        Armor             = EdainWarriorHeroArmorMountedUpgrade
        DamageFX          = NormalDamageFX
    End

    ArmorSet
        Conditions        = PLAYER_UPGRADE_2
        Armor             = EdainWarriorHeroArmorMountedUpgrade_Rohan
        DamageFX          = NormalDamageFX
    End

    ArmorSet
        Conditions        = PLAYER_UPGRADE PLAYER_UPGRADE_2
        Armor             = EdainWarriorHeroArmorMountedUpgrade_Rohan
        DamageFX          = NormalDamageFX
    End



    VisionRange = VISION_HERO_STANDARD
    ShroudClearingRange = SHROUD_CLEAR_HERO
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue = GONDOR_ARAGORN_BOUNTY_VALUE
    DisplayName = OBJECT:Alfwynn
    Hotkey        = CONTROLBAR:AlfwynnHotkey
    CrusherLevel = 0
    MountedCrusherLevel = 1
    CrushableLevel = 2
    MountedCrushableLevel = 2

    CrushWeapon        = HeroCrush

    MinCrushVelocityPercent = MINCRUSHVELOCITYPERCENT_STANDARD
    CrushDecelerationPercent = CRUSHDECELERATIONPERCENT_STANDARD

    CrushKnockback = 40
    CrushZFactor = 1.0



    CommandSet = AlfwynGoodCommandSet
    CommandPoints = 0



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_AragornBody

    AutoResolveArmor
        Armor = AutoResolve_AragornArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_AragornWeapon
    End

    AutoResolveLeadership = AutoResolve_AragornBonus




            VoiceAttack                             = HeroWestMaleVoiceAttack
            VoiceAttackAir                            = HeroWestMaleVoiceAttack
            VoiceAttackCharge                         = HeroWestMaleVoiceAttackCharge
            VoiceAttackMachine                         = HeroWestMaleVoiceAttack
            VoiceAttackStructure                     = HeroWestMaleVoiceAttackBuilding
            VoiceCreated                            = HeroWestMaleVoiceSalute
            VoiceFear                                = HeroWestMaleVoiceHelpMe
            VoiceFullyCreated                        = HeroWestMaleVoiceSalute
            VoiceGuard                                = HeroWestMaleVoiceMove
            VoiceMove                                 = HeroWestMaleVoiceMove
            VoiceMoveToCamp                         = HeroWestMaleVoiceMoveCamp
            VoiceMoveWhileAttacking                 = HeroWestMaleVoiceDisengage
            VoicePriority                            = 95
            VoiceRetreatToCastle                     = HeroWestMaleVoiceRetreat
            VoiceSelect                             = HeroWestMaleVoiceSelectMS
            VoiceSelectBattle                          = HeroWestMaleVoiceSelectBattle

            SoundImpact                                = ImpactHorse

            UnitSpecificSounds
                VoiceEnterUnitElvenTransportShip    = HeroWestMaleVoiceMoveShip
                VoiceEnterUnitMordorMumakil            = HeroWestMaleVoiceMove
                VoiceEnterUnitSlaughterHouse        = HeroWestMaleVoiceMove
                VoiceEnterUnitTransportShip            = HeroWestMaleVoiceMove
                VoiceGarrison                        = HeroWestMaleVoiceMoveGarrison
                VoiceInitiateCaptureBuilding        = HeroWestMaleVoiceCaptureBuilding
            End

    CrowdResponseKey = GoodMen


    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Man Man_Male Unit Infantry Hero

    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:FootstepDirtA        Animation:CHHW_CG_U_SKL.CHHW_CG_U_RUNA    Frames:5 16
        AnimationSound = Sound:FootstepDirtA        Animation:CHHW_CG_U_SKL.CHHW_CG_U_RUNB    Frames:4 12 20 27

        AnimationSound = Sound:TauntHumanHitShield    Animation:CHHW_CG_U_SKL.CHHW_CG_U_CHRB    Frames:21 31

        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:CHHW_CG_U_SKL.CHHW_CG_U_DIEA    Frames:47
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:CHHW_CG_U_SKL.CHHW_CG_U_DIEB    Frames:19
        AnimationSound = Sound:BodyFallSoldier        Animation:CHHW_CG_U_SKL.CHHW_CG_U_LNDA    Frames:1

        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_ACCL    Frames:14 32
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_RUNA    Frames:0
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNL1    Frames:0
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNR1    Frames:0

        AnimationSound = Sound:HorseWhinny            Animation:RUHHs_Theo_SKL.RUHHs_Theo_IDLC    Frames:3

        AnimationSound = Sound:HorseDieForHero        Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA    Frames:0
        AnimationSound = Sound:BodyFallSoldier        Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA    Frames:1 9

        AnimationSound = Sound:HorseDieForHero        Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA    Frames:0
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA    Frames:4
        AnimationSound = Sound:BodyFallSoldier        Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA    Frames:42
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE HERO ARMY_SUMMARY HEAVY_MELEE_HITTER
    PathfindDiameter = 40.0


    Body = RespawnBody ModuleTag_RespawnBody
        CheerRadius             = EMOTION_CHEER_RADIUS
        MaxHealth                 = 1500
        PermanentlyKilledByFilter    = NONE
        DodgePercent              = HERO_DODGE_PERCENT
    End



    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End


    Behavior = SpecialPowerModule ModuleTag_CaptureBuilding
        SpecialPowerTemplate        = SpecialAbilityCaptureBuilding
        UpdateModuleStartsAttack    = Yes
        StartsPaused                = No
    End
    Behavior = SpecialAbilityUpdate ModuleTag_CaptureBuildingUpdate
        SpecialPowerTemplate        = SpecialAbilityCaptureBuilding
        StartAbilityRange            = 15.0
        UnpackTime                    = 1
        PreparationTime                = 15000
        PackTime                    = 1
        DoCaptureFX                    = Yes
    End



    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate        = 500
        AILuaEventsList                = AragornFunctions
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance                = 300
        TauntAndPointUpdateDelay            = 10000
        AddEmotion            =    Doom_Base



        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
         AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base


        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
    End

    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_GOOD_HERO_SPEED
    End

    LocomotorSet
        Locomotor = HeroHorseLocomotor
        Condition = SET_MOUNTED
        Speed     = NORMAL_MOUNTED_HERO_SPEED
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 2133
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL AragornVoiceDie
    End

    Behavior = SquishCollide ModuleTag_06

    End



    Behavior = AutoHealBehavior ModuleTag_ElvenGiftHealing
        StartsActive                = No
        TriggeredBy                    = Upgrade_ElvenGift
        HealingAmount                = ELVEN_GIFT_REGEN_AMOUNT
        HealingDelay                = ELVEN_GIFT_REGEN_DELAY
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = AttributeModifierUpgrade ModuleTag_ElvenGiftBonus
        TriggeredBy = Upgrade_ElvenGift
        AttributeModifier = SpellBookElvenGifts
    End


    Behavior = AutoHealBehavior ModuleTag_AragornHealing
        StartsActive = Yes
        HealingAmount = HERO_HEAL_AMOUNT
        HealingDelay = 1000
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_AragornBladeMasterStarter
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        StartsPaused            = No
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_AragornBladeMasterUpdate
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        HeroAttributeModifier   = AragornBladeMaster
        HeroEffectDuration      = 30000
        UnpackTime              = 1
        TriggerSound            = AragornBladeMaster
    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 100
        HitReactionLifeTimer2 = 1000
        HitReactionLifeTimer3 = 1993

        HitReactionThreshold1 = 0.0
        HitReactionThreshold2 = 25.0
        HitReactionThreshold3 = 50.0
    End







      Behavior = SpecialPowerModule ModuleTag_AragornAthelas
        SpecialPowerTemplate    = SpecialAbilityAragornAthelas
        UpdateModuleStartsAttack  = Yes
        TriggerFX                = FX_AragornAthelas
        SetModelCondition        = ModelConditionState:USER_2
        SetModelConditionTime    = 2.1
    End

    Behavior = SpecialAbilityUpdate ModuleTag_AragornAthelasUpdate
        SpecialPowerTemplate    = SpecialAbilityAragornAthelas
        StartAbilityRange       = 1.6
        UnpackTime              = 1
        PreparationTime         = 3
        PackTime                = 2096
        AwardXPForTriggering    = 0
    End

    Behavior = AutoAbilityBehavior ModuleTag_AthelasAutoAbility
        SpecialAbility    = SpecialAbilityAragornAthelas
        MaxScanRange    = 150
        Query            = 1 NONE +HERO ALLIES
    End


    Behavior = AutoHealBehavior ModuleTag_AthelasHealing
        StartsActive                = Yes
        ButtonTriggered                = Yes
        HealingAmount                = ATHELAS_HEAL_AMOUNT
        Radius                    = 200
        HealOnlyOthers                = No
        SingleBurst                = Yes
        UnitHealPulseFX                = FX_AragornAthelas
        KindOf                    = HERO
    End







    Behavior = SpecialPowerModule ModuleTag_TheodenGloriousChargeUpdate
        SpecialPowerTemplate      = SpecialAbilityTheodenGloriousCharge
        UpdateModuleStartsAttack  = Yes
        StartsPaused = No
        AttributeModifier = TheodenGloriousCharge
        AttributeModifierRange = 200
        AttributeModifierAffectsSelf = Yes
        AttributeModifierAffects = ANY +INFANTRY +CAVALRY +HERO
        AttributeModifierFX = FX_TheodenGloriousChargeFX
    End

    Behavior = SpecialAbilityUpdate ModuleTag_GloriousChargeAnimation
        UnpackTime              = 1000
        UnpackingVariation        = 1
        SpecialPowerTemplate    = SpecialAbilityTheodenGloriousCharge
        PreparationTime         = 0
        PersistentPrepTime      = 0
        PackTime                = 1330
     End







    Behavior = SpecialPowerModule ModuleTag_HorseToggleStarter
         SpecialPowerTemplate      = SpecialAbilityToggleMounted
         UpdateModuleStartsAttack  = Yes

         StartsPaused = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle
         SpecialPowerTemplate    = SpecialAbilityToggleMounted
         UnpackTime              = GOOD_MOUNT_TIME
         PreparationTime         = 1
         PersistentPrepTime      = 250
         PackTime                = GOOD_MOUNT_TIME
         OpacityTarget            = .3
         AwardXPForTriggering    = 0
    End








    Behavior = AISpecialPowerUpdate AragornBladeMasterAI
        CommandButtonName = Command_SpecialAbilityBladeMaster
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate AragornElendilAI
        CommandButtonName = Command_SpecialAbilityElendil
        SpecialPowerAIType = AI_SPECIAL_POWER_ELENDIL
        SpecialPowerRadius = 200
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornAthelas
        CommandButtonName = Command_SpecialAbilityAthelasMod
        SpecialPowerAIType = AI_SPECIAL_POWER_SELFAOEHEALHEROS
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornOathBreakers
        CommandButtonName = Command_SpawnOathbreakers
        SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
        SpecialPowerRadius = 30.0
    End


    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes
    Shadow = SHADOW_DECAL
    ShadowSizeX = 20
    ShadowSizeY = 20
    ShadowTexture = ShadowI
End




Object Alfwyn_bad



    SelectPortrait = HPAlfwyn


    ButtonImage = HIAlfwyn

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_Aragorn

    Draw = W3DScriptedModelDraw ModuleTag_DRAW


        DefaultModelConditionState
            Model               = gualfwyn_bad
            WeaponLaunchBone    = PRIMARY arrow
        End

        ModelConditionState     = MOUNTED
            Model               = gufrmhrsha_skn
            WeaponLaunchBone    = PRIMARY PASSENGERBONE
        End





        AnimationState                        =    PACKING_TYPE_2 MOUNTED
            StateName                        =    SPELL
            Animation                        =    SPCC
                AnimationName                =    RUHHs_Theo_SKL.RUHHs_Theo_SPCA
                AnimationMode                =    ONCE
                AnimationBlendTime    =    20
            End
        End

        AnimationState                        =    PACKING_TYPE_1 MOUNTED
            StateName                        =    SPELL
            Animation                        =    SPCC
                AnimationName                =    RUHHs_Theo_SKL.RUHHs_Theo_IDLC
                AnimationSpeedFactorRange    =    0.842 0.842
                AnimationMode                =    ONCE
            End
        End


        AnimationState        = PACKING_TYPE_2 WEAPONSET_TOGGLE_1
            StateName          =    CaptainPower
            Animation           = GUFaramir_CHRC
                AnimationName     = GUFaramir_SKL.GUFaramir_CHRC
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.2 1.2
            End
        End


        AnimationState        = PACKING_TYPE_2
            StateName          =    STATE_CaptainBow
            Animation           = GUFaramir_CHRD
                AnimationName     = GUFaramir_SKL.GUFaramir_CHRD
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.75 0.75
            End
        End





        AnimationState                =    MOUNTED FREEFALL
            Animation                =    freefall
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_FLYC
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOUNTED STUNNED_FLAILING
            Animation                =    JustDie
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_FLYC
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOUNTED DYING SPLATTED
            Animation                =    Land
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_LNDA
                AnimationMode        =    ONCE
            End
        End


        AnimationState                =    MOUNTED DYING
            Animation                =    JustDie
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_DIEA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    MOUNTED STUNNED_STANDING_UP
            Animation                =    StandUp
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_GTPA
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState                =    MOUNTED STUNNED
            Animation                =    Land
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_LNDA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                        = PARALYZED MOUNTED
            Animation
                AnimationName                = RUHHs_Theo_SKL.RUHHs_Theo_IDLA
                AnimationMode                = LOOP
            End
        End

        AnimationState                =    MOUNTED PASSENGER
            Animation                =    grabbed
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_GBDA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End



        AnimationState        =  MOUNTED FIRING_OR_PREATTACK_A ATTACKING_STRUCTURE
            StateName = Attacking
            Animation = attackinga  building while mounted.
                AnimationName           = RUHHs_Theo_SKL.RUHHs_Theo_ATKA
                AnimationMode       = ONCE
                UseWeaponTiming = Yes
            End
        End


        AnimationState        = MOUNTED MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = MountedRunAndFire
                AnimationName       = RUHHs_Theo_SKL.RUHHs_Theo_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End

        AnimationState                =    MOUNTED FIRING_OR_PREATTACK_A
            Animation                =    AttackA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ATKA
                AnimationMode        =    ONCE
                UseWeaponTiming        = Yes
            End
            Animation                =    AttackB
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ATKB
                AnimationMode        =    ONCE
                UseWeaponTiming        = Yes
            End
        End


        AnimationState                =    MOUNTED TURN_LEFT_HIGH_SPEED
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TNL1
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.2 1.2
                AnimationBlendTime    =    20
            End
        End

        AnimationState                =    MOUNTED TURN_RIGHT_HIGH_SPEED
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TNR1
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.2 1.2
                AnimationBlendTime    =    20
            End
        End

        AnimationState                =    MOUNTED MOVING TURN_LEFT
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TRNL
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.5 1.5
            End

        End

        AnimationState                =    MOUNTED MOVING TURN_RIGHT
            Animation                =    TurnRight
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_TRNR
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange= 1.5 1.5
            End

        End

        AnimationState                =    MOUNTED MOVING ACCELERATE
            Animation                =    Accelerate
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ACCL
                AnimationMode        =    LOOP
            End

        End

        AnimationState                =    MOUNTED MOVING DECELERATE
            Animation                =    Decelerate
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_DECL
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange    = 0.55 0.55
            End

        End

        AnimationState                =    MOUNTED MOVING WALKING
            Animation                =    Walk
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_WLKA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART

        End

        AnimationState                =    MOUNTED MOVING BACKING_UP
            Animation                =    BackingUp
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_BAKA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART

        End


        AnimationState                =    MOUNTED MOVING
            Animation                =    RunA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_RUNA
                AnimationMode        =    LOOP
            End
             Flags                    =    RANDOMSTART

        End


        AnimationState                =    MOUNTED SELECTED
            SimilarRestart            =   Yes
            StateName                =    AtAttentionIdle
            Animation                =    ATNB
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_IDLH
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
                if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
                if Prev == "STATE_CaptainMounted" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
            EndScript
        End

        TransitionState                =    TRANS_MountedSelect
            Animation                =    ATNA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_ATNA
                AnimationMode        =    ONCE
            End
        End









        AnimationState                =    MOUNTED MOVING USING_SPECIAL_ABILITY
            Animation                =    RousingSpeech
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_WLKB
                AnimationMode        =    LOOP
            End
        End


        AnimationState = MOUNTED
            StateName = Idle
            Animation    =    IdleA
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_IDLA
                AnimationPriority    =    30
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Animation                =    IdleC
                AnimationName        =    RUHHs_Theo_SKL.RUHHs_Theo_IDLC
                AnimationMode        =    ONCE
                AnimationBlendTime    =    15
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End




        AnimationState        = STUNNED_FLAILING WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword
            Animation           = GUFaramir_FLYB
                AnimationName     = GUFaramir_SKL.GUFaramir_FLYB
                AnimationMode     = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            Flags               = RANDOMSTART
        End

        AnimationState        = STUNNED_FLAILING
            StateName           = STATE_Bow
            Animation           = GUFaramir_FLYA
                AnimationName     = GUFaramir_SKL.GUFaramir_FLYA
                AnimationMode     = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            Flags               = RANDOMSTART
        End


        AnimationState        = DYING SPLATTED WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword
            Animation           = GUFaramir_LNDB
                AnimationName     = GUFaramir_SKL.GUFaramir_LNDB
                AnimationMode     = ONCE
            End
        End

        AnimationState        = DYING SPLATTED
            StateName           = STATE_Bow
            Animation           = GUFaramir_LNDA
                AnimationName     = GUFaramir_SKL.GUFaramir_LNDA
                AnimationMode     = ONCE
            End
        End


        AnimationState        = DYING WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword

            Animation           = GUFaramir_DIEA
                AnimationName     = GUFaramir_SKL.GUFaramir_DIEA
                AnimationMode     = ONCE
            End

            Animation           = GUFaramir_DIEB
                AnimationName     = GUFaramir_SKL.GUFaramir_DIEB
                AnimationMode     = ONCE
            End
        End


        AnimationState        = DYING
            StateName           = STATE_Bow
            Animation           = GUFaramir_DIEC
                AnimationName     = GUFaramir_SKL.GUFaramir_DIEC
                AnimationMode     = ONCE
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = GUFaramir_IDLC
                AnimationMode                = LOOP
            End
        End





        AnimationState        = STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword
            Animation           = GUFaramir_GTPB
                AnimationName     = GUFaramir_SKL.GUFaramir_GTPB
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState        = STUNNED_STANDING_UP
            StateName           = STATE_Bow
            Animation           = GUFaramir_GTPA
                AnimationName     = GUFaramir_SKL.GUFaramir_GTPA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState        = STUNNED WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword

            Animation           = GUFaramir_LNDB
                AnimationName     = GUFaramir_SKL.GUFaramir_LNDB
                AnimationMode     = ONCE
            End
        End

        AnimationState        = STUNNED
            StateName           = STATE_Bow

            Animation           = GUFaramir_LNDA
                AnimationName     = GUFaramir_SKL.GUFaramir_LNDA
                AnimationMode     = ONCE
            End
        End


        AnimationState        = USER_1



            Animation           = GUFaramir_POSA
                AnimationName     = GUFaramir_SKL.GUFaramir_POSA
                AnimationMode     = ONCE
            End
        End


        AnimationState        =  SPECIAL_WEAPON_ONE
            StateName = STATE_Bow
            Animation
                AnimationName           = GUFaramir_SKL.GUFaramir_ATKC
                AnimationMode       = ONCE
            End
            FrameForPristineBonePositions = 59
            BeginScript
                CurDrawableShowSubObject("arrow")
            EndScript
        End






        AnimationState        = MOVING WEAPONSET_TOGGLE_1 FIRING_OR_PREATTACK_A
            Animation           = TrotAndFire
                AnimationName       = GUFaramir_SKL.GUFaramir_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
            StateName = RunAndSwing
        End

        AnimationState        = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword

            Animation           = ATKD
                AnimationName     = GUFaramir_SKL.GUFaramir_ATKD
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
                AnimationSpeedFactorRange = 1.149 1.149
            End

            Animation           = ATKE
                AnimationName    = GUFaramir_SKL.GUFaramir_ATKE
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
                AnimationSpeedFactorRange = 1.149 1.149
            End

            Animation           = ATKF
                AnimationName    = GUFaramir_SKL.GUFaramir_ATKF
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.47 1.47
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
            EndScript
        End



        AnimationState        = MOVING USER_4
            StateName           = Slaughter
            Flags               = RANDOMSTART

            Animation           = GUFaramir_ATKE
                AnimationName     = GUFaramir_SKL.GUFaramir_ATKE
                AnimationMode     = LOOP
            End
            StateName           = NoSword
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
            EndScript
        End


        AnimationState            = MOVING WEAPONSET_TOGGLE_1
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART


            Animation           = GUFaramir_RUNB
                AnimationName   = GUFaramir_SKL.GUFaramir_RUNB

                AnimationSpeedFactorRange = 0.85 0.85
                Distance        = 28
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_RunningBow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Running") end
            EndScript
        End



        AnimationState        = ATTACKING WEAPONSET_TOGGLE_1
            StateName           = STATE_Sword
            Animation           = ATKD
                AnimationName     = GUFaramir_SKL.GUFaramir_IDLA
                AnimationMode     = MANUAL
            End
        End



        AnimationState            = MOVING
            StateName           = STATE_RunningBow
            Flags               = RANDOMSTART


            Animation           = GUFaramir_RUNA
                AnimationName   = GUFaramir_SKL.GUFaramir_RUNA

                AnimationSpeedFactorRange = 0.85 0.85
                Distance = 28
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
                if Prev == "STATE_RunningSword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Running") end
            EndScript
        End



        AnimationState                    =    PREATTACK_A
            StateName                    =    STATE_Firing
            Animation                    =    ReadyToDrawn
                AnimationName            =    GUFaramir_SKL.GUFaramir_ATKA1
                AnimationMode            =    ONCE


            End
        End

        AnimationState                    =    FIRING_OR_RELOADING_A
            StateName                    =    STATE_Firing
            Animation                    =    LooseReloadDraw
                AnimationName            =    GUFaramir_SKL.GUFaramir_ATKA2
                AnimationMode            =    ONCE

                AnimationSpeedFactorRange = 1.1 1.1

            End
        End


        AnimationState                    =    CONTINUOUS_FIRE_MEAN
            Animation                    =    HangFrameWhileCoasting
                AnimationName            =    GUFaramir_SKL.GUFaramir_ATKA2
                AnimationMode            =    MANUAL
            End
        End

        AnimationState                        = CONTINUOUS_FIRE_SLOW

            Animation                        = PutAwayArrow
                AnimationName                = GUFaramir_SKL.GUFaramir_ATKA3
                AnimationMode                = ONCE
            End
        End









        AnimationState = EMOTION_ALERT HIT_REACTION WEAPONSET_TOGGLE_1
            Animation = Hit_Level_1_d
                AnimationName = GUFaramir_SKL.GUFaramir_HITD
                AnimationMode = ONCE
            End
        End


        AnimationState = HIT_REACTION WEAPONSET_TOGGLE_1
            Animation = Hit_Level_1_b
                AnimationName = GUFaramir_SKL.GUFaramir_HITB
                AnimationMode = ONCE
            End
        End

        AnimationState = HIT_REACTION
            Animation = Hit_Level_1_c
                AnimationName = GUFaramir_SKL.GUFaramir_HITC
                AnimationMode = ONCE
            End
        End





        AnimationState                = LEVELED WEAPONSET_TOGGLE_1
            Animation                = LevelUp
                AnimationName        = GUFaramir_SKL.GUFaramir_CHRC
                AnimationMode        = ONCE
            End
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = GUFaramir_SKL.GUFaramir_CHRD
                AnimationMode        = ONCE
            End
        End



        AnimationState                =    EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_CHRC
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    EMOTION_CELEBRATING
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_CHRD
                AnimationMode        =    LOOP
            End
        End



        AnimationState                =    EMOTION_TAUNTING WEAPONSET_TOGGLE_1
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_TNTC
                AnimationMode        =    ONCE
            End
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_TNTD
                AnimationMode        =    ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                =    EMOTION_TAUNTING
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_CHRD
                AnimationMode        =    LOOP
            End
        End




        AnimationState                    = SELECTED WEAPONSET_TOGGLE_1
            StateName                    = STATE_Selected_Sword

            Animation                    = ATNE
                AnimationName            = GUFaramir_SKL.GUFaramir_ATNE
                AnimationMode            = LOOP
                AnimationBlendTime        = 15
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedSword") return end
            EndScript
        End


        AnimationState                =    EMOTION_ALERT WEAPONSET_TOGGLE_1
            StateName                =    STATE_READY
            Animation                =    ready
                AnimationName        =    GUFaramir_SKL.GUFaramir_IDLA
                AnimationMode        =    LOOP
                AnimationBlendTime    =    20
            End
        End

        AnimationState                =    RAISING_FLAG
            Animation
                AnimationName        =    GUFaramir_SKL.GUFaramir_CHRD
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    SELECTED
            StateName                =    STATE_Selected_Bow

            Animation                =    ATNB
                AnimationName        =    GUFaramir_SKL.GUFaramir_ATNB
                AnimationMode        =    LOOP
                AnimationBlendTime  = 15
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
                if Prev == "STATE_Idle_Bow"    then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedBow") return end
                if Prev == "STATE_CaptainBow" then CurDrawableSetTransitionAnimState("TRANS_CaptainBowToSelectedBow") end
            EndScript
        End





        AnimationState                    = WEAPONSET_TOGGLE_1
            StateName                    = STATE_Idle_Sword

            Animation                   = IDLE
                AnimationName           = GUFaramir_SKL.GUFaramir_IDLE
                AnimationMode           = LOOP
                AnimationPriority        = 20
                AnimationBlendTime  = 15
            End

            Animation                   = IDLF
                AnimationName           = GUFaramir_SKL.GUFaramir_IDLF
                AnimationMode           = LOOP
                AnimationPriority        = 1
            End

            Animation                   = IDLG
                AnimationName           = GUFaramir_SKL.GUFaramir_IDLG
                AnimationMode           = LOOP
                AnimationPriority        = 1
            End

            BeginScript
                CurDrawableHideSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
                if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredSword") end
            EndScript
        End

        IdleAnimationState
            StateName           = STATE_Idle_Bow

            Animation           = IdleBow
                AnimationName     = GUFaramir_SKL.GUFaramir_IDLC
                AnimationMode     = ONCE
                AnimationBlendTime  = 15
            End
            BeginScript
                CurDrawableShowSubObject("arrow")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
                if Prev == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredBow") end
            EndScript
        End



        TransitionState = TRANS_BoredToSelectedSword
            Animation = ANTD
                AnimationName        = GUFaramir_SKL.GUFaramir_ANTD
                AnimationMode        = ONCE
            End
        End

        TransitionState = TRANS_SelectedToBoredSword
            Animation            = ATNF
                AnimationName    = GUFaramir_SKL.GUFaramir_ATNF
                AnimationMode    = ONCE
            End
        End

        TransitionState = TRANS_BoredToSelectedBow
            Animation = ATNC
                AnimationName        = GUFaramir_SKL.GUFaramir_ATNC
                AnimationMode        = ONCE
            End
        End

        TransitionState = TRANS_CaptainBowToSelectedBow
            Animation = ATNC
                AnimationName        = GUFaramir_SKL.GUFaramir_ATNC
                AnimationMode        = ONCE
                AnimationBlendTime    = 10
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        TransitionState = TRANS_SelectedToBoredBow
            Animation            = ATNA

                AnimationName    = GUFaramir_SKL.GUFaramir_ATND
                AnimationMode    = ONCE
            End
        End


        TransitionState       = TRANS_BowToSword
            Animation           = GUFaramir_STHA
                AnimationName     = GUFaramir_SKL.GUFaramir_STHA
                AnimationMode     = ONCE
            End
        End

        TransitionState       = TRANS_SwordToBow
            Animation           = GUFaramir_STHB
                AnimationName     = GUFaramir_SKL.GUFaramir_STHB
                AnimationMode     = ONCE
            End
        End

        TransitionState               = TRANS_BowToSword_Running
            Animation               = DrawSwords
                AnimationName       = GUFaramir_SKL.GUFaramir_STHD
                AnimationMode       = ONCE
            End
        End

        TransitionState               = TRANS_SwordToBow_Running
            Animation               = DrawBow
                AnimationName       = GUFaramir_SKL.GUFaramir_STHC
                AnimationMode       = ONCE
            End
        End

    End

    Draw = W3DScriptedModelDraw DustEffects
        DefaultModelConditionState
          Model = None
        End
        IdleAnimationState
        End
        AnimationState = MOUNTED MOVING WADING
            ParticleSysBone = None FootstepSlash
        End
        AnimationState = MOUNTED MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOUNTED MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOUNTED MOVING
        End
    End


    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End




    Side = Men
    EditorSorting = UNIT
    ThreatLevel = ARAGORN_THREAT_LEVEL
    ThingClass = CHARACTER_UNIT
    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO

    DisplayMeleeDamage = ARAGORN_DAMAGE

    HeroSortOrder = 20

    BuildCost = ARAGORN_MOD_BUILDCOST
    BuildTime = ARAGORN_BUILDTIME

    ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG

    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    FaramirBow
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions        = WEAPONSET_CREATE_A_HERO_WS_06
        Weapon            = PRIMARY    GamlingBow
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions        = WEAPONSET_CREATE_A_HERO_WS_07
        Weapon            = PRIMARY    GamlingFlammenschu
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions        = WEAPONSET_CREATE_A_HERO_WS_08
        Weapon            = PRIMARY    RohanRoyalGuardBow
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions        = WEAPONSET_CREATE_A_HERO_WS_09
        Weapon            = PRIMARY    EliteArcherBow
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End


    WeaponSet
        Conditions        = WEAPONSET_TOGGLE_1
        Weapon            = PRIMARY    FaramirSword
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions        = WEAPONSET_TOGGLE_1 WEAPONSET_CREATE_A_HERO_WS_01
        Weapon            = PRIMARY    ArnorArveduiSword
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions        = WEAPONSET_TOGGLE_1 WEAPONSET_CREATE_A_HERO_WS_02
        Weapon            = PRIMARY    GondorAragornSwordMod
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions        = WEAPONSET_TOGGLE_1 WEAPONSET_CREATE_A_HERO_WS_03
        Weapon            = PRIMARY    GondorKDTSwordSummoned
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions        = WEAPONSET_TOGGLE_1 WEAPONSET_CREATE_A_HERO_WS_04
        Weapon            = PRIMARY    GondorAragornSwordModStreicher
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions        = WEAPONSET_TOGGLE_1 WEAPONSET_CREATE_A_HERO_WS_05
        Weapon            = PRIMARY    GondorAragornHeroSwordMod
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End


    ArmorSet
        Conditions        = None
        Armor             = EdainWarriorHeroArmor
        DamageFX          = NormalDamageFX
    End

    ArmorSet
        Conditions        = MOUNTED
        Armor             = EdainWarriorHeroArmorMounted
        DamageFX          = NormalDamageFX
    End

    ArmorSet
        Conditions        = PLAYER_UPGRADE
        Armor             = EdainWarriorHeroArmorMountedUpgrade
        DamageFX          = NormalDamageFX
    End

    ArmorSet
        Conditions        = PLAYER_UPGRADE_2
        Armor             = EdainWarriorHeroArmorMountedUpgrade_Rohan
        DamageFX          = NormalDamageFX
    End

    ArmorSet
        Conditions        = PLAYER_UPGRADE PLAYER_UPGRADE_2
        Armor             = EdainWarriorHeroArmorMountedUpgrade_Rohan
        DamageFX          = NormalDamageFX
    End



    VisionRange = VISION_HERO_STANDARD
    ShroudClearingRange = SHROUD_CLEAR_HERO
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue = GONDOR_ARAGORN_BOUNTY_VALUE
    DisplayName = OBJECT:Alfwynn
    Hotkey        = CONTROLBAR:AlfwynnHotkey
    CrusherLevel = 0
    MountedCrusherLevel = 1
    CrushableLevel = 2
    MountedCrushableLevel = 2

    CrushWeapon        = HeroCrush

    MinCrushVelocityPercent = MINCRUSHVELOCITYPERCENT_STANDARD
    CrushDecelerationPercent = CRUSHDECELERATIONPERCENT_STANDARD

    CrushKnockback = 40
    CrushZFactor = 1.0



    CommandSet = AlfwynGoodCommandSet
    CommandPoints = 0



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_AragornBody

    AutoResolveArmor
        Armor = AutoResolve_AragornArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_AragornWeapon
    End

    AutoResolveLeadership = AutoResolve_AragornBonus




            VoiceAttack                             = HeroWestMaleVoiceAttack
            VoiceAttackAir                            = HeroWestMaleVoiceAttack
            VoiceAttackCharge                         = HeroWestMaleVoiceAttackCharge
            VoiceAttackMachine                         = HeroWestMaleVoiceAttack
            VoiceAttackStructure                     = HeroWestMaleVoiceAttackBuilding
            VoiceCreated                            = HeroWestMaleVoiceSalute
            VoiceFear                                = HeroWestMaleVoiceHelpMe
            VoiceFullyCreated                        = HeroWestMaleVoiceSalute
            VoiceGuard                                = HeroWestMaleVoiceMove
            VoiceMove                                 = HeroWestMaleVoiceMove
            VoiceMoveToCamp                         = HeroWestMaleVoiceMoveCamp
            VoiceMoveWhileAttacking                 = HeroWestMaleVoiceDisengage
            VoicePriority                            = 95
            VoiceRetreatToCastle                     = HeroWestMaleVoiceRetreat
            VoiceSelect                             = HeroWestMaleVoiceSelectMS
            VoiceSelectBattle                          = HeroWestMaleVoiceSelectBattle

            SoundImpact                                = ImpactHorse

            UnitSpecificSounds
                VoiceEnterUnitElvenTransportShip    = HeroWestMaleVoiceMoveShip
                VoiceEnterUnitMordorMumakil            = HeroWestMaleVoiceMove
                VoiceEnterUnitSlaughterHouse        = HeroWestMaleVoiceMove
                VoiceEnterUnitTransportShip            = HeroWestMaleVoiceMove
                VoiceGarrison                        = HeroWestMaleVoiceMoveGarrison
                VoiceInitiateCaptureBuilding        = HeroWestMaleVoiceCaptureBuilding
            End

    CrowdResponseKey = GoodMen


    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Man Man_Male Unit Infantry Hero

    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:FootstepDirtA        Animation:CHHW_CG_U_SKL.CHHW_CG_U_RUNA    Frames:5 16
        AnimationSound = Sound:FootstepDirtA        Animation:CHHW_CG_U_SKL.CHHW_CG_U_RUNB    Frames:4 12 20 27

        AnimationSound = Sound:TauntHumanHitShield    Animation:CHHW_CG_U_SKL.CHHW_CG_U_CHRB    Frames:21 31

        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:CHHW_CG_U_SKL.CHHW_CG_U_DIEA    Frames:47
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:CHHW_CG_U_SKL.CHHW_CG_U_DIEB    Frames:19
        AnimationSound = Sound:BodyFallSoldier        Animation:CHHW_CG_U_SKL.CHHW_CG_U_LNDA    Frames:1

        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_ACCL    Frames:14 32
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_RUNA    Frames:0
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNL1    Frames:0
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNR1    Frames:0

        AnimationSound = Sound:HorseWhinny            Animation:RUHHs_Theo_SKL.RUHHs_Theo_IDLC    Frames:3

        AnimationSound = Sound:HorseDieForHero        Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA    Frames:0
        AnimationSound = Sound:BodyFallSoldier        Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA    Frames:1 9

        AnimationSound = Sound:HorseDieForHero        Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA    Frames:0
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA    Frames:4
        AnimationSound = Sound:BodyFallSoldier        Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA    Frames:42
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE HERO ARMY_SUMMARY HEAVY_MELEE_HITTER
    PathfindDiameter = 40.0


    Body = RespawnBody ModuleTag_RespawnBody
        CheerRadius             = EMOTION_CHEER_RADIUS
        MaxHealth                 = 1500
        PermanentlyKilledByFilter    = NONE
        DodgePercent              = HERO_DODGE_PERCENT
    End



    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End


    Behavior = SpecialPowerModule ModuleTag_CaptureBuilding
        SpecialPowerTemplate        = SpecialAbilityCaptureBuilding
        UpdateModuleStartsAttack    = Yes
        StartsPaused                = No
    End
    Behavior = SpecialAbilityUpdate ModuleTag_CaptureBuildingUpdate
        SpecialPowerTemplate        = SpecialAbilityCaptureBuilding
        StartAbilityRange            = 15.0
        UnpackTime                    = 1
        PreparationTime                = 15000
        PackTime                    = 1
        DoCaptureFX                    = Yes
    End



    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate        = 500
        AILuaEventsList                = AragornFunctions
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance                = 300
        TauntAndPointUpdateDelay            = 10000
        AddEmotion            =    Doom_Base



        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
         AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base


        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
    End

    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_GOOD_HERO_SPEED
    End

    LocomotorSet
        Locomotor = HeroHorseLocomotor
        Condition = SET_MOUNTED
        Speed     = NORMAL_MOUNTED_HERO_SPEED
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 2133
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL AragornVoiceDie
    End

    Behavior = SquishCollide ModuleTag_06

    End



    Behavior = AutoHealBehavior ModuleTag_ElvenGiftHealing
        StartsActive                = No
        TriggeredBy                    = Upgrade_ElvenGift
        HealingAmount                = ELVEN_GIFT_REGEN_AMOUNT
        HealingDelay                = ELVEN_GIFT_REGEN_DELAY
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = AttributeModifierUpgrade ModuleTag_ElvenGiftBonus
        TriggeredBy = Upgrade_ElvenGift
        AttributeModifier = SpellBookElvenGifts
    End


    Behavior = AutoHealBehavior ModuleTag_AragornHealing
        StartsActive = Yes
        HealingAmount = HERO_HEAL_AMOUNT
        HealingDelay = 1000
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_AragornBladeMasterStarter
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        StartsPaused            = No
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_AragornBladeMasterUpdate
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        HeroAttributeModifier   = AragornBladeMaster
        HeroEffectDuration      = 30000
        UnpackTime              = 1
        TriggerSound            = AragornBladeMaster
    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 100
        HitReactionLifeTimer2 = 1000
        HitReactionLifeTimer3 = 1993

        HitReactionThreshold1 = 0.0
        HitReactionThreshold2 = 25.0
        HitReactionThreshold3 = 50.0
    End







      Behavior = SpecialPowerModule ModuleTag_AragornAthelas
        SpecialPowerTemplate    = SpecialAbilityAragornAthelas
        UpdateModuleStartsAttack  = Yes
        TriggerFX                = FX_AragornAthelas
        SetModelCondition        = ModelConditionState:USER_2
        SetModelConditionTime    = 2.1
    End

    Behavior = SpecialAbilityUpdate ModuleTag_AragornAthelasUpdate
        SpecialPowerTemplate    = SpecialAbilityAragornAthelas
        StartAbilityRange       = 1.6
        UnpackTime              = 1
        PreparationTime         = 3
        PackTime                = 2096
        AwardXPForTriggering    = 0
    End

    Behavior = AutoAbilityBehavior ModuleTag_AthelasAutoAbility
        SpecialAbility    = SpecialAbilityAragornAthelas
        MaxScanRange    = 150
        Query            = 1 NONE +HERO ALLIES
    End


    Behavior = AutoHealBehavior ModuleTag_AthelasHealing
        StartsActive                = Yes
        ButtonTriggered                = Yes
        HealingAmount                = ATHELAS_HEAL_AMOUNT
        Radius                    = 200
        HealOnlyOthers                = No
        SingleBurst                = Yes
        UnitHealPulseFX                = FX_AragornAthelas
        KindOf                    = HERO
    End







    Behavior = SpecialPowerModule ModuleTag_TheodenGloriousChargeUpdate
        SpecialPowerTemplate      = SpecialAbilityTheodenGloriousCharge
        UpdateModuleStartsAttack  = Yes
        StartsPaused = No
        AttributeModifier = TheodenGloriousCharge
        AttributeModifierRange = 200
        AttributeModifierAffectsSelf = Yes
        AttributeModifierAffects = ANY +INFANTRY +CAVALRY +HERO
        AttributeModifierFX = FX_TheodenGloriousChargeFX
    End

    Behavior = SpecialAbilityUpdate ModuleTag_GloriousChargeAnimation
        UnpackTime              = 1000
        UnpackingVariation        = 1
        SpecialPowerTemplate    = SpecialAbilityTheodenGloriousCharge
        PreparationTime         = 0
        PersistentPrepTime      = 0
        PackTime                = 1330
     End







    Behavior = SpecialPowerModule ModuleTag_HorseToggleStarter
         SpecialPowerTemplate      = SpecialAbilityToggleMounted
         UpdateModuleStartsAttack  = Yes

         StartsPaused = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle
         SpecialPowerTemplate    = SpecialAbilityToggleMounted
         UnpackTime              = GOOD_MOUNT_TIME
         PreparationTime         = 1
         PersistentPrepTime      = 250
         PackTime                = GOOD_MOUNT_TIME
         OpacityTarget            = .3
         AwardXPForTriggering    = 0
    End









    Behavior = AISpecialPowerUpdate AragornBladeMasterAI
        CommandButtonName = Command_SpecialAbilityBladeMaster
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate AragornElendilAI
        CommandButtonName = Command_SpecialAbilityElendil
        SpecialPowerAIType = AI_SPECIAL_POWER_ELENDIL
        SpecialPowerRadius = 200
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornAthelas
        CommandButtonName = Command_SpecialAbilityAthelasMod
        SpecialPowerAIType = AI_SPECIAL_POWER_SELFAOEHEALHEROS
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornOathBreakers
        CommandButtonName = Command_SpawnOathbreakers
        SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
        SpecialPowerRadius = 30.0
    End


    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes
    Shadow = SHADOW_DECAL
    ShadowSizeX = 20
    ShadowSizeY = 20
    ShadowTexture = ShadowI
End


