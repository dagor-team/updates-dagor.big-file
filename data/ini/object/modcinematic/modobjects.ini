
Object VisitorOathbreaker



    Draw = W3DScriptedModelDraw ModuleTag_01
        DefaultModelConditionState

            Model               = RUPsnt_1_SKN
            Skeleton            = RUPsnt_1_SKL
        End
    End






    Side = Angmar
    IsTrainable = No
    EditorSorting = UNIT
    BuildVariations = VisitorOathbreaker1 VisitorOathbreaker2 VisitorOathbreaker3
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT

End



Object VisitorOathbreaker1




    Draw = W3DHordeModelDraw ModuleTag_01


        DefaultModelConditionState
            Model               = RUOath3A_SKN
            Skeleton            = RUOath3_SKL
            ParticleSysBone = NONE AODTrails FollowBone:No
         End

        IdleAnimationState
            StateName                = STATE_Idle
            Animation                = IDLA
                AnimationName       = RUOath3_IDLB
                AnimationMode       = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 20
            End
        End


        AnimationState        = MOVING ATTACKING
            Animation           = RUNA
                AnimationName     = RUOath3_RUNA
                AnimationMode     = LOOP
                AnimationSpeedFactorRange = 0.7 0.7
            End
            Flags               = RANDOMSTART
        End

        AnimationState        = DYING
            Animation           = RUNA
                AnimationName     = RUOath3A_DIEA
            End
            EnteringStateFX = FX_AODDeath
        End

        AnimationState        =  OATH_FULLFILLED
            Animation           = WLK
                AnimationName     = RUOath3_WLKA
                AnimationMode     = LOOP
            End
            ParticleSysBone = NONE AODtrackingLightShafts
        End

        AnimationState        =  ATTACKING
            Animation           = ATA1
                AnimationName     = RUOath3_ATKA
                AnimationMode     = LOOP
                AnimationSpeedFactorRange = 0.75 1.0
            End
        End

        AnimationState        =  FIRING_A
            Animation           = ATA1
                AnimationName     = RUOath3_ATKA
                AnimationMode     = LOOP
            End
        End


        AnimationState        = MOVING
            Animation           = WLK
                AnimationName     = RUOath3_WLKA
                AnimationMode     = LOOP
            End
            ParticleSysBone = NONE AODtrackingLightShafts
        End

    End

    Side = Men
    IsTrainable = No
    EditorSorting = UNIT
    ThreatLevel = 3.0
    ThingClass = HORDE_UNIT
    CommandPoints = 0

    EmotionRange = 0

    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT


    ArmorSet
        Conditions      = None
        Armor           = MinasTirithWall
        DamageFX        = NormalDamageFX
    End

    VisionRange = 81
    DisplayName = OBJECT:Oathbreaker
    CrushableLevel = 5


    ShockwaveResistance = SHOCKWAVE_RESISTANCE_ALWAYS

    CommandSet = GondorFighterCommandSet
    EquivalentTo = VisitorOathbreaker



    VoiceAttack            = OathbreakerVoxSelect


    VoiceMove            = OathbreakerVoxSelect
    VoicePriority        = 15
    VoiceSelect            = OathbreakerVoxSelect

    SoundImpact            = ImpactHorse

    UnitSpecificSounds
        VoiceGarrison                        = OathbreakerVoxSelect
        VoiceEnterUnitElvenTransportShip    = OathbreakerVoxSelect
        VoiceEnterUnitEvilMenTransportShip    = OathbreakerVoxSelect
        VoiceEnterUnitMordorMumakil            = OathbreakerVoxSelect
        VoiceEnterUnitSlaughterHouse        = OathbreakerVoxSelect
        VoiceInitiateCaptureBuilding        = OathbreakerVoxSelect
    End





    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ARMY_OF_DEAD


    Body = ActiveBody ModuleTag_02
        MaxHealth         = 400
        MaxHealthDamaged  = 200

    End

    Behavior = AIUpdateInterface ModuleTag_03New
        AutoAcquireEnemiesWhenIdle    =    Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =    500
        AttackPriority                =     AttackPriority_Infantry
    End

    LocomotorSet
        Locomotor = AODVisitorLocomotor
        Condition = SET_NORMAL
        Speed     = 15

    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 2400
    End

    Behavior = SlowDeathBehavior ModuleTag_SlowDeath_01
        DeathTypes = ALL


        DestructionDelay = 3000
        FadeTime = 1000
        FadeDelay = 1000

    End

    Behavior = SlowDeathBehavior ModuleTag_SlowDeath_FADED
        DeathTypes = NONE +FADED


        DestructionDelay = 3000
        FadeTime = 1000
        FadeDelay = 1000

    End


    Behavior = OathbreakersFadeAwayBehavior ModuleTag_05
        FadeOutTime   = 3500
    End



    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Oathbreaker
    End



    Geometry = CYLINDER
    GeometryMajorRadius = 12.0
    GeometryMinorRadius = 12.0
    GeometryHeight = 19.2
    GeometryIsSmall = No





End



ObjectReskin VisitorOathbreaker2 VisitorOathbreaker1


    Draw = W3DHordeModelDraw ModuleTag_01


        DefaultModelConditionState
            Model               = RUOath3B_SKN
            Skeleton            = RUOath3_SKL
            ParticleSysBone = NONE AODTrails FollowBone:No
         End

        IdleAnimationState
            StateName                = STATE_Idle
            Animation                = IDLA
                AnimationName       = RUOath3B_IDLB
                AnimationMode       = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 20
            End
        End


        AnimationState        = MOVING ATTACKING
            Animation           = RUNA
                AnimationName     = RUOath3B_RUNA
                AnimationMode     = LOOP
                AnimationSpeedFactorRange = 0.7 0.7
            End
            Flags               = RANDOMSTART
        End

        AnimationState        = DYING
            Animation           = RUNA
                AnimationName     = RUOath3AB_DIEA
            End
            EnteringStateFX = FX_AODDeath
        End

        AnimationState        =  OATH_FULLFILLED
            Animation           = WLK
                AnimationName     = RUOath3B_WLKA
                AnimationMode     = LOOP
            End
            ParticleSysBone = NONE AODtrackingLightShafts
        End

        AnimationState        =  ATTACKING
            Animation           = ATA1
                AnimationName     = RUOath3B_ATKA
                AnimationMode     = LOOP
                AnimationSpeedFactorRange = 0.75 1.0
            End
        End

        AnimationState        =  FIRING_A
            Animation           = ATA1
                AnimationName     = RUOath3B_ATKA
                AnimationMode     = LOOP
            End
        End


        AnimationState        = MOVING
            Animation           = WLK
                AnimationName     = RUOath3B_WLKA
                AnimationMode     = LOOP
            End
            ParticleSysBone = NONE AODtrackingLightShafts
        End

    End
End



ObjectReskin VisitorOathbreaker3 VisitorOathbreaker1


    Draw = W3DHordeModelDraw ModuleTag_01

        DefaultModelConditionState
            Model               = RUOath3C_SKN
            Skeleton            = RUOath3_SKL
            ParticleSysBone = NONE AODTrails FollowBone:No
         End

        IdleAnimationState
            StateName                = STATE_Idle
            Animation                = IDLA
                AnimationName       = RUOath3C_IDLB
                AnimationMode       = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 20
            End
        End


        AnimationState        = MOVING ATTACKING
            Animation           = RUNA
                AnimationName     = RUOath3C_RUNA
                AnimationMode     = LOOP
                AnimationSpeedFactorRange = 0.7 0.7
            End
            Flags               = RANDOMSTART
        End

        AnimationState        = DYING
            Animation           = RUNA
                AnimationName     = RUOath3AC_DIEA
            End
            EnteringStateFX = FX_AODDeath
        End

        AnimationState        =  OATH_FULLFILLED
            Animation           = WLK
                AnimationName     = RUOath3C_WLKA
                AnimationMode     = LOOP
            End
            ParticleSysBone = NONE AODtrackingLightShafts
        End

        AnimationState        =  ATTACKING
            Animation           = ATA1
                AnimationName     = RUOath3C_ATKA
                AnimationMode     = LOOP
                AnimationSpeedFactorRange = 0.75 1.0
            End
        End

        AnimationState        =  FIRING_A
            Animation           = ATA1
                AnimationName     = RUOath3C_ATKA
                AnimationMode     = LOOP
            End
        End


        AnimationState        = MOVING
            Animation           = WLK
                AnimationName     = RUOath3C_WLKA
                AnimationMode     = LOOP
            End
            ParticleSysBone = NONE AODtrackingLightShafts
        End

    End
End

Object CinematicAODShake
    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = None
        End
    End
    KindOf = INERT IMMOBILE UNATTACKABLE

    Body = ActiveBody ModuleTag_MakesKillWork
        MaxHealth = 1
    End
    Behavior = LifetimeUpdate ModuleTag_HatchTrigger
        MinLifetime = 0.0
        MaxLifetime = 0.0
    End
    Behavior = SlowDeathBehavior ModuleTag_HatchProcess
        DestructionDelay    = 10
        FX                  = INITIAL FX_CinematicAODShake
    End
End

Object CinematicRockEffect
    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = None
        End
    End
    KindOf = INERT IMMOBILE UNATTACKABLE

    Body = ActiveBody ModuleTag_MakesKillWork
        MaxHealth = 1
    End
    Behavior = LifetimeUpdate ModuleTag_HatchTrigger
        MinLifetime = 0.0
        MaxLifetime = 0.0
    End
    Behavior = SlowDeathBehavior ModuleTag_HatchProcess
        DestructionDelay    = 10
        FX                  = INITIAL FX_CinematicRockEffect
    End
End

Object CinematicKingofDeath



    SelectPortrait = HPKDT


    ButtonImage = HIKdT

    Draw = W3DScriptedModelDraw ModuleTag_DRAW

        DefaultModelConditionState
            Model           = gukdtneu_skn
            ParticleSysBone = NONE AODTrails FollowBone:No
        End


        TransitionState                = TRANS_boredToAttention_Elendil
            Animation                = GUAragorn_ATND
                AnimationName        = GUAragorn_SKL.GUAragorn_ATND
                AnimationMode        = ONCE
            End
            FXEvent    = Name: FX_TodeslachenEvent
        End

        TransitionState                = TRANS_attentionToBored_Elendil
            Animation                = GUAragorn_ATND
                AnimationName        = GUAragorn_SKL.GUAragorn_ATND
                AnimationMode        = ONCE_BACKWARDS
            End
            FXEvent                    = Name: FX_TodeslachenEvent
            Flags                    = START_FRAME_LAST
        End

        TransitionState                = TRANS_boredToAttention
            Animation                = GUAragorn_ATND
                AnimationName        = GUAragorn_SKL.GUAragorn_ATND
                AnimationMode        = ONCE
            End
        End

        TransitionState                = TRANS_attentionToBored
            Animation                = GUAragorn_ATND
                AnimationName        = GUAragorn_SKL.GUAragorn_ATND
                AnimationMode        = ONCE_BACKWARDS
            End
            Flags                    = START_FRAME_LAST
        End


        IdleAnimationState
            StateName                = STATE_bored

            Animation                = GUAragorn_IDLE
                AnimationName        = GUAragorn_SKL.GUAragorn_IDLE
                AnimationMode        = ONCE
                AnimationPriority    = 12
            End

            Animation                = GUAragorn_IDLF
                AnimationName        = GUAragorn_SKL.GUAragorn_IDLF
                AnimationMode        = ONCE
                AnimationPriority    = 1
            End

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if    Prev == "STATE_attention" or
                    Prev == "STATE_running" or
                    Prev == "OATH_BREAKERS" then CurDrawableSetTransitionAnimState("TRANS_attentionToBored") end
            EndScript
        End

        AnimationState            = THROWN_PROJECTILE
            Animation            = FLYA
                AnimationName    = GUAragorn_SKL.GUAragorn_FLYA
                AnimationMode    = LOOP
            End
        End

        AnimationState            = STUNNED_FLAILING
            Animation            = FLYA
                AnimationName    = GUAragorn_SKL.GUAragorn_FLYA
                AnimationMode    = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
        End

        AnimationState             = DYING SPLATTED DEATH_1
            Animation         = Splatted_On_Ground
                AnimationName    = GUAragorn_SKL.GUAragorn_LNDA
                AnimationMode    = ONCE
            End
            EnteringStateFX        = FX_SoldierHitGround
        End


        AnimationState                = DYING DEATH_1
            Animation                = GUAragorn_DIEA
                AnimationName        = GUAragorn_SKL.GUAragorn_DIEA
                AnimationMode        = ONCE
            End
            Animation                = GUAragorn_DIEB
                AnimationName        = GUAragorn_SKL.GUAragorn_DIEB
                AnimationMode        = ONCE
            End
        End

        AnimationState                = DYING DEATH_2
            Animation                = ByeBye
                AnimationName        = GUAragorn_SKL.GUAragorn_IDLA
                AnimationMode        = LOOP
            End
            EnteringStateFX = FX_AODDeath
        End

        AnimationState        =  OATH_FULLFILLED
            Animation           = ATKL
                AnimationName     = GUAragorn_SKL.GUAragorn_ATKL
                AnimationMode     = LOOP
            End
            ParticleSysBone = NONE AODtrackingLightShafts
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = GUAragorn_IDLE
                AnimationMode                = LOOP
            End
        End

        AnimationState                = STUNNED_STANDING_UP
            Animation                = GUAragorn_GTPB
                AnimationName        = GUAragorn_SKL.GUAragorn_GTPB
                AnimationMode        = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState            = STUNNED
            Animation            = LNDA
                AnimationName    = GUAragorn_SKL.GUAragorn_LNDA
                AnimationMode    = ONCE
            End
            EnteringStateFX        = FX_SoldierHitGround
        End








        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = GUAragorn_SKL.GUAragorn_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End

        AnimationState                = FIRING_OR_PREATTACK_A WEAPONSET_HERO_MODE
            StateName                = STATE_ready
            Animation                = ATKF
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKF
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
            FXEvent    = Frame:25 Name: FX_BladeMasterHitKdTOrient
            FXEvent    = Frame:45 Name: FX_BladeMasterHitKdTOrient
        End

        AnimationState                = FIRING_OR_PREATTACK_A
            StateName                = STATE_ready
            Animation                = ATKD
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKD
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
                AnimationPriority    = 3
            End
            Animation                = ATKE
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKE
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
                AnimationPriority    = 2
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End







        AnimationState                = MOVING
            StateName                = STATE_running

            Animation                = GUAragorn_RUNB
                AnimationName        = GUAragorn_SKL.GUAragorn_RUNB
                AnimationMode        = LOOP
            End
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKO
                AnimationMode        = ONCE
            End
        End

        AnimationState                = SPECIAL_POWER_1
            StateName                = STATE_ready
            Animation                = GUAragorn_ATKL
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKL
                AnimationMode        = ONCE
            End
            ParticleSysBone = BAT_HEAD KDTWhirl FollowBone:Yes
            ParticleSysBone            = B_SWORDBONE KonigderTotenElFlare FollowBone:Yes
            ParticleSysBone            = B_SWORDBONE KDTNewSwordFlare FollowBone:Yes
        End

        AnimationState                = USER_2
            StateName                = ATHELAS
            Animation                = ATKP
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKP
                AnimationMode        = ONCE
            End
        End

        AnimationState                = USER_1
            StateName                = OATH_BREAKERS
            Animation                = ATKN
                AnimationName        = GUAragorn_SKL.GUAragorn_CHRB
                AnimationMode        = ONCE
            End
        End





        AnimationState                = HIT_REACTION HIT_LEVEL_3
            StateName                = STATE_bored
            Animation                = Hit_Level_1_b
                AnimationName        = GUAragorn_SKL.GUAragorn_HITB
                AnimationMode        = ONCE
            End
        End



        AnimationState                = EMOTION_CELEBRATING
            StateName                = STATE_ready
            Animation                = CHRB
                AnimationName        = GUAragorn_SKL.GUAragorn_CHRB
                AnimationMode        = ONCE
                AnimationPriority    = 1
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                = EMOTION_TAUNTING
            StateName                = STATE_ready
            Animation                = CHRB
                AnimationName        = GUAragorn_SKL.GUAragorn_CHRB
                AnimationMode        = ONCE
                AnimationPriority    = 1
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                = EMOTION_ALERT
            StateName                = STATE_ready
            Animation                = IDLA
                AnimationName        = GUAragorn_SKL.GUAragorn_IDLA
                AnimationMode        = ONCE
                AnimationPriority    = 1
            End
        End

        AnimationState                = EMOTION_MORALE_HIGH
            StateName                = STATE_ready
            Animation                = ATKN
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKN
                AnimationMode        = ONCE
                AnimationPriority    = 1
            End
            Animation                = ATKP
                AnimationName        = GUAragorn_SKL.GUAragorn_ATKP
                AnimationMode        = ONCE
                AnimationPriority    = 15
            End
            Animation                = TNTC
                AnimationName        = GUAragorn_SKL.GUAragorn_TNTD
                AnimationMode        = ONCE
                AnimationPriority    = 30
            End
            Animation                = TNTD
                AnimationName        = GUAragorn_SKL.GUAragorn_TNTD
                AnimationMode        = ONCE
                AnimationPriority    = 30
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                = ENGAGED
            StateName                = STATE_ready
            Animation                = IDLA
                AnimationName        = GUAragorn_SKL.GUAragorn_IDLA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
                AnimationPriority    = 1
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                = RAISING_FLAG
            StateName                = STATE_ready
            Animation                = CHRB
                AnimationName        = GUAragorn_SKL.GUAragorn_CHRB
                AnimationMode        = LOOP
            End
        End

        AnimationState                = SELECTED
            StateName                = STATE_attention
            Animation                = ATNE
                AnimationName        = GUAragorn_SKL.GUAragorn_ATNE
                AnimationMode        = LOOP
                AnimationBlendTime    = 5
                AnimationMustCompleteBlend = Yes
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_bored" then CurDrawableSetTransitionAnimState("TRANS_boredToAttention") end
            EndScript
        End

    End


    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End

    Draw = W3DScriptedModelDraw ModuleTag_Schmiedekunst
        DefaultModelConditionState
            Model = None
        End
        ModelConditionState = USER_8
            Model           = exldrspimla
        End
    End





    Side = Men
    EditorSorting = UNIT
    ThreatLevel = ARAGORN_THREAT_LEVEL
    ThingClass = CHARACTER_UNIT
    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
    DisplayMeleeDamage = ARAGORN_DAMAGE
    HeroSortOrder = 20

    BuildCost = 0
    BuildTime = 0
    ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG

    WeaponSet
        Conditions      = None
        Weapon          = PRIMARY    GondorKDTSword
    End

    ArmorSet
        Conditions      = None
        Armor           = HeroArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_HERO_STANDARD
    ShroudClearingRange = SHROUD_CLEAR_HERO
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue = GONDOR_ARAGORN_BOUNTY_VALUE
    DisplayName = OBJECT:GondorKdT
    RecruitText = CONTROLBAR:GondorKdTRecruit
    ReviveText    = CONTROLBAR:GondorKdTRevive
    Hotkey        = CONTROLBAR:GondorKdTHotkey
    CrushableLevel = 5


    CommandSet = GondorKdTCommandSet_Cinematic
    CommandPoints = 0



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_AragornBody

    AutoResolveArmor
        Armor = AutoResolve_AragornArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_AragornWeapon
    End

    AutoResolveLeadership = AutoResolve_AragornBonus




    VoiceAttack                     = kotdVoiceAttack
    VoiceAttackStructure            = kotdVoiceAttack
    VoiceAttackMachine              = kotdVoiceAttack

    VoiceEnterStateAttack           = kotdVoiceAttack
    VoiceEnterStateAttackStructure  = kotdVoiceAttack
    VoiceEnterStateAttackMachine    = kotdVoiceAttack
    VoiceEnterStateAttackCharge     = kotdVoiceAttack
    VoiceCreated                    = kotdVoiceSelect
    VoiceFullyCreated               = kotdVoiceSelect

    VoiceMove                       = kotdVoiceMove
    VoiceMoveToCamp                 = kotdVoiceMove
    VoiceMoveWhileAttacking         = kotdVoiceAttack
    VoiceEnterStateMove             = kotdVoiceMove
    VoicePriority                   = 90
    VoiceRetreatToCastle            = kotdVoiceMove
    VoiceEnterStateRetreatToCastle  = kotdVoiceMove
    VoiceSelect                     = kotdVoiceSelect
    VoiceSelectBattle               = kotdVoiceSelect
    VoiceGuard                      = kotdVoiceMove

    SoundImpact                     = ImpactHorse




    UnitSpecificSounds
        VoiceEnterUnitElvenTransportShip    = kotdVoiceMove
        VoiceGarrison                        = kotdVoiceSelect
        VoiceInitiateCaptureBuilding        = kotdVoiceMove
    End

    CrowdResponseKey = GoodMen





    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Oathbreaker Hero

    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:FootstepDirtA                    Animation:GUAragorn_SKL.GUAragorn_RUNB    Frames:8 17 26 36
        AnimationSound = Sound:BodyFallGenericNoArmor                Animation:GUAragorn_SKL.GUAragorn_DIEA    Frames:55
        AnimationSound = Sound:BodyFallGenericNoArmor                Animation:GUAragorn_SKL.GUAragorn_DIEB    Frames:70
        AnimationSound = Sound:BodyFallSoldier                    Animation:GUAragorn_SKL.GUAragorn_LNDA    Frames:1
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE HERO ARMY_SUMMARY HEAVY_MELEE_HITTER SCARY
    PathfindDiameter = 40.0

    Body = RespawnBody ModuleTag_RespawnBody
        CheerRadius               = EMOTION_CHEER_RADIUS
        MaxHealth                 = 10000
        PermanentlyKilledByFilter = NONE
        DodgePercent              = HERO_DODGE_PERCENT
    End


    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End




    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate        = 500
        AILuaEventsList            = KotDFunctions
    End




    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance       =    300
        TauntAndPointUpdateDelay    =    10000
        AddEmotion                  =    Doom_Base



        AddEmotion                  =    Point_Base
        AddEmotion                  =    Taunt_Base
         AddEmotion                 =    CheerIdle_Base
        AddEmotion                  =    CheerBusy_Base


        AddEmotion                  =    Alert_Base
        AddEmotion                  =    CheerForAboutToCrush_Base
        AddEmotion                  =    Terror_Base
        AddEmotion                  =    OVERRIDE UncontrollableFear_Base
            Duration                =    7000
        End
        AlwaysAfraidOf              =    NONE +CloudBreakSunbeam +SunflareSunbeam
    End


    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_GOOD_HERO_SPEED
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 2133
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -FADED
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000

        DeathFlags = DEATH_1
    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 100
        HitReactionLifeTimer2 = 1000
        HitReactionLifeTimer3 = 1993

        HitReactionThreshold1 = 0.0
        HitReactionThreshold2 = 25.0
        HitReactionThreshold3 = 50.0
    End






    Behavior = SpecialPowerModule ModuleTag_ElendilStarter
        SpecialPowerTemplate        = SpecialAbilitykdtlachen
        UpdateModuleStartsAttack    = Yes
        AntiCategory            = LEADERSHIP
        AttributeModifier            = AragornElendilAntiCategory
        AttributeModifierRange        = 200.0
        StartsPaused            = No
    End

    Behavior = ModelConditionSpecialAbilityUpdate ModuleTag_ElendilUpdate
        SpecialPowerTemplate    = SpecialAbilitykdtlachen
        UnpackTime              = 1400
        PreparationTime         = 1
        PersistentPrepTime      = 1000
        PackTime                = 1000

        GenerateTerror            = Yes
        EmotionPulseRadius        = 180
        ObjectFilter            = ELENDIL_OBJECT_FILTER
        AwardXPForTriggering    = 0
    End







    Behavior = OCLSpecialPower  ModuleTag_OCLSpawnDunharg
       SpecialPowerTemplate        = SpecialAbilityKingofDunharg
       OCL                         = OCL_KingofDunhargRocks
       CreateLocation              = CREATE_AT_LOCATION
       StartsPaused                = No
       SetModelCondition           = ModelConditionState:USER_1
       SetModelConditionTime       = 4.1
    End






    Behavior = OCLSpecialPower ModuleTag_OCLDunhargOathbreakersSpecialPower
        SpecialPowerTemplate  = TotenvonDunharg
        OCL                   = OCL_GondorArmyofTheDeadEggSmall
        CreateLocation        = CREATE_AT_LOCATION
        StartsPaused          = No
        SetModelCondition     = ModelConditionState:USER_1
        SetModelConditionTime = 8.1
    End







    Behavior = SpecialPowerModule ModuleTag_WordStarter
        SpecialPowerTemplate       = SpecialAbilityWordOfPower
        UpdateModuleStartsAttack   = Yes
        StartsPaused               = No
        InitiateSound              = kotdPulseRingVoice
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WordWeaponFireUpdate
        SpecialPowerTemplate       = SpecialAbilityWordOfPower
        WhichSpecialWeapon         = 1
        SkipContinue               = Yes
        UnpackTime                 = 1400
        PackTime                   = 1
        FreezeAfterTriggerDuration = 2500
        AwardXPForTriggering       = 0
        StartAbilityRange          = 80.0
        SpecialWeapon              = KdTTodeshauchSummoned
    End






    Behavior = AutoHealBehavior ModuleTag_ElvenGiftHealing
        StartsActive                = No
        TriggeredBy                    = Upgrade_ElvenGift
        HealingAmount                = ELVEN_GIFT_REGEN_AMOUNT
        HealingDelay                = ELVEN_GIFT_REGEN_DELAY
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = AttributeModifierUpgrade ModuleTag_ElvenGiftBonus
        TriggeredBy = Upgrade_ElvenGift
        AttributeModifier = SpellBookElvenGifts
    End


    Behavior = AutoHealBehavior ModuleTag_AragornHealing
        StartsActive = Yes
        HealingAmount = HERO_HEAL_AMOUNT
        HealingDelay = 1000
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = SubObjectsUpgrade ModuleTag_MakingTheMollok
        TriggeredBy       = Upgrade_Level_1
        HideSubObjects    = PLANE02
    End




    Behavior = AISpecialPowerUpdate AragornBladeMasterAI
        CommandButtonName = Command_SpecialAbilityKingofDunharg
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate AragornElendilAI
        CommandButtonName = Command_SpecialAbilityTodeslachen
        SpecialPowerAIType = AI_SPECIAL_POWER_ELENDIL
        SpecialPowerRadius = 200
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornOathBreakers
        CommandButtonName = Command_SpawnKdTOathbreakers
        SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate GandalfWordOfPowerAI
        CommandButtonName = Command_SpecialAbilityKdTTodeshauch
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
        SpecialPowerRadius = 250
    End



    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes
    Shadow = SHADOW_DECAL
    ShadowSizeX = 20
    ShadowSizeY = 20
    ShadowTexture = ShadowI
End


Object Sheep_Edain


  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model               = CUSheep_SKN
    End
    IdleAnimationState
      Animation = Idle
        AnimationName       = CUSheep_SKL.CUSheep_GRZB
        AnimationMode       = ONCE
        AnimationBlendTime    =    15
      End
    End
    AnimationState = MOVING
      Animation = Moving
        AnimationName       = CUSheep_SKL.CUSheep_WLKA
        AnimationMode       = LOOP
        AnimationBlendTime    =    15
      End
    End

    AnimationState                = MOVING PANICKING
        Animation                = RUNA
            AnimationName        = CCUSheep_SKL.CUSheep_RUNA
            AnimationMode        = LOOP
            AnimationBlendTime    =    15
        End
        Flags                    = RANDOMSTART
    End

    AnimationState          = DYING DEATH_1
        Animation
            AnimationName   = CUSheep_SKL.CUSheep_GRZB
            AnimationMode   = LOOP
        End
    End

    AnimationState        = DYING
        Animation           = CUSheepDIEA
              AnimationName     = CUSheep_SKL.CUSheep_DIEA
            AnimationMode     = ONCE
            AnimationBlendTime    =    15
        End
    End

  End



  Scale = 0.75


  Side = Men
  EditorSorting = UNIT
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 121
  DisplayName = OBJECT:Prop
  CrushableLevel = 0


  VoiceSelect = NoSound
  VoiceMove = NoSound
  VoiceAttack = NoSound
  VoiceFear = NoSound
  VoiceGuard = NoSound


  SoundStealthOn = NoSound
  SoundStealthOff = NoSound

  UnitSpecificSounds
    VoiceGarrison         = NoSound
    VoiceEnter            = NoSound
    VoiceEnterHostile     = NoSound
    VoiceGetHealed        = NoSound
  End


  RadarPriority = NOT_ON_RADAR

  KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER ARMY_SUMMARY

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 50.0
  End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        AttackPriority                = AttackPriority_Cavalry
    End

  LocomotorSet
    Locomotor = HumanLocomotor
    Condition = SET_NORMAL
    Speed     = 9
  End

  Behavior = PhysicsBehavior ModuleTag_04
  End

    Behavior = SlowDeathBehavior ModuleTag_FadeoutDeath
        DeathTypes            = NONE +FADED
        DeathFlags            = DEATH_1
        FadeDelay            = 0
        FadeTime            = 3500
        DestructionDelay    = 4000
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -FADED
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
    End

  Behavior = SquishCollide ModuleTag_06

  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes





End

Object Cow_Edain


  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model               = CUCow_SKN
      Model               = CUCow2_SKN  ExtraMesh:Yes
    End
    IdleAnimationState
      Animation = Idle
        AnimationName       = CUCow_SKL.CUCow_IDLA
        AnimationMode       = ONCE
        AnimationBlendTime    =    15
      End
      Animation = Idle2
        AnimationName       = CUCow_SKL.CUCow_IDLB
        AnimationMode       = ONCE
        AnimationBlendTime    =    15
      End
    End

    AnimationState = MOVING
      Animation = Moving
        AnimationName       = CUCow_SKL.CUCow_WLKA
        AnimationMode       = LOOP
        AnimationBlendTime    =    15
      End
    End


    AnimationState                = MOVING PANICKING
        Animation                = RUNA
            AnimationName        = CUCow_SKL.CUCow_RUNA
            AnimationMode        = LOOP
            AnimationBlendTime    =    15
        End
        Flags                    = RANDOMSTART
    End

    AnimationState          = DYING DEATH_1
        Animation
            AnimationName   = CUCow_SKL.CUCow_IDLA
            AnimationMode   = LOOP
        End
    End

    AnimationState        = DYING
        Animation           = CUCow_DIEA
              AnimationName     = CUCow_SKL.CUCow_DIEA
            AnimationMode     = ONCE
            AnimationBlendTime    =    15
        End
    End

  End

  Scale = 0.75



  EditorSorting =     MISC_NATURAL
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 121
  DisplayName = OBJECT:Prop
  CrushableLevel = 0


  VoiceSelect = NoSound
  VoiceMove = NoSound
  VoiceAttack = NoSound
  VoiceFear = NoSound
  VoiceGuard = NoSound


  SoundStealthOn = NoSound
  SoundStealthOff = NoSound

  UnitSpecificSounds
    VoiceGarrison         = NoSound
    VoiceEnter            = NoSound
    VoiceEnterHostile     = NoSound
    VoiceGetHealed        = NoSound
  End


  RadarPriority = NOT_ON_RADAR
  KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER ARMY_SUMMARY

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 50.0
  End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        AttackPriority                = AttackPriority_Cavalry
    End

  LocomotorSet
    Locomotor = HumanLocomotor
    Condition = SET_NORMAL
    Speed     = 9
  End

  Behavior = PhysicsBehavior ModuleTag_04
  End


    Behavior = SlowDeathBehavior ModuleTag_FadeoutDeath
        DeathTypes            = NONE +FADED
        DeathFlags            = DEATH_1
        FadeDelay            = 0
        FadeTime            = 3500
        DestructionDelay    = 4000
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -FADED
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
    End

  Behavior = SquishCollide ModuleTag_06

  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes





End


Object Bear_Edain

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
        Model               = CUBear_SKN
    End

       IdleAnimationState
        StateName                    =   STATE_Idle
        Animation = IdleA
            AnimationName       = CUBear_SKL.CUBear_IDLA
            AnimationPriority    = 10
            AnimationMode       = ONCE
            AnimationBlendTime    =    10
        End
        Animation = IdleB
            AnimationName       = CUBear_SKL.CUBear_IDLB
            AnimationPriority    = 10
            AnimationMode       = ONCE
            AnimationBlendTime    =    10
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Alert" then CurDrawableSetTransitionAnimState("TRANS_AlertToIdle") end
        EndScript
    End









    AnimationState                = MOVING PANICKING
        Animation                = RUNA
            AnimationName        = CUBear_SKL.CUBear_RUNA
            AnimationMode        = LOOP
        End
        Flags                    = RANDOMSTART
    End

    AnimationState            =    MOVING
        StateName            =    STATE_moving
        Animation            =    Moving
            AnimationName    =    CUBear_SKL.CUBear_WALKA
            AnimationBlendTime    =    10
            AnimationMustCompleteBlend = Yes
        End

        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Alert" then CurDrawableSetTransitionAnimState("TRANS_AlertToIdle") end
        EndScript

    End

    TransitionState                    =    TRANS_AlertToIdle
        Animation                    =   IDLE
            AnimationName            =    CUBear_SKL.CUBear_IDLE
            AnimationMode            =    ONCE
        End
    End

    TransitionState                    =    TRANS_IdleToAlert
        Animation                    =   IDLC
            AnimationName            =    CUBear_SKL.CUBear_IDLC
            AnimationMode            =    ONCE
        End
    End



    AnimationState        = DYING
        Animation           = CUBear_DIEA
              AnimationName     = CUBear_SKL.CUBear_DIEA
            AnimationMode     = ONCE
        End
    End


 End


  EditorSorting =     MISC_NATURAL
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 121
  DisplayName = OBJECT:Prop
  CrushableLevel = 2


  VoiceSelect = NoSound
  VoiceMove = NoSound
  VoiceAttack = NoSound
  VoiceFear = NoSound
  VoiceGuard = NoSound


  SoundStealthOn = NoSound
  SoundStealthOff = NoSound

  UnitSpecificSounds
    VoiceGarrison         = NoSound
    VoiceEnter            = NoSound
    VoiceEnterHostile     = NoSound
    VoiceGetHealed        = NoSound
  End


  RadarPriority = NOT_ON_RADAR
  KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER ARMY_SUMMARY

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
  End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        AttackPriority                = AttackPriority_Cavalry
    End


  LocomotorSet
    Locomotor = HorseWalkLocomotor
    Condition = SET_PANIC
    Speed     = 50
  End

  LocomotorSet
    Locomotor = WolfWalkLocomotor
    Condition = SET_NORMAL
    Speed     = 25
  End

  Behavior = PhysicsBehavior ModuleTag_04
  End

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL
    SinkDelay = 3000
    SinkRate = 0.80
    DestructionDelay = 12000
  End

  Behavior = SquishCollide ModuleTag_06

  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL

End


Object HorseGrazing_Edain


  Draw = W3DScriptedModelDraw ModuleTag_01

    RandomTexture = NUHorse01.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse02.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse03.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse04.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse05.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse06.tga 0 cuhorse_bnwta.tga

    DefaultModelConditionState
        Model               = NUHorse_SKN
    End
       IdleAnimationState
        StateName                    =   STATE_Idle
        Animation = IdleA
            AnimationName       = NUHorse_SKL.NUHorse_GRZA
            AnimationPriority    = 10
            AnimationMode       = ONCE
        End
        Animation = IdleB
            AnimationName       = NUHorse_SKL.NUHorse_GRZB
            AnimationPriority    = 10
            AnimationMode       = ONCE
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_moving" then CurDrawableSetTransitionAnimState("TRANS_MovingToIdle") end
        EndScript
    End



    AnimationState                = MOVING PANICKING
        Animation                = RUNA
            AnimationName        = NUHorse_SKL.NUHorse_RUNA
            AnimationMode        = LOOP
        End
        Flags                    = RANDOMSTART
    End

    AnimationState            =    MOVING
        StateName            =    STATE_moving
        Animation            =    Moving
            AnimationName    =    NUHorse_SKL.NUHorse_WLKA
            AnimationBlendTime    =    10
            AnimationMustCompleteBlend = Yes
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
        EndScript
    End

    TransitionState                    =    TRANS_MovingToIdle
        Animation                    =   DWNA
            AnimationName            =    NUHorse_SKL.NUHorse_DWNA
            AnimationMode            =    ONCE
        End
    End

    TransitionState                    =    TRANS_IdletoMoving
        Animation                    =   UPA
            AnimationName            =    NUHorse_SKL.NUHorse_UPA
            AnimationMode            =    ONCE
        End
    End

    AnimationState        = DYING
        Animation           = DIEA
              AnimationName     = NUHorse_SKL.NUHorse_DIEA
            AnimationMode     = ONCE
        End
    End
 End



  EditorSorting =     MISC_NATURAL
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 121
  DisplayName = OBJECT:Prop
  CrushableLevel = 2




    SoundAmbient        = HorseWhinnyIdleSinglesLoop

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: HorseMoveFootstepsLoose        Animation: NUHorse_SKL.NUHorse_RUNA        Frames: 0
        AnimationSound = Sound: HorseWhinny                Animation: NUHorse_SKL.NUHorse_DIEA        Frames: 0
        AnimationSound = Sound: BodyFallGenericNoArmor        Animation: NUHorse_SKL.NUHorse_DIEA        Frames: 46
    End



  RadarPriority = NOT_ON_RADAR
  KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER ARMY_SUMMARY

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
  End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        AttackPriority                = AttackPriority_Cavalry
    End


  LocomotorSet
    Locomotor = HorseWalkLocomotor
    Condition = SET_NORMAL
    Speed     = 11
  End

  LocomotorSet
    Locomotor = HorseFleeLocomotor
    Condition = SET_PANIC
    Speed     = 70
  End







  Behavior = PhysicsBehavior ModuleTag_04
  End

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL
    SinkDelay = 3000
    SinkRate = 0.70
    DestructionDelay = 8000
  End

  Behavior = SquishCollide ModuleTag_06

  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 55
  ShadowSizeY = 18
  ShadowTexture = ShadowI

End



ObjectReskin HorseGrazing1_Edain HorseGrazing_Edain


  Draw = W3DScriptedModelDraw ModuleTag_01

    RandomTexture = NUHorse01.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse02.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse03.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse04.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse05.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse06.tga 0 cuhorse_bnwta.tga

    DefaultModelConditionState
        Model               = NuHorse1_SKN
    End
       IdleAnimationState
        StateName                    =   STATE_Idle
        Animation = IdleA
            AnimationName       = NUHorse_SKL.NUHorse_GRZA
            AnimationPriority    = 10
            AnimationMode       = ONCE
        End
        Animation = IdleB
            AnimationName       = NUHorse_SKL.NUHorse_GRZB
            AnimationPriority    = 10
            AnimationMode       = ONCE
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_moving" then CurDrawableSetTransitionAnimState("TRANS_MovingToIdle") end
        EndScript
    End


    AnimationState                = MOVING PANICKING
        Animation                = RUNA
            AnimationName        = NUHorse_SKL.NUHorse_RUNA
            AnimationMode        = LOOP
        End
        Flags                    = RANDOMSTART
    End

    AnimationState            =    MOVING
        StateName            =    STATE_moving
        Animation            =    Moving
            AnimationName    =    NUHorse_SKL.NUHorse_WLKA
            AnimationBlendTime    =    10
            AnimationMustCompleteBlend = Yes
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
        EndScript
    End

    TransitionState                    =    TRANS_MovingToIdle
        Animation                    =   DWNA
            AnimationName            =    NUHorse_SKL.NUHorse_DWNA
            AnimationMode            =    ONCE
        End
    End

    TransitionState                    =    TRANS_IdletoMoving
        Animation                    =   UPA
            AnimationName            =    NUHorse_SKL.NUHorse_UPA
            AnimationMode            =    ONCE
        End
    End

    AnimationState        = DYING
        Animation           = DIEA
              AnimationName     = NUHorse_SKL.NUHorse_DIEA
            AnimationMode     = ONCE
        End
    End
 End

End


ObjectReskin HorseGrazing2_Edain HorseGrazing_Edain


  Draw = W3DScriptedModelDraw ModuleTag_01

    RandomTexture = NUHorse01.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse02.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse03.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse04.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse05.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse06.tga 0 cuhorse_bnwta.tga

    DefaultModelConditionState
        Model               = NuHorse2_SKN
    End
       IdleAnimationState
        StateName                    =   STATE_Idle
        Animation = IdleA
            AnimationName       = NUHorse_SKL.NUHorse_GRZA
            AnimationPriority    = 10
            AnimationMode       = ONCE
        End
        Animation = IdleB
            AnimationName       = NUHorse_SKL.NUHorse_GRZB
            AnimationPriority    = 10
            AnimationMode       = ONCE
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_moving" then CurDrawableSetTransitionAnimState("TRANS_MovingToIdle") end
        EndScript
    End


    AnimationState                = MOVING PANICKING
        Animation                = RUNA
            AnimationName        = NUHorse_SKL.NUHorse_RUNA
            AnimationMode        = LOOP
        End
        Flags                    = RANDOMSTART
    End

    AnimationState            =    MOVING
        StateName            =    STATE_moving
        Animation            =    Moving
            AnimationName    =    NUHorse_SKL.NUHorse_WLKA
            AnimationBlendTime    =    10
            AnimationMustCompleteBlend = Yes
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
        EndScript
    End

    TransitionState                    =    TRANS_MovingToIdle
        Animation                    =   DWNA
            AnimationName            =    NUHorse_SKL.NUHorse_DWNA
            AnimationMode            =    ONCE
        End
    End

    TransitionState                    =    TRANS_IdletoMoving
        Animation                    =   UPA
            AnimationName            =    NUHorse_SKL.NUHorse_UPA
            AnimationMode            =    ONCE
        End
    End

    AnimationState        = DYING
        Animation           = DIEA
              AnimationName     = NUHorse_SKL.NUHorse_DIEA
            AnimationMode     = ONCE
        End
    End
 End
End



ObjectReskin HorseGrazing3_Edain HorseGrazing_Edain


  Draw = W3DScriptedModelDraw ModuleTag_01








    DefaultModelConditionState
        Model               = NuHorse3_SKN
    End
       IdleAnimationState
        StateName                    =   STATE_Idle
        Animation = IdleA
            AnimationName       = NUHorse_SKL.NUHorse_GRZA
            AnimationPriority    = 10
            AnimationMode       = ONCE
        End
        Animation = IdleB
            AnimationName       = NUHorse_SKL.NUHorse_GRZB
            AnimationPriority    = 10
            AnimationMode       = ONCE
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_moving" then CurDrawableSetTransitionAnimState("TRANS_MovingToIdle") end
        EndScript
    End

    AnimationState                = MOVING PANICKING
        Animation                = RUNA
            AnimationName        = NUHorse_SKL.NUHorse_RUNA
            AnimationMode        = LOOP
        End
        Flags                    = RANDOMSTART
    End

    AnimationState            =    MOVING
        StateName            =    STATE_moving
        Animation            =    Moving
            AnimationName    =    NUHorse_SKL.NUHorse_WLKA
            AnimationBlendTime    =    10
            AnimationMustCompleteBlend = Yes
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
        EndScript
    End

    TransitionState                    =    TRANS_MovingToIdle
        Animation                    =   DWNA
            AnimationName            =    NUHorse_SKL.NUHorse_DWNA
            AnimationMode            =    ONCE
        End
    End

    TransitionState                    =    TRANS_IdletoMoving
        Animation                    =   UPA
            AnimationName            =    NUHorse_SKL.NUHorse_UPA
            AnimationMode            =    ONCE
        End
    End

    AnimationState        = DYING
        Animation           = DIEA
              AnimationName     = NUHorse_SKL.NUHorse_DIEA
            AnimationMode     = ONCE
        End
    End
 End

End


ObjectReskin HorseGrazing4_Edain HorseGrazing_Edain


  Draw = W3DScriptedModelDraw ModuleTag_01

    RandomTexture = NUHorse01.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse02.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse03.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse04.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse05.tga 0 cuhorse_bnwta.tga
    RandomTexture = NUHorse06.tga 0 cuhorse_bnwta.tga

    DefaultModelConditionState
        Model               = NuHorse4_SKN
    End
       IdleAnimationState
        StateName                    =   STATE_Idle
        Animation = IdleA
            AnimationName       = NUHorse_SKL.NUHorse_GRZA
            AnimationPriority    = 10
            AnimationMode       = ONCE
        End
        Animation = IdleB
            AnimationName       = NUHorse_SKL.NUHorse_GRZB
            AnimationPriority    = 10
            AnimationMode       = ONCE
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_moving" then CurDrawableSetTransitionAnimState("TRANS_MovingToIdle") end
        EndScript
    End

    AnimationState                = MOVING PANICKING
        Animation                = RUNA
            AnimationName        = NUHorse_SKL.NUHorse_RUNA
            AnimationMode        = LOOP
        End
        Flags                    = RANDOMSTART
    End

    AnimationState            =    MOVING
        StateName            =    STATE_moving
        Animation            =    Moving
            AnimationName    =    NUHorse_SKL.NUHorse_WLKA
            AnimationBlendTime    =    10
            AnimationMustCompleteBlend = Yes
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
        EndScript
    End

    TransitionState                    =    TRANS_MovingToIdle
        Animation                    =   DWNA
            AnimationName            =    NUHorse_SKL.NUHorse_DWNA
            AnimationMode            =    ONCE
        End
    End

    TransitionState                    =    TRANS_IdletoMoving
        Animation                    =   UPA
            AnimationName            =    NUHorse_SKL.NUHorse_UPA
            AnimationMode            =    ONCE
        End
    End

    AnimationState        = DYING
        Animation           = DIEA
              AnimationName     = NUHorse_SKL.NUHorse_DIEA
            AnimationMode     = ONCE
        End
    End
  End
End


Object Steuereintreiber



    SelectPortrait = HPDenethor


    ButtonImage = HIDenethor


    Draw = W3DScriptedModelDraw ModuleTag_DRAW

        OkToChangeModelColor = Yes
        StaticModelLODMode = Yes

        RandomTexture = gusteuereintreiber.tga  0 zunit_denethor.tga

        DefaultModelConditionState
            Model               = gudenethor
        End







    AnimationState                        = SPECIAL_WEAPON_TWO
        Animation
            AnimationName                 = GUBoromir_SKL.GUBoromir_CHRA
            AnimationMode                 = LOOP
        End
    End


        AnimationState        = SPECIAL_WEAPON_THREE
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_ATKA
                AnimationMode     = ONCE
            End
        End



        IdleAnimationState
            StateName = Idle
            Animation           = IDLB
                AnimationName     = GUBoromir_SKL.GUBoromir_IDLB
                AnimationMode     = ONCE
                AnimationPriority   = 20
            End
            Animation           = IDLD
                AnimationName     = GUBoromir_SKL.GUBoromir_IDLD
                AnimationMode     = ONCE
                AnimationPriority   = 1
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
            EndScript
        End

        TransitionState       = Trans_None_To_Sword
            Animation           = GUBoromir_STHA
                AnimationName     = GUBoromir_SKL.GUBoromir_STHA
                AnimationMode     = ONCE
            End
        End
        TransitionState       = Trans_Sword_To_None
            Animation           = GUBoromir_STHB
                AnimationName     = GUBoromir_SKL.GUBoromir_STHB
                AnimationMode     = ONCE
            End
        End

        AnimationState        = STUNNED_FLAILING
            Flags               = RANDOMSTART
            Animation           = GUBoromir_FLYA
                AnimationName     = GUBoromir_SKL.GUBoromir_FLYA
                AnimationMode     = LOOP
            End
        End




        AnimationState        = DYING SPLATTED
            Animation           = GUBoromir_LNDA
                AnimationName     = GUBoromir_SKL.GUBoromir_LNDA
                AnimationMode     = ONCE
            End
        End
        AnimationState        = DYING AFLAME
            Animation = DieAflame
                AnimationName       = GUBoromir_SKL.GUBoromir_MFDA
                AnimationMode       = LOOP
            End
        End
        AnimationState        = DYING
            Animation           = GUBoromir_DTHA
                AnimationName     = GUBoromir_SKL.GUBoromir_DTHA
                AnimationMode     = ONCE
            End
        End

        AnimationState                = DYING BURNINGDEATH
            Animation = DieAflame
                AnimationName       = GUBoromir_SKL.GUBoromir_MFDA
                AnimationMode       = LOOP
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = GUBoromir_IDLB
                AnimationMode                = LOOP
            End
        End


        AnimationState        = STUNNED_STANDING_UP
            Animation           = GUBoromir_GTPA
                AnimationName     = GUBoromir_SKL.GUBoromir_GTPA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.3 1.3
            End
        End
        AnimationState        = STUNNED
            Animation           = GUBoromir_LNDA
                AnimationName     = GUBoromir_SKL.GUBoromir_LNDA
                AnimationMode     = ONCE
            End
        End

        AnimationState        = PACKING_TYPE_2
            StateName          =    CaptainPower
            Animation           = GUBoromir_CHRA
                AnimationName     = GUBoromir_SKL.GUBoromir_CHRA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.2 1.2
            End
        End


        AnimationState        = UNPACKING SPECIAL_POWER_1
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_HRNA
                AnimationMode     = ONCE
            End
        End
        AnimationState        = PREPARING SPECIAL_POWER_1
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_HRNB
                AnimationMode     = ONCE
            End
            EnteringStateFX = FX_BoromirHorn
        End
        AnimationState        = PACKING SPECIAL_POWER_1
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_HRNC
                AnimationMode     = ONCE
            End
        End
        AnimationState        = SPECIAL_POWER_1
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_HRNB
                AnimationMode     = LOOP
            End
        End


        AnimationState        = UNPACKING SPECIAL_WEAPON_ONE
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_SPCA
                AnimationMode     = ONCE
            End
        End
        AnimationState        = PREPARING SPECIAL_WEAPON_ONE
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_SPCB
                AnimationMode     = ONCE
            End
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_SPCC
                AnimationMode     = ONCE
            End
        EnteringStateFX = FX_BoromirHorn
        End
        AnimationState        = PACKING SPECIAL_WEAPON_ONE
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_SPCE
                AnimationMode     = ONCE
            End
        End
        AnimationState        = SPECIAL_WEAPON_ONE
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_SPCB
                AnimationMode     = ONCE
            End
            Animation
                AnimationName     = GUBoromir_SKL.GUBoromir_SPCC
                AnimationMode     = ONCE
            End
        End


        AnimationState        = MOVING WANDER WEAPONSTATE_CLOSE_RANGE
            StateName           = WithSword

            Animation           = GUBoromir_WLKA
                AnimationName     = GUBoromir_SKL.GUBoromir_WLKA
                AnimationMode     = LOOP
            End
        End


















        AnimationState        = MOVING WANDER

            Animation           = GUBoromir_WLKA
                AnimationName     = GUBoromir_SKL.GUBoromir_WLKA
                AnimationMode     = LOOP
            End
        End


        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = GUBoromir_SKL.GUBoromir_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End


        AnimationState        = MOVING

            Flags               = RANDOMSTART
            Animation           = GUBoromir_RUNB
                AnimationName     = GUBoromir_SKL.GUBoromir_RUNA
                AnimationMode     = LOOP
            End
        End



        AnimationState        = FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
            StateName           = WithSword
            Animation           = ATKA
                AnimationName     = GUBoromir_SKL.GUBoromir_ATKA
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            Animation           = ATKB
                AnimationName    = GUBoromir_SKL.GUBoromir_ATKB
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
        End

        AnimationState        = FIRING_OR_PREATTACK_A
            Animation           = GUBoromir_ATD1
                AnimationName     = GUBoromir_SKL.GUBoromir_ATKB
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
        End














        AnimationState        = ATTACKING
            Animation           = ALERT_1
                AnimationName     = GUBoromir_SKL.GUBoromir_IDLA
                AnimationMode     = LOOP
            End

        End


        TransitionState                    =    TRANS_Idle_to_Selected
            Animation                    =    ATND
                AnimationName            =    GUBoromir_SKL.GUBoromir_ATND
                AnimationMode            =    ONCE
            End
        End

        TransitionState                    =    TRANS_Selected_To_Idle
            Animation                    =    ATNE
                AnimationName            =    GUBoromir_SKL.GUBoromir_ATNE
                AnimationMode            =    ONCE
            End
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = GUBoromir_SKL.GUBoromir_CHRA
                AnimationMode        = ONCE
            End
        End

        AnimationState            = RAISING_FLAG
            Animation           = CHRA
                AnimationName   = GUBoromir_SKL.GUBoromir_CHRA
                AnimationMode   = Once
            End
            Animation           = CHRB
                AnimationName   = GUBoromir_SKL.GUBoromir_CHRB
                AnimationMode   = Once
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                =    SELECTED
            StateName                =    Selected
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =    GUBoromir_SKL.GUBoromir_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
            EndScript
        End


        AnimationState            = EMOTION_TAUNTING
            Animation           = CHRA
                AnimationName   = GUBoromir_SKL.GUBoromir_CHRA
                AnimationMode   = Once
            End
        End

        AnimationState            = EMOTION_CELEBRATING
            Animation           = CHRB
                AnimationName   = GUBoromir_SKL.GUBoromir_CHRB
                AnimationMode   = Once
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                    = EMOTION_ALERT EMOTION_MORALE_HIGH
            Animation                    = Taunting
                AnimationName            =  GUBoromir_SKL.GUBoromir_TNTB
                AnimationMode            = ONCE
            End
            Flags                        = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState        = EMOTION_ALERT
            Animation           = ALERT_1
                AnimationName     = GUBoromir_SKL.GUBoromir_IDLA
                AnimationMode     = LOOP
            End

        End



        AnimationState = HIT_REACTION HIT_LEVEL_1
            Animation = Hit_Level_1_a
                AnimationName = GUBoromir_SKL.GUBoromir_HITA
                AnimationMode = ONCE
            End
        End

    End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End




    Side = Men
    EditorSorting = UNIT
    ThreatLevel = ARAGORN_THREAT_LEVEL
    ThingClass = CHARACTER_UNIT
    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO

    DisplayMeleeDamage = 150

    HeroSortOrder = 20

    BuildCost = DENETHOR_BUILDCOST
    BuildTime = DENETHOR_BUILDTIME
    MaxSimultaneousOfType = 1
     ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG

    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    DenethorWeapon
    End

    ArmorSet
        Conditions        = None
        Armor           = EdainSupportHeroArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = 200
    ShroudClearingRange = 300
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue = GONDOR_ARAGORN_BOUNTY_VALUE
    DisplayName = OBJECT:Steuereintreiber
    Hotkey        = CONTROLBAR:SteuereintreiberHotkey
    CrushableLevel = 2



    CommandSet = GondorDenethorNewCommandSet
    CommandPoints = GONDOR_DENETHOR_COMMAND_POINTS



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_AragornBody

    AutoResolveArmor
        Armor = AutoResolve_AragornArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_AragornWeapon
    End

    AutoResolveLeadership = AutoResolve_AragornBonus




    VoiceAttack                    = DenethorVoiceAttack
    VoiceAttackStructure            = DenethorVoiceAttack
    VoiceAttackMachine            = DenethorVoiceAttack
    VoiceAttackCharge                = DenethorVoiceAttack
    VoiceEnterStateAttack            = DenethorVoiceAttack
    VoiceEnterStateAttackStructure    = DenethorVoiceAttack
    VoiceEnterStateAttackMachine        = DenethorVoiceAttack
    VoiceEnterStateAttackCharge        = DenethorVoiceAttack
    VoiceCreated                    = DenethorVoiceSalute
    VoiceFullyCreated               = DenethorVoiceSalute
    VoiceFear                     = DenethorVoiceHelpMe
    VoiceMove                    = DenethorVoiceMove
    VoiceMoveToCamp                = DenethorVoiceMove
    VoiceMoveWhileAttacking            = DenethorVoiceMove
    VoiceEnterStateMove            = DenethorVoiceMove
    VoiceEnterStateMoveToCamp        = DenethorVoiceMove
    VoiceEnterStateMoveWhileAttacking    = DenethorVoiceMove
    VoicePriority                = 90
    VoiceRetreatToCastle            = DenethorVoiceSelect
    VoiceEnterStateRetreatToCastle    = DenethorVoiceSelect
    VoiceSelect                    = DenethorVoiceSelect
    VoiceSelectBattle                = DenethorVoiceSelect
    VoiceGuard                    = DenethorVoiceMove

    SoundImpact                    = ImpactHorse




    UnitSpecificSounds
        VoiceEnterUnitElvenTransportShip    = DenethorVoiceMove
        VoiceGarrison                        = DenethorVoiceSelect
        VoiceInitiateCaptureBuilding        = DenethorVoiceMove
    End

    CrowdResponseKey = GoodMen



    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Man Man_Male Unit Infantry Hero

    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE HERO COMMANDCENTER ARMY_SUMMARY HEAVY_MELEE_HITTER
    PathfindDiameter = 40.0

    Body = RespawnBody ModuleTag_RespawnBody
        CheerRadius               = EMOTION_CHEER_RADIUS
        MaxHealth                 = 500
        PermanentlyKilledByFilter = NONE
        DodgePercent              = HERO_DODGE_PERCENT
        BurningDeathBehavior      = Yes
        BurningDeathFX            = FX_InfantryBurningFlame
    End



    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

    Behavior = AnnounceBirthAndDeathBehavior ModuleTag_AnnounceBirthAndDeathBehavior
    End




    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate        = 500
        AILuaEventsList            = KaserneFunctions
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance                = 300
        TauntAndPointUpdateDelay            = 10000
        AddEmotion            =    Doom_Base



        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
         AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base


        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
    End

    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = 40
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 2133
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000

    End

    Behavior = SquishCollide ModuleTag_06

    End



    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 100
        HitReactionLifeTimer2 = 1000
        HitReactionLifeTimer3 = 1993

        HitReactionThreshold1 = 0.0
        HitReactionThreshold2 = 25.0
        HitReactionThreshold3 = 50.0
    End



    Behavior = AutoHealBehavior ModuleTag_ElvenGiftHealing
        StartsActive                = No
        TriggeredBy                    = Upgrade_ElvenGift
        HealingAmount                = ELVEN_GIFT_REGEN_AMOUNT
        HealingDelay                = ELVEN_GIFT_REGEN_DELAY
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End


    Behavior = AutoHealBehavior ModuleTag_AragornHealing
        StartsActive = Yes
        HealingAmount = HERO_HEAL_AMOUNT
        HealingDelay = 1000
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = SubObjectsUpgrade ModuleTag_HideALL
        TriggeredBy       = Upgrade_Level_1
        HideSubObjects    = FIREBRAND
    End

    Behavior = SubObjectsUpgrade ModuleTag_ShowALL
        TriggeredBy       = Upgrade_Level_2
        ShowSubObjects    = FIREBRAND
    End








    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes
    Shadow = SHADOW_DECAL
    ShadowSizeX = 20
    ShadowSizeY = 20
    ShadowTexture = ShadowI
End


Object Rauber1


    SelectPortrait         = UPIsengardVerraeter
    ButtonImage            = HSIsengardVerraeter

  Draw = W3DHordeModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    StaticModelLODMode = Yes


        WadingParticleSys = WaterRipplesTrail

        ExtraPublicBone = SPEAR

        RandomTexture = iuverraeter2.tga 0 iuverraeter2.tga

        DefaultModelConditionState
            Model    = iuverraeter_skb
            WeaponLaunchBone = PRIMARY SPEAR
        End




        IdleAnimationState
            Animation                = IDLB
                AnimationName        = RUEowyn_SKL.RUEowyn_IDLB
                AnimationMode        = ONCE
                AnimationPriority   = 20
            End
            Animation                = IDLC
                AnimationName        = RUEowyn_SKL.RUEowyn_IDLC
                AnimationMode        = ONCE
                AnimationPriority   = 1
            End
            Animation                = IDLD
                AnimationName        = RUEowyn_SKL.RUEowyn_IDLD
                AnimationMode        = ONCE
                AnimationPriority   = 1
            End
            StateName                = Idle
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
            EndScript

        End


        AnimationState            = STUNNED_FLAILING
            Flags               = RANDOMSTART
            Animation           = RUEowyn_FLYA
                AnimationName   = RUEowyn_SKL.RUEowyn_FLYA
                AnimationMode   = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            StateName           = NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState                =    DYING SPLATTED
            Animation                =    RUEowyn_LNDA
                AnimationName        =    RUEowyn_SKL.RUEowyn_LNDA
                AnimationMode        =    ONCE
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End
        AnimationState                =    DYING
            Animation                =    RUEowyn_DIEA
                AnimationName        =    RUEowyn_SKL.RUEowyn_DIEA
                AnimationMode        =    ONCE
                AnimationPriority   =   10
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End




        AnimationState            = STUNNED_STANDING_UP
            Animation           = RUEowyn_GTPA
                AnimationName   = RUEowyn_SKL.RUEowyn_GTPA
                AnimationMode   = ONCE
                AnimationSpeedFactorRange= 1.5 1.5
            End
        End
        AnimationState            = STUNNED
            Animation           = RUEowyn_LNDA
                AnimationName   = RUEowyn_SKL.RUEowyn_LNDA
                AnimationMode   = ONCE
            End
            StateName           = NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = RUEowyn_SKL.RUEowyn_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                =    MOVING ATTACKING
            Flags                    =    RANDOMSTART

            Animation                =    RUNB
                AnimationName        =    RUEowyn_SKL.RUEowyn_RUNB
                AnimationMode        =    LOOP
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState                =    MOVING

            Flags                    =    RANDOMSTART
            Animation                =    RUNA
                AnimationName        =    RUEowyn_SKL.RUEowyn_RUNA
                AnimationMode        =    LOOP
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = RUEowyn_IDLB
                AnimationMode                = LOOP
            End
        End


        AnimationState                =    FIRING_OR_PREATTACK_A
            StateName                =    Sword
            Animation                =    ATKA
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATKA
                AnimationMode        =    ONCE


                UseWeaponTiming        =    Yes
            End
            Animation                =    ATKB
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATKB
                AnimationMode        =    ONCE


                UseWeaponTiming        =    Yes
            End
            Animation                =    ATKC
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATKC
                AnimationMode        =    ONCE


                UseWeaponTiming        =    Yes
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        =  SPECIAL_WEAPON_ONE
            StateName = Attacking_throw
            Animation
                AnimationName        = RUEowyn_SKL.RUEowyn_ATKD
                AnimationMode       = ONCE
                AnimationBlendTime    = 0
            End
            BeginScript
                CurDrawableShowSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        =  FIRING_OR_PREATTACK_C
            Animation           = ATKD
                AnimationName     = RUEowyn_SKL.RUEowyn_ATKD
                AnimationMode     = ONCE

            End
            FrameForPristineBonePositions = 42
            BeginScript
                CurDrawableShowSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        =  SPECIAL_WEAPON_TWO
            StateName = Attacking_throw
            Animation
                AnimationName        = RUEowyn_SKL.RUEowyn_ATKD
                AnimationMode       = ONCE
                AnimationBlendTime    = 0
            End
        End


        AnimationState        = ATTACKING
            Animation           = ALERT_1
                AnimationName     = RUEowyn_SKL.RUEowyn_IDLA
                AnimationMode     = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
            Flags               = RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState            = HIT_REACTION HIT_LEVEL_1
            StateName            = STATE_Bored_Sword
            Animation            = Hit_Level_1_A
                AnimationName    = RUEowyn_SKL.RUEowyn_HITA
                AnimationMode    = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End


        TransitionState                    =    TRANS_Idle_to_Selected
            Animation                    =    ATNC
                AnimationName            =    RUEowyn_SKL.RUEowyn_ATNA
                AnimationMode            =    ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        TransitionState                    =    TRANS_Selected_To_Idle
            Animation                    =    ATNE
                AnimationName            =    RUEowyn_SKL.RUEowyn_ATNC
                AnimationMode            =    ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = RUEowyn_SKL.RUEowyn_TNTB
                AnimationMode        = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                = RAISING_FLAG
            Animation                = LevelUp
                AnimationName        = RUEowyn_SKL.RUEowyn_CHRA
                AnimationMode        = LOOP
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                =    SELECTED
            StateName                =    Selected
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
            EndScript
        End


        AnimationState                =    EMOTION_CELEBRATING
            Animation                =    CHRA
                AnimationName        =    RUEowyn_SKL.RUEowyn_CHRA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                    = EMOTION_TAUNTING
            Animation                    = Taunting
                AnimationName            =  RUEowyn_SKL.RUEowyn_TNTB
                AnimationMode            = ONCE
            End
            Flags                        = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        = EMOTION_ALERT
            Animation           = ALERT_1
                AnimationName     = RUEowyn_SKL.RUEowyn_IDLA
                AnimationMode     = ONCE
            End
            Flags               = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
         End

    End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End




    Side           = Men
    EditorSorting  = UNIT
    ThreatLevel    = 1.0
    ThingClass     = CHARACTER_UNIT
    CommandPoints  = 0

    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

    WeaponSet
        Conditions     = None
        Weapon         = PRIMARY    IsengardWildmanCudgelMod
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    ArmorSet
        Conditions      = None
        Armor           = EdainLightInfantryArmor
        DamageFX        = NormalDamageFX
    End



    ShroudClearingRange = 300
    VisionRange = 200

    VisionSide = 35%
    VisionRear = 25%

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 2.0%

    DisplayName = OBJECT:Rauber
    CrushableLevel = 1
    CrusherLevel = 0

    CommandSet        = RauberCommandSet



    VoiceAttack                            = WildMenVoiceAttack
    VoiceAttackCharge                    = WildMenVoiceAttackCharge
    VoiceAttackMachine                    = WildMenVoiceAttack
    VoiceAttackStructure                = WildMenVoiceAttackBuilding
    VoiceGuard                            = WildMenVoiceMove
    VoiceMove                            = WildMenVoiceMove
    VoiceMoveToCamp                        = WildMenVoiceMoveCamp
    VoiceMoveWhileAttacking                = WildMenVoiceMove
    VoicePriority                        = 32
    VoiceRetreatToCastle                = WildMenVoiceMove
    VoiceSelect                            = WildMenVoiceSelectMS
    VoiceSelectBattle                     = WildMenVoiceSelectBattle

    SoundImpact                            = ImpactHorse

    UnitSpecificSounds
        VoiceEnterUnitEvilMenTransportShip    = WildMenVoiceMoveShip
        VoiceEnterUnitMordorMumakil            = WildMenVoiceMoveGarrison
        VoiceEnterUnitSlaughterHouse        = WildMenVoiceMoveGarrison
        VoiceFullyCreatedFromInn            = EVA:WildMenCreated
        VoiceGarrison                        = WildMenVoiceMoveGarrison
        VoiceInitiateCaptureBuilding        = WildMenVoiceCaptureBuilding
    End

    CrowdResponseKey = EvilMen1

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallGeneric1            Animation:IUWILDMAN_SKL.IUWILDMAN_LNDA    Frames:6
        AnimationSound = Sound:BodyFallGeneric2            Animation:IUWILDMAN_SKL.IUWILDMAN_DTHA    Frames:48
        AnimationSound = Sound:BodyFallGeneric1            Animation:IUWILDMAN_SKL.IUWILDMAN_DTHB    Frames:44
        AnimationSound = Sound:BodyFallGeneric2            Animation:IUWILDMAN_SKL.IUWILDMAN_DTHC    Frames:37


    End

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:EMOTION_CELEBRATING    Excluded:DYING ENGAGED    Sound:EmotionMenEvilCompilationVoxCheerSinglesLoop
        ModelCondition = Required:EMOTION_TAUNTING        Excluded:DYING ENGAGED    Sound:EmotionMenEvilCompilationVoxTauntSinglesLoop
        ModelCondition = Required:EMOTION_POINTING        Excluded:DYING ENGAGED    Sound:EmotionMenEvilCompilationVoxTauntSinglesLoop
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionMenEvilCompilationVoxTauntSinglesLoop
    End


    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Man Man_Male WildMan
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_USE_SIEGE_TOWER

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End


    Body = ActiveBody ModuleTag_02
        MaxHealth         = 90
        MaxHealthDamaged  = 40
        BurningDeathBehavior = Yes
        BurningDeathFX         = FX_InfantryBurningFlame
    End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate        = 500
        AILuaEventsList               =    IsengardWildmanFunctions
        BurningDeathTime            =    BURNINGDEATH_DURATION_INFANTRY
    End

    LocomotorSet
        Locomotor     = HumanLocomotor
        Condition     = SET_NORMAL
        Speed         = NORMAL_EVIL_FAST_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor = BurningDeathLocomotorInfantry
        Condition = SET_BURNINGDEATH
        Speed      = BURNINGDEATH_WANDERSPEED_INFANTRY
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime        = 2066
    End

    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes     = ALL -FADED -EXTRA_8
        SinkDelay     = 3000
        SinkRate     = 0.40
        DestructionDelay = 8000
        Sound         = INITIAL ManEvilGenericVoiceDie
    End

      Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes             = NONE +FADED
        FadeDelay            = 0
        FadeTime            = 3000
        DestructionDelay        = 3000
        DeathFlags            = DEATH_2
        FX     = INITIAL FX_WildMenUnsummon
        Sound     = INITIAL SpellGenericUnsummonFasterMS
    End

    Behavior = SquishCollide ModuleTag_06

    End


    Behavior = SpecialPowerModule ModuleTag_CaptureBuilding
        SpecialPowerTemplate        = SpecialAbilityCaptureBuilding
        UpdateModuleStartsAttack    = Yes
        StartsPaused                = No
    End
    Behavior = SpecialAbilityUpdate ModuleTag_CaptureBuildingUpdate
        SpecialPowerTemplate        = SpecialAbilityCaptureBuilding
        StartAbilityRange            = 15.0
        UnpackTime                    = 1
        PreparationTime                = 15000
        PackTime                    = 1
        DoCaptureFX                    = Yes
    End



    Behavior = SubObjectsUpgrade Torches_Upgrade
        TriggeredBy       = Upgrade_Level_1
        HideSubObjects    = FORGED_SWORD FORGED_AXE SWORD SHIELD MANTEL
    End




  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 19
  ShadowSizeY = 19
  ShadowTexture = ShadowI
End

ObjectReskin Rauber2 Rauber1

  Draw = W3DHordeModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    StaticModelLODMode = Yes


        WadingParticleSys = WaterRipplesTrail

        ExtraPublicBone = SPEAR

        RandomTexture = iuverraeter3.tga 0 iuverraeter2.tga

        DefaultModelConditionState
            Model    = iuverraeter_skb
            WeaponLaunchBone = PRIMARY SPEAR
        End




        IdleAnimationState
            Animation                = IDLB
                AnimationName        = RUEowyn_SKL.RUEowyn_IDLB
                AnimationMode        = ONCE
                AnimationPriority   = 20
            End
            Animation                = IDLC
                AnimationName        = RUEowyn_SKL.RUEowyn_IDLC
                AnimationMode        = ONCE
                AnimationPriority   = 1
            End
            Animation                = IDLD
                AnimationName        = RUEowyn_SKL.RUEowyn_IDLD
                AnimationMode        = ONCE
                AnimationPriority   = 1
            End
            StateName                = Idle
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
            EndScript

        End


        AnimationState            = STUNNED_FLAILING
            Flags               = RANDOMSTART
            Animation           = RUEowyn_FLYA
                AnimationName   = RUEowyn_SKL.RUEowyn_FLYA
                AnimationMode   = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            StateName           = NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState                =    DYING SPLATTED
            Animation                =    RUEowyn_LNDA
                AnimationName        =    RUEowyn_SKL.RUEowyn_LNDA
                AnimationMode        =    ONCE
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End
        AnimationState                =    DYING
            Animation                =    RUEowyn_DIEA
                AnimationName        =    RUEowyn_SKL.RUEowyn_DIEA
                AnimationMode        =    ONCE
                AnimationPriority   =   10
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End




        AnimationState            = STUNNED_STANDING_UP
            Animation           = RUEowyn_GTPA
                AnimationName   = RUEowyn_SKL.RUEowyn_GTPA
                AnimationMode   = ONCE
                AnimationSpeedFactorRange= 1.5 1.5
            End
        End
        AnimationState            = STUNNED
            Animation           = RUEowyn_LNDA
                AnimationName   = RUEowyn_SKL.RUEowyn_LNDA
                AnimationMode   = ONCE
            End
            StateName           = NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = RUEowyn_SKL.RUEowyn_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                =    MOVING ATTACKING
            Flags                    =    RANDOMSTART

            Animation                =    RUNB
                AnimationName        =    RUEowyn_SKL.RUEowyn_RUNB
                AnimationMode        =    LOOP
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState                =    MOVING

            Flags                    =    RANDOMSTART
            Animation                =    RUNA
                AnimationName        =    RUEowyn_SKL.RUEowyn_RUNA
                AnimationMode        =    LOOP
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = RUEowyn_IDLB
                AnimationMode                = LOOP
            End
        End


        AnimationState                =    FIRING_OR_PREATTACK_A
            StateName                =    Sword
            Animation                =    ATKA
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATKA
                AnimationMode        =    ONCE


                UseWeaponTiming        =    Yes
            End
            Animation                =    ATKB
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATKB
                AnimationMode        =    ONCE


                UseWeaponTiming        =    Yes
            End
            Animation                =    ATKC
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATKC
                AnimationMode        =    ONCE


                UseWeaponTiming        =    Yes
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        =  SPECIAL_WEAPON_ONE
            StateName = Attacking_throw
            Animation
                AnimationName        = RUEowyn_SKL.RUEowyn_ATKD
                AnimationMode       = ONCE
                AnimationBlendTime    = 0
            End
            BeginScript
                CurDrawableShowSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        =  FIRING_OR_PREATTACK_C
            Animation           = ATKD
                AnimationName     = RUEowyn_SKL.RUEowyn_ATKD
                AnimationMode     = ONCE

            End
            FrameForPristineBonePositions = 42
            BeginScript
                CurDrawableShowSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        =  SPECIAL_WEAPON_TWO
            StateName = Attacking_throw
            Animation
                AnimationName        = RUEowyn_SKL.RUEowyn_ATKD
                AnimationMode       = ONCE
                AnimationBlendTime    = 0
            End
        End


        AnimationState        = ATTACKING
            Animation           = ALERT_1
                AnimationName     = RUEowyn_SKL.RUEowyn_IDLA
                AnimationMode     = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
            Flags               = RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState            = HIT_REACTION HIT_LEVEL_1
            StateName            = STATE_Bored_Sword
            Animation            = Hit_Level_1_A
                AnimationName    = RUEowyn_SKL.RUEowyn_HITA
                AnimationMode    = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End


        TransitionState                    =    TRANS_Idle_to_Selected
            Animation                    =    ATNC
                AnimationName            =    RUEowyn_SKL.RUEowyn_ATNA
                AnimationMode            =    ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        TransitionState                    =    TRANS_Selected_To_Idle
            Animation                    =    ATNE
                AnimationName            =    RUEowyn_SKL.RUEowyn_ATNC
                AnimationMode            =    ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = RUEowyn_SKL.RUEowyn_TNTB
                AnimationMode        = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                = RAISING_FLAG
            Animation                = LevelUp
                AnimationName        = RUEowyn_SKL.RUEowyn_CHRA
                AnimationMode        = LOOP
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                =    SELECTED
            StateName                =    Selected
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
            EndScript
        End


        AnimationState                =    EMOTION_CELEBRATING
            Animation                =    CHRA
                AnimationName        =    RUEowyn_SKL.RUEowyn_CHRA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                    = EMOTION_TAUNTING
            Animation                    = Taunting
                AnimationName            =  RUEowyn_SKL.RUEowyn_TNTB
                AnimationMode            = ONCE
            End
            Flags                        = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        = EMOTION_ALERT
            Animation           = ALERT_1
                AnimationName     = RUEowyn_SKL.RUEowyn_IDLA
                AnimationMode     = ONCE
            End
            Flags               = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
         End

    End

    Behavior = SubObjectsUpgrade Torches_Upgrade
        TriggeredBy       = Upgrade_Level_1
        HideSubObjects    = FORGED_SWORD FORGED_AXE AXE SHIELD MANTEL
    End

End

ObjectReskin Rauber3 Rauber1

  Draw = W3DHordeModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    StaticModelLODMode = Yes


        WadingParticleSys = WaterRipplesTrail

        ExtraPublicBone = SPEAR

        RandomTexture = iuverraeter4.tga 0 iuverraeter2.tga

        DefaultModelConditionState
            Model    = iuverraeter_skb
            WeaponLaunchBone = PRIMARY SPEAR
        End




        IdleAnimationState
            Animation                = IDLB
                AnimationName        = RUEowyn_SKL.RUEowyn_IDLB
                AnimationMode        = ONCE
                AnimationPriority   = 20
            End
            Animation                = IDLC
                AnimationName        = RUEowyn_SKL.RUEowyn_IDLC
                AnimationMode        = ONCE
                AnimationPriority   = 1
            End
            Animation                = IDLD
                AnimationName        = RUEowyn_SKL.RUEowyn_IDLD
                AnimationMode        = ONCE
                AnimationPriority   = 1
            End
            StateName                = Idle
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
            EndScript

        End


        AnimationState            = STUNNED_FLAILING
            Flags               = RANDOMSTART
            Animation           = RUEowyn_FLYA
                AnimationName   = RUEowyn_SKL.RUEowyn_FLYA
                AnimationMode   = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            StateName           = NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState                =    DYING SPLATTED
            Animation                =    RUEowyn_LNDA
                AnimationName        =    RUEowyn_SKL.RUEowyn_LNDA
                AnimationMode        =    ONCE
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End
        AnimationState                =    DYING
            Animation                =    RUEowyn_DIEA
                AnimationName        =    RUEowyn_SKL.RUEowyn_DIEA
                AnimationMode        =    ONCE
                AnimationPriority   =   10
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End




        AnimationState            = STUNNED_STANDING_UP
            Animation           = RUEowyn_GTPA
                AnimationName   = RUEowyn_SKL.RUEowyn_GTPA
                AnimationMode   = ONCE
                AnimationSpeedFactorRange= 1.5 1.5
            End
        End
        AnimationState            = STUNNED
            Animation           = RUEowyn_LNDA
                AnimationName   = RUEowyn_SKL.RUEowyn_LNDA
                AnimationMode   = ONCE
            End
            StateName           = NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = RUEowyn_SKL.RUEowyn_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                =    MOVING ATTACKING
            Flags                    =    RANDOMSTART

            Animation                =    RUNB
                AnimationName        =    RUEowyn_SKL.RUEowyn_RUNB
                AnimationMode        =    LOOP
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState                =    MOVING

            Flags                    =    RANDOMSTART
            Animation                =    RUNA
                AnimationName        =    RUEowyn_SKL.RUEowyn_RUNA
                AnimationMode        =    LOOP
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = RUEowyn_IDLB
                AnimationMode                = LOOP
            End
        End


        AnimationState                =    FIRING_OR_PREATTACK_A
            StateName                =    Sword
            Animation                =    ATKA
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATKA
                AnimationMode        =    ONCE


                UseWeaponTiming        =    Yes
            End
            Animation                =    ATKB
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATKB
                AnimationMode        =    ONCE


                UseWeaponTiming        =    Yes
            End
            Animation                =    ATKC
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATKC
                AnimationMode        =    ONCE


                UseWeaponTiming        =    Yes
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        =  SPECIAL_WEAPON_ONE
            StateName = Attacking_throw
            Animation
                AnimationName        = RUEowyn_SKL.RUEowyn_ATKD
                AnimationMode       = ONCE
                AnimationBlendTime    = 0
            End
            BeginScript
                CurDrawableShowSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        =  FIRING_OR_PREATTACK_C
            Animation           = ATKD
                AnimationName     = RUEowyn_SKL.RUEowyn_ATKD
                AnimationMode     = ONCE

            End
            FrameForPristineBonePositions = 42
            BeginScript
                CurDrawableShowSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        =  SPECIAL_WEAPON_TWO
            StateName = Attacking_throw
            Animation
                AnimationName        = RUEowyn_SKL.RUEowyn_ATKD
                AnimationMode       = ONCE
                AnimationBlendTime    = 0
            End
        End


        AnimationState        = ATTACKING
            Animation           = ALERT_1
                AnimationName     = RUEowyn_SKL.RUEowyn_IDLA
                AnimationMode     = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
            Flags               = RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState            = HIT_REACTION HIT_LEVEL_1
            StateName            = STATE_Bored_Sword
            Animation            = Hit_Level_1_A
                AnimationName    = RUEowyn_SKL.RUEowyn_HITA
                AnimationMode    = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End


        TransitionState                    =    TRANS_Idle_to_Selected
            Animation                    =    ATNC
                AnimationName            =    RUEowyn_SKL.RUEowyn_ATNA
                AnimationMode            =    ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        TransitionState                    =    TRANS_Selected_To_Idle
            Animation                    =    ATNE
                AnimationName            =    RUEowyn_SKL.RUEowyn_ATNC
                AnimationMode            =    ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = RUEowyn_SKL.RUEowyn_TNTB
                AnimationMode        = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                = RAISING_FLAG
            Animation                = LevelUp
                AnimationName        = RUEowyn_SKL.RUEowyn_CHRA
                AnimationMode        = LOOP
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                =    SELECTED
            StateName                =    Selected
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
            EndScript
        End


        AnimationState                =    EMOTION_CELEBRATING
            Animation                =    CHRA
                AnimationName        =    RUEowyn_SKL.RUEowyn_CHRA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                    = EMOTION_TAUNTING
            Animation                    = Taunting
                AnimationName            =  RUEowyn_SKL.RUEowyn_TNTB
                AnimationMode            = ONCE
            End
            Flags                        = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        = EMOTION_ALERT
            Animation           = ALERT_1
                AnimationName     = RUEowyn_SKL.RUEowyn_IDLA
                AnimationMode     = ONCE
            End
            Flags               = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
         End

    End

    Behavior = SubObjectsUpgrade Torches_Upgrade
        TriggeredBy       = Upgrade_Level_1
        HideSubObjects    = FORGED_SWORD FORGED_AXE SWORD SHIELD
    End

End

ObjectReskin Rauber4 Rauber1

  Draw = W3DHordeModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    StaticModelLODMode = Yes


        WadingParticleSys = WaterRipplesTrail

        ExtraPublicBone = SPEAR

        RandomTexture = iuverraeter5.tga 0 iuverraeter2.tga

        DefaultModelConditionState
            Model    = iuverraeter_skb
            WeaponLaunchBone = PRIMARY SPEAR
        End




        IdleAnimationState
            Animation                = IDLB
                AnimationName        = RUEowyn_SKL.RUEowyn_IDLB
                AnimationMode        = ONCE
                AnimationPriority   = 20
            End
            Animation                = IDLC
                AnimationName        = RUEowyn_SKL.RUEowyn_IDLC
                AnimationMode        = ONCE
                AnimationPriority   = 1
            End
            Animation                = IDLD
                AnimationName        = RUEowyn_SKL.RUEowyn_IDLD
                AnimationMode        = ONCE
                AnimationPriority   = 1
            End
            StateName                = Idle
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
            EndScript

        End


        AnimationState            = STUNNED_FLAILING
            Flags               = RANDOMSTART
            Animation           = RUEowyn_FLYA
                AnimationName   = RUEowyn_SKL.RUEowyn_FLYA
                AnimationMode   = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            StateName           = NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState                =    DYING SPLATTED
            Animation                =    RUEowyn_LNDA
                AnimationName        =    RUEowyn_SKL.RUEowyn_LNDA
                AnimationMode        =    ONCE
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End
        AnimationState                =    DYING
            Animation                =    RUEowyn_DIEA
                AnimationName        =    RUEowyn_SKL.RUEowyn_DIEA
                AnimationMode        =    ONCE
                AnimationPriority   =   10
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End




        AnimationState            = STUNNED_STANDING_UP
            Animation           = RUEowyn_GTPA
                AnimationName   = RUEowyn_SKL.RUEowyn_GTPA
                AnimationMode   = ONCE
                AnimationSpeedFactorRange= 1.5 1.5
            End
        End
        AnimationState            = STUNNED
            Animation           = RUEowyn_LNDA
                AnimationName   = RUEowyn_SKL.RUEowyn_LNDA
                AnimationMode   = ONCE
            End
            StateName           = NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = RUEowyn_SKL.RUEowyn_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                =    MOVING ATTACKING
            Flags                    =    RANDOMSTART

            Animation                =    RUNB
                AnimationName        =    RUEowyn_SKL.RUEowyn_RUNB
                AnimationMode        =    LOOP
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState                =    MOVING

            Flags                    =    RANDOMSTART
            Animation                =    RUNA
                AnimationName        =    RUEowyn_SKL.RUEowyn_RUNA
                AnimationMode        =    LOOP
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = RUEowyn_IDLB
                AnimationMode                = LOOP
            End
        End


        AnimationState                =    FIRING_OR_PREATTACK_A
            StateName                =    Sword
            Animation                =    ATKA
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATKA
                AnimationMode        =    ONCE


                UseWeaponTiming        =    Yes
            End
            Animation                =    ATKB
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATKB
                AnimationMode        =    ONCE


                UseWeaponTiming        =    Yes
            End
            Animation                =    ATKC
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATKC
                AnimationMode        =    ONCE


                UseWeaponTiming        =    Yes
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        =  SPECIAL_WEAPON_ONE
            StateName = Attacking_throw
            Animation
                AnimationName        = RUEowyn_SKL.RUEowyn_ATKD
                AnimationMode       = ONCE
                AnimationBlendTime    = 0
            End
            BeginScript
                CurDrawableShowSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        =  FIRING_OR_PREATTACK_C
            Animation           = ATKD
                AnimationName     = RUEowyn_SKL.RUEowyn_ATKD
                AnimationMode     = ONCE

            End
            FrameForPristineBonePositions = 42
            BeginScript
                CurDrawableShowSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        =  SPECIAL_WEAPON_TWO
            StateName = Attacking_throw
            Animation
                AnimationName        = RUEowyn_SKL.RUEowyn_ATKD
                AnimationMode       = ONCE
                AnimationBlendTime    = 0
            End
        End


        AnimationState        = ATTACKING
            Animation           = ALERT_1
                AnimationName     = RUEowyn_SKL.RUEowyn_IDLA
                AnimationMode     = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
            Flags               = RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState            = HIT_REACTION HIT_LEVEL_1
            StateName            = STATE_Bored_Sword
            Animation            = Hit_Level_1_A
                AnimationName    = RUEowyn_SKL.RUEowyn_HITA
                AnimationMode    = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End


        TransitionState                    =    TRANS_Idle_to_Selected
            Animation                    =    ATNC
                AnimationName            =    RUEowyn_SKL.RUEowyn_ATNA
                AnimationMode            =    ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        TransitionState                    =    TRANS_Selected_To_Idle
            Animation                    =    ATNE
                AnimationName            =    RUEowyn_SKL.RUEowyn_ATNC
                AnimationMode            =    ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = RUEowyn_SKL.RUEowyn_TNTB
                AnimationMode        = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                = RAISING_FLAG
            Animation                = LevelUp
                AnimationName        = RUEowyn_SKL.RUEowyn_CHRA
                AnimationMode        = LOOP
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                =    SELECTED
            StateName                =    Selected
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =    RUEowyn_SKL.RUEowyn_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
            EndScript
        End


        AnimationState                =    EMOTION_CELEBRATING
            Animation                =    CHRA
                AnimationName        =    RUEowyn_SKL.RUEowyn_CHRA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End

        AnimationState                    = EMOTION_TAUNTING
            Animation                    = Taunting
                AnimationName            =  RUEowyn_SKL.RUEowyn_TNTB
                AnimationMode            = ONCE
            End
            Flags                        = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
        End


        AnimationState        = EMOTION_ALERT
            Animation           = ALERT_1
                AnimationName     = RUEowyn_SKL.RUEowyn_IDLA
                AnimationMode     = ONCE
            End
            Flags               = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("SPEARMESH")
            EndScript
         End

    End
End


Object Rauber5


    ButtonImage        = HSDunlandSchlachter
    SelectPortrait     = UPDunlandSchlachter

    Draw = W3DScriptedModelDraw ModuleTag_01

      OkToChangeModelColor = Yes
      StaticModelLODMode = Yes

        RandomTexture = iuhuehne2.tga 0 iuwildmen.tga


        DefaultModelConditionState
            Model               = iuwildhune
            Skeleton            = RUGimli_SKL
            WeaponLaunchBone    = TERTIARY AXE02
        End








        AnimationState        = STUNNED_FLAILING
            Animation           = FLYA
                AnimationName     = RUGimli_FLYA
                AnimationMode     = LOOP
                AnimationSpeedFactorRange    = 0.3 0.5
            End
            Flags               = RANDOMSTART
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End

        AnimationState        = DYING SPLATTED
            Animation           = LNDB
                AnimationName     = RUGimli_LNDA
                AnimationMode     = ONCE
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End

        AnimationState        = DYING
            Animation           = DIEA
                AnimationName     = RUGimli_DIEA
                AnimationMode     = ONCE
            End
            Animation           = DIEC
                AnimationName     = RUGimli_DIEC
                AnimationMode     = ONCE
            End




            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End

        AnimationState        = STUNNED_STANDING_UP
            Animation           = GTPA
                AnimationName     = RUGimli_GTPA
                AnimationMode     = ONCE
            End
        End

        AnimationState        = STUNNED
            Animation           = LNDA
                AnimationName     = RUGimli_LNDA
                AnimationMode     = ONCE
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = RUGimli_IDLA
                AnimationMode                = LOOP
            End
        End

















    AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = RUGimli_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End













































        AnimationState                =    MOVING ATTACKING
            Animation                =    RUNB
                AnimationName        =    RUGimli_RUNB
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End

        AnimationState                =    MOVING
            Animation                =    RUNA
                AnimationName        =    RUGimli_RUNA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End





        AnimationState        =  FIRING_OR_PREATTACK_C
            Animation           = SPCA
                AnimationName     = RUGimli_SPCA
                AnimationMode     = ONCE

            End
            FrameForPristineBonePositions = 42

            BeginScript
                CurDrawableShowSubObject("AXE02")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End

        AnimationState        =  FIRING_OR_PREATTACK_B
            Animation           = ATKA
                AnimationName     = RUGimli_ATKD
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End


            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End

        AnimationState        =  FIRING_OR_PREATTACK_A
            Animation           = ATKA
                AnimationName     = RUGimli_ATKA
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            Animation           = ATKB
                AnimationName     = RUGimli_ATKB
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            Animation           = ATKC
                AnimationName     = RUGimli_ATKC
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End


            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End


        AnimationState            = SPECIAL_WEAPON_TWO UNPACKING
            Animation            = GettingReadyToLeap
                AnimationName    = RUGimli_LEPA
                AnimationMode   = ONCE
            End
        End

        AnimationState        =  ABOUT_TO_HIT
        StateName            = State_AboutToHitGround
            Animation           = Leap
                AnimationName     = RUGimli_LEPC
                AnimationMode     = ONCE

            End
        End


        AnimationState        = THROWN_PROJECTILE
            Animation           = LEPB
                AnimationName     = RUGimli_LEPB
                AnimationMode     = LOOP
                AnimationBlendTime = 20
            End
        End



















































        AnimationState = HIT_REACTION
            Animation = Hit_Level_1_a
                AnimationName = RUGimli_HITA
                AnimationMode = ONCE
            End
        End




        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = RUGimli_CHRB
                AnimationMode        = ONCE
            End
        End


        AnimationState            = EMOTION_CELEBRATING
            Animation           = CHRA
                AnimationName   = RUGimli_CHRA
                AnimationMode   = ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState            = EMOTION_TAUNTING
            Animation           = TNTA
                AnimationName   = RUGimli_TNTA
                AnimationMode   = ONCE
            End
            Animation           = TNTB
                AnimationName   = RUGimli_TNTB
                AnimationMode   = ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                    = EMOTION_ALERT
            Animation                    = Ready
                AnimationName            = RUGimli_IDLA
                AnimationMode            = LOOP
                AnimationBlendTime  =   15
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")



                if Prev == "State_AboutToHitGround" then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle") end
            EndScript

        End

        AnimationState            = RAISING_FLAG
            Animation           = CHRA
                AnimationName   = RUGimli_CHRA
                AnimationMode   = LOOP
            End
        End



        AnimationState                =    SELECTED
            StateName                =    AtAttentionIdle
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =     RUGimli_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                CurDrawableHideSubObject("AXE02")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_Select") end
                if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_Select") end
                if Prev == "State_AboutToHitGround" then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle") end
            EndScript
        End



        IdleAnimationState
            StateName                = STATE_Idle
            Animation           = IDLB
                AnimationName     = RUGimli_IDLB
                AnimationMode     = ONCE
                AnimationPriority = 30
            End
            Animation           = IDLF
                AnimationName     = RUGimli_IDLF
                AnimationMode     = ONCE
                AnimationPriority = 5
            End
            Animation           = IDLD
                AnimationName     = RUGimli_IDLD
                AnimationMode     = ONCE
                AnimationPriority = 4
            End
            Animation           = IDLG
                AnimationName     = RUGimli_IDLG
                AnimationMode     = ONCE
                AnimationPriority = 2
            End
            Animation           = IDLH
                AnimationName     = RUGimli_IDLH
                AnimationMode     = ONCE
                AnimationPriority = 1
            End
            Animation           = IDLC
                AnimationName     = RUGimli_IDLC
                AnimationMode     = ONCE
                AnimationPriority = 1
            End
            Animation           = IDLE
                AnimationName     = RUGimli_IDLE
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            BeginScript
                CurDrawableHideSubObject("AXE02")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
                if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
                if Prev == "State_AboutToHitGround" then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle") end
            EndScript
        End




        TransitionState       = TRANS_EndDwarfToss
            Animation           = TOS4
                AnimationName     = RUGimli_TOS4
                AnimationMode     = ONCE
            End
        End

        TransitionState       = TRANS_SelectedToIdle
            Animation           = ATNC
                AnimationName     = RUGimli_ATNC
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.7 1.3
            End
        End

        TransitionState                =    TRANS_Select
            Animation                =    ATNA
                AnimationName        =     RUGimli_ATNA
                AnimationMode        =    ONCE
            End
        End

        TransitionState = TRANS_AboutToHitGround_To_Idle
            Animation = SplashAtEndOfJump
                AnimationName = RUGimli_LEPC
                AnimationMode = ONCE

            End
            Flags = MAINTAIN_FRAME_ACROSS_STATES
        End

    End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End





    Side            = Men
    EditorSorting   = UNIT
    ThreatLevel     = 1.0
    ThingClass     = CHARACTER_UNIT
    EmotionRange    = 240
    CommandPoints   = 0
    Scale           = 1.60
    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT


    WeaponSet
        Conditions              = None
        Weapon                  = PRIMARY     IsengardFanaticSwordMod
        AutoChooseSources       = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    ArmorSet
        Conditions      = None
        Armor           = HeroMiniFootArmor
        DamageFX        = NormalDamageFX
    End


    VisionRange = DWARVEN_GUARDIAN_VISION_RANGE
    VisionSide = 35%
    VisionRear = 25%
    VisionBonusPercentPerFoot = 2.0%
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    ShroudClearingRange = SHROUD_CLEAR_STANDARD

    DisplayName                   = OBJECT:Rauber
    CrushableLevel    = 2
    CrusherLevel      = 0
    CrushRevengeWeapon            = SuperInfantryCrushRevenge

    CommandSet                    = RauberCommandSet




    VoiceAttack                            = WildMenVoiceAttack
    VoiceAttackCharge                    = WildMenVoiceAttackCharge
    VoiceAttackMachine                    = WildMenVoiceAttack
    VoiceAttackStructure                = WildMenVoiceAttackBuilding
    VoiceGuard                            = WildMenVoiceMove
    VoiceMove                            = WildMenVoiceMove
    VoiceMoveToCamp                        = WildMenVoiceMoveCamp
    VoiceMoveWhileAttacking                = WildMenVoiceMove
    VoicePriority                        = 32
    VoiceRetreatToCastle                = WildMenVoiceMove
    VoiceSelect                            = WildMenVoiceSelectMS
    VoiceSelectBattle                     = WildMenVoiceSelectBattle

    SoundImpact                            = ImpactHorse

    UnitSpecificSounds
        VoiceEnterUnitEvilMenTransportShip    = WildMenVoiceMoveShip
        VoiceEnterUnitMordorMumakil            = WildMenVoiceMoveGarrison
        VoiceEnterUnitSlaughterHouse        = WildMenVoiceMoveGarrison
        VoiceGarrison                        = WildMenVoiceMoveGarrison
        VoiceInitiateCaptureBuilding        = WildMenVoiceCaptureBuilding
    End

    CrowdResponseKey = EvilMen1

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Dwarf Dwarf_Male WildMan
    End

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:EMOTION_CELEBRATING    Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxCheerSinglesLoop
        ModelCondition = Required:EMOTION_POINTING        Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxTauntSinglesLoop
        ModelCondition = Required:EMOTION_TAUNTING        Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxTauntSinglesLoop
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxTauntSinglesLoop
    End


    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:FootstepDirtA            Animation:RUGimli_SKL.RUGimli_RUNA    Frames:3 14
        AnimationSound = Sound:FootstepDirtA            Animation:RUGimli_SKL.RUGimli_RUNB    Frames:3 12
        AnimationSound = Sound:BodyFallSoldier            Animation:RUGimli_SKL.RUGimli_LNDA    Frames:2
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:RUGimli_SKL.RUGimli_DIEA    Frames:11
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:RUGimli_SKL.RUGimli_DIEC    Frames:59
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SCORE GRAB_AND_DROP

    Body = ActiveBody ModuleTag_02
        MaxHealth             = 900
        MaxHealthDamaged      = 450
        BurningDeathBehavior  = Yes
        BurningDeathFX        = FX_InfantryBurningFlame
        CheerRadius        = EMOTION_CHEER_RADIUS
        DodgePercent       = 40%
    End


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle     =     Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =     500
        AILuaEventsList            =    InfantryFunctions
        AttackPriority            =     AttackPriority_Infantry
        BurningDeathTime        =    BURNINGDEATH_DURATION_INFANTRY
    End

    LocomotorSet
        Locomotor     = RohanGimliLocomotor
        Condition     = SET_NORMAL
        Speed         = NORMAL_FOOT_FAST_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor     = RohanGimliLocomotor
        Condition     = SET_WANDER
        Speed         = NORMAL_FOOT_FAST_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor = BurningDeathLocomotorInfantry
        Condition = SET_BURNINGDEATH
        Speed      = BURNINGDEATH_WANDERSPEED_INFANTRY
    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult                = 1.0
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 666
    End

    Behavior = AttributeModifierUpgrade ModuleTag_AMU
        TriggeredBy = Upgrade_MiniHordeLvl2
        AttributeModifier = FearlessForever
    End


    Behavior = SquishCollide ModuleTag_06

    End


    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -FADED -EXTRA_8
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL ManEvilGenericVoiceDie
    End

      Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes = NONE +FADED
        FadeDelay            = 0
        FadeTime            = 3000
        DestructionDelay    = 3000
        DeathFlags            = DEATH_2
        FX = INITIAL FX_WildMenUnsummon
        Sound = INITIAL SpellGenericUnsummonFasterMS
    End



    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End



    Geometry            = CYLINDER
    GeometryMajorRadius = 12.0
    GeometryMinorRadius = 12.0
    GeometryHeight        = 22.2
    GeometryIsSmall        = No

    Shadow            = SHADOW_DECAL
    ShadowSizeX            = 22
    ShadowSizeY            = 22
    ShadowTexture        = ShadowI
End

Object Packpferd


  Draw = W3DScriptedModelDraw ModuleTag_01

    RandomTexture = cupackhorse.tga 0 cupackhorse.tga
    RandomTexture = cuhorse_bnwta.tga 0 cupackhorse.tga
    RandomTexture = NUHorse01.tga 0 cupackhorse.tga
    RandomTexture = NUHorse02.tga 0 cupackhorse.tga
    RandomTexture = NUHorse03.tga 0 cupackhorse.tga
    RandomTexture = NUHorse04.tga 0 cupackhorse.tga
    RandomTexture = NUHorse05.tga 0 cupackhorse.tga
    RandomTexture = NUHorse06.tga 0 cupackhorse.tga

    DefaultModelConditionState
        Model               = gupackpferd
    End


       IdleAnimationState
        StateName                    =   STATE_Idle
        Animation = IdleA
            AnimationName       = NUHorse_SKL.NUHorse_GRZA
            AnimationPriority    = 10
            AnimationMode       = ONCE
        End
        Animation = IdleB
            AnimationName       = NUHorse_SKL.NUHorse_GRZB
            AnimationPriority    = 10
            AnimationMode       = ONCE
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_moving" then CurDrawableSetTransitionAnimState("TRANS_MovingToIdle") end
        EndScript
    End

    AnimationState                = MOVING PANICKING
        Animation                = RUNA
            AnimationName        = NUHorse_SKL.NUHorse_RUNA
            AnimationMode        = LOOP
        End
        Flags                    = RANDOMSTART
    End

    AnimationState            =    MOVING
        StateName            =    STATE_moving
        Animation            =    Moving
            AnimationName    =    NUHorse_SKL.NUHorse_WLKA
            AnimationBlendTime    =    10
            AnimationMustCompleteBlend = Yes
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
        EndScript
    End

    TransitionState                    =    TRANS_MovingToIdle
        Animation                    =   DWNA
            AnimationName            =    NUHorse_SKL.NUHorse_DWNA
            AnimationMode            =    ONCE
        End
    End

    TransitionState                    =    TRANS_IdletoMoving
        Animation                    =   UPA
            AnimationName            =    NUHorse_SKL.NUHorse_UPA
            AnimationMode            =    ONCE
        End
    End

    AnimationState        = DYING
        Animation           = DIEA
              AnimationName     = NUHorse_SKL.NUHorse_DIEA
            AnimationMode     = ONCE
        End
    End
 End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End



  Side = Men
  EditorSorting = UNIT
  TransportSlotCount = 1
  ShockwaveResistance           = SHOCKWAVE_RESISTANCE_IMMUNE

  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End

  VisionRange = 120
  ShroudClearingRange = 120
  DisplayName = OBJECT:Packpferd
  CrushableLevel = 2
  CrusherLevel = 0
    CommandSet               = EmptyCommandset
    CommandPoints            = 0





    SoundAmbient        = HorseWhinnyIdleSinglesLoop

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: HorseMoveFootstepsLoose    Animation: NUHorse_SKL.NUHorse_RUNA        Frames: 0
        AnimationSound = Sound: HorseWhinny                Animation: NUHorse_SKL.NUHorse_DIEA        Frames: 0
        AnimationSound = Sound: BodyFallGenericNoArmor     Animation: NUHorse_SKL.NUHorse_DIEA        Frames: 46
    End



  RadarPriority = UNIT
  ThingClass = CAVALRY_UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CAVALRY SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
  End


    Behavior = AIUpdateInterface ModuleTag_03
        AILuaEventsList                = DwarvenBattleWagonFunctions
        AutoAcquireEnemiesWhenIdle    = No
        AttackPriority                = AttackPriority_Cavalry
    End


  LocomotorSet
    Locomotor = HorseWalkLocomotor
    Condition = SET_NORMAL
    Speed     = 11
  End

  LocomotorSet
    Locomotor = HorseFleeLocomotor
    Condition = SET_PANIC
    Speed     = 70
  End


  Behavior = PhysicsBehavior ModuleTag_04
  End

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL
    SinkDelay = 3000
    SinkRate = 0.70
    DestructionDelay = 8000
  End

  Behavior = SquishCollide ModuleTag_06

  End

  Behavior = CreateObjectDie ModuleTag_CrushUnitsOnDeath
    CreationList = OCL_SpawnLairTreasure
  End


  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 55
  ShadowSizeY = 18
  ShadowTexture = ShadowI

End

Object Fasswagen

    Draw = W3DTruckDraw ModuleTag_01

        OkToChangeModelColor    = Yes

        StaticModelLODMode        = Yes

    DefaultModelConditionState
        Model               = guwagen
    End


       IdleAnimationState
        StateName                    =   STATE_Idle
        Animation = IdleA
            AnimationName       = guwagen_sklguwagen_idlc
            AnimationPriority    = 10
            AnimationMode       = ONCE
        End
        Animation = IdleB
            AnimationName       = guwagen_skl.guwagen_idlb
            AnimationPriority    = 10
            AnimationMode       = ONCE
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_moving" then CurDrawableSetTransitionAnimState("TRANS_MovingToIdle") end
        EndScript
    End

    AnimationState                = MOVING PANICKING
        Animation                = RUNA
            AnimationName        = guwagen_skl.guwagen_runa
            AnimationMode        = LOOP
        End
        Flags                    = RANDOMSTART
    End

    AnimationState            =    MOVING
        StateName            =    STATE_moving
        Animation            =    Moving
            AnimationName    =    guwagen_skl.guwagen_wlka
            AnimationBlendTime    =    10
            AnimationMustCompleteBlend = Yes
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
        EndScript
    End

    TransitionState                    =    TRANS_MovingToIdle
        Animation                    =   DWNA
            AnimationName            =    guwagen_skl.guwagen_down
            AnimationMode            =    ONCE
        End
    End

    TransitionState                    =    TRANS_IdletoMoving
        Animation                    =   UPA
            AnimationName            =    guwagen_skl..guwagen_up
            AnimationMode            =    ONCE
        End
    End

    AnimationState        = DYING
        Animation           = DIEA
              AnimationName     = guwagen_skl.guwagen_die
            AnimationMode     = ONCE
        End
    End


    TrackMarks = EXTireTrack2_Temp.tga
    TrackMarksLeftBone = WHEELL
    TrackMarksRightBone = WHEELR



    LeftFrontTireBone           = WHEELL
    RightFrontTireBone          = WHEELR
    LeftRearTireBone            = WHEELL
    RightRearTireBone           = WHEELR
    TireRotationMultiplier      = 0.2
    PowerslideRotationAddition  = 2.5

    End


    Draw = W3DScriptedModelDraw DustEffects
        DefaultModelConditionState
          Model = None
        End
        IdleAnimationState
        End
        AnimationState =  MOVING WADING
            ParticleSysBone = None FootstepSlash
        End
        AnimationState = MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState =  MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOUNTED MOVING
        End
    End


    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End



  Side                        = Men
  EditorSorting               = UNIT
  TransportSlotCount = 1
  ShockwaveResistance           = SHOCKWAVE_RESISTANCE_IMMUNE

  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End


    VisionRange            = 200
    ShroudClearingRange         = 250

    VisionSide = 35%
    VisionRear = 25%
    VisionBonusPercentPerFoot = 2.0%
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200

    DisplayName            = OBJECT:wagen

    CrushableLevel = 2
    CrusherLevel = 0
    CommandSet               = EmptyCommandset
    CommandPoints            = 0



    SoundAmbient        = HorseWhinnyIdleSinglesLoop

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: HorseMoveFootstepsLoose    Animation: guwagen_skl.guwagen_runa        Frames: 0
        AnimationSound = Sound: HorseWhinny                Animation: guwagen_skl.guwagen_die        Frames: 0
        AnimationSound = Sound: BodyFallGenericNoArmor     Animation: guwagen_skl.guwagen_die        Frames: 46
    End




  RadarPriority = UNIT
  ThingClass = CAVALRY_UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CAVALRY SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
  End

    Behavior = AIUpdateInterface ModuleTag_03
        AILuaEventsList                = DwarvenBattleWagonFunctions
        AutoAcquireEnemiesWhenIdle    = No
        AttackPriority                = AttackPriority_Cavalry
    End


  LocomotorSet
    Locomotor = HorseWalkLocomotor
    Condition = SET_NORMAL
    Speed     = 11
  End

  LocomotorSet
    Locomotor = HorseFleeLocomotor
    Condition = SET_PANIC
    Speed     = 70
  End


    Behavior = PhysicsBehavior ModuleTag_04
    End


  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL
    SinkDelay = 3000
    SinkRate = 0.70
    DestructionDelay = 8000
  End



    Behavior = SquishCollide ModuleTag_06
    End

  Behavior = CreateObjectDie ModuleTag_CrushUnitsOnDeath
    CreationList = OCL_SpawnTreasureChestWagen
  End








    FormationPreviewDecal
            Texture = FPBattleWagonDecal
            Width = 96
            Height = 96
        End

    Geometry = Box
    GeometryMajorRadius = 30.0
    GeometryMinorRadius = 17.0
    GeometryHeight = 44.8
    GeometryOffset = X:5.0 Y:0.0 Z:0.0

    GeometryIsSmall = No
    DeadCollideSize = LARGE

    Shadow = SHADOW_VOLUME_NON_SELF_2
    ShadowSizeX = 36

End


Object SchmiedforAlfwyn



    SelectPortrait = UPDwarvenRunenschmied


    ButtonImage = HSDwarvenRunenschmied


    Draw = W3DScriptedModelDraw ModuleTag_01

      OkToChangeModelColor = Yes


   StaticModelLODMode = Yes


        DefaultModelConditionState
            Model               = duschmied_skb
            Skeleton            = DUGloin_SKL
            WeaponLaunchBone    = TERTIARY AXE02
        End








        AnimationState        = STUNNED_FLAILING
            Animation           = FLYA
                AnimationName     = DUGloin_FLYA
                AnimationMode     = LOOP
                AnimationSpeedFactorRange    = 0.3    0.5
            End
            Flags               = RANDOMSTART
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End

        AnimationState        = DYING SPLATTED
            Animation           = LNDB
                AnimationName     = DUGloin_LNDA
                AnimationMode     = ONCE
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End

        AnimationState        = DYING
            Animation           = DIEA
                AnimationName     = DUGloin_DTHA
                AnimationMode     = ONCE
            End
        End

        AnimationState        = STUNNED_STANDING_UP
            Animation           = GTPA
                AnimationName     = DUGloin_GTPA
                AnimationMode     = ONCE
            End
        End

        AnimationState        = STUNNED
            Animation           = LNDA
                AnimationName     = DUGloin_LNDA
                AnimationMode     = ONCE
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = DUGloin_IDLA
                AnimationMode                = LOOP
            End
        End


        AnimationState        = SPECIAL_WEAPON_ONE
            Animation
                AnimationName     = DUGloin_SPCB
                AnimationMode     = ONCE
            End
        End














        AnimationState                =    MOVING ATTACKING
            Animation                =    RUNB
                AnimationName        =    DUGloin_RUNB
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOVING
            Animation                =    RUNA
                AnimationName        =    DUGloin_RUNA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End




        AnimationState        =  FIRING_OR_PREATTACK_A
            Animation           = ATKA
                AnimationName     = DUGloin_ATKA
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            Animation           = ATKB
                AnimationName     = DUGloin_ATKB
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End
            Animation           = ATKC
                AnimationName     = DUGloin_ATKC
                AnimationMode     = ONCE
                UseWeaponTiming        = Yes
            End

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
            EndScript
        End



        AnimationState = HIT_REACTION
            Animation = Hit_Level_1_a
                AnimationName = DUGloin_HITA
                AnimationMode = ONCE
            End
        End




        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = DUGloin_LVLA
                AnimationMode        = ONCE
            End
        End


        AnimationState            = EMOTION_CELEBRATING
            Animation           = CHRA
                AnimationName   = DUGloin_CHRA
                AnimationMode   = ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState            = EMOTION_TAUNTING
            Animation
                AnimationName   = DUGloin_TNTA
                AnimationMode   = ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                    = EMOTION_ALERT
            Animation                    = Ready
                AnimationName            = DUGloin_IDLA
                AnimationMode            = LOOP
                AnimationBlendTime  =   15
            End
        End

        AnimationState            = RAISING_FLAG
            Animation           = CHRA
                AnimationName   = DUGloin_CHRA
                AnimationMode   = LOOP
            End
        End



        AnimationState                =    SELECTED
            StateName                =    AtAttentionIdle
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =     DUGloin_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_Select") end
                if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_Select") end
            EndScript
        End



        IdleAnimationState
            StateName                = STATE_Idle
            Animation
                AnimationName     = DUGloin_IDLB
                AnimationMode     = ONCE
                AnimationPriority = 30
            End
            Animation
                AnimationName     = DUGloin_IDLD
                AnimationMode     = ONCE
                AnimationPriority = 4
            End
            Animation
                AnimationName     = DUGloin_IDLC
                AnimationMode     = ONCE
                AnimationPriority = 2
            End
            Animation
                AnimationName     = DUGloin_IDLE
                AnimationMode     = ONCE
                AnimationPriority = 1
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
                if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
            EndScript
        End




        TransitionState       = TRANS_EndDwarfToss
            Animation           = TOS4
                AnimationName     = DUGloin_TOS4
                AnimationMode     = ONCE
            End
        End

        TransitionState       = TRANS_SelectedToIdle
            Animation           = ATNC
                AnimationName     = DUGloin_ATNC
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.7 1.3
            End
        End

        TransitionState                =    TRANS_Select
            Animation                =    ATNA
                AnimationName        =     DUGloin_ATNA
                AnimationMode        =    ONCE
            End
        End
    End


    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model                    = bbox
        End
    End






    Side = Dwarves
    EditorSorting = UNIT
    ThreatLevel = GLOIN_THREAT_LEVEL
    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
    BuildCost         = 800
    ShowHealthInSelectionDecal = Yes
    BuildTime         = ISENGARD_BERSERKER_BUILDTIME
    ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG


    ArmorSet
        Conditions      = None
        Armor           = DwarvenGuardianArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_STANDARD_MELEE
    ShroudClearingRange = SHROUD_CLEAR_HERO

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue = 30
    DisplayName = OBJECT:Zwergenschmied
    CrushableLevel = 2

    CommandSet  = SchmiedforAlfwynCommandSet
    CommandPoints = 0






    VoiceAttack                              = DwarfGuardianVoiceAttack
    VoiceAttackCharge                        = DwarfGuardianVoiceAttackCharge
    VoiceAttackMachine                       = DwarfGuardianVoiceAttack
    VoiceAttackStructure                     = DwarfGuardianVoiceAttackBuilding
    VoiceCreated                             = DwarfGuardianVoiceSelectMS
    VoiceFullyCreated                        = DwarfGuardianVoiceSelectMS
    VoiceGuard                               = DwarfGuardianVoiceMove
    VoiceMove                                = DwarfGuardianVoiceMove
    VoiceMoveToCamp                          = DwarfGuardianVoiceMoveCamp
    VoiceMoveWhileAttacking                  = DwarfGuardianVoiceDisengage
    VoicePriority                            = 47
    VoiceRetreatToCastle                     = DwarfGuardianVoiceRetreat
    VoiceSelect                              = DwarfGuardianVoiceSelectMS
    VoiceSelectBattle                        = DwarfGuardianVoiceSelectBattle

    VoiceEnterStateAttack                    = DwarfGuardianVoiceEnterStateAttack
    VoiceEnterStateAttackCharge              = DwarfGuardianVoiceEnterStateAttackCharge
    VoiceEnterStateAttackMachine             = DwarfGuardianVoiceEnterStateAttackBuilding
    VoiceEnterStateAttackStructure           = DwarfGuardianVoiceEnterStateAttackBuilding
    VoiceEnterStateMove                      = DwarfGuardianVoiceEnterStateMove
    VoiceEnterStateMoveToCamp                = DwarfGuardianVoiceEnterStateMoveCamp
    VoiceEnterStateMoveWhileAttacking        = DwarfGuardianVoiceEnterStateDisengage
    VoiceEnterStateRetreatToCastle           = DwarfGuardianVoiceEnterStateRetreat

    SoundImpact                                = ImpactHorse

    UnitSpecificSounds
        VoiceGarrison                        = DwarfGuardianVoiceMoveGarrison
        VoiceEnterUnitElvenTransportShip     = DwarfGuardianVoiceMoveShip
        VoiceInitiateCaptureBuilding         = DwarfGuardianVoiceCaptureBuilding
    End



    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Dwarf Dwarf_Male Unit Infantry Hero
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:FootstepDirtA            Animation:DUGloin_SKL.DUGloin_RUNA    Frames:3 14
        AnimationSound = Sound:FootstepDirtA            Animation:DUGloin_SKL.DUGloin_RUNB    Frames:3 12
        AnimationSound = Sound:BodyFallSoldier          Animation:DUGLOIN_SKL.DUGLOIN_LNDA    Frames:7
        AnimationSound = Sound:BodyFallSoldier          Animation:DUGLOIN_SKL.DUGLOIN_DTHA    Frames:55
        AnimationSound = Sound:SwordIntoGroundQuiet     Animation:DUGLOIN_SKL.DUGLOIN_SPCA    Frames:61
        AnimationSound = Sound:SwordIntoGroundQuiet     Animation:DUGLOIN_SKL.DUGLOIN_ATKB    Frames:38
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ARMY_SUMMARY ATTACK_NEEDS_LINE_OF_SIGHT HEAVY_MELEE_HITTER PATH_THROUGH_INFANTRY

    Body = ActiveBody ModuleTag_02
        CheerRadius          = EMOTION_CHEER_RADIUS
        MaxHealth            = 1000
        MaxHealthDamaged     = 500
        BurningDeathBehavior = Yes
        BurningDeathFX       = FX_InfantryBurningFlame
    End


    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End



    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate        = 500
        HoldGroundCloseRangeDistance = 60
    End

    LocomotorSet
        Locomotor = RohanGimliLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_DWARF_HERO_SPEED
    End




    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        AllowBouncing = No
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 2600
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -KNOCKBACK
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL GloinVoiceDie
    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = SlowDeathBehavior ModuleTag_07

        DeathTypes = NONE +KNOCKBACK
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
    End

    Behavior = BezierProjectileBehavior ModuleTag_08

        FirstHeight = 50
        SecondHeight = 20
        FirstPercentIndent = 20%
        SecondPercentIndent = 70%
        TumbleRandomly = Yes

        CrushStyle = Yes

        BounceCount = 0

        FinalStuckTime = 1200

        GroundHitFX       = FX_GimliLeapLand
        GroundHitWeapon   = RohanGimliLeapWarhead
        PreLandingStateTime = 75
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance        =    300
         TauntAndPointUpdateDelay    =    1000

        AddEmotion            =    Doom_Base



        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
         AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base


        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
     End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 2200
        HitReactionLifeTimer2 = 15
        HitReactionLifeTimer3 = 10

        HitReactionThreshold1 = 1.0
        HitReactionThreshold2 = 2500.0
        HitReactionThreshold3 = 5000.0
    End



    Behavior = CommandSetUpgrade ModueTag_CommandSetChange
        TriggeredBy           = Upgrade_MiniHordeLvl6
        CommandSet            = SchmiedforAlfwynCommandSet_bad
    End






    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End


    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP = Yes
    End


    Scale = 0.95
    Geometry = CYLINDER
    GeometryMajorRadius = 5.6
    GeometryMinorRadius = 5.6
    GeometryHeight = 16.0
    GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 19
    ShadowSizeY = 19
    ShadowTexture = ShadowI
End

Object RingSeekerFloodHorse


  Draw = W3DScriptedModelDraw ModuleTag_01

        DefaultModelConditionState
            Model = FloodHorse_SKN
            ParticleSysBone = Bone05 WaterHorseTrail FollowBone:Yes
            ParticleSysBone = Bone05 WaterHorseTrail2 FollowBone:Yes
            ParticleSysBone = Bone05 WaterHorseTrail3 FollowBone:Yes
        End

        IdleAnimationState
            StateName                = STATE_Idle
            Animation                = IDLE
                AnimationName        = FloodHorse_SKL.FloodHorse_RUNA
                AnimationMode        = LOOP
            End
            Flags                    = RANDOMSTART
        End

        AnimationState                = MOVING
            Animation                = RUNA
                AnimationName        = FloodHorse_SKL.FloodHorse_RUNA
                AnimationMode        = LOOP
            End
            Flags                    = RANDOMSTART
        End
 End


  Side = Men
  EditorSorting = UNIT
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 121
  DisplayName = OBJECT:Prop
  CrushableLevel = 2




    SoundAmbient        = HorseWhinnyIdleSinglesLoop

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: HorseMoveFootstepsLoose       Animation: NUHorse_SKL.NUHorse_RUNA        Frames: 0
        AnimationSound = Sound: HorseWhinny                   Animation: NUHorse_SKL.NUHorse_DIEA        Frames: 0
        AnimationSound = Sound: BodyFallGenericNoArmor        Animation: NUHorse_SKL.NUHorse_DIEA        Frames: 46
    End



  RadarPriority = NOT_ON_RADAR
  KindOf = PRELOAD IGNORED_IN_GUI INFANTRY PATH_THROUGH_EACH_OTHER NOT_AUTOACQUIRABLE NO_BASE_CAPTURE INERT INERT_SHROUD_REVEALER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
  End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        AttackPriority                = AttackPriority_Cavalry
    End

  LocomotorSet
    Locomotor = HorseFleeLocomotor
    Condition = SET_NORMAL
    Speed     = 70
  End

    Behavior = FireWeaponUpdate ModuleTag_WeaponFiring
        FireWeaponNugget
            WeaponName = ElrondFloodHorseRadiusWeapon
            Offset = X:-25 Y:0 Z:0
            FireDelay = 0
            OneShot = No
        End
    End

  Behavior = PhysicsBehavior ModuleTag_04
  End

    Behavior = SlowDeathBehavior ModuleTag_FadeOut
        DeathTypes          = ALL
        DestructionDelay    = 0
    End

  Behavior = SquishCollide ModuleTag_06

  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 55
  ShadowSizeY = 18
  ShadowTexture = ShadowI
End


