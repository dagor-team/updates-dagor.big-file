Object AngmarDrauglin


    SelectPortrait = HPBestienmeister
    ButtonImage    = HIBestienmeister

   DescriptionStrategic = CONTROLBAR:LW_ToolTip_SupportHero

   Draw = W3DScriptedModelDraw ModuleTag_DRAW

     RandomTexture = kudirewolf3.tga  0 kudirewolf2.tga
     RandomTexture = kudirewolf3.tga  0 kudirewolf.tga

        DefaultModelConditionState
            Model                = kubestienm_skn
            Skeleton             = CHCM_CM_U_SKL
        End

        ModelConditionState      = MOUNTED
            Model                = KUDireWolf_SKN
            Skeleton             = KUDireWolf_SKL
        End





        AnimationState                = PASSENGER MOUNTED
            Animation            = Grabbed
                AnimationName        = KUDireWolf_GBDA
                AnimationMode        = LOOP
            End
        End

        AnimationState                = FREEFALL MOUNTED
            Animation            = freefall
                AnimationName        = KUDireWolf_FLYA
                AnimationMode        = LOOP
                AnimationBlendTime    = 10
            End
        End

        AnimationState                =    DYING SPLATTED MOUNTED
            Animation            =    splatted
                AnimationName        =    KUDireWolf_LNDA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    STUNNED_FLAILING MOUNTED
            Animation            =    JustDie
                AnimationName           =    KUDireWolf_FLYA
                AnimationMode           =    LOOP
            End
        End

        AnimationState                =    DYING MOUNTED
            Animation
                AnimationName        =    KUDireWolf_DIEA
                AnimationMode        =    ONCE
            End
            Animation
                AnimationName        =    KUDireWolf_DIEB
                AnimationMode        =    ONCE
            End
        End


    AnimationState            = STUNNED_FLAILING MOUNTED
        Animation
            AnimationName   = KUDireWolf_FLYA
            AnimationMode   = LOOP
            AnimationSpeedFactorRange    = 0.4 0.6
        End
    End



        AnimationState                =    STUNNED MOUNTED
            Animation            =    Land
                AnimationName           =    KUDireWolf_LNDA
                AnimationMode           =    ONCE
            End
        End

        AnimationState                =    STUNNED_STANDING_UP MOUNTED
            Animation            =    StandUp
                AnimationName           =    KUDireWolf_GTPA
                AnimationMode           =    ONCE
            End
        End


        AnimationState                =    TURN_LEFT_HIGH_SPEED MOUNTED
            Animation            =    MTurnLeft
                AnimationName        =    KUDireWolf_TNL1
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    TURN_RIGHT_HIGH_SPEED MOUNTED
            Animation            =    MTurnRight
                AnimationName        =    KUDireWolf_TNR1
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    TURN_LEFT MOUNTED
            Animation            =    TurnRight
                AnimationName        =    KUDireWolf_TRNL
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange =     2.0 2.0
            End
        End

        AnimationState                =    TURN_RIGHT MOUNTED
            Animation            =    TurnRight
                AnimationName        =    KUDireWolf_TRNR
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange =     2.0 2.0
            End
        End

        AnimationState                =    MOVING ACCELERATE MOUNTED
            Animation            =    Accelerate
                AnimationName        =    KUDireWolf_ACCL
                AnimationMode        =    ONCE
            End
            ParticleSysBone                =     None GenericSiegeTrailDust
        End

        AnimationState                =    MOVING DECELERATE MOUNTED
            Animation            =    Decelerate
                AnimationName        =    KUDireWolf_DECL
                AnimationMode        =    ONCE
            End

        End

        AnimationState                =    MOVING BACKING_UP MOUNTED
            Animation            =    BackingUp
                AnimationName        =    KUDireWolf_BAKA
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    MOVING MOUNTED
            ShareAnimation            =    Yes
            Animation            =    RunA
                AnimationName        =    KUDireWolf_RUNA
                AnimationMode        =    LOOP
            End

            Flags               = RANDOMSTART
        End


        AnimationState                =    BETWEEN_FIRING_SHOTS_A MOUNTED
            Animation            =    BetweenFiringShots
                AnimationName        =    KUDireWolf_IDLA
                AnimationMode        =    ONCE
                AnimationBlendTime    =       10
            End
        End

        AnimationState                =    FIRING_OR_PREATTACK_A MOUNTED
            Animation
                AnimationName        =    KUDireWolf_ATKB
                AnimationMode        =    LOOP

                AnimationBlendTime      =    10
            End
        End

        AnimationState                =    ATTACKING MOUNTED
            Animation
                AnimationName        =    KUDireWolf_ATKA
                AnimationMode        =    LOOP
                AnimationBlendTime    =       10
            End
            Animation
                AnimationName        =    KUDireWolf_ATKB
                AnimationMode        =    LOOP
                UseWeaponTiming        =    Yes
                AnimationBlendTime      =    10
            End
        End


        AnimationState = WAR_CHANT MOUNTED
            Animation = Chant
                AnimationName = KUDireWolf_TNTA
                AnimationMode = LOOP
            End
        End

        AnimationState          =    SPECIAL_WEAPON_ONE MOUNTED
            StateName          =    Attacking
            Animation
                AnimationName =    KUDireWolf_SPCA
                AnimationMode =    ONCE
            End
        End


        AnimationState                = USER_2 MOUNTED
            StateName                = ATHELAS
            Animation                = ATKP
                AnimationName        = KUDireWolf_SPCA
                AnimationMode        = ONCE
            End
        End



        AnimationState                = EMOTION_TAUNTING MOUNTED
            Animation            = TNTA
                AnimationName        = KUDireWolf_TNTA
                AnimationMode        = LOOP
            End
        End

        AnimationState                = EMOTION_CELEBRATING MOUNTED
            Animation                       = CHRA
                AnimationName        = KUDireWolf_TNTA
                AnimationMode        = LOOP
            End
        End


        AnimationState                = EMOTION_ALERT MOUNTED
            StateName            = STATE_Ready
            Animation            = ALERT
                AnimationName        = KUDireWolf_IDLA
                AnimationMode        = ONCE
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Ready") end
            EndScript
        End


        AnimationState                = SELECTED MOUNTED
            SimilarRestart            = Yes
            Animation            = AtAttention
                AnimationName        = KUDireWolf_ATNB
                AnimationMode        = LOOP
            End
            StateName            = Selected
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("Idle_to_Selected") end
                if Prev == "STATE_Ready" then CurDrawableSetTransitionAnimState("Ready_to_Selected") end
            EndScript
        End

        AnimationState            = MOUNTED
            StateName = Idle
            Animation                = IDLB
                AnimationName       = KUDireWolf_IDLB
                AnimationMode       = ONCE
                AnimationPriority   = 20
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLC
                AnimationName       = KUDireWolf_IDLC
                AnimationMode       = ONCE
                AnimationPriority   = 5
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLD
                AnimationName       = KUDireWolf_IDLD
                AnimationMode       = ONCE
                AnimationPriority   = 1
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Idle") end
            EndScript
        End


        TransitionState       = Selected_to_Idle
            Animation                   = ATNE
                AnimationName        =    KUDireWolf_ATNC
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.7 1.3
            End
        End

        TransitionState       = Idle_to_Selected
            Animation                   = ATND
                AnimationName         = KUDireWolf_ATNA
                AnimationMode       =    ONCE
                AnimationSpeedFactorRange = 0.7 1.3
            End
        End






    AnimationState                        = CLIMBING
        StateName                        = STATE_Climbing
        Animation                        = Climbing
            AnimationName                = CHCM_CM_U_WALB
            AnimationMode                = LOOP
            AnimationBlendTime            = 10
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_RunningSword"  then CurDrawableSetTransitionAnimState("Trans_RunningToClimbing") return end
        EndScript
    End
    AnimationState                        = RAPPELLING
        StateName                        = STATE_Rappelling
        Animation                        = Rapelling
            AnimationName                = CHCM_CM_U_WALD
            AnimationMode                = LOOP
            AnimationBlendTime            = 10
        End
    End
    TransitionState = Trans_RunningToClimbing
        Animation = Transition
            AnimationName = CHCM_CM_U_WALA
            AnimationMode = ONCE
        End
    End
    TransitionState = Trans_ClimbingToRunning
        Animation = Transition
            AnimationName = CHCM_CM_U_WALC
            AnimationMode = ONCE
        End
    End
    TransitionState = Trans_RappellingToRunning
        Animation = Transition
            AnimationName = CHCM_CM_U_WALE
            AnimationMode = ONCE
        End
    End




        IdleAnimationState
            StateName                    = STATE_Idle_Sword
            Animation = Foot_IDLA
                AnimationName       = CHCM_CM_U_IBFA
                AnimationMode       = ONCE
                AnimationPriority   = 15
            End
            Animation = Foot_IDLB
                AnimationName       = CHCM_CM_U_IBFB
                AnimationMode       = ONCE
                AnimationPriority   = 5
            End
            Animation = Foot_IDLC
                AnimationName       = CHCM_CM_U_IDLB
                AnimationMode       = ONCE
                AnimationPriority   = 5
            End
            Animation = Foot_IDLD
                AnimationName       = CHCM_CM_U_SPCA
                AnimationMode       = ONCE
                AnimationPriority   = 2
            End
            Animation = Foot_IDLE
                AnimationName       = CHCM_CM_U_TNTA
                AnimationMode       = ONCE
                AnimationPriority   = 3
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
            EndScript
        End





AnimationState        = STUNNED_FLAILING
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHCM_CM_U_FLYA
        AnimationMode     = LOOP
    End
    Flags               = RANDOMSTART
End



AnimationState        = DYING SPLATTED
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHCM_CM_U_LNDA
        AnimationMode     = ONCE
    End
End

AnimationState        = DYING
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHCM_CM_U_DIEA
        AnimationMode     = ONCE
    End
End






AnimationState        = STUNNED_STANDING_UP
    StateName           = STATE_Sword
    Animation
        AnimationName     = CHCM_CM_U_GTPA
        AnimationMode     = ONCE
        AnimationSpeedFactorRange = 1.5 1.5
    End
End


AnimationState        = STUNNED
    StateName           = STATE_Sword
    Animation           = GUHero_LNDA
        AnimationName     = CHCM_CM_U_LNDA
        AnimationMode     = ONCE
    End
End





AnimationState                = PACKING_TYPE_1
    StateName                = Curse
    Animation
        AnimationName        = CHCM_CM_U_LVLA
        AnimationMode        = ONCE
    End
End


AnimationState                = PACKING_TYPE_3
    StateName                = Curse
    Animation
        AnimationName        = CHCM_CM_U_SPCA
        AnimationMode        = ONCE
    End
End


AnimationState        =  SPECIAL_WEAPON_TWO
    StateName = STATE_Bow
    Animation
        AnimationName       = CHCM_CM_U_SPCB
        AnimationMode       = ONCE
    End
    FrameForPristineBonePositions = 59
End





        AnimationState            = MOVING
            StateName           = STATE_RunningSword
            Flags               = RANDOMSTART

            Animation
                AnimationName   = CHCM_CM_U_RUNB
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Rappelling"  then CurDrawableSetTransitionAnimState("Trans_RappellingToRunning") return end
            EndScript
        End





        AnimationState                = FIRING_OR_PREATTACK_A
            Animation
                AnimationName        = CHCM_CM_U_ATKA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            Animation
                AnimationName        = CHCM_CM_U_ATKB
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            Animation
                AnimationName        = CHCM_CM_U_ATKC
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            Animation
                AnimationName        = CHCM_CM_U_SPCE
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
        End






        AnimationState = HIT_REACTION
            Animation
                AnimationName = CHCM_CM_U_HITA
                AnimationMode = ONCE
            End
        End



        AnimationState                = SPECIAL_POWER_1
            StateName                = STATE_ready
            Animation
                AnimationName        = CHCM_CM_U_SPCA
                AnimationMode        = ONCE
            End
        End


        AnimationState          =    SPECIAL_WEAPON_ONE
            StateName          =    Attacking
            Animation
                AnimationName =    CHCM_CM_U_SPCD
                AnimationMode =    ONCE
            End
        End


        AnimationState                = USER_2
            StateName                = ATHELAS
            Animation                = ATKP
                AnimationName        = CHCM_CM_U_SPCC
                AnimationMode        = ONCE
            End
        End


        AnimationState          =    SPECIAL_WEAPON_TWO
            StateName          =    Attacking
            Animation
                AnimationName =    CHCM_CM_U_SPCB
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    SPECIAL_WEAPON_THREE
            StateName          =    Attacking
            Animation          =    StaffLaser
                AnimationName =    CHCM_CM_U_SPCE
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    SPECIAL_WEAPON_FOUR
            StateName          =    Attacking
            Animation
                AnimationName =    CHCM_CM_U_SPCD
                AnimationMode =    ONCE
            End
            FrameForPristineBonePositions    = 44
        End

        AnimationState          =    SPECIAL_WEAPON_FIVE
            StateName          =    Attacking
            Animation
                AnimationName =    CHCM_CM_U_SPCE
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    SPECIAL_WEAPON_SIX
            StateName          =    Attacking
            Animation
                AnimationName =    CHCM_CM_U_SPCC
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    PACKING_TYPE_1 UNPACKING
            StateName          =    Attacking
            Animation          =    LightningSwordStart
                AnimationName =    CHCM_CM_U_SPCC
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    PACKING_TYPE_1 PREPARING
            StateName          =    Attacking
            Animation          =    LightningSwordLoop
                AnimationName =    CHCM_CM_U_SPCA
                AnimationMode =    LOOP
            End
        End

        AnimationState          =    PACKING_TYPE_1 PACKING
            StateName          =    Attacking
            Animation          =    LightningSwordPutAway
                AnimationName =    CHCM_CM_U_SPCB
                AnimationMode =    ONCE
            End
        End


        AnimationState          =    PACKING_TYPE_2 UNPACKING
            StateName          =    Attacking
            Animation          =    LightningSwordStart
                AnimationName =    CHCM_CM_U_SPCC
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    PACKING_TYPE_2 PREPARING
            StateName          =    Attacking
            Animation          =    LightningSwordLoop
                AnimationName =    CHCM_CM_U_SPCA
                AnimationMode =    LOOP
            End
        End

        AnimationState          =    PACKING_TYPE_2 PACKING
            StateName          =    Attacking
            Animation          =    LightningSwordPutAway
                AnimationName =    CHCM_CM_U_SPCB
                AnimationMode =    ONCE
            End
        End


        AnimationState        = PACKING_TYPE_2
            StateName          =    STATE_CaptainBow
            Animation           = GUHero_CHRD
                AnimationName     = CHCM_CM_U_SPCE
                AnimationMode     = ONCE

            End
        End


        AnimationState          =    PACKING_TYPE_3 UNPACKING
            StateName          =    Attacking
            Animation          =    LightningSwordStart
                AnimationName =   CHCM_CM_U_SPCC
                AnimationMode =    ONCE
            End
        End

        AnimationState          =    PACKING_TYPE_3 PREPARING
            StateName          =    Attacking
            Animation          =    LightningSwordLoop
                AnimationName =    CHCM_CM_U_SPCA
                AnimationMode =    LOOP
            End
        End

        AnimationState          =    PACKING_TYPE_3 PACKING
            StateName          =    Attacking
            Animation          =    LightningSwordPutAway
                AnimationName =    CHCM_CM_U_SPCB
                AnimationMode =    ONCE
            End
        End



        AnimationState                = LEVELED
            Animation                = LevelUp
                AnimationName        = CHCM_CM_U_LVLA
                AnimationMode        = ONCE
            End
        End




        AnimationState                =    EMOTION_CELEBRATING
            Animation CHRA
                AnimationName        =    CHCM_CM_U_CHRA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState                =    EMOTION_TAUNTING
            Animation CHRA
                AnimationName        =    CHCM_CM_U_TNTA
                AnimationMode        =    ONCE
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End




        AnimationState                = ENGAGED
            StateName                = STATE_ready
            Animation
                AnimationName        = CHCM_CM_U_IDLA
                AnimationMode        = ONCE
            End
        End


        TransitionState                    =    TRANS_Idle_to_Selected
            Animation                    =    ATNA
                AnimationName            =    CHCM_CM_U_ATNA
                AnimationMode            =    ONCE
            End
        End

        TransitionState                    =    TRANS_Selected_To_Idle
            Animation                    =    ATNE
                AnimationName            =    CHCM_CM_U_ATNC
                AnimationMode            =    ONCE
            End
        End


        AnimationState                =    SELECTED
            StateName                =    Selected
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =    CHCM_CM_U_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
            EndScript
        End


    End


    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End

    Draw = W3DScriptedModelDraw DustEffects
        DefaultModelConditionState
          Model = None
        End
        IdleAnimationState
        End
        AnimationState = MOVING WADING MOUNTED
            ParticleSysBone = None FootstepSlash
        End
        AnimationState = MOVING ACCELERATE MOUNTED
            ParticleSysBone = None GenericSiegeTrailDust
        End
		
        AnimationState = MOVING MOUNTED
        End
    End


    #include "..\..\..\includes\StunDrawModuleSmall.inc"



    Side = Angmar
    EditorSorting = UNIT
    ThreatLevel = ARAGORN_THREAT_LEVEL
    ThingClass = CHARACTER_UNIT
    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
    MaxSimultaneousOfType    = 1
    DisplayMeleeDamage = 150
    HeroSortOrder = 20
    BuildCost = 200
    BuildTime = VERY_WEAK_HERO_BUILDTIME


    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    AngmarDrauglinWeapon
    End

    WeaponSet
        Conditions        = MOUNTED
        Weapon            = PRIMARY    AngmarDrauglinBestieWeapon
    End


    ArmorSet
        Conditions        = None
        Armor             = VeryWeakHeroArmor
        DamageFX          = NormalDamageFX
    End

    ArmorSet
        Conditions        = MOUNTED
        Armor             = VeryWeakHeroArmorMounted
        DamageFX          = NormalDamageFX
    End


    VisionRange = VISION_HERO_RANGED
    ShroudClearingRange = 400
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue = GONDOR_ARAGORN_BOUNTY_VALUE
    DisplayName = OBJECT:AngmarBestienmeister
    RecruitText = CONTROLBAR:AngmarBestienmeister
    Hotkey        = CONTROLBAR:AngmarBestienmeisterHotkey

    CrushableLevel             = 2

    MountedCrusherLevel        = 1
    MountedCrushableLevel      = 2
    CrushWeapon                = NazgulBaradDurCrush

    MinCrushVelocityPercent     = MINCRUSHVELOCITYPERCENT_HERO
    CrushDecelerationPercent    = CRUSHDECELERATIONPERCENT_HERO

    RamPower                   = 30
    RamZMult                   = 0.5

    CommandSet = AngmarBestienmeisterCommandSet
    CommandPoints = 0



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_AragornBody

    AutoResolveArmor
        Armor = AutoResolve_AragornArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_AragornWeapon
    End

    AutoResolveLeadership = AutoResolve_AragornBonus






    VoiceAttack                             = DrauglinVoiceAttack
    VoiceAttackCharge                       = DrauglinVoiceAttack
    VoiceAttackMachine                      = DrauglinVoiceAttack
    VoiceAttackStructure                    = DrauglinVoiceAttack
    VoiceCreated                            = DrauglinVoiceRetreat
    VoiceFullyCreated                       = DrauglinVoiceRetreat
    VoiceGuard                              = DrauglinVoiceMove
    VoiceMove                               = DrauglinVoiceMove
    VoiceMoveToCamp                         = DrauglinVoiceMove
    VoiceMoveWhileAttacking                 = DrauglinVoiceMove
    VoicePriority                           = 85
    VoiceRetreatToCastle                    = DrauglinVoiceMove
    VoiceSelect                             = DrauglinVoiceSelect
    VoiceSelectBattle                       = DrauglinVoiceSelectinBattle


    UnitSpecificSounds
        VoiceEnterUnitEvilMenTransportShip  = DrauglinVoiceMove
        VoiceEnterUnitMordorMumakil         = DrauglinVoiceMove
        VoiceEnterUnitSlaughterHouse        = DrauglinVoiceMove
        VoiceGarrison                       = DrauglinVoiceMove
        VoiceInitiateCaptureBuilding        = DrauglinVoiceMove
    End


    ClientBehavior = ModelConditionSoundSelectorClientBehavior ModuleTag_MCSoundSelector
        SoundState = MOUNTED
            VoiceAttack                             = MonsterVoice
            VoiceAttackCharge                       = MonsterVoice
            VoiceAttackMachine                      = MonsterVoice
            VoiceAttackStructure                    = MonsterVoice
            VoiceGuard                              = MonsterVoice
            VoiceMove                               = MonsterVoice
            VoiceMoveToCamp                         = MonsterVoice
            VoiceMoveWhileAttacking                 = MonsterVoice
            VoiceRetreatToCastle                    = MonsterVoice
            VoiceSelect                             = MonsterVoice
            VoiceSelectBattle                       = MonsterVoice
        End
    End


    CrowdResponseKey = GoodMen

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Man Man_Male Unit Infantry Hero

    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:FootstepDirtA             Animation:CHCM_CM_U_SKL.CHCM_CM_U_RUNA     Frames:10 22
        AnimationSound = Sound:FootstepDirtA             Animation:CHCM_CM_U_SKL.CHCM_CM_U_RUNB     Frames:10 22
        AnimationSound = Sound:FootstepDirtA             Animation:CHCM_CM_U_SKL.CHCM_CM_U_ATRA     Frames:11 23 35 47
        AnimationSound = Sound:FootstepDirtA             Animation:CHCM_CM_U_SKL.CHCM_CM_U_MFDA     Frames:8 20 31 41
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:CHCM_CM_U_SKL.CHCM_CM_U_DTHA     Frames:116
        AnimationSound = Sound:BodyFallSoldier           Animation:CHCM_CM_U_SKL.CHCM_CM_U_LNDA     Frames:4
        AnimationSound = Sound:WargMoveFootsteps         Animation:KUDireWolf_SKL.KUDireWolf_RUNA   Frames:0
        AnimationSound = Sound:WargMoveFootsteps         Animation:KUDireWolf_SKL.KUDireWolf_TNL1   Frames:0
        AnimationSound = Sound:WargMoveFootsteps         Animation:KUDireWolf_SKL.KUDireWolf_TNR1   Frames:0
        AnimationSound = Sound:WargMoveFootsteps         Animation:KUDireWolf_SKL.KUDireWolf_TRNL   Frames:0
        AnimationSound = Sound:WargMoveFootsteps         Animation:KUDireWolf_SKL.KUDireWolf_TRNR   Frames:0
        AnimationSound = Sound:WargMoveFootsteps         Animation:KUDireWolf_SKL.KUDireWolf_ACCL   Frames:0
        AnimationSound = Sound:WargTauntFootstep         Animation:KUDireWolf_SKL.KUDireWolf_TNTA   Frames:7 12 64 73
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE HERO ARMY_SUMMARY HEAVY_MELEE_HITTER ARAGORN

    Body = RespawnBody ModuleTag_RespawnBody
        CheerRadius               = EMOTION_CHEER_RADIUS
        MaxHealth                 = 2500
        PermanentlyKilledByFilter = NONE
        DodgePercent              = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                = DYING
        DeathAnimationTime        = 6033
        RespawnAnim                = LEVELED
        RespawnAnimationTime        = 2000
        AutoRespawnAtObjectFilter  = NONE +CASTLE_KEEP
        ButtonImage                = HIBestienmeister
        RespawnAsTemplate          = AngmarDrauglin

        RespawnRules =    AutoSpawn:No           Cost:200        Time:VERY_WEAK_HERO_RESPAWNTIME        Health:100%
    End


    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

    #include "..\..\..\includes\CaptureBuilding.inc"


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS STEALTHED
        MoodAttackCheckRate        = 500
        AILuaEventsList            = DwarvenHeroFunctions
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance               = 300
        TauntAndPointUpdateDelay            = 10000
        AddEmotion            =    Doom_Base
        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
        AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base
        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
    End


    LocomotorSet
        Locomotor = HeroHumanScalingLocomotor
        Condition = SET_NORMAL
        Speed     = 65
    End

    LocomotorSet
        Locomotor = WargLocomotor
        Condition = SET_MOUNTED
        Speed     = NORMAL_MOUNTED_FAST_MEMBER_SPEED
    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 2133
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL DrauglinVoiceDie
    End

    Behavior = SquishCollide ModuleTag_06

    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_BlackRiderDreadVisage
        SpecialPowerTemplate = SpecialAbilityFakeLeadership
        TriggeredBy = Upgrade_Level_1
    End

    Behavior = SpecialPowerModule ModuleTag_BlackRiderDreadVisageUpdate
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack  = Yes
        StartsPaused = No
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_LeadershipUnits
        StartsActive      = No
        BonusName         = DrauglinLeadership
        TriggeredBy       = Upgrade_Level_4
        RefreshDelay      = 2000
        Range             = 200
	TargetEnemy	  = No
        ObjectFilter      = ANY +AngmarWeiﬂerWarg_Slaved +AngmarDireWolf_Wolfwinter +AngmarHeroWolf +AngmarDireWolf +AngmarWolfRider +AngmarBannerWolfRider +AngmarBannerDireSnowTroll -MACHINE -HERO -INFANTRY -AngmarBestie ALLIES
    End







    Behavior = QueueProductionExitUpdate ModuleTag_11
        UnitCreatePoint         = X:-25.0 Y:0.0 Z:0.0
        NaturalRallyPoint       = X:-25 Y:0.0 Z:0.0
        ExitDelay               = 250
        NoExitPath              = Yes
    End

    Behavior = SpawnBehavior ModuleTag_SpawnFighters
        SpawnNumber             = 1
        InitialBurst            = 1
        SpawnTemplateName       = AngmarBestie
        SpawnReplaceDelay       = 200000
        FadeInTime              = 1000
        SpawnInsideBuilding     = Yes
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MondscheinStarter
        SpecialPowerTemplate             = SpecialAbilityDainMightyRage
        TriggeredBy                      = Upgrade_Level_3
        ObeyRechageOnTrigger             = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_MondscheinDummy
        SpecialPowerTemplate             = SpecialAbilityDainMightyRage
        StartsPaused                     = Yes
        UpdateModuleStartsAttack         = Yes
    End

    Behavior = ActivateModuleSpecialPower ModuleTag_CloseTheGap
        SpecialPowerTemplate             = SpecialAbilityDainMightyRage
        StartAbilityRange                = 200
        TriggerSpecialPower              = ModuleTag_MondscheinHeal           TARGETPOS
        TriggerSpecialPower              = ModuleTag_MondscheinBlastStarter   TARGETPOS
    End

    Behavior = PlayerHealSpecialPower ModuleTag_MondscheinHeal
        SpecialPowerTemplate             = SpecialAbilityActivateeDummy
        HealAmount                       = 0.5
        HealAsPercent                    = Yes
        HealAffects                      = ARAGORN
        HealRadius                       = 10000
        InitiateSound                    = DrauglinSpellHeilmittel
        HealFX                           = FX_SpellHealUnitHealBuff
    End

    Behavior = SpecialPowerModule ModuleTag_MondscheinBlastStarter
        SpecialPowerTemplate             = SpecialAbilityWizardBlast
        UpdateModuleStartsAttack         = Yes
        StartsPaused                     = No
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_MondscheinBlastWeaponFireUpdate
        SpecialPowerTemplate             = SpecialAbilityWizardBlast
        WhichSpecialWeapon               = 5
        SkipContinue                     = Yes
        FreezeAfterTriggerDuration       = 100
        UnpackTime                       = 100
        PreparationTime                  = 1

        PackTime                         = 100
        AwardXPForTriggering             = 0
        StartAbilityRange                = 200
        SpecialWeapon                    = DrauglinMondscheinWeapon
        TriggerSound                     = GaladrielErinnerungEffeckt
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_KampfgeistEnabler
        SpecialPowerTemplate         = SpecialAbilityKampfgeistderBestie
        TriggeredBy                  = Upgrade_Level_1
        ObeyRechageOnTrigger         = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_KampfgeistStarter
        SpecialPowerTemplate         = SpecialAbilityKampfgeistderBestie
        StartsPaused                 = Yes
        UpdateModuleStartsAttack     = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_KampfgeistWeaponFireUpdate
        SpecialPowerTemplate         = SpecialAbilityKampfgeistderBestie
        WhichSpecialWeapon           = 1
        SkipContinue                 = Yes
        FreezeAfterTriggerDuration   = 100
        UnpackTime                   = 100
        PreparationTime              = 1
        PackTime                     = 100
        AwardXPForTriggering         = 0
        StartAbilityRange            = 270
        SpecialWeapon                = KampfgeistderBesieWeapon
    End








    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_HorseToggleEnabler
        SpecialPowerTemplate      = SpecialAbilityToggleMounted
        TriggeredBy               = Upgrade_Level_7
    End

    Behavior = SpecialPowerModule ModuleTag_HorseToggleStarter
         SpecialPowerTemplate      = SpecialAbilityToggleMounted
         UpdateModuleStartsAttack  = Yes

         StartsPaused = Yes
    End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle
         SpecialPowerTemplate    = SpecialAbilityToggleMounted
         UnpackTime              = ANGMAR_MOUNT_TIME
         PreparationTime         = 1
         PersistentPrepTime      = 250
         PackTime                = ANGMAR_MOUNT_TIME
         OpacityTarget            = .3
         AwardXPForTriggering    = 0
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WolfwinterEnabler
        SpecialPowerTemplate   = SpecialAbilityElrondsBibliothek
        TriggeredBy            = Upgrade_Level_10
        ObeyRechageOnTrigger   = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_OCLSpecialPowerWolfwinter
        SpecialPowerTemplate   = SpecialAbilityElrondsBibliothek
        OCL                    = OCL_WolfswinterWolf
        CreateLocation         = CREATE_AT_LOCATION
        StartsPaused           = Yes

    End

    Behavior = SpecialAbilityUpdate ModuleTag_OCLSpawnWolfwinterUpdate
        SpecialPowerTemplate       = SpecialAbilityElrondsBibliothek
        UnpackTime                 = 1
        PreparationTime            = 3
        PackTime                   = 2096
        AwardXPForTriggering       = 0
        FreezeAfterTriggerDuration = 0
    End







    Behavior = SpecialPowerModule ModuleTag_MachtStarter
         SpecialPowerTemplate           = SpecialAbilityGandalfGeprufte
         UpdateModuleStartsAttack       = Yes
         StartsPaused                   = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Macht
         SpecialPowerTemplate           = SpecialAbilityGandalfGeprufte
         MountedTemplate                = AngmarDrauglinWerwolf
         SynchronizeTimerOnSpecialPower = SpecialAbilityDainMightyRage SpecialAbilityKampfgeistderBestie SpecialAbilityElrondsBibliothek
         UnpackTime                     = OBJECT_TOGGLE_TIME
         PreparationTime                = 0
         PackTime                       = 0
         OpacityTarget                  = .0
         AwardXPForTriggering           = 0
         IgnoreFacingCheck              = Yes
    End

    Behavior = DoCommandUpgrade Module_DoCommandUpgrade
        TriggeredBy                     = Upgrade_TestBuilding_2
        GetUpgradeCommandButtonName     = Command_SpecialAbilityBestienmeisterWerwolf
    End



    Behavior = AutoHealBehavior ModuleTag_AragornHealing
        StartsActive = Yes
        HealingAmount = HERO_HEAL_AMOUNT
        HealingDelay = 1000
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End


    Behavior = StealthDetectorUpdate StealthDetectorUpdateModuleTag
        DetectionRange      = 300
        DetectionRate       = 500
        CancelOneRingEffect = Yes
    End








    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName  = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName  = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName  = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End

    Behavior = AISpecialPowerUpdate ElvenLorienWarriorHordeCaptureBuildingAI
        CommandButtonName  = Command_CaptureBuilding
        SpecialPowerAIType = AI_SPECIAL_POWER_CAPTURE_BUILDING
    End

    Behavior = AISpecialPowerUpdate MightyRageAI
        CommandButtonName = Command_SpecialAbilityMondschein
        SpecialPowerAIType = AI_SPECIAL_POWER_HEAL_AOE
        SpecialPowerRadius = 200.0
    End

    Behavior = AISpecialPowerUpdate SpecialPowerTheodenGloriousCharge
        CommandButtonName = Command_SpecialAbilityKampfgeistderBestie
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate RoyalGuardAI
        CommandButtonName = Command_SpecialAbilityRufdesRudels
        SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate TheodenToggleMountedAI
        CommandButtonName = Command_BestienmeisterToggle
        SpecialPowerAIType = AI_SPECIAL_POWER_TOGGLE_MOUNTED
    End



    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes
    Shadow = SHADOW_DECAL
    ShadowSizeX = 20
    ShadowSizeY = 20
    ShadowTexture = ShadowI
End


Object AngmarBestie


    ButtonImage    = BIWargSentry_Warg
    SelectPortrait = KUDireWolfPortrait


   Draw = W3DScriptedModelDraw ModuleTag_DRAW

     RandomTexture = kudirewolf3.tga  0 kudirewolf2.tga
     RandomTexture = kudirewolf3.tga  0 kudirewolf.tga

        DefaultModelConditionState
            Model               = KUDireWolf_SKN
            Skeleton            = KUDireWolf_SKL
        End


        AnimationState                = PASSENGER
            Animation            = Grabbed
                AnimationName        = KUDireWolf_GBDA
                AnimationMode        = LOOP
            End
        End

        AnimationState                = FREEFALL
            Animation            = freefall
                AnimationName        = KUDireWolf_FLYA
                AnimationMode        = LOOP
                AnimationBlendTime    = 10
            End
        End

        AnimationState                =    DYING BURNINGDEATH DEATH_1
            Animation
                AnimationName        =    KUDireWolf_DIEA
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
            End
        End

        AnimationState                =    DYING SPLATTED DEATH_1
            Animation            =    splatted
                AnimationName        =    KUDireWolf_LNDA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    STUNNED_FLAILING
            Animation            =    JustDie
                AnimationName           =    KUDireWolf_FLYA
                AnimationMode           =    LOOP
            End
        End

        AnimationState                =    DYING DEATH_1
            Animation
                AnimationName        =    KUDireWolf_DIEA
                AnimationMode        =    ONCE
            End
            Animation
                AnimationName        =    KUDireWolf_DIEB
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    DYING DEATH_2
            Animation
                AnimationName        =    KUDireWolf_IDLB
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    BURNINGDEATH
            Animation
                AnimationName           =    KUDireWolf_MFDA
                AnimationMode           =    LOOP
                Distance        =    50
            End
        End

    AnimationState            = STUNNED_FLAILING
        Animation
            AnimationName   = KUDireWolf_FLYA
            AnimationMode   = LOOP
            AnimationSpeedFactorRange    = 0.4 0.6
        End
    End



        AnimationState                =    STUNNED
            Animation            =    Land
                AnimationName           =    KUDireWolf_LNDA
                AnimationMode           =    ONCE
            End
        End

        AnimationState                =    STUNNED_STANDING_UP
            Animation            =    StandUp
                AnimationName           =    KUDireWolf_GTPA
                AnimationMode           =    ONCE
            End
        End


        AnimationState                =    TURN_LEFT_HIGH_SPEED
            Animation            =    MTurnLeft
                AnimationName        =    KUDireWolf_TNL1
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    TURN_RIGHT_HIGH_SPEED
            Animation            =    MTurnRight
                AnimationName        =    KUDireWolf_TNR1
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    TURN_LEFT
            Animation            =    TurnRight
                AnimationName        =    KUDireWolf_TRNL
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange =     2.0 2.0
            End
        End

        AnimationState                =    TURN_RIGHT
            Animation            =    TurnRight
                AnimationName        =    KUDireWolf_TRNR
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange =     2.0 2.0
            End
        End

        AnimationState                =    MOVING ACCELERATE
            Animation            =    Accelerate
                AnimationName        =    KUDireWolf_ACCL
                AnimationMode        =    ONCE
            End
            ParticleSysBone                =     None GenericSiegeTrailDust
        End

        AnimationState                =    MOVING DECELERATE
            Animation            =    Decelerate
                AnimationName        =    KUDireWolf_DECL
                AnimationMode        =    ONCE
            End

        End

        AnimationState                =    MOVING BACKING_UP
            Animation            =    BackingUp
                AnimationName        =    KUDireWolf_BAKA
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    MOVING
            ShareAnimation            =    Yes
            Animation            =    RunA
                AnimationName        =    KUDireWolf_RUNA
                AnimationMode        =    LOOP
            End

            Flags               = RANDOMSTART
        End

        AnimationState                        = MOVING ATTACKING
            ShareAnimation                    = Yes
            Animation                        = RUNA
                AnimationName                = KUDireWolf_RUNA
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART

        End

        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = KUDireWolf_RUNA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End


        AnimationState                =    BETWEEN_FIRING_SHOTS_A
            Animation            =    BetweenFiringShots
                AnimationName        =    KUDireWolf_IDLA
                AnimationMode        =    ONCE
                AnimationBlendTime    =       10
            End
        End

        AnimationState                =    FIRING_OR_PREATTACK_A
            Animation
                AnimationName        =    KUDireWolf_ATKB
                AnimationMode        =    LOOP

                AnimationBlendTime      =    10
            End
        End

        AnimationState                =    ATTACKING
            Animation
                AnimationName        =    KUDireWolf_ATKA
                AnimationMode        =    LOOP
                AnimationBlendTime    =       10
            End
            Animation
                AnimationName        =    KUDireWolf_ATKB
                AnimationMode        =    LOOP
                UseWeaponTiming        =    Yes
                AnimationBlendTime      =    10
            End
        End


        AnimationState = WAR_CHANT
            Animation = Chant
                AnimationName = KUDireWolf_TNTA
                AnimationMode = LOOP
            End
        End


        AnimationState                = EMOTION_TAUNTING
            Animation            = TNTA
                AnimationName        = KUDireWolf_TNTA
                AnimationMode        = LOOP
            End
        End

        AnimationState                = EMOTION_CELEBRATING
            Animation                       = CHRA
                AnimationName        = KUDireWolf_TNTA
                AnimationMode        = LOOP
            End
        End


        AnimationState                = EMOTION_ALERT
            StateName            = STATE_Ready
            Animation            = ALERT
                AnimationName        = KUDireWolf_IDLA
                AnimationMode        = ONCE
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Ready") end
            EndScript
        End


        AnimationState                = SELECTED
            SimilarRestart            = Yes
            Animation            = AtAttention
                AnimationName        = KUDireWolf_ATNB
                AnimationMode        = LOOP
            End
            StateName            = Selected
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("Idle_to_Selected") end
                if Prev == "STATE_Ready" then CurDrawableSetTransitionAnimState("Ready_to_Selected") end
            EndScript
        End

        IdleAnimationState
            StateName                = STATE_Idle
            Animation                = IDLB
                AnimationName       = KUDireWolf_IDLB
                AnimationMode       = ONCE
                AnimationPriority   = 20
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLC
                AnimationName       = KUDireWolf_IDLC
                AnimationMode       = ONCE
                AnimationPriority   = 5
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLD
                AnimationName       = KUDireWolf_IDLD
                AnimationMode       = ONCE
                AnimationPriority   = 1
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Idle") end
            EndScript
        End


        TransitionState       = Selected_to_Idle
            Animation                   = ATNE
                AnimationName        =    KUDireWolf_ATNC
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.7 1.3
            End
        End

        TransitionState       = Idle_to_Selected
            Animation                   = ATND
                AnimationName         = KUDireWolf_ATNA
                AnimationMode       =    ONCE
                AnimationSpeedFactorRange = 0.7 1.3
            End
        End

    End

    Draw = W3DScriptedModelDraw DustEffects
        DefaultModelConditionState
          Model = None
        End
        IdleAnimationState
        End
        AnimationState = MOVING WADING
            ParticleSysBone = None FootstepSlash
        End
        AnimationState = MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOVING
        End
    End

    #include "..\..\..\includes\StunDrawModuleMedium.inc"


    Side                = Angmar
    EditorSorting       = UNIT
    ThreatLevel         = 2.0
    TransportSlotCount  = TRANSPORTSLOTCOUNT_UNIT
    Scale = 1.3


    WeaponSet
        Conditions     = None
        Weapon         = PRIMARY    AngmarBestieWeapon
    End

    ArmorSet
        Conditions      = None
        Armor           = EdainWarriorHeroArmorMounted
        DamageFX        = NormalDamageFX
    End


    BuildFadeInOnCreateTime = 0

    VisionRange         = ANGMAR_DIREWOLF_VISION_RANGE
    ShroudClearingRange = ANGMAR_DIREWOLF_SHROUD_RANGE

    VisionSide            = 100%
    VisionRear            = 100%

    MaxVisionBonusPercent     = 300%
    VisionBonusTestRadius     = 200
    VisionBonusPercentPerFoot = 2.0%

    BountyValue         = ANGMAR_DIREWOLF_BOUNTY_VALUE
    DisplayName         = OBJECT:AngmarBestie
    CrushableLevel         = 2

    CrusherLevel           = 1
    CrushWeapon            = NazgulBaradDurCrush

    MinCrushVelocityPercent     = MINCRUSHVELOCITYPERCENT_HERO
    CrushDecelerationPercent    = CRUSHDECELERATIONPERCENT_HERO

    RamPower            = 40
    RamZMult            = 0.6

    CommandSet = EmptyCommandSet
    CommandPoints = 0



    VoiceAttack              = MonsterVoice
    VoiceAttackCharge        = MonsterVoice
    VoiceAttackMachine       = MonsterVoice
    VoiceAttackStructure     = MonsterVoice
    VoiceGuard               = MonsterVoice
    VoiceMove                = MonsterVoice
    VoiceSelect              = MonsterVoice
    VoiceSelectBattle        = MonsterVoice

    SoundAmbient             = MonsterVoice

    SoundImpact              = ImpactHorse





    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_RUNA Frames:0
        AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_TNL1 Frames:0
        AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_TNR1 Frames:0
        AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_TRNL Frames:0
        AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_TRNR Frames:0
        AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_ACCL Frames:0
        AnimationSound = Sound:WargTauntFootstep Animation:KUDireWolf_TNTA Frames:7 12 64 73
    End


    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Warg
    End



    RadarPriority = UNIT
    ThingClass = HORDE_UNIT

    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CAVALRY SCORE GRAB_AND_DROP ARAGORN


    Body = ActiveBody BodyModuleTag
        CheerRadius          = EMOTION_CHEER_RADIUS
        MaxHealth            = THEBEASTMASTERDAG_HEALTH
        MaxHealthDamaged     = 800
        BurningDeathBehavior = Yes
        BurningDeathFX       = FX_CavalryBurningFlame
		DodgePercent        = HERO_DODGE_PERCENT
    End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle  = Yes ATTACK_BUILDINGS
        BurningDeathTime            = BURNINGDEATH_DURATION_CAVALRY
    End

    LocomotorSet
        Locomotor = WargLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_MOUNTED_FAST_MEMBER_SPEED
    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 2533
    End


    Behavior = HordeMemberCollide ModuleTag_HMC

    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = SlowDeathBehavior ModuleTag_08

        DeathTypes = ALL -EXTRA_8 -FADED
        SinkDelay = 5000
        SinkRate = 1.50
        DestructionDelay = 8000
        DeathFlags           = DEATH_1
        Sound = INITIAL WargVoxDie
    End




  Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.5
        DestructionDelay = 8000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus = DEATH_4
        StartsActive   = Yes
        DelayTime      = 0
        DeathWeapon    = GrabandDropHorsesImpactWarhead
        WeaponOffset   = X:0 Y:0 Z:0
  End

  Behavior = BezierProjectileBehavior ModuleTag_BodyHitHorse
        FirstHeight               = 24
        SecondHeight              = 24
        FirstPercentIndent        = 30%
        SecondPercentIndent       = 70%
        TumbleRandomly            = Yes
        CrushStyle                = Yes
        DieOnImpact               = Yes
        BounceCount               = 1
        BounceDistance            = 40
        BounceFirstHeight         = 24
        BounceSecondHeight        = 24
        BounceFirstPercentIndent  = 20%
        BounceSecondPercentIndent = 80%
        GroundHitFX               = FX_GrabandDropHorsesGroundHit
        GroundBounceFX            = FX_GrabandDropHorsesGroundHit
  End

    Behavior = SlavedUpdate ModuleTag_Slave
        LeashRange                                  = 400
        GuardMaxRange                               = 0
        GuardWanderRange                            = 0
        AttackRange                                 = 200
        UseSlaverAsControlForEvaObjectSightedEvents = No
        GuardPositionOffset                         = X:-15 Y:-20 Z:0
        FadeTime                                    = 1000
        DieOnMastersDeath                           = Yes
    End

    Geometry = CYLINDER
    GeometryMajorRadius = 12
    GeometryMinorRadius = 12
    GeometryHeight = 22.0
    GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 30
    ShadowSizeY = 20
    ShadowTexture = ShadowI
End



Object AngmarDrauglinWerwolf


    SelectPortrait = HPBestienmeister
    ButtonImage    = HIBestienmeister

   DescriptionStrategic = CONTROLBAR:LW_ToolTip_Aragorn

   Draw = W3DScriptedModelDraw ModuleTag_DRAW

        ExtraPublicBone    = B_PASSENGER01


        DefaultModelConditionState
            Model = kuwwolf_sk3
        End



        IdleAnimationState
            StateName = State_Idle
            Animation = Breathe
                AnimationName = KUWWolf_SKL.KUWWolf_IDLA
                AnimationMode = ONCE
                AnimationBlendTime = 10
                AnimationPriority = 3
            End
            Animation = LookAround
                AnimationName = KUWWolf_SKL.KUWWolf_IDLB
                AnimationMode = ONCE
                AnimationBlendTime = 10
                AnimationPriority = 2
            End
            Animation = SnortLikeABull
                AnimationName = KUWWolf_SKL.KUWWolf_IDLC
                AnimationMode = ONCE
                AnimationBlendTime = 10
                AnimationPriority = 1
            End

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_JustBuilt"
                    then CurDrawableSetTransitionAnimState("TRANS_JustBuilt_To_Idle")
                end
                if Prev == "State_AboutToHitGround"
                    then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle")
                end
            EndScript
            ParticleSysBone = None SoWolf_Ambient_snowFollowBone:Yes
        End

        AnimationState                    =    DYING DEATH_1
            Animation                =    Dying
                AnimationName            =    KUWWolf_SKL.KUWWolf_DIEA
                AnimationMode            =    ONCE
            End

        End

        AnimationState                    =    DYING DEATH_2
            Animation                =    FadingOut
                AnimationName            =    KUWWolf_SKL.KUWWolf_RORA
                AnimationMode            =    ONCE
            End
        End



        AnimationState                    =    EATING
            FrameForPristineBonePositions         = 99
            Animation                =    DoingHorribleThingToGrabbedGuy
                AnimationName            =    KUWWolf_SKL.KUWWolf_SPCC
                AnimationMode            =    ONCE
                AnimationBlendTime        =    0
            End

        End

        AnimationState            = JUST_BUILT
            StateName = State_JustBuilt
            Animation
                AnimationName = KUWWolf_SKL.KUWWolf_RORA
                AnimationMode = MANUAL
                AnimationBlendTime = 0
            End
        End

        TransitionState = TRANS_JustBuilt_To_Idle
            Animation = BeingSummoned
                AnimationName = KUWWolf_SKL.KUWWolf_RORA
                AnimationMode = ONCE
            End
        End

        AnimationState = FIRING_OR_PREATTACK_B
            Animation = CrackThatWhip
                AnimationName = KUWWolf_SKL.KUWWolf_WIPA
                AnimationMode = ONCE
            End

        End

        AnimationState            = SPECIAL_WEAPON_ONE
            Animation
                AnimationName    = KUWWolf_SKL.KUWWolf_SPCB
                AnimationMode   = ONCE
            End
        End

        AnimationState            = SPECIAL_WEAPON_TWO
            Animation
                AnimationName    = KUWWolf_SKL.KUWWolf_CHRA
                AnimationMode   = ONCE
            End
        End

        AnimationState            = SPECIAL_WEAPON_THREE
            Animation
                AnimationName    = KUWWolf_SKL.KUWWolf_SPCA
                AnimationMode   = ONCE
            End
        End

        AnimationState            = TURN_RIGHT
            Animation            = TurningRight
                AnimationName    = KUWWolf_SKL.KUWWolf_TRNR
                AnimationMode   = LOOP
                AnimationBlendTime = 50
            End
        End

        AnimationState            = TURN_LEFT
            Animation            = TurningLeft
                AnimationName    = KUWWolf_SKL.KUWWolf_TRNL
                AnimationMode   = LOOP
                AnimationBlendTime = 50
            End
        End

        AnimationState                = MOVING
            Animation            = Running
                AnimationName        = KUWWolf_SKL.KUWWolf_RUNA
                AnimationMode       = LOOP
                AnimationBlendTime     = 10
                Distance        = 112

            End
            Flags                       = RANDOMSTART



        End


        AnimationState            = FIRING_OR_PREATTACK_A
            Animation
                AnimationName    = KUWWolf_SKL.KUWWolf_ATKA
                AnimationMode    = ONCE
                UseWeaponTiming    = Yes
            End
            Animation
                AnimationName    = KUWWolf_SKL.KUWWolf_ATKB
                AnimationMode    = ONCE
                UseWeaponTiming    = Yes
            End

        End

    End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End


    #include "..\..\..\includes\StunDrawModuleSmall.inc"



    Side = Angmar
    EditorSorting = UNIT
    ThreatLevel = ARAGORN_THREAT_LEVEL
    ThingClass = CHARACTER_UNIT
    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
    DisplayMeleeDamage = MEDIUM_HERO_DAMAGE
    ShockwaveResistance = SHOCKWAVE_RESISTANCE_ALWAYS
    HeroSortOrder = 20
    BuildCost = STRONG_HERO_COST
    BuildTime = STRONG_HERO_BUILDTIME

    WeaponSet
        Conditions = None
        Weapon = PRIMARY    AngmarDrauglinWeaponSwipe
    End

    ArmorSet
        Conditions        = None
        Armor             = VeryStrongHeroArmor
        DamageFX          = NormalDamageFX
    End

    VisionRange = VISION_HERO_RANGED
    ShroudClearingRange = 400
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue = GONDOR_ARAGORN_BOUNTY_VALUE
    DisplayName = OBJECT:AngmarBestienmeister
    RecruitText = CONTROLBAR:AngmarBestienmeister
    Hotkey        = CONTROLBAR:AngmarBestienmeisterHotkey

    CrusherLevel   = 2
    CrushWeapon = BalrogCrush
    MinCrushVelocityPercent     = MINCRUSHVELOCITYPERCENT_HERO
    CrushDecelerationPercent    = CRUSHDECELERATIONPERCENT_HERO

    CrushKnockback     = 40
    CrushZFactor     = 1.0

    Scale = 0.8

    CommandSet = AngmarBestienmeisterWerwolfCommandSet
    CommandPoints = 0



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_AragornBody

    AutoResolveArmor
        Armor = AutoResolve_AragornArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_AragornWeapon
    End

    AutoResolveLeadership = AutoResolve_AragornBonus






    VoiceAttack            = ShadeWolfAttack
    VoiceAttackCharge        = ShadeWolfAttack
    VoiceAttackMachine    = ShadeWolfAttack
    VoiceAttackStructure    = ShadeWolfAttack
    VoiceGuard            = ShadeWolfIdle
    VoiceMove            = ShadeWolfIdle
    VoiceSelect            = ShadeWolfIdle
    VoiceSelectBattle        = ShadeWolfIdle

    SoundAmbient        = ShadeWolfIdle
    SoundImpact            = ImpactHorse



    CrowdResponseKey = GoodMen

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Man Man_Male Unit Infantry Hero

    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: TrollFootstep             Animation: KUWWolf_SKL.KUWWolf_RUNA Frames: 42 17
        AnimationSound = Sound: TrollFootstep             Animation: KUWWolf_SKL.KUWWolf_TRNR Frames: 21 52
        AnimationSound = Sound: TrollFootstep             Animation: KUWWolf_SKL.KUWWolf_TRNL Frames: 21 52

        AnimationSound = Sound: ShadeWolfSummonPack        Animation: KUWWolf_SKL.KUWWolf_SPCB Frames: 1
        AnimationSound = Sound: ShadeWolfLament            Animation: KUWWolf_SKL.KUWWolf_CHRA Frames: 21

        AnimationSound = Sound: ShadeWolfSummonHowl        Animation: KUWWolf_SKL.KUWWolf_DIEA Frames: 25
        AnimationSound = Sound: ShadeWolfSummonHowl        Animation: KUWWolf_SKL.KUWWolf_RORA Frames: 21
        AnimationSound = Sound: ShadeWolfSummonHowl        Animation: KUWWolf_SKL.KUWWolf_SPCC Frames: 50
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE HERO ARMY_SUMMARY HEAVY_MELEE_HITTER ARAGORN MONSTER SIEGEENGINE CAN_ATTACK_WALLS SCARY

    Body = RespawnBody ModuleTag_RespawnBody
        CheerRadius               = EMOTION_CHEER_RADIUS
        MaxHealth                 = THEBEASTMASTERDAG_HEALTH
        PermanentlyKilledByFilter = NONE
        DodgePercent              = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                = DYING
        DeathAnimationTime        = 6033
        RespawnAnim                = LEVELED
        RespawnAnimationTime        = 2000
        AutoRespawnAtObjectFilter    = NONE +CASTLE_KEEP
        ButtonImage                = HIBestienmeister
        RespawnAsTemplate          = AngmarDrauglin

        RespawnRules =    AutoSpawn:No    Cost:STRONG_HERO_COST        Time:STRONG_HERO_RESPAWNTIME        Health:100%
    End


    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

    #include "..\..\..\includes\CaptureBuilding.inc"


  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle     = Yes ATTACK_BUILDINGS
    MoodAttackCheckRate            = 500
    AILuaEventsList                = BalrogFunctions
  End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance               = 300
        TauntAndPointUpdateDelay            = 10000
        AddEmotion            =    Doom_Base
        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
        AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base
        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
    End


  LocomotorSet
    Locomotor     = ShadeofWolfLocomotor
    Condition     = SET_NORMAL
    Speed         = 110
  End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 2133
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes           = ALL -FADED
        DestructionDelay     = 6000
        FadeDelay            = 4200
        FadeTime             = 3000
        DeathFlags           = DEATH_1
    End

    Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes           = NONE +FADED
        DestructionDelay     = 3850
        FadeDelay            = 1000
        FadeTime             = 2666
        DeathFlags           = DEATH_2
    End


    Behavior = SquishCollide ModuleTag_06

    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_BlackRiderDreadVisage
        SpecialPowerTemplate = SpecialAbilityFakeLeadership
        TriggeredBy = Upgrade_Level_1
    End

    Behavior = SpecialPowerModule ModuleTag_BlackRiderDreadVisageUpdate
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack  = Yes
        StartsPaused = No
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_LeadershipUnits
        StartsActive      = No
        BonusName         = DrauglinLeadership
        TriggeredBy       = Upgrade_Level_1
        RefreshDelay      = 2000
        Range             = 200
	    TargetEnemy	  = No
        ObjectFilter      = ANY +AngmarHeroWolf +AngmarDireWolf +AngmarWolfRider +AngmarBannerWolfRider +AngmarBannerDireSnowTroll -MACHINE -HERO -INFANTRY -AngmarBestie ALLIES
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MondscheinStarter
        SpecialPowerTemplate             = SpecialAbilityDainMightyRage
        TriggeredBy                      = Upgrade_Level_3
        ObeyRechageOnTrigger             = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_MondscheinDummy
        SpecialPowerTemplate             = SpecialAbilityDainMightyRage
        StartsPaused                     = Yes
        UpdateModuleStartsAttack         = Yes
    End

    Behavior = ActivateModuleSpecialPower ModuleTag_CloseTheGap
        SpecialPowerTemplate             = SpecialAbilityDainMightyRage
        StartAbilityRange                = 200
        TriggerSpecialPower              = ModuleTag_MondscheinHeal           TARGETPOS
        TriggerSpecialPower              = ModuleTag_MondscheinBlastStarter   TARGETPOS
    End

    Behavior = PlayerHealSpecialPower ModuleTag_MondscheinHeal
        SpecialPowerTemplate             = SpecialAbilityActivateeDummy
        HealAmount                       = 0.5
        HealAsPercent                    = Yes
        HealAffects                      = ARAGORN
        HealRadius                       = 10000
        InitiateSound                    = DrauglinSpellHeilmittel
        HealFX                           = FX_SpellHealUnitHealBuff
    End

    Behavior = SpecialPowerModule ModuleTag_MondscheinBlastStarter
        SpecialPowerTemplate             = SpecialAbilityWizardBlast
        UpdateModuleStartsAttack         = Yes
        StartsPaused                     = No
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_MondscheinBlastWeaponFireUpdate
        SpecialPowerTemplate             = SpecialAbilityWizardBlast
        WhichSpecialWeapon               = 5
        SkipContinue                     = Yes
        FreezeAfterTriggerDuration       = 100
        UnpackTime                       = 100
        PreparationTime                  = 1

        PackTime                         = 100
        AwardXPForTriggering             = 50
        StartAbilityRange                = 200
        SpecialWeapon                    = DrauglinMondscheinWeapon
        TriggerSound                     = GaladrielErinnerungEffeckt
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_KampfgeistEnabler
        SpecialPowerTemplate         = SpecialAbilityKampfgeistderBestie
        TriggeredBy                  = Upgrade_Level_5
        ObeyRechageOnTrigger         = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_KampfgeistStarter
        SpecialPowerTemplate         = SpecialAbilityKampfgeistderBestie
        StartsPaused                 = Yes
        UpdateModuleStartsAttack     = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_KampfgeistWeaponFireUpdate
        SpecialPowerTemplate         = SpecialAbilityKampfgeistderBestie
        WhichSpecialWeapon           = 1
        SkipContinue                 = Yes
        FreezeAfterTriggerDuration   = 100
        UnpackTime                   = 100
        PreparationTime              = 1
        PackTime                     = 100
        AwardXPForTriggering         = 0
        StartAbilityRange            = 270
        SpecialWeapon                = KampfgeistderBesieWeapon
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_HorseToggleEnabler
        SpecialPowerTemplate      = SpecialAbilityToggleMounted
        TriggeredBy               = Upgrade_Level_7
    End

    Behavior = SpecialPowerModule ModuleTag_HorseToggleStarter
         SpecialPowerTemplate      = SpecialAbilityToggleMounted
         UpdateModuleStartsAttack  = Yes

         StartsPaused = Yes
    End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle
         SpecialPowerTemplate    = SpecialAbilityToggleMounted
         UnpackTime              = ANGMAR_MOUNT_TIME
         PreparationTime         = 1
         PersistentPrepTime      = 250
         PackTime                = ANGMAR_MOUNT_TIME
         OpacityTarget            = .3
         AwardXPForTriggering    = 0
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WolfwinterEnabler
        SpecialPowerTemplate   = SpecialAbilityElrondsBibliothek
        TriggeredBy            = Upgrade_Level_10
        ObeyRechageOnTrigger   = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_OCLSpecialPowerWolfwinter
        SpecialPowerTemplate   = SpecialAbilityElrondsBibliothek
        OCL                    = OCL_WolfswinterWolf
        CreateLocation         = CREATE_AT_LOCATION
        StartsPaused           = Yes

    End

    Behavior = SpecialAbilityUpdate ModuleTag_OCLSpawnWolfwinterUpdate
        SpecialPowerTemplate       = SpecialAbilityElrondsBibliothek
        UnpackTime                 = 1
        PreparationTime            = 3
        PackTime                   = 2096
        AwardXPForTriggering       = 0
        FreezeAfterTriggerDuration = 0
    End







    Behavior = SpecialPowerModule ModuleTag_MachtStarter
         SpecialPowerTemplate           = SpecialAbilityGandalfGeprufte
         UpdateModuleStartsAttack       = Yes
         StartsPaused                   = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Macht
         SpecialPowerTemplate           = SpecialAbilityGandalfGeprufte
         MountedTemplate                = AngmarDrauglin
         SynchronizeTimerOnSpecialPower = SpecialAbilityDainMightyRage SpecialAbilityKampfgeistderBestie SpecialAbilityElrondsBibliothek
         UnpackTime                     = OBJECT_TOGGLE_TIME
         PreparationTime                = 0
         PackTime                       = 0
         OpacityTarget                  = .0
         AwardXPForTriggering           = 0
         IgnoreFacingCheck              = Yes
    End



    Behavior = SpecialPowerModule ModuleTag_SpecialPowerModuleGrabStarter
        SpecialPowerTemplate        = SpecialAbilityAngmarShadeEatMeGrab
        UpdateModuleStartsAttack    = Yes
        StartsPaused            = No
        InitiateSound            = BalrogChuckle
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WeaponFireSpecialAbilityUpdateGrab
        SpecialPowerTemplate        = SpecialAbilityAngmarShadeEatMeGrab
        SkipContinue            = Yes
        UnpackTime            = 533


        StartAbilityRange        = 12.0

        SpecialWeapon            = AngmarShadeChompWeapon
        ChainedButton            = Command_SpecialAbilityShadeChompFlingPassenger
        CustomAnimAndDuration        = AnimState:EATING AnimTime:3333
        MustFinishAbility        = Yes

        TriggerAttributeModifier    = SharkuManEater
        AttributeModifierDuration    = 20000
        TriggerSound                = SharkuManEaterEatingMS
        BusyForDuration                = 5000
    End

    Behavior = PlayerHealSpecialPower ModuleTag_SpecialPowerModuleFlingPassengerStarter
        SpecialPowerTemplate        = SpecialAbilityAngmarShadeEatMeDrop
        UpdateModuleStartsAttack    = Yes
        StartsPaused            = No
        HealAmount            = 0.2
        HealAsPercent            = Yes
        HealAffects            = MONSTER
        HealRadius            = 0.0
        HealFX                = FX_SpellHealUnitHealBuff
    End

    Behavior = FlingPassengerSpecialAbilityUpdate ModuleTag_FlingPassengerSpecialAbilityUpdate
        SpecialPowerTemplate            = SpecialAbilityAngmarShadeEatMeDrop
        UnpackTime                = 1250
        FlingPassengerVelocity            = X:0 Y:0 Z:0
        FlingPassengerLandingWarhead        = AngmarShadeChompWarhead
        MustFinishAbility        = Yes
    End

    Behavior = TransportContain ModuleTag_09
        ObjectStatusOfContained = UNSELECTABLE
        PassengerFilter            = ANY +INFANTRY

        Slots                    = 1
        ShowPips                = No
        AllowEnemiesInside        = Yes
        AllowNeutralInside        = Yes
        AllowAlliesInside        = No

        DestroyRidersWhoAreNotFreeToExit = Yes
        ForceOrientationContainer = No
        PassengerBonePrefix = PassengerBone:B_PASSENGER01        KindOf:INFANTRY

    End





    Behavior = AutoHealBehavior ModuleTag_AragornHealing
        StartsActive = Yes
        HealingAmount = HERO_HEAL_AMOUNT
        HealingDelay = 1000
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End


    Behavior = StealthDetectorUpdate StealthDetectorUpdateModuleTag
        DetectionRange      = 300
        DetectionRate       = 500
        CancelOneRingEffect = Yes
    End








    Behavior = AISpecialPowerUpdate MightyRageAI
        CommandButtonName = Command_SpecialAbilityMondschein
        SpecialPowerAIType = AI_SPECIAL_POWER_HEAL_AOE
        SpecialPowerRadius = 200.0
    End

    Behavior = AISpecialPowerUpdate SpecialPowerTheodenGloriousCharge
        CommandButtonName = Command_SpecialAbilityKampfgeistderBestie
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate RoyalGuardAI
        CommandButtonName = Command_SpecialAbilityRufdesRudels
        SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate TheodenToggleMountedAI
        CommandButtonName = Command_BestienmeisterToggle
        SpecialPowerAIType = AI_SPECIAL_POWER_TOGGLE_MOUNTED
    End



    Geometry            = CYLINDER
    GeometryMajorRadius = 18.0
    GeometryHeight      = 50.0
    GeometryOffset      = X:-20 Y:0 Z:0
    GeometryIsSmall     = No

    Shadow              = SHADOW_VOLUME
    ShadowSizeX         = 50
    ShadowSizeY         = 50
    ShadowTexture       = ShadowI
End

