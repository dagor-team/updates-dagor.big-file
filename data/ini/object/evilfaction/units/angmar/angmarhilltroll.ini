Object AngmarHillTroll



    ButtonImage       = WOR_HillTrollIcon
    SelectPortrait    = KUHillTrollPortrait

    Draw = W3DHordeModelDraw ModuleTag_01

        OkToChangeModelColor = Yes

        StaticModelLODMode = Yes


        LodOptions    = LOW
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_LOW
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_LOW
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_LOW
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_LOW
        End

        LodOptions    = MEDIUM
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_MED
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_MED
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_MED
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_MED
        End

        LodOptions    = HIGH
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_HIGH
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_HIGH
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_HIGH
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_HIGH
        End

        DefaultModelConditionState
        Model = KUHTroll_TH01 ;KUHTroll_SKN
        Skeleton = KUHTroll_SKL
        End
		
		RandomTexture = Hill_Troll_00.tga 0 Hill_Troll_00.tga Hill_Troll_00_nrm.tga 0 Hill_Troll_00_nrm.tga
       RandomTexture = Hill_Troll_01.tga 0 Hill_Troll_00.tga Hill_Troll_01_nrm.tga 0 Hill_Troll_00_nrm.tga
       RandomTexture = Hill_Troll_02.tga 0 Hill_Troll_00.tga  Hill_Troll_02_nrm.tga 0 Hill_Troll_00_nrm.tga
       RandomTexture = Hill_Troll_03.tga 0 Hill_Troll_00.tga  Hill_Troll_03_nrm.tga 0 Hill_Troll_00_nrm.tga
       RandomTexture = Hill_Troll_04.tga 0 Hill_Troll_00.tga  Hill_Troll_04_nrm.tga 0 Hill_Troll_00_nrm.tga


        IdleAnimationState
            Flags = RANDOMSTART
            StateName = Bored
            Animation = IDLB
                AnimationName        = KUHTroll_IDLB
                AnimationMode        = LOOP
                AnimationBlendTime    = 15
                AnimationPriority   =    10
            End
                Animation = IDLB
                AnimationName        = KUHTroll_IDLC
                AnimationMode        = LOOP
                AnimationBlendTime    = 15
                AnimationPriority   =    1
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Planted"    then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end

            EndScript
        End


        AnimationState                        = PASSENGER
            Animation                        = Grabbed
                AnimationName                = KUHTroll_FLYA
                AnimationMode                = LOOP
            End
        End

        AnimationState                        = FREEFALL
            StateName                        = STATE_Falling
            Animation                        = Falling
                AnimationName                = KUHTroll_FLYA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End



        AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A
             Animation = ATKC
                AnimationName        = KUHTroll_ATKA
                AnimationMode        = LOOP
                UseWeaponTiming        = Yes
            End
        End


        AnimationState = ALTERNATE_FORMATION MOVING BACKING_UP
            Animation = Moving_Back
                AnimationName = KUHTroll_BAKA
                AnimationMode = LOOP
            End
        End

        AnimationState = ALTERNATE_FORMATION MOVING
             Animation = RUNA
                AnimationName        = KUHTroll_RUNA
                AnimationMode        = LOOP
            End
        End










        AnimationState                        = DYING BURNINGDEATH DEATH_1
            Animation
                AnimationName                = KUHTroll_DIEA
                AnimationMode                = ONCE
                AnimationBlendTime            = 10
            End
        End

        AnimationState                        = ALTERNATE_FORMATION DYING SPLATTED DEATH_1
             Animation                        = Splat
                AnimationName                = KUHTroll_LNDA
                AnimationMode                = ONCE
            End
        End

        AnimationState = ALTERNATE_FORMATION DYING AFLAME DEATH_1
            Animation = Flaming_Death
                AnimationName = KUHTroll_RUNA
                AnimationMode = ONCE
            End
        End

        AnimationState =  ALTERNATE_FORMATION DYING DEATH_1
            Animation = Dying_1
                AnimationName = KUHTroll_DIEA
                AnimationMode = ONCE
            End
        End

        AnimationState =  ALTERNATE_FORMATION DYING DEATH_2
            Animation = ByeBye
                AnimationName = KUHTroll_IDLB
                AnimationMode = LOOP
            End
        End



        AnimationState = ALTERNATE_FORMATION STUNNED_STANDING_UP
             Animation = Standing_Back_Up
                AnimationName = KUHTroll_GTPA
                AnimationMode = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState = ALTERNATE_FORMATION STUNNED
             Animation = Splattered_On_Ground
                AnimationName = KUHTroll_LNDA
                AnimationMode = ONCE
            End
        End

        AnimationState = ALTERNATE_FORMATION PORCUPINE
             Animation
                AnimationName        = KUHTroll_PLTB
                AnimationMode        = LOOP
            End
            StateName = STATE_Planted
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev ~= "STATE_Planted"    and Prev ~= "Trans_Up_To_Down" then CurDrawableSetTransitionAnimState("Trans_Up_To_Down") return end
            EndScript
        End




        AnimationState = STUNNED_FLAILING
            Animation = Flying_1
                AnimationName = KUHTroll_FLYA
                AnimationMode = LOOP
            End
            Flags                            = MAINTAIN_FRAME_ACROSS_STATES2
        End

        AnimationState = DYING SPLATTED DEATH_1
             Animation = Splat
                AnimationName = KUHTroll_LNDA
                AnimationMode = ONCE
            End
        End




        AnimationState = DYING AFLAME DEATH_1
            Animation = Flaming_Death
                AnimationName = KUHTroll_RUNA
                AnimationMode = ONCE
            End
        End

        AnimationState = DYING DEATH_1
            Animation = Dying_2
                AnimationName = KUHTroll_DIEA
                AnimationMode = ONCE
            End
        End

        AnimationState = DYING DEATH_2
            Animation = ByeBye
                AnimationName = KUHTroll_IDLB
                AnimationMode = LOOP
            End
        End













        AnimationState = STUNNED_STANDING_UP
            Animation = Standing_Back_Up
                AnimationName = KUHTroll_GTPA
                AnimationMode = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState                        = STUNNED
            StateName                        = STATE_Stunned
            Animation                        = Splattered_On_Ground
                AnimationName                = KUHTroll_LNDA
                AnimationMode                = ONCE
            End
        End


        AnimationState                        = BURNINGDEATH
            Animation
                AnimationName                = KUHTroll_MFDA
                AnimationMode                = LOOP
                Distance                    = 120
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = KUHTroll_IDLA
                AnimationMode                = LOOP
            End
        End

        AnimationState  = COMING_OUT_OF_FACTORY
            Animation = Being_Built
                AnimationName        = KUHTroll_RUNB
                AnimationMode        = LOOP
                AnimationBlendTime    = 0
            End
        End












        AnimationState = MOVING BACKING_UP
            Animation = Moving_Back
                AnimationName = KUHTroll_BAKA
                AnimationMode = LOOP
            End
        End

        AnimationState = MOVING EMOTION_AFRAID
            Animation = Moving_1
                AnimationName = KUHTroll_RUNA
                AnimationMode = LOOP
            End
            Flags = MAINTAIN_FRAME_ACROSS_STATES
            ParticleSysBone = None InfantryDustTrails
        End

        AnimationState = MOVING EMOTION_ALERT
            Animation = Moving_1
                AnimationName = KUHTroll_RUNA
                AnimationMode = LOOP
            End
            Flags = MAINTAIN_FRAME_ACROSS_STATES
            ParticleSysBone = None InfantryDustTrails
        End

        AnimationState = MOVING ATTACKING
            Animation = Moving_1
                AnimationName = KUHTroll_RUNA
                AnimationMode = LOOP
            End
            Flags = MAINTAIN_FRAME_ACROSS_STATES
            ParticleSysBone = None InfantryDustTrails
        End

        AnimationState = MOVING ENGAGED
            Animation = Moving_1
                AnimationName = KUHTroll_RUNA
                AnimationMode = LOOP
            End
            Flags = MAINTAIN_FRAME_ACROSS_STATES
            ParticleSysBone = None InfantryDustTrails
        End

        AnimationState = MOVING
            Flags = RANDOMSTART
            Animation = Moving_1
                AnimationName = KUHTroll_RUNA
                AnimationMode = LOOP
            End
            ParticleSysBone = None InfantryDustTrails
        End




        AnimationState =  FIRING_OR_PREATTACK_A
            Animation
                AnimationName        = KUHTroll_ATKB
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End

            Animation = KickSinceWeAreMelee
                AnimationName        = KUHTroll_ATKC
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            Flags = RANDOMSTART
        End



        AnimationState                            = WAR_CHANT
            Animation                            = Chant
                AnimationName                    = KUHTroll_IDLA
                AnimationMode                    = LOOP
            End
        End

        AnimationState                            = EMOTION_AFRAID
            Animation                            = FERA
                AnimationName                    = KUHTroll_FERA
                AnimationMode                    = LOOP
            End
            Flags                                = RANDOMSTART
        End

        AnimationState                            = EMOTION_CELEBRATING
            Animation                            = CHRA
                AnimationName                    = KUHTroll_CHRA
                AnimationMode                    = LOOP
            End
            Flags                                = RANDOMSTART
        End

        AnimationState                            = EMOTION_TAUNTING
            Animation
                AnimationName                    = KUHTroll_TNTA
                AnimationMode                    = LOOP
            End
            Animation
                AnimationName                    = KUHTroll_TNTB
                AnimationMode                    = LOOP
            End
            Flags                                = RANDOMSTART
        End

        AnimationState                            = EMOTION_POINTING
            Animation                            = Pointing1
                AnimationName                    = KUHTroll_PNTA
                AnimationMode                    = LOOP
            End
            Flags                                = RANDOMSTART
        End













































        AnimationState                            = RAISING_FLAG
            Animation                            = CHRA
                AnimationName                    = KUHTroll_CHRA
                AnimationMode                    = LOOP
            End
        End

        AnimationState = SELECTED
            Animation                = Selected_Loop
                AnimationName        = KUHTroll_ATNB
                AnimationMode        = LOOP
                AnimationBlendTime    = 10
            End
            StateName                = Selected
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Planted"    then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end
                if Prev == "Bored" then CurDrawableSetTransitionAnimState("TRANS_BS_Normal") end
            EndScript
            Flags = RESTART_ANIM_WHEN_COMPLETE
        End




        TransitionState = Trans_Down_To_Up
            Animation = Transition
                AnimationName = KUHTroll_PLTC
                AnimationMode = ONCE
            End
        End

        TransitionState = Trans_Up_To_Down
            Animation = Transition
                AnimationName = KUHTroll_PLTA
                AnimationMode = ONCE
            End
        End























        TransitionState = TRANS_BS_Normal
            Animation = Transition
                AnimationName                = KUHTroll_ATNA
                AnimationMode                = ONCE
                AnimationBlendTime            = 20
                AnimationMustCompleteBlend    = Yes
            End
        End

        TransitionState = TRANS_SB_Normal
            Animation = Transition
                AnimationName                = KUHTroll_IDLA
                AnimationMode                = ONCE
                AnimationBlendTime            = 10
                AnimationMustCompleteBlend    = Yes
            End
        End


















        TransitionState = TRANS_SR_Alt
        End

        TransitionState = TRANS_RS_Alt
        End

        TransitionState = TRANS_BS_Alt
        End

        TransitionState = TRANS_SB_Alt
        End

        TransitionState = TRANS_BR_Alt
        End

        TransitionState = TRANS_RB_Alt
        End

    End

    #include "..\..\..\includes\StunDrawModuleLarge.inc"



    Side               = Angmar
    EditorSorting      = UNIT
    ThreatLevel        = 1.0
    ThingClass         = HORDE_UNIT
    CommandPoints      = 10
    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
    Scale              = 1.4
    ShockwaveResistance = 40

    WeaponSet
        Conditions          = None
        Weapon              = PRIMARY      HillTrollHammer
    End

    ArmorSet
        Conditions      = None
        Armor           = HillTrollArmor
        DamageFX        = NormalDamageFX
    End
    ArmorSet
        Conditions      = PLAYER_UPGRADE
        Armor           = HillTrollHeavyArmor
        DamageFX        = NormalDamageFX
    End

    BuildFadeInOnCreateTime        = 0

    ShroudClearingRange   = ANGMAR_HILLTROLL_SHROUD_RANGE
    VisionRange           = ANGMAR_HILLTROLL_VISION_RANGE

    VisionSide = 35%
    VisionRear = 25%

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 2.0%


     BountyValue                  = 10
     DisplayName                  = OBJECT:AngmarHillTroll
     CrushableLevel               = 2
     CrusherLevel                 = 0
     CrushRevengeWeapon           = AntiCavalryInfantryCrushRevenge

    CommandSet                    = AngmarHillTrollCommandSet



    VoiceAttack                = TrollVoiceAttack
    VoiceAttackCharge          = TrollVoiceAttack
    VoiceAttackMachine         = TrollVoiceAttack
    VoiceAttackStructure       = TrollVoiceAttack
    VoiceCreated               = DrummerTrollCreatedRoar
    VoiceFullyCreated          = DrummerTrollCreatedRoar
    VoiceGuard                 = TrollVoiceMove
    VoiceMove                  = TrollVoiceMove
    VoiceMoveToCamp            = TrollVoiceMove
    VoiceMoveWhileAttacking    = TrollVoiceMove
    VoicePriority              = 55
    VoiceSelect                = TrollVoiceSelect
    VoiceSelectBattle          = TrollVoiceSelect

    SoundImpact            = ImpactHorse

    UnitSpecificSounds
        VoiceEnterUnitEvilMenTransportShip    = TrollVoiceMove
        VoiceEnterUnitMordorMumakil           = TrollVoiceMove
        VoiceEnterUnitSlaughterHouse          = TrollVoiceMove
        VoiceGarrison                         = TrollVoiceMove
        VoiceInitiateCaptureBuilding          = TrollVoiceMove
    End

    CrowdResponseKey = Uruk

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:TrollBodyfall            Animation:KUHTroll_DIEA    Frames:72
        AnimationSound = Sound:TrollBodyfall            Animation:KUHTroll_LNDA    Frames:7
    End

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:EMOTION_CELEBRATING    Excluded:DYING ENGAGED    Sound:EmotionMarauderCompilationVoxCheerSinglesLoop
        ModelCondition = Required:EMOTION_TAUNTING        Excluded:DYING ENGAGED    Sound:EmotionMarauderCompilationVoxTauntSinglesLoop
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionMarauderCompilationVoxTauntSinglesLoop
    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Marauder
    End




    RadarPriority    = UNIT
    KindOf        = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP ATTACK_NEEDS_LINE_OF_SIGHT TROLL HORDE_MONSTER

    Body                            = PorcupineFormationBodyModule ModuleTag_porcupineFormation
        CheerRadius                 = EMOTION_CHEER_RADIUS
        MaxHealth                   = 1700
        MaxHealthDamaged            = 825
        DamageWeaponTemplate        = PikemenPorcupineDamage
        CrushDamageWeaponTemplate   = PikemenPorcupineCrushDamage
        CrusherLevelResisted        = 1
        BurningDeathBehavior        = Yes
        BurningDeathFX              = FX_InfantryBurningFlame
    End

       Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        AddEmotion            = Terror_Base
        AddEmotion            = Doom_Base
        AddEmotion            = BraceForBeingCrushed_Base
        AddEmotion            = UncontrollableFear_Base
        AddEmotion            = Point_Base
        AddEmotion            = Taunt_Base
        AddEmotion            = CheerIdle_Base
        AddEmotion            = CheerBusy_Base
        AddEmotion            = HeroCheerIdle_Base
        AddEmotion            = HeroCheerBusy_Base
        AddEmotion            = Alert_Base
    End

    Behavior = ArmorUpgrade ArmorUpgradeModuleTag
        TriggeredBy        = Upgrade_HeavyArmor
        ArmorSetFlag    = PLAYER_UPGRADE
    End

    Behavior = SubObjectsUpgrade Armor_Upgrade
        TriggeredBy            = Upgrade_HeavyArmor
        UpgradeTexture        = KUHillTroll.tga 0 KUHillTroll_HA.tga
        RecolorHouse        = Yes
        ExcludeSubobjects    = Forged_Blade
    End

    Behavior = SubObjectsUpgrade ModuleTag_Making
        TriggeredBy       = Upgrade_AllFactionUpgrade
        HideSubObjects    = Forged_Blade
    End

    Behavior = SubObjectsUpgrade ForgedBlades_Upgrade
        TriggeredBy        = Upgrade_ForgedBlades
        ShowSubObjects    = Forged_Blade
    End

    Behavior = StatusBitsUpgrade ForgedBlades_UpgradeDetection
        TriggeredBy        = Upgrade_ForgedBlades
    End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle         = Yes ATTACK_BUILDINGS
        AILuaEventsList                       = IsengardFighterFunctions
        MoodAttackCheckRate                = 500
        HoldGroundCloseRangeDistance    = 80
        AttackPriority                    = AttackPriority_Spearman
        BurningDeathTime                = BURNINGDEATH_DURATION_INFANTRY
    End

    LocomotorSet
        Locomotor     = TrollLocomotor
        Condition     = SET_NORMAL
        Speed         = 50
    End

    LocomotorSet
        Locomotor = BurningDeathLocomotorInfantry
        Condition = SET_BURNINGDEATH
        Speed      = 75
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult                = 1.0
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 2133
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes            = ALL -KNOCKBACK -FADED
        SinkDelay            = 3000
        SinkRate            = 4.0
        DestructionDelay    = 8000
        DeathFlags           = DEATH_1
        Sound                = INITIAL MarauderVoxDieMS
    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = SlowDeathBehavior ModuleTag_07

        DeathTypes            = NONE +KNOCKBACK
        SinkDelay            = 3000
        SinkRate            = 0.40
        DestructionDelay    = 8000
        DeathFlags           = DEATH_1
        Sound                = INITIAL MarauderVoxDieMS
    End

    Behavior = BezierProjectileBehavior ModuleTag_08
        FirstHeight                    = 24
        SecondHeight                = 24
        FirstPercentIndent            = 30%
        SecondPercentIndent         = 70%
        TumbleRandomly                = Yes

        CrushStyle                    = Yes
        DieOnImpact                    = Yes
        BounceCount                    = 1
        BounceDistance                = 40
        BounceFirstHeight            = 24
        BounceSecondHeight            = 24
        BounceFirstPercentIndent    = 20%
        BounceSecondPercentIndent    = 80%

        GroundHitFX       = FX_ThrownRockGroundHit
        GroundBounceFX    = FX_ThrownRockBounceHit
    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End

    Geometry            = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight        = 30.0
    GeometryIsSmall        = Yes

    Shadow                = SHADOW_DECAL
    ShadowSizeX            = 21
    ShadowSizeY            = 21
    ShadowTexture        = ShadowI
End



ChildObject AngmarHillTroll_Summoned AngmarHillTroll


    EquivalentTo                    = AngmarHillTroll
    IsTrainable                     = No
    CommandSet                      = CreepCommandSet
    KindOf                          = +SUMMONED



    Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate

        MinLifetime        = DUNEDAIN_ALLIES_LIFETIME
        MaxLifetime        = DUNEDAIN_ALLIES_LIFETIME
        DeathType          = FADED
    End

      Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes           = NONE +FADED
        FadeDelay            = 0
        FadeTime             = 5000
        DestructionDelay     = 5000
        DeathFlags           = DEATH_2
        Sound                = INITIAL SpellGenericUnsummonFasterMS
    End

End

Object AngmarHillTrollEdain




    ButtonImage    = WOR_HillTrollIcon
    SelectPortrait = KUHillTrollPortrait

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_AngmarHillTroll

    Draw = W3DScriptedModelDraw ModuleTag_01

        OkToChangeModelColor        = Yes
        ShowShadowWhileContained    = Yes
        StaticModelLODMode            = Yes

        ExtraPublicBone                = TRUNK01

        DefaultModelConditionState
            Model = muhilltroll_skn
            WeaponLaunchBone = PRIMARY Firepoint
        End


        IdleAnimationState
            StateName                = Idle
            AllowRepeatInRandomPick    = Yes
            SimilarRestart            = Yes

            Animation = BreathWithClub
                AnimationName = MuCavTroll_SKL.MuCavTroll_IDLB
                AnimationMode = ONCE
                AnimationPriority = 30
                AnimationSpeedFactorRange = 0.8 1.0
            End
            Animation = RoarAndThumpClub
                AnimationName = MuCavTroll_SKL.MuCavTroll_IDLE
                AnimationMode = ONCE
                AnimationPriority = 5
                AnimationBlendTime = 3
            End
            Animation = ScratchButt
                AnimationName = MuCavTroll_SKL.MuCavTroll_IDLG
                AnimationMode = ONCE
                AnimationPriority = 2
                AnimationBlendTime = 3
            End
            Animation = ScratchButt
                AnimationName = MuCavTroll_SKL.MuCavTroll_IDLF
                AnimationMode = ONCE
                AnimationPriority = 2
                AnimationBlendTime = 3
            End
            Flags = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableShowSubObjectPermanently("Trunk01")
            EndScript
        End



        AnimationState = STUNNED_FLAILING
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_FLYA
                AnimationMode = LOOP
            End
        End


        AnimationState = DYING WEAPONSET_TOGGLE_1 DEATH_1
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_DIEE
                AnimationMode = ONCE
            End
        End

        AnimationState = DYING SPLATTED DEATH_1
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_LNDA
                AnimationMode = ONCE
            End
        End

        AnimationState = DYING DEATH_1
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_DIEB
                AnimationMode = ONCE
            End

                ParticleSysBone = B_PELVIS TrollSplatDust
                ParticleSysBone = BAT_HEAD TrollSplatDust
        End

        AnimationState = DYING DEATH_2
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_IDLA
                AnimationMode = LOOP
            End
        End

        AnimationState                = STUNNED_STANDING_UP
            Animation                = MuCavTroll_GTPA
                AnimationName        = MuCavTroll_SKL.MuCavTroll_GTPA
                AnimationMode        = ONCE
            End
        End

        AnimationState                = STUNNED
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_LNDA
                AnimationMode = ONCE
            End
            ParticleSysBone = B_PELVIS TrollSplatDust2
            ParticleSysBone = BAT_HEAD TrollSplatDust2
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = MuCavTroll_IDLB
                AnimationMode                = LOOP
            End
        End































        AnimationState = SPECIAL_WEAPON_ONE
            Animation = Punch
                AnimationName = MuCavTroll_SKL.MuCavTroll_ATKF
                AnimationMode = ONCE
            End
            Animation = Backhand
                AnimationName = MuCavTroll_SKL.MuCavTroll_ATKG
                AnimationMode = ONCE
            End
        End


        AnimationState = WEAPONSET_RAMPAGE
            Animation = GetMad
                    AnimationName = MuCavTroll_SKL.MuCavTroll_RPGC
                    AnimationMode = LOOP
                End
            End



        AnimationState = FIRING_OR_PREATTACK_A






            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_ATKC
                AnimationMode = ONCE
                UseWeaponTiming        = Yes
            End
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_ATKD
                AnimationMode = ONCE
                UseWeaponTiming        = Yes
            End
        End


        AnimationState = TURN_LEFT
            Animation = Moving
                AnimationName = MuCavTroll_SKL.MuCavTroll_TRNL
                AnimationMode = LOOP
                AnimationBlendTime = 10
            End
            ParticleSysBone = None InfantryDustTrails
            BeginScript
                CurDrawableShowSubObjectPermanently("Trunk01")
            EndScript
        End

        AnimationState = TURN_RIGHT
            Animation = Moving
                AnimationName = MuCavTroll_SKL.MuCavTroll_TRNR
                AnimationMode = LOOP
                AnimationBlendTime = 10
            End
            ParticleSysBone = None InfantryDustTrails
            BeginScript
                CurDrawableShowSubObjectPermanently("Trunk01")
            EndScript
        End

        AnimationState = MOVING
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_RUNA
                AnimationMode = LOOP

            End
            Flags               = RANDOMSTART
            ParticleSysBone     = None InfantryDustTrails
            FXEvent    = Frame:5 FireWhenSkipped Name:FX_TrollRightFootStep
            FXEvent    = Frame:18 FireWhenSkipped Name:FX_TrollLeftFootStep
        End































        AnimationState = FIRING_OR_PREATTACK_A






            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_ATKC
                AnimationMode = ONCE
                UseWeaponTiming        = Yes
            End
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_ATKD
                AnimationMode = ONCE
                UseWeaponTiming        = Yes
            End
        End


        AnimationState = FIRING_OR_PREATTACK_B
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_ATRA
                AnimationMode = ONCE
                UseWeaponTiming        = Yes
            End
        End

        AnimationState = PREPARING
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_GRBC
                AnimationMode = ONCE
            End
        End

        AnimationState = PACKING
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_GRBD
                AnimationMode = ONCE
            End
            BeginScript
                CurDrawableShowSubObjectPermanently("Trunk01")
            EndScript
        End

        AnimationState = EMOTION_CELEBRATING
            Animation = DeepRoar
                AnimationName    =    MuCavTroll_SKL.MuCavTroll_IDLF
                AnimationMode    =    LOOP
            End
        End

        AnimationState = USER_2
             Animation = ReactToTrollPoke
                 AnimationName = MuCavTroll_SKL.MuCavTroll_HITD
                 AnimationMode = ONCE
             End
        End

        AnimationState                    = EMOTION_TAUNTING
            Animation
                AnimationName            = MUMntTroll_SKL.MUMntTroll_IDLB
                AnimationMode            = ONCE
                AnimationPriority        = 20
            End
            Animation                    = Taunting3
                AnimationName            = MUMntTroll_SKL.MUMntTroll_IDLM
                AnimationMode            = ONCE
                AnimationPriority        = 10
            End
            Animation                    = Taunting4
                AnimationName            = MUMntTroll_SKL.MUMntTroll_IDLE
                AnimationMode            = ONCE
                AnimationPriority        = 5
            End
        End



        AnimationState = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
            StateName = Throw
            Animation
                AnimationName        = MuCavTroll_SKL.MuCavTroll_THRA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            LuaEvent = Frame:24 Data: hide_rock
            FrameForPristineBonePositions = 24
        End

        AnimationState = RELOADING_A WEAPONSET_TOGGLE_1
            Animation
                AnimationName        = MuCavTroll_SKL.MuCavTroll_GRBE
                AnimationMode        = ONCE
            End
            FXEvent    = Frame:21    Name: FX_CaveTrollRockGrab
            FXEvent    = Frame:38    Name: FX_CaveTrollRockYank
            LuaEvent = Frame:37 Data: show_rock
        End






















        AnimationState = FIRING_OR_PREATTACK_B WEAPONSET_TOGGLE_1
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_ATKJ
                AnimationMode = ONCE
                UseWeaponTiming        = Yes
            End
        End

        AnimationState = TURN_LEFT WEAPONSET_TOGGLE_1
            Animation = Moving
                AnimationName = MUCavTroll_SKL.MUCavTroll_TRNL
                AnimationMode = LOOP
                AnimationBlendTime = 10
            End
            ParticleSysBone = None InfantryDustTrails
        End

        AnimationState = TURN_RIGHT WEAPONSET_TOGGLE_1
            Animation = Moving
                AnimationName = MUCavTroll_SKL.MUCavTroll_TRNR
                AnimationMode = LOOP
                AnimationBlendTime = 10
            End
            ParticleSysBone = None InfantryDustTrails
        End

        AnimationState = MOVING WEAPONSET_TOGGLE_1
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_RUNA
                AnimationMode = LOOP

            End
            Flags = RANDOMSTART
            ParticleSysBone = None InfantryDustTrails
            FXEvent    = Frame:5 FireWhenSkipped Name:FX_TrollRightFootStep
            FXEvent    = Frame:18 FireWhenSkipped Name:FX_TrollLeftFootStep
        End














        AnimationState = HIT_REACTION HIT_LEVEL_1 WEAPONSET_TOGGLE_1
            Animation = Hit_Level_1_a
                AnimationName = MuCavTroll_SKL.MuCavTroll_HITD
                AnimationMode = ONCE
            End
        End

        AnimationState = HIT_REACTION HIT_LEVEL_2 WEAPONSET_TOGGLE_1
            Animation = Hit_Level_2
                AnimationName = MuCavTroll_SKL.MuCavTroll_HITC
                AnimationMode = ONCE
            End
        End

        AnimationState = HIT_REACTION HIT_LEVEL_3 WEAPONSET_TOGGLE_1
            Animation = Hit_Level_3
                AnimationName = MuCavTroll_SKL.MuCavTroll_HITA
                AnimationMode = ONCE
            End
        End

        AnimationState = REACT_1 WEAPONSET_TOGGLE_1
            Animation = Click_React_1
                AnimationName = MuCavTroll_SKL.MuCavTroll_RCTA
                AnimationMode = ONCE
            End
        End

        AnimationState = REACT_2 WEAPONSET_TOGGLE_1
            Animation = Click_React_2
                AnimationName = MuCavTroll_SKL.MuCavTroll_RCTB
                AnimationMode = ONCE
            End
        End

        AnimationState = REACT_3 WEAPONSET_TOGGLE_1
            Animation = Click_React_3
                AnimationName = MuCavTroll_SKL.MuCavTroll_RCTC
                AnimationMode = ONCE
            End
        End

        AnimationState = REACT_4 WEAPONSET_TOGGLE_1
            Animation = Click_React_4
                AnimationName = MuCavTroll_SKL.MuCavTroll_RCTD
                AnimationMode = ONCE
            End
        End

        AnimationState = REACT_5 WEAPONSET_TOGGLE_1
            Animation = Click_React_5
                AnimationName = MuCavTroll_SKL.MuCavTroll_RCTE
                AnimationMode = ONCE
            End
        End

        AnimationState = USER_2 WEAPONSET_TOGGLE_1
             Animation = ReactToTrollPoke
                 AnimationName = MuCavTroll_SKL.MuCavTroll_HITD
                 AnimationMode = ONCE
             End
        End

        AnimationState = SWAPPING_TO_WEAPONSET_1 WEAPONSET_TOGGLE_1
            Animation
                AnimationName    = MuCavTroll_SKL.MuCavTroll_GRBE
                AnimationMode    = MANUAL
            End
        End

        AnimationState                    = EMOTION_TAUNTING WEAPONSET_TOGGLE_1
            Animation
                AnimationName            = MUMntTroll_SKL.MUMntTroll_IDLB
                AnimationMode            = ONCE
                AnimationPriority        = 20
            End
            Animation                    = Taunting3
                AnimationName            = MUMntTroll_SKL.MUMntTroll_IDLM
                AnimationMode            = ONCE
                AnimationPriority        = 10
            End
        End

        AnimationState = WEAPONSET_TOGGLE_1
            AllowRepeatInRandomPick            = Yes
            SimilarRestart                    = Yes

            Animation = BreatheWithRock
                AnimationName                = MuCavTroll_SKL.MuCavTroll_IDLB
                AnimationMode                = ONCE
                AnimationPriority            = 10
                AnimationSpeedFactorRange    = 0.8 1.2
            End





            Flags = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableShowSubObjectPermanently("ROCK")
            EndScript
        End




        AnimationState                = MOVING PANICKING
            Animation                = RUNM
                AnimationName        =  MuCavTroll_SKL.MuCavTroll_MFDA
                AnimationMode        = LOOP
            End
            Flags                    = RANDOMSTART
        End


        AnimationState = ENGAGED
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_IDLB
                AnimationMode = LOOP
            End
        End


        AnimationState = JUST_BUILT
            Animation
                AnimationName = MuCavTroll_SKL.MuCavTroll_WLKD
                AnimationMode = ONCE
                AnimationBlendTime = 0
                AnimationSpeedFactorRange = 0.9 0.9
            End
        End


        AnimationState = HIT_REACTION HIT_LEVEL_1
            Animation = Hit_Level_1_a
                AnimationName = MuCavTroll_SKL.MuCavTroll_HITD
                AnimationMode = ONCE
            End
        End

        AnimationState = HIT_REACTION HIT_LEVEL_2
            Animation = Hit_Level_2
                AnimationName = MuCavTroll_SKL.MuCavTroll_HITC
                AnimationMode = ONCE
            End
        End

        AnimationState = HIT_REACTION HIT_LEVEL_3
            Animation = Hit_Level_3
                AnimationName = MuCavTroll_SKL.MuCavTroll_HITA
                AnimationMode = ONCE
            End
        End

        AnimationState = REACT_1
            Animation = Click_React_1
                AnimationName = MuCavTroll_SKL.MuCavTroll_RCTA
                AnimationMode = ONCE
            End
        End

        AnimationState = REACT_2
            Animation = Click_React_2
                AnimationName = MuCavTroll_SKL.MuCavTroll_RCTB
                AnimationMode = ONCE
            End
        End

        AnimationState = REACT_3
            Animation = Click_React_3
                AnimationName = MuCavTroll_SKL.MuCavTroll_RCTC
                AnimationMode = ONCE
            End
        End

        AnimationState = REACT_4
            Animation = Click_React_4
                AnimationName = MuCavTroll_SKL.MuCavTroll_RCTD
                AnimationMode = ONCE
            End
        End

        AnimationState = REACT_5
            Animation = Click_React_5
                AnimationName = MuCavTroll_SKL.MuCavTroll_RCTE
                AnimationMode = ONCE
            End
        End



    End



    Draw = W3DScriptedModelDraw DustEffects
        DefaultModelConditionState
          Model = None
        End
        IdleAnimationState
        End
        AnimationState =  MOVING WADING
            ParticleSysBone = None FootstepSlash
        End
        AnimationState = MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState =  MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOUNTED MOVING
        End
    End

    #include "..\..\..\includes\StunDrawModuleLarge.inc"

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End




    Side                   = Angmar
    EditorSorting          = UNIT
    ThreatLevel            = CAVE_TROLL_THREAT_LEVEL
    ThreatBreakdown MordorCatapult_DetailedThreat
        AIKindOf = CAVALRY
    End
ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG
    DisplayName            = OBJECT:AngmarHillTroll
    CommandSet             = AngmarSnowTrollReallyCommandSet

    TransportSlotCount        = TRANSPORTSLOTCOUNT_MONSTER
    ShowHealthInSelectionDecal    = Yes

    WeaponSet
        Conditions          = None
        Weapon              = PRIMARY      AngmarHillTrollClubSwing
        Weapon              = SECONDARY    AngmarHillTrollClubSwing
        OnlyInCondition     = SECONDARY    MOVING
    End

    WeaponSet
        Conditions          = RAMPAGE
        Weapon              = PRIMARY      MordorCaveTrollTreeRampage
    End

    ArmorSet
        Conditions      = None
        Armor           = EdainTrollArmor
        DamageFX        = NormalDamageFX
    End

    ArmorSet
        Conditions      = PLAYER_UPGRADE
        Armor           = TrollHeavyArmorMod
        DamageFX        = NormalDamageFX
    End


    VisionRange            = VISION_STANDARD_MELEE
    ShroudClearingRange    = SHROUD_CLEAR_TROLL
    BountyValue            = MORDOR_TROLL_BOUNTY_VALUE
    CrusherLevel           = 2
    UseCrushAttack         = No
    CrushWeapon            = TrollCrush

    RamPower               = 20
    RamZMult               = 0.5
    CrushKnockback         = 30
    CrushZFactor           = 1.0
    CommandPoints          = 10



    VoiceAttack            = TrollVoiceAttack
    VoiceAttackCharge        = TrollVoiceAttack
    VoiceAttackMachine        = TrollVoiceAttack
    VoiceAttackStructure        = TrollVoiceAttack
    VoiceCreated            = DrummerTrollCreatedRoar
    VoiceFullyCreated         = DrummerTrollCreatedRoar
    VoiceGuard            = TrollVoiceMove
    VoiceMove            = TrollVoiceMove
    VoiceMoveToCamp            = TrollVoiceMove
    VoiceMoveWhileAttacking        = TrollVoiceMove
    VoicePriority            = 39
    VoiceSelect            = TrollVoiceSelect
    VoiceSelectBattle         = TrollVoiceSelect

    SoundImpact            = ImpactHorse

    UnitSpecificSounds
        VoiceEnterUnitEvilMenTransportShip    = TrollVoiceMove
        VoiceEnterUnitMordorMumakil        = TrollVoiceMove
        VoiceEnterUnitSlaughterHouse        = TrollVoiceMove
        VoiceGarrison                = TrollVoiceMove
        VoiceInitiateCaptureBuilding        = TrollVoiceMove
    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:TrollBodyfall        Animation:MUCavTroll_SKL.MUCavTroll_DieB Frames:33
        AnimationSound = Sound:TrollBodyfall        Animation:MUCavTroll_SKL.MUCavTroll_DieC Frames:84
        AnimationSound = Sound:TrollBodyfall        Animation:MUCavTroll_SKL.MUCavTroll_LndA Frames:3 21
        AnimationSound = Sound:TrollIdleRubHeadVox  Animation:MUCavTroll_SKL.MUCavTroll_IDLK Frames:0
        AnimationSound = Sound:TrollBodyfall        Animation:MUCavTroll_SKL.MUCavTroll_RCTB Frames:3

        AnimationSound = Sound:TrollRoar            Animation:MUCavTroll_SKL.MUCavTroll_IDLE Frames:10 Animation:MUCavTroll_SKL.MUCavTroll_IDLG Frames:78 Animation:MUCavTroll_SKL.MUCavTroll_IDLK Frames:0 Animation:MUCavTroll_SKL.MUCavTroll_IDLM Frames:0 Animation:MUCavTroll_SKL.MUCavTroll_ATKA Frames:12 Animation:MUCavTroll_SKL.MUCavTroll_ATKC Frames:17 Animation:MUCavTroll_SKL.MUCavTroll_ATKD Frames:10 Animation:MUCavTroll_SKL.MUCavTroll_ATKE Frames:14 Animation:MUCavTroll_SKL.MUCavTroll_ATKF Frames:3 Animation:MUCavTroll_SKL.MUCavTroll_ATKG Frames:13 Animation:MUCavTroll_SKL.MUCavTroll_HITC Frames:21 Animation:MUCavTroll_SKL.MUCavTroll_HITD Frames:10 Animation:MUCavTroll_SKL.MUCavTroll_MFDA Frames:47 Animation:MUCavTroll_SKL.MUCavTroll_RCTD Frames:29 Animation:MUCavTroll_SKL.MUCavTroll_RCTE Frames:53 Animation:MUCavTroll_SKL.MUCavTroll_RPGC Frames:0 32 59 88
        AnimationSound = Sound:TrollIdleYell01      Animation:MUCavTroll_SKL.MUCavTroll_IDLF Frames:37
        AnimationSound = Sound:TrollTreeShakeYell   Animation:MUCavTroll_SKL.MUCavTroll_GRBA Frames:14  Animation:MUCavTroll_SKL.MUCavTroll_GRBB Frames:12
        AnimationSound = Sound:TrollTreeShakeYell   Animation:MUCavTroll_SKL.MUCavTroll_GRBC Frames:26  Animation:MUCavTroll_SKL.MUCavTroll_GRBD Frames:28
        AnimationSound = Sound:TrollFootstep        Animation:MUCavTroll_SKL.MUCavTroll_RUNA Frames:4 17  Animation:MUCavTroll_SKL.MUCavTroll_RUNB Frames:4 17  Animation:MUCavTroll_SKL.MUCavTroll_WLKA Frames:0 15  Animation:MUCavTroll_SKL.MUCavTroll_WLKB Frames:0 20  Animation:MUCavTroll_SKL.MUCavTroll_WLKD Frames:0 22 Animation:MUCavTroll_SKL.MUCavTroll_TRNL Frames:15 27 Animation:MUCavTroll_SKL.MUCavTroll_TRNR Frames:15 27 Animation:MUCavTroll_SKL.MUCavTroll_RCTD Frames:7 66 Animation:MUCavTroll_SKL.MUCavTroll_GTPA Frames:12 80 97 Animation:MUCavTroll_SKL.MUCavTroll_MFDA Frames:4 17 29 42
        AnimationSound = Sound:TrollFootstepRampage Animation:MUCavTroll_SKL.MUCavTroll_RPGC Frames:43 61 77 93 100 116 123 139 149
        AnimationSound = Sound:TrollTreeSwingLight  Animation:MUCavTroll_SKL.MUCavTroll_IDLE Frames:49 Animation:MUCavTroll_SKL.MUCavTroll_RPGC Frames:112
        AnimationSound = Sound:TrollGrabRock        Animation:MuCavTroll_SKL.MuCavTroll_GRBB Frames:0
        AnimationSound = Sound:TrollGetupShakeHeadVox  Animation:MuCavTroll_SKL.MuCavTroll_GTPA Frames:31
        AnimationSound = Sound:ImpactTrollTreeLight Animation:MUCavTroll_SKL.MUCavTroll_IDLE Frames:55
    End

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
          Key         = Troll

    End



    RadarPriority = UNIT
    KindOf        = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS HEAVY_MELEE_HITTER TROLL_BUFF_NUGGET MONSTER SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT NO_FREEWILL_ENTER PATH_THROUGH_INFANTRY SCARY CAN_ATTACK_WALLS TROLL SIEGEENGINE ARMY_SUMMARY
    BuildCost     = MORDOR_TROLL_BUILDCOST
    BuildTime     = STRONG_BUILDTIME

     Body = ActiveBody ModuleTag_02
        CheerRadius       = EMOTION_CHEER_RADIUS
        MaxHealth         = 3000
        MaxHealthDamaged  = 700
        BurningDeathBehavior = Yes
        BurningDeathFX       = FX_InfantryBurningFlame
    End


    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Artillery
    End


            Behavior = AutoHealBehavior ModuleTag_MumakilHealing
                        StartsActive          = No
                        TriggeredBy           = Upgrade_MiniHordeLvl2
                        HealingAmount         = MONSTER_HEAL_AMOUNT
                        HealingDelay          = 1000
                        StartHealingDelay     = MONSTER_HEAL_DELAY
                        HealOnlyIfNotInCombat = Yes
            End



    Behavior = ArmorUpgrade ArmorUpgradeModuleTag
        TriggeredBy        = Upgrade_HeavyArmor
        ArmorSetFlag    = PLAYER_UPGRADE
    End

    Behavior = SubObjectsUpgrade Armor_Upgrade
        TriggeredBy            = Upgrade_HeavyArmor
        UpgradeTexture        = KUHillTroll.tga 0 KUHillTroll_HA.tga
        RecolorHouse        = Yes
        ExcludeSubobjects    = Forged_Blade
    End

    Behavior = SubObjectsUpgrade ForgedBlades_Upgrade
        TriggeredBy        = Upgrade_ForgedBlades
        ShowSubObjects    = Forged_Blade
    End

    Behavior = StatusBitsUpgrade ForgedBlades_UpgradeDetection
        TriggeredBy        = Upgrade_ForgedBlades
    End


    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP = Yes
    End


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS


        AttackPriority            = AttackPriority_Cavalry
    End


       Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        AddEmotion            = Terror_Base
        AddEmotion            = Doom_Base
        AddEmotion            = BraceForBeingCrushed_Base
        AddEmotion            = UncontrollableFear_Base
        AddEmotion            = Point_Base
        AddEmotion            = Taunt_Base
        AddEmotion            = CheerIdle_Base
        AddEmotion            = CheerBusy_Base
        AddEmotion            = HeroCheerIdle_Base
        AddEmotion            = HeroCheerBusy_Base
        AddEmotion            = Alert_Base
    End

    LocomotorSet
        Locomotor = TrollLocomotor
        Condition = SET_NORMAL
        Speed     = 55
    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 1500
        HitReactionLifeTimer2 = 3000
        HitReactionLifeTimer3 = 2000

        HitReactionThreshold1 = 0.0
        HitReactionThreshold2 = 50.0
        HitReactionThreshold3 = 200.0
    End

    Behavior = ClickReactionBehavior ClickBehaviorModuleTag
        ClickReactionTimer    = 600
        ReactionFrames1        = 15
        ReactionFrames2        = 7
        ReactionFrames3        = 7
        ReactionFrames4        = 15
        ReactionFrames5        = 18
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult            = 0.0
        ShockStandingTime        = 4600
        FirstHeight            = 0
        SecondHeight            = 0
    End

    Behavior = SlowDeathBehavior ModuleTag_50
        DeathTypes            = ALL -FADED
        DestructionDelay        = 35000
        DecayBeginTime            = 3000
        SinkDelay            = 10000
        SinkRate            = 0.64
        Sound                = INITIAL TrollDie
        ProbabilityModifier         = 50
        DeathFlags            = DEATH_1
    End


    Behavior = SquishCollide ModuleTag_06

    End






    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End



    Scale 1.25
    Geometry                          = CYLINDER
    GeometryMajorRadius               = 21.6
    GeometryHeight                    = 40.0
    GeometryIsSmall                   = No
    Shadow                            = SHADOW_VOLUME_NON_SELF_2



    AutoResolveUnitType               = AutoResolveUnit_Monster
    AutoResolveCombatChain            = AutoResolve_MonsterCombatChain

     AutoResolveBody = AutoResolve_WildCaveTrollBody

     AutoResolveArmor
         Armor = AutoResolve_WildCaveTrollArmor
     End

     AutoResolveWeapon
         Weapon = AutoResolve_WildCaveTrollWeapon
     End
End



ChildObject HillTroll_Slaved AngmarHillTrollEdain

      Side = Neutral

      EvaEnemyObjectSightedEvent = CaveTrollCreepSighted
      EvaEnemyObjectSightedAfterRespawnEvent = CaveTrollCreepSighted

    KindOf    = +CREEP

    VisionRange = CREEP_VISION
    DisplayName = OBJECT:GenericHillTroll

    BuildCost       = 400
    BuildTime       = STRONG_BUILDTIME

    Behavior = SlavedUpdate ModuleTag_Slave
        GuardMaxRange        = 300
        GuardWanderRange    = 100
        UseSlaverAsControlForEvaObjectSightedEvents = Yes
    End

   Behavior = AutoHealBehavior ModuleTag_MountainTrollHealing
        StartsActive = Yes
        HealingAmount = 15
        HealingDelay = 1000
        StartHealingDelay = MONSTER_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End
End


ChildObject AngmarHillTrollEdain_Summoned AngmarHillTrollEdain
    IsTrainable = No
    CommandPoints = 0

    Body = ActiveBody ModuleTag_02
        CheerRadius       = EMOTION_CHEER_RADIUS
        MaxHealth         = 1500
        MaxHealthDamaged  = 650
        BurningDeathBehavior = Yes
        BurningDeathFX       = FX_InfantryBurningFlame
    End

    KindOf = +SUMMONED

    Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
        MinLifetime      = 180000
        MaxLifetime      = 180000
        DeathType        = FADED
    End

    Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes = NONE +FADED
        FadeDelay = 0
        FadeTime = 2500
        DestructionDelay = 2500
        Sound = INITIAL SpellGenericUnsummonFasterMS
        DeathFlags = DEATH_2
    End
End