Object MordorMorgothsDamon

    SelectPortrait = HPDamon
    ButtonImage    = HIDamon_New

    DescriptionStrategic  = CONTROLBAR:LW_ToolTip_MorgothsEisDamon

    Draw = W3DScriptedModelDraw ModuleTag_BodyDraw

        ExtraPublicBone = ZZZPASSENGERBON
        ExtraPublicBone = ZZZWHIPCOIL
        ExtraPublicBone = SWORD

        RandomTexture = mueisdamonwings.tga 0 mubalrogwings.tga
        RandomTexture = mueisdamon.tga 0 mubalrog.tga
        RandomTexture = excloudrs05eis.tga 0 excloudrs05.tga
        RandomTexture = exlnzflar2eis.tga 0 exlnzflar2.tga
        RandomTexture = ex_firenew02eis.tga 0 ex_firenew02.tga
        RandomTexture = s3_lavaeis.tga 0 s3_lava.tga

        ModelConditionState = NONE
            Model = MUBalrog_SKN
            ParticleSysBone = None SoWolf_Ambient_fog01
            ParticleSysBone = None SoWolf_Ambient_Embers01
            ParticleSysBone = LFHANDBONE SoWolf_Ambient_fog FollowBone:Yes
            ParticleSysBone = LFHANDBONE SoWolf_Ambient_Embers FollowBone:Yes
            ParticleSysBone = RTHANDBONE SoWolf_Ambient_fog FollowBone:Yes
            ParticleSysBone = RTHANDBONE SoWolf_Ambient_Embers FollowBone:Yes
            ParticleSysBone = BAT_NECK SoWolf_Ambient_fog FollowBone:Yes
            ParticleSysBone = BAT_NECK SoWolf_Ambient_Embers FollowBone:Yes
            ParticleSysBone = BAT_SPINE_2 SoWolf_Ambient_fog FollowBone:Yes
            ParticleSysBone = BAT_SPINE_2 SoWolf_Ambient_Embers FollowBone:Yes
            ParticleSysBone = LFWINGBONE SoWolf_Ambient_fog FollowBone:Yes
            ParticleSysBone = LFWINGBONE SoWolf_Ambient_Embers FollowBone:Yes
            ParticleSysBone = RTWINGBONE SoWolf_Ambient_fog FollowBone:Yes
            ParticleSysBone = RTWINGBONE SoWolf_Ambient_Embers FollowBone:Yes
        End

        ModelConditionState = HERO
            Model = MUBalIGNT_SKN
            ParticleSysBone = None SoWolf_Ambient_fog01
            ParticleSysBone = None SoWolf_Ambient_Embers01
            ParticleSysBone = LFHANDBONE SoWolf_Ambient_fog FollowBone:Yes
            ParticleSysBone = LFHANDBONE SoWolf_Ambient_Embers FollowBone:Yes
            ParticleSysBone = RTHANDBONE SoWolf_Ambient_fog FollowBone:Yes
            ParticleSysBone = RTHANDBONE SoWolf_Ambient_Embers FollowBone:Yes
            ParticleSysBone = BAT_NECK SoWolf_Ambient_fog FollowBone:Yes
            ParticleSysBone = BAT_NECK SoWolf_Ambient_Embers FollowBone:Yes
            ParticleSysBone = BAT_SPINE_2 SoWolf_Ambient_fog FollowBone:Yes
            ParticleSysBone = BAT_SPINE_2 SoWolf_Ambient_Embers FollowBone:Yes
            ParticleSysBone = LFWINGBONE SoWolf_Ambient_fog FollowBone:Yes
            ParticleSysBone = LFWINGBONE SoWolf_Ambient_Embers FollowBone:Yes
            ParticleSysBone = RTWINGBONE SoWolf_Ambient_fog FollowBone:Yes
            ParticleSysBone = RTWINGBONE SoWolf_Ambient_Embers FollowBone:Yes
            ParticleSysBone = NONE BalrogIgniteHeatWave FollowBone:No
        End


        ModelConditionState = HIT_LEVEL_2
            Model = MUBalLIT_SKN
        End


        IdleAnimationState
            StateName = State_Idle
            Animation = Breathe
                AnimationName = MUBalrog_SKL.MUBalrog_IDLA
                AnimationMode = ONCE
                AnimationBlendTime = 10
                AnimationPriority = 20
            End
            Animation = LookAround
                AnimationName = MUBalrog_SKL.MUBalrog_IDLB
                AnimationMode = ONCE
                AnimationBlendTime = 10
                AnimationPriority = 2
            End
            Animation = SnortLikeABull
                AnimationName = MUBalrog_SKL.MUBalrog_IDLC
                AnimationMode = ONCE
                AnimationBlendTime = 10
                AnimationPriority = 1
            End
            ParticleSysBone = BAT_JAW EisDamonIceSnort FollowBone:Yes
            ParticleSysBone = BAT_JAW EisDamonIceSnortEmbers FollowBone:Yes
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_JustBuilt"
                    then CurDrawableSetTransitionAnimState("TRANS_JustBuilt_To_Idle")
                end
                if Prev == "State_AboutToHitGround"
                    then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle")
                end
            EndScript
        End

        AnimationState                    =    DYING DEATH_1
            Animation                    =    Dying
                AnimationName            =    MUBalrog_SKL.MUBalrog_DIEA
                AnimationMode            =    ONCE
            End
            ParticleSysBone = None BalrogFallDust FollowBone:No
        End

        AnimationState                    =    DYING DEATH_2
            Animation                    =    FadingOut
                AnimationName            =    MUBalrog_SKL.MUBalrog_RORC
                AnimationMode            =    ONCE
            End
        End

        AnimationState                    =    HIT_LEVEL_2
            Animation                    =    Owowowowowowowow
                AnimationName            =    MUBalrog_SKL.MUBalrog_HITB
                AnimationMode            =    ONCE
            End
        End

        AnimationState                    =    EATING
            Animation                    =    DoingHorribleThingToGrabbedGuy
                AnimationName            =    MUBalrog_SKL.MUBalrog_BRNA
                AnimationMode            =    ONCE
                AnimationBlendTime        =    0
            End
            ParticleSysBone = ZZZPassengerBon EisDamonHandSqueezeFlames FollowBone:Yes
            ParticleSysBone = ZZZPassengerBon EisDamonHandSqueezeFlames2 FollowBone:Yes
            ParticleSysBone = ZZZPassengerBon EisDamonHandSqueezeFlamesFinal FollowBone:Yes
            ParticleSysBone = ZZZPassengerBon EisDamonHandSqueezeFlash FollowBone:Yes
            ParticleSysBone = ZZZPassengerBon EisDamonHandSmoke FollowBone:Yes
            ParticleSysBone = RING_2_L EisDamonHandAsh FollowBone:Yes
            ParticleSysBone = RING_2_L EisDamonHandAshSmall FollowBone:Yes
            FXEvent         = Frame:5 Name:FX_EisDamonEat1
            FXEvent         = Frame:15 Name:FX_EisDamonEat2
            FXEvent         = Frame:25 Name:FX_EisDamonEat3
        End

        AnimationState                    =    UNPACKING PACKING_TYPE_3
            Animation                    =    GrabbingToTouching
                AnimationName            =    MUBalrog_SKL.MUBalrog_GRBA
                AnimationMode            =    ONCE
                AnimationBlendTime        =    0
            End
        End

        AnimationState                    =    PACKING PACKING_TYPE_3
            Animation                    =    GrabbingFollowThrough
                AnimationName            =    MUBalrog_SKL.MUBalrog_GRBC
                AnimationMode            =    ONCE
                AnimationBlendTime        =    0
            End
        End

        AnimationState            = JUST_BUILT
            StateName = State_JustBuilt
            Animation
                AnimationName = MUBalrog_SKL.MUBalrog_RORA
                AnimationMode = MANUAL
                AnimationBlendTime = 0
            End
        End

        TransitionState = TRANS_JustBuilt_To_Idle
            Animation = BeingSummoned
                AnimationName = MUBalrog_SKL.MUBalrog_RORA
                AnimationMode = ONCE
            End
        End

        AnimationState = FIRING_OR_PREATTACK_B
            Animation = CrackThatWhip
                AnimationName = MUBalrog_SKL.MUBalrog_WIPA
                AnimationMode = ONCE
            End
        End

        AnimationState            = SPECIAL_POWER_1
            Animation            = RoaringFear
                AnimationName    = MUBalrog_SKL.MUBalrog_RORB
                AnimationMode   = ONCE
            End
                ParticleSysBone = BAT_JAW BalrogScreamEffect FollowBone:Yes
                FXEvent            = Frame:20 Name:FX_BalrogScreamEfx
                ParticleSysBone = BAT_JAW balrogPixelDisplScrm FollowBone:Yes
                ParticleSysBone = BAT_JAW balrogScrmEmbers FollowBone:Yes
        End

        AnimationState            = SPECIAL_WEAPON_ONE
            Animation            = BreathingFireAnimation
                AnimationName    = MUBalrog_SKL.MUBalrog_FIRA
                AnimationMode   = ONCE
            End

                ParticleSysBone = BAT_JAW balrogFireBreath FollowBone:Yes
                ParticleSysBone = BAT_JAW balrogBreathEmbers FollowBone:Yes
                ParticleSysBone = BAT_JAW balrogBreathSmoke FollowBone:Yes
                ParticleSysBone = BAT_JAW balrogBreathProxy FollowBone:Yes
            End

        AnimationState            = SPECIAL_WEAPON_TWO UNPACKING
            StateName            = State_LeapStart
            Animation            = GettingReadyToLeap
                AnimationName    = MUBalrog_SKL.MUBalrog_JMP1
                AnimationMode   = ONCE
            End
        End

        AnimationState            = SPECIAL_WEAPON_TWO PACKING
            Animation            = FirstWingBeatGoingUp
                AnimationName    = MUBalrog_SKL.MUBalrog_JMP2
                AnimationMode   = ONCE
            End
        End

        AnimationState            = ABOUT_TO_HIT
            StateName            = State_AboutToHitGround
            Animation            = StartingToLandToTouchingGround
                AnimationName    = MUBalrog_SKL.MUBalrog_LND1
                AnimationMode   = ONCE
            End
        End

        AnimationState            = THROWN_PROJECTILE
            Animation            = HurtlingThroughAir
                AnimationName    = MUBalrog_SKL.MUBalrog_FLYA
                AnimationMode   = LOOP
                AnimationBlendTime = 10
            End
        End

        TransitionState = TRANS_AboutToHitGround_To_Idle
            Animation = SplashAtEndOfJump
                AnimationName = MUBalrog_SKL.MUBalrog_LND2
                AnimationMode = ONCE
                AnimationBlendTime = 0
            End
        End

        AnimationState            = TURN_RIGHT
            Animation            = TurningRight
                AnimationName    = MUBalrog_SKL.MUBalrog_TRNA
                AnimationMode   = LOOP
                AnimationBlendTime = 10
            End
        End

        AnimationState            = TURN_LEFT
            Animation            = TurningLeft
                AnimationName    = MUBalrog_SKL.MUBalrog_TRNB
                AnimationMode   = LOOP
                AnimationBlendTime = 10
            End
        End

        AnimationState            = MOVING
            Animation            = Running
                AnimationName    = MUBalrog_SKL.MUBalrog_WLKA
                AnimationMode   = LOOP
                AnimationBlendTime = 10
            End
            Flags               = RANDOMSTART
            FXEvent    = Frame:20 FireWhenSkipped Name:FX_EisdamonRightFootStep
            FXEvent    = Frame:44 FireWhenSkipped Name:FX_EisdamonLeftFootStep
        End

        AnimationState            = WEAPONSET_HERO_MODE UNPACKING PACKING_TYPE_1
            Animation = StartIgniteRoar
                AnimationName = MUBalrog_SKL.MUBalrog_IGNTA
                AnimationMode = ONCE
            End
        End

        AnimationState            = HERO PACKING PACKING_TYPE_1
            Animation = FinishIgniteRoar
                AnimationName = MUBalrog_SKL.MUBalrog_IGNTB
                AnimationMode = ONCE
            End

            EnteringStateFX = FX_EisdamonIgniteStart
        End

        AnimationState            = FIRING_OR_PREATTACK_A
            Animation            = Swipe
                AnimationName    = MUBalrog_SKL.MUBalrog_RORB
                AnimationMode    = ONCE
                UseWeaponTiming    = Yes
            End
            ParticleSysBone = BAT_JAW EisDamonBreath FollowBone:Yes
            ParticleSysBone = BAT_JAW EisDamonBreathEmbers FollowBone:Yes
            ParticleSysBone = BAT_JAW EisDamonBreathProxy FollowBone:Yes
        End

        AnimationState            = FIRING_OR_PREATTACK_C
            Animation            = Chop
                AnimationName    = MUBalrog_SKL.MUBalrog_RORB
                AnimationMode    = ONCE
                UseWeaponTiming    = Yes
            End
        End
    End


    Behavior = SubObjectsUpgrade ModuleTag_MakingTheDamon
        TriggeredBy       = Upgrade_AllFactionUpgrade
        HideSubObjects    = BALROGFIRENORMA SWORDFIRE SWORD
    End



    DisplayName      = OBJECT:MorgothsEisDamon

    Scale = 0.85
    Side = Angmar
    EditorSorting = UNIT
    ThreatLevel = BALROG_THREAT_LEVEL
    ThingClass = CHARACTER_UNIT
    CrusherLevel   = 4
    CrushWeapon = BalrogCrush
    MaxSimultaneousOfType  = 1
    CommandPoints          = 50

    TransportSlotCount = TRANSPORTSLOTCOUNT_MONSTER

    WeaponSet
        Conditions = None
        Weapon = PRIMARY    EisDamonScream
    End

    WeaponSet
        Conditions = WEAPONSET_HERO_MODE
        Weapon = PRIMARY    EisDamonSwordSwipe
    End

    ArmorSet
        Conditions      = None
        Armor           = BalrogArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_BALROG
    ShroudClearingRange = SHROUD_CLEAR_BALROG

    ShockwaveResistance = SHOCKWAVE_RESISTANCE_ALWAYS
    CommandSet = EisDamonCommandSet
    CanPathThroughGates = Yes
    IsTrainable = No

    DeadCollideSize = LARGE




    VoiceAttack           = BalrogVoiceAttack
    VoiceAttackCharge     = BalrogVoiceAttack
    VoiceAttackMachine    = BalrogVoiceAttack
    VoiceAttackStructure  = BalrogVoiceAttack
    VoiceGuard            = BalrogVoiceMove
    VoiceMove             = BalrogVoiceMove
    VoiceSelect           = BalrogVoiceSelect
    VoiceSelectBattle     = BalrogVoiceSelect

    SoundAmbient          = BalrogAmbientLoop
    SoundImpact           = ImpactHorse


    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: BalrogFootstep            Animation: MUBalrog_SKL.MUBalrog_WLKA Frames: 42 17
        AnimationSound = Sound: BalrogFootstep            Animation: MUBalrog_SKL.MUBalrog_TRNA Frames: 21 52
        AnimationSound = Sound: BalrogFootstep            Animation: MUBalrog_SKL.MUBalrog_TRNB Frames: 21 52

        AnimationSound = Sound: BalrogWhipPart1            Animation: MUBalrog_SKL.MUBalrog_WIPA Frames: 1
        AnimationSound = Sound: BalrogWhipPart2            Animation: MUBalrog_SKL.MUBalrog_WIPA Frames: 21
        AnimationSound = Sound: ImpactWhipCrack            Animation: MUBalrog_SKL.MUBalrog_WIPA Frames: 34

        AnimationSound = Sound: BalrogSwordSwipe            Animation: MUBalrog_SKL.MUBalrog_ATKB Frames: 32
        AnimationSound = Sound: BalrogSwordSwipe            Animation: MUBalrog_SKL.MUBalrog_ATKA Frames: 32
        AnimationSound = Sound: ImpactBalrogAttackGeneric    Animation: MUBalrog_SKL.MUBalrog_ATKA Frames:41
        AnimationSound = Sound: ImpactBalrogAttackGeneric    Animation: MUBalrog_SKL.MUBalrog_ATKB Frames:40
        AnimationSound = Sound: ImpactBalrogAttackGeneric    Animation: MUBalrog_SKL.MUBalrog_ATKC Frames:27 53 88

        AnimationSound = Sound: BalrogJump_Part1            Animation: MUBalrog_SKL.MUBalrog_JMP1 Frames: 0
        AnimationSound = Sound: BalrogJump_Part2            Animation: MUBalrog_SKL.MUBalrog_JMP1 Frames: 41
        AnimationSound = Sound: BalrogWingFlaps            Animation: MUBalrog_SKL.MUBalrog_FLYA Frames: 9
        AnimationSound = Sound: BalrogLand                Animation: MUBalrog_SKL.MUBalrog_LND1 Frames: 0
        AnimationSound = Sound: BalrogWingFlaps            Animation: MUBalrog_SKL.MUBalrog_JMP2 Frames: 0
        AnimationSound = Sound: BalrogLandSwordHit        Animation: MUBalrog_SKL.MUBalrog_LND2 Frames: 6
        AnimationSound = Sound: BalrogIdleB_Part3            Animation: MUBalrog_SKL.MUBalrog_LND2 Frames: 27

        AnimationSound = Sound: BalrogBreathFireExhale        Animation: MUBalrog_SKL.MUBalrog_FIRA Frames: 31
        AnimationSound = Sound: BalrogBreathFireInhale        Animation: MUBalrog_SKL.MUBalrog_FIRA Frames: 0

        AnimationSound = Sound: BalrogRoar                Animation: MUBalrog_SKL.MUBalrog_RORB Frames: 25
        AnimationSound = Sound: BalrogVanquishedRoar        Animation: MUBalrog_SKL.MUBalrog_RORC Frames: 21
        AnimationSound = Sound: BalrogVanquished            Animation: MUBalrog_SKL.MUBalrog_RORC Frames: 50

        AnimationSound = Sound: BalrogInjuredB_Part1        Animation: MUBalrog_SKL.MUBalrog_HITB Frames: 0
        AnimationSound = Sound: BalrogInjuredB_Part2        Animation: MUBalrog_SKL.MUBalrog_HITB Frames: 70

        AnimationSound = Sound: BalrogChuckle            Animation: MUBalrog_SKL.MUBalrog_IDLA Frames: 1
        AnimationSound = Sound: BalrogContentVox            Animation: MUBalrog_SKL.MUBalrog_IDLA Frames: 0
        AnimationSound = Sound: BalrogIdleB_Part1            Animation: MUBalrog_SKL.MUBalrog_IDLB Frames: 0
        AnimationSound = Sound: BalrogIdleB_Part2            Animation: MUBalrog_SKL.MUBalrog_IDLB Frames: 37
        AnimationSound = Sound: BalrogIdleB_Part3            Animation: MUBalrog_SKL.MUBalrog_IDLB Frames: 95
        AnimationSound = Sound: BalrogIdleC_Part2            Animation: MUBalrog_SKL.MUBalrog_IDLC Frames: 29
        AnimationSound = Sound: BalrogIdleC_Part3            Animation: MUBalrog_SKL.MUBalrog_IDLC Frames: 60
        AnimationSound = Sound: BalrogFootstep            Animation: MUBalrog_SKL.MUBalrog_IDLC Frames: 61

        AnimationSound = Sound: BalrogDieVox            Animation: MUBalrog_SKL.MUBalrog_DIEA Frames: 13
        AnimationSound = Sound: BalrogBodyfall1            Animation: MUBalrog_SKL.MUBalrog_DIEA Frames: 56
        AnimationSound = Sound: BalrogBodyfall2            Animation: MUBalrog_SKL.MUBalrog_DIEA Frames: 57
        AnimationSound = Sound: OliphantFall            Animation: MUBalrog_SKL.MUBalrog_DIEA Frames: 21
        AnimationSound = Sound: BalrogLandSwordHit        Animation: MUBalrog_SKL.MUBalrog_DIEA Frames: 54

        AnimationSound = Sound: BalrogIgnite            Animation: MUBalrog_SKL.MUBalrog_IGNTA Frames: 51
    End




    RadarPriority = UNIT
  KindOf          = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER SCORE CAN_ATTACK NO_FREEWILL_ENTER PATH_THROUGH_INFANTRY SCARY BIG_MONSTER CAN_ATTACK_WALLS ARMY_SUMMARY
  ThreatBreakdown MordorBalrog_DetailedThreat
    AIKindOf = SIEGEWEAPON
  End

  Body            = ActiveBody ModuleTag_02
    MaxHealth         = 7000
  End

  Behavior = StancesBehavior ModuleTag_StancesBehavior
    StanceTemplate = FighterHorde
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
    MoodAttackCheckRate            = 500
    AILuaEventsList                = BalrogFunctions
  End

  LocomotorSet
    Locomotor     = BalrogLocomotor
    Condition     = SET_NORMAL
    Speed         = 60
  End

    Behavior = BezierProjectileBehavior ModuleTag_Projectile
        FirstHeight = 104
        SecondHeight = 52
        FirstPercentIndent = 20%
        SecondPercentIndent = 70%
        TumbleRandomly = Yes
        CrushStyle = Yes
        BounceCount = 0
        FinalStuckTime = 1766
        GroundHitFX       = FX_EisdamonJumpHitGround
        GroundHitWeapon   = RohanGimliLeapWarhead
        PreLandingStateTime = 300
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End


    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL
        DestructionDelay = 2500

        DeathFlags = DEATH_1
    End

    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP   = Yes
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DainSummonEnabler
        SpecialPowerTemplate = SpecialAbilityDainSummonRoyalGuard
        TriggeredBy = Upgrade_Level_1
    End

    Behavior = OCLSpecialPower ModuleTag_OCLSpecialPower
        SpecialPowerTemplate    = SpecialAbilityDainSummonRoyalGuard
        OCL                     = OCL_MorgothsBrut
        CreateLocation          = CREATE_AT_LOCATION
        StartsPaused            = No
    End





    Behavior = SpecialPowerModule ModuleTag_IgniteStarter
        SpecialPowerTemplate      = SpecialAbilityHeroMode
        UpdateModuleStartsAttack  = Yes

    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_IgniteUpdate
        SpecialPowerTemplate    = SpecialAbilityHeroMode
        UnpackingVariation        = 1
        UnpackTime              = 1800
        PackTime                = 1600
        AwardXPForTriggering    = 0
        HeroAttributeModifier = BalrogIceIgniteState
        HeroEffectDuration = 30000
    End

    Behavior = FireWeaponUpdate FireWeaponUpdateModuleTag
        FireWeaponNugget
            WeaponName = EisDamonHeroEffect
            FireDelay = 0
            OneShot = No
        End
        HeroModeTrigger = Yes
    End

    Behavior = SubObjectsUpgrade ModuleTag_MakingTheDamon2
        TriggeredBy       = Upgrade_RaiseShield
        ShowSubObjects    = SWORDFIRE SWORD
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_EisauraLeadershipUnpause
        SpecialPowerTemplate = SpecialAbilityFakeLeadership
        TriggeredBy = Upgrade_Level_1
    End

    Behavior = SpecialPowerModule ModuleTag_EisauraLeadershipPower
        SpecialPowerTemplate     = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack = No
        StartsPaused             = No
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_EisauraLeadershipUpdate
        StartsActive    = No
        BonusName       = EisAuraDamonButton1
        TriggeredBy     = Upgrade_Level_1
        RefreshDelay    = 2000
        Range           = 250
        AntiCategory    = BUFF
	    TargetEnemy	= No
        ObjectFilter    = ANY +INFANTRY +CAVALRY -MACHINE -SHIP -STRUCTURE -BASE_FOUNDATION -DOZER -HERO ALLIES
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_DreadVisageAura
        StartsActive    = No
        TriggeredBy     = Upgrade_Level_1
        RefreshDelay    = 2000
        Range           = 250
        TargetEnemy     = Yes
        AntiCategory    = LEADERSHIP BUFF
        BonusName       = EisAuraDamonButton2
        ObjectFilter    = ANY +INFANTRY +CAVALRY -STRUCTURE -MACHINE -SHIP -BASE_FOUNDATION -HERO -HORDE
    End





    Behavior = SpecialPowerModule ModuleTag_ScreamStarter
        SpecialPowerTemplate      = SpecialAbilityBalrogScream
        UpdateModuleStartsAttack  = Yes

    End

    Behavior = ModelConditionSpecialAbilityUpdate ModuleTag_ScreamUpdate
        SpecialPowerTemplate    = SpecialAbilityBalrogScream

        UnpackTime              = 1500
        PreparationTime         = 1
        PackTime                = 1800

        AwardXPForTriggering    = 0

        WhichSpecialPower = 1
    End

    Behavior = SpecialPowerModule ModuleTag_BreathStarter
        SpecialPowerTemplate        = SpecialAbilityBalrogBreath
        UpdateModuleStartsAttack    = Yes
        InitiateSound            = BalrogSpecialPowerRoar
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_BreathUpdate
        SpecialPowerTemplate    = SpecialAbilityBalrogBreath

        UnpackTime              = 1300
        PackTime                = 3700

        AwardXPForTriggering    = 0

        StartAbilityRange = 40.0

        SpecialWeapon = MordorBalrogBreath
        WhichSpecialWeapon = 1
    End






    Behavior = SpecialPowerModule ModuleTag_LeapStarter
        SpecialPowerTemplate        = SpecialAbilityBalrogWings
        UpdateModuleStartsAttack    = Yes
        InitiateSound            = BalrogSpecialPowerRoar
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_LeapUpdate
        SpecialPowerTemplate    = SpecialAbilityBalrogWings

        UnpackTime              = 1733
        PackTime                = 1160

        AwardXPForTriggering    = 0

        StartAbilityRange    = 800.0
        ApproachRequiresLOS = No
        SpecialWeapon        = MordorBalrogLeap
        BusyForDuration        = 3000
        WhichSpecialWeapon    = 2
    End







    Behavior = SpecialPowerModule ModuleTag_SpecialAbilityGrabPassenger
        SpecialPowerTemplate     = SpecialAbilityGrabPassenger
        UpdateModuleStartsAttack = Yes
        InitiateSound            = BalrogChuckle
    End

    Behavior = SpecialAbilityUpdate ModuleTag_SpecialAbilityGrabPassengerUpdate
        SpecialPowerTemplate  = SpecialAbilityGrabPassenger
        StartAbilityRange     = 8.0
        UnpackTime            = 300
        PreparationTime       = 1
        PersistentPrepTime    = 630
        PackTime              = 1000
        CustomAnimAndDuration = AnimState:EATING AnimTime:4000 TriggerTime:400
        AwardXPForTriggering  = 0
    End

    Behavior = TransportContain ModuleTag_TransportContainTag
        ObjectStatusOfContained = UNSELECTABLE
        PassengerFilter         = NONE +INFANTRY +CAVALRY -MONSTER -HORDE -SUMMONED
        Slots                   = 1
        ShowPips                = No
        AllowEnemiesInside      = No
        AllowNeutralInside      = Yes
        AllowAlliesInside       = Yes
        DamagePercentToUnits    = 20%

        PassengerBonePrefix     = PassengerBone:ZZZPASSENGERBON    KindOf:INFANTRY
        EjectPassengersOnDeath  = Yes
    End








    AutoResolveUnitType               = AutoResolveUnit_Monster
    AutoResolveCombatChain            = AutoResolve_MonsterCombatChain

    AutoResolveBody                   = AutoResolve_EliteLegndaryMonsterBody

    AutoResolveArmor
        Armor                         = AutoResolve_EliteLegndaryMonsterArmor
    End

    AutoResolveWeapon
        Weapon                        = AutoResolve_EliteLegndaryMonsterWeapon
    End






    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName  = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName  = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName  = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End

    Behavior = AISpecialPowerUpdate IgniteAI
        CommandButtonName = Command_SpecialAbilityShadeChomp
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate ScreamAI
        CommandButtonName = Command_SpecialAbilityCallPack
        SpecialPowerRange = 100
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_DEBUFF
    End

    Behavior = AISpecialPowerUpdate BreathAI
        CommandButtonName = Command_SpecialAbilityDarkLordsLament
        SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
    End

    Geometry            = CYLINDER
    GeometryMajorRadius = 30.0
    GeometryHeight        = 70.0
    GeometryIsSmall        = No
    Shadow                = SHADOW_VOLUME
    ShadowSizeX            = 100
    ShadowSizeY            = 100
    ShadowTexture        = ShadowI
End


ChildObject MordorMorgothsDamon_Summoned MordorMorgothsDamon

 CommandPoints = 0

 KindOf = +SUMMONED

    Behavior = LifetimeUpdate LifetimeTag
        MinLifetime      = 180000
        MaxLifetime      = 180000
        DeathType        = FADED
    End
End





Object MordorMiniDamon



    SelectPortrait = HPDamon


    ButtonImage = HIDamon

    Draw = W3DScriptedModelDraw ModuleTag_BodyDraw





        OkToChangeModelColor = Yes

        ExtraPublicBone = ZZZPASSENGERBON
        ExtraPublicBone = ZZZWHIPCOIL
        ExtraPublicBone = SWORD

        RandomTexture = mudamonwings.tga 0 mubalrogwings.tga
        RandomTexture = mudamon.tga 0 mubalrog.tga


        ModelConditionState = NONE
            Model = MUBalrog_SKN
            ParticleSysBone = RTWINGBONE BalrogWingSmokeLite FollowBone:Yes
            ParticleSysBone = LFWINGBONE BalrogWingSmokeLite FollowBone:Yes
        End


        ModelConditionState = HIT_LEVEL_2
            Model = MUBalLIT_SKN
        End

        ModelConditionState = HERO
            Model = MUBalIGNT_SKN
            ParticleSysBone = RTWINGBONE BalrogWingEmbers FollowBone:Yes
            ParticleSysBone = LFWINGBONE BalrogWingEmbers FollowBone:Yes

        End


        IdleAnimationState
            StateName = State_Idle
            Animation = Breathe
                AnimationName = MUBalrog_SKL.MUBalrog_IDLA
                AnimationMode = ONCE
                AnimationBlendTime = 10
                AnimationPriority = 20
            End
            Animation = LookAround
                AnimationName = MUBalrog_SKL.MUBalrog_IDLB
                AnimationMode = ONCE
                AnimationBlendTime = 10
                AnimationPriority = 2
            End
            Animation = SnortLikeABull
                AnimationName = MUBalrog_SKL.MUBalrog_IDLC
                AnimationMode = ONCE
                AnimationBlendTime = 10
                AnimationPriority = 1
            End

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_JustBuilt"
                    then CurDrawableSetTransitionAnimState("TRANS_JustBuilt_To_Idle")
                end
                if Prev == "State_AboutToHitGround"
                    then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle")
                end
            EndScript
        End

        AnimationState                    =    DYING DEATH_1
            Animation                    =    Dying
                AnimationName            =    MUBalrog_SKL.MUBalrog_DIEA
                AnimationMode            =    ONCE
            End
            ParticleSysBone = None BalrogFallDust FollowBone:No
        End

        AnimationState                    =    DYING DEATH_2
            Animation                    =    FadingOut
                AnimationName            =    MUBalrog_SKL.MUBalrog_RORC
                AnimationMode            =    ONCE
            End
        End




        AnimationState                    =    HIT_LEVEL_2
            Animation                    =    Owowowowowowowow
                AnimationName            =    MUBalrog_SKL.MUBalrog_HITB
                AnimationMode            =    ONCE
            End
        End

        AnimationState                    =    EATING
            Animation                    =    DoingHorribleThingToGrabbedGuy
                AnimationName            =    MUBalrog_SKL.MUBalrog_BRNA
                AnimationMode            =    ONCE
                AnimationBlendTime        =    0
            End

                ParticleSysBone = ZZZPassengerBon balrogHandSqueezeFlames FollowBone:Yes
                ParticleSysBone = ZZZPassengerBon balrogHandSqueezeFlames2 FollowBone:Yes
                ParticleSysBone = ZZZPassengerBon balrogHandSqueezeFlamesFinal FollowBone:Yes
                ParticleSysBone = ZZZPassengerBon BalrogHandSqueezeFlash FollowBone:Yes
                ParticleSysBone = ZZZPassengerBon BalrogHandSmoke FollowBone:Yes
                ParticleSysBone = RING_2_L balrogHandAsh FollowBone:Yes
                ParticleSysBone = RING_2_L balrogHandAshSmall FollowBone:Yes
        End

        AnimationState                    =    UNPACKING PACKING_TYPE_3
            Animation                    =    GrabbingToTouching
                AnimationName            =    MUBalrog_SKL.MUBalrog_GRBA
                AnimationMode            =    ONCE
                AnimationBlendTime        =    0
            End
        End

        AnimationState                    =    PACKING PACKING_TYPE_3
            Animation                    =    GrabbingFollowThrough
                AnimationName            =    MUBalrog_SKL.MUBalrog_GRBC
                AnimationMode            =    ONCE
                AnimationBlendTime        =    0
            End
        End

        AnimationState            = JUST_BUILT
            StateName = State_JustBuilt
            Animation
                AnimationName = MUBalrog_SKL.MUBalrog_RORA
                AnimationMode = MANUAL
                AnimationBlendTime = 0
            End
        End

        TransitionState = TRANS_JustBuilt_To_Idle
            Animation = BeingSummoned
                AnimationName = MUBalrog_SKL.MUBalrog_RORA
                AnimationMode = ONCE
            End
        End

        AnimationState = FIRING_OR_PREATTACK_B
            Animation = CrackThatWhip
                AnimationName = MUBalrog_SKL.MUBalrog_WIPA
                AnimationMode = ONCE
            End
                ParticleSysBone = RTHANDBONE BalrogWhip2swordEfx FollowBone:Yes
        End

        AnimationState            = SPECIAL_POWER_1
            Animation            = RoaringFear
                AnimationName    = MUBalrog_SKL.MUBalrog_RORB
                AnimationMode   = ONCE
            End
                ParticleSysBone = BAT_JAW BalrogScreamEffect FollowBone:Yes
                FXEvent            = Frame:20 Name:FX_BalrogScreamEfx
                ParticleSysBone = BAT_JAW balrogPixelDisplScrm FollowBone:Yes
                ParticleSysBone = BAT_JAW balrogScrmEmbers FollowBone:Yes
        End

        AnimationState            = SPECIAL_WEAPON_ONE
            Animation            = BreathingFireAnimation
                AnimationName    = MUBalrog_SKL.MUBalrog_FIRA
                AnimationMode   = ONCE
            End

                ParticleSysBone = BAT_JAW balrogFireBreath FollowBone:Yes
                ParticleSysBone = BAT_JAW balrogBreathEmbers FollowBone:Yes
                ParticleSysBone = BAT_JAW balrogBreathSmoke FollowBone:Yes
                ParticleSysBone = BAT_JAW balrogBreathProxy FollowBone:Yes
            End

        AnimationState            = SPECIAL_WEAPON_TWO UNPACKING
            StateName            = State_LeapStart
            Animation            = GettingReadyToLeap
                AnimationName    = MUBalrog_SKL.MUBalrog_JMP1
                AnimationMode   = ONCE
            End
        End

        AnimationState            = SPECIAL_WEAPON_TWO PACKING
            Animation            = FirstWingBeatGoingUp
                AnimationName    = MUBalrog_SKL.MUBalrog_JMP2
                AnimationMode   = ONCE
            End
        End

        AnimationState            = ABOUT_TO_HIT
            StateName            = State_AboutToHitGround
            Animation            = StartingToLandToTouchingGround
                AnimationName    = MUBalrog_SKL.MUBalrog_LND1
                AnimationMode   = ONCE
            End
        End

        AnimationState            = THROWN_PROJECTILE
            Animation            = HurtlingThroughAir
                AnimationName    = MUBalrog_SKL.MUBalrog_FLYA
                AnimationMode   = LOOP
                AnimationBlendTime = 10
            End
        End

        TransitionState = TRANS_AboutToHitGround_To_Idle
            Animation = SplashAtEndOfJump
                AnimationName = MUBalrog_SKL.MUBalrog_LND2
                AnimationMode = ONCE
                AnimationBlendTime = 0
            End
        End

        AnimationState            = TURN_RIGHT
            Animation            = TurningRight
                AnimationName    = MUBalrog_SKL.MUBalrog_TRNA
                AnimationMode   = LOOP
                AnimationBlendTime = 10
            End
        End

        AnimationState            = TURN_LEFT
            Animation            = TurningLeft
                AnimationName    = MUBalrog_SKL.MUBalrog_TRNB
                AnimationMode   = LOOP
                AnimationBlendTime = 10
            End
        End

        AnimationState            = MOVING
            Animation            = Running
                AnimationName    = MUBalrog_SKL.MUBalrog_WLKA
                AnimationMode   = LOOP
                AnimationBlendTime = 10
            End
            Flags               = RANDOMSTART



        End

        AnimationState            = WEAPONSET_HERO_MODE UNPACKING PACKING_TYPE_1
            Animation = StartIgniteRoar
                AnimationName = MUBalrog_SKL.MUBalrog_IGNTA
                AnimationMode = ONCE
            End
        End

        AnimationState            = HERO PACKING PACKING_TYPE_1
            Animation = FinishIgniteRoar
                AnimationName = MUBalrog_SKL.MUBalrog_IGNTB
                AnimationMode = ONCE
            End

            EnteringStateFX = FX_BalrogIgniteStart
        End

        AnimationState            = FIRING_OR_PREATTACK_A
            Animation            = Swipe
                AnimationName    = MUBalrog_SKL.MUBalrog_RORB
                AnimationMode   = ONCE
                UseWeaponTiming    = Yes
            End
        End

        AnimationState            = FIRING_OR_PREATTACK_C
            Animation            = Chop
                AnimationName    = MUBalrog_SKL.MUBalrog_RORB
                AnimationMode   = ONCE
                UseWeaponTiming    = Yes
            End

        End
    End



    Draw = W3DScriptedModelDraw ModuleTag_WhipDraw
        GlowEnabled = Yes
        GlowEmissive = Yes
        ShadowForceDisable = Yes



        DefaultModelConditionState
            Model = None
        End

        ModelConditionState = FIRING_OR_PREATTACK_B
            Model = MUBalsWhip_SKN
        End


        IdleAnimationState
        End

        AnimationState = FIRING_OR_PREATTACK_B
            Animation = CrackThatWhip
                AnimationName = MUBalsWhip_SKL.MUBalsWhip_WIPA
                AnimationMode = ONCE
                AnimationBlendTime = 0
            End
        End
            WadingParticleSys = BalrogRiverSteam
    End


    Behavior = SubObjectsUpgrade ModuleTag_MakingTheDamon
        TriggeredBy       = Upgrade_AllFactionUpgrade
        HideSubObjects    = BALROGFIRENORMA SWORDFIRE SWORD
    End



    DisplayName      = OBJECT:MorgothsDamon

    Scale = 0.2
    Side = Neutral
    EditorSorting = UNIT
    ThreatLevel = BALROG_THREAT_LEVEL
    ThingClass = CHARACTER_UNIT
    CrusherLevel   = 4
    CrushWeapon = BalrogCrush

    TransportSlotCount = TRANSPORTSLOTCOUNT_MONSTER

    WeaponSet
        Conditions = None
        Weapon = PRIMARY    MiniDamonWeapon
    End

    ArmorSet
        Conditions      = None
        Armor           = DwarvenGuardianArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_BALROG
    ShroudClearingRange = SHROUD_CLEAR_BALROG

    DisplayName = OBJECT:MiniDamon
    ShockwaveResistance = SHOCKWAVE_RESISTANCE_ALWAYS
    CommandSet = MiniDamonCommandSet
    CanPathThroughGates    = No
    IsTrainable = No

    DeadCollideSize = LARGE




    VoiceAttack            = BalrogVoiceAttack
    VoiceAttackCharge        = BalrogVoiceAttack
    VoiceAttackMachine    = BalrogVoiceAttack
    VoiceAttackStructure    = BalrogVoiceAttack
    VoiceGuard            = BalrogVoiceMove
    VoiceMove            = BalrogVoiceMove
    VoiceSelect            = BalrogVoiceSelect
    VoiceSelectBattle        = BalrogVoiceSelect

    SoundAmbient        = BalrogAmbientLoop
    SoundImpact            = ImpactHorse




    EvaEnemyObjectSightedEvent    = DiscoveredEnemyBalrog

    ClientUpdate = EvaAnnounceClientCreate ModuleTag_CreateAnnounce
        AnnouncementEventEnemy = DiscoveredEnemyBalrog
        AnnouncementEventAlly = None
        AnnouncementEventOwner = None

        OnlyIfVisible = Yes
        CountAsFirstSightedAnnoucement = Yes
        UseObjectsPosition = No
        CreateFakeRadarEvent = Yes
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: BalrogFootstep            Animation: MUBalrog_SKL.MUBalrog_WLKA Frames: 42 17
        AnimationSound = Sound: BalrogFootstep            Animation: MUBalrog_SKL.MUBalrog_TRNA Frames: 21 52
        AnimationSound = Sound: BalrogFootstep            Animation: MUBalrog_SKL.MUBalrog_TRNB Frames: 21 52

        AnimationSound = Sound: BalrogWhipPart1            Animation: MUBalrog_SKL.MUBalrog_WIPA Frames: 1
        AnimationSound = Sound: BalrogWhipPart2            Animation: MUBalrog_SKL.MUBalrog_WIPA Frames: 21
        AnimationSound = Sound: ImpactWhipCrack            Animation: MUBalrog_SKL.MUBalrog_WIPA Frames: 34

        AnimationSound = Sound: BalrogSwordSwipe            Animation: MUBalrog_SKL.MUBalrog_ATKB Frames: 32
        AnimationSound = Sound: BalrogSwordSwipe            Animation: MUBalrog_SKL.MUBalrog_ATKA Frames: 32
        AnimationSound = Sound: ImpactBalrogAttackGeneric    Animation: MUBalrog_SKL.MUBalrog_ATKA Frames:41
        AnimationSound = Sound: ImpactBalrogAttackGeneric    Animation: MUBalrog_SKL.MUBalrog_ATKB Frames:40
        AnimationSound = Sound: ImpactBalrogAttackGeneric    Animation: MUBalrog_SKL.MUBalrog_ATKC Frames:27 53 88

        AnimationSound = Sound: BalrogJump_Part1            Animation: MUBalrog_SKL.MUBalrog_JMP1 Frames: 0
        AnimationSound = Sound: BalrogJump_Part2            Animation: MUBalrog_SKL.MUBalrog_JMP1 Frames: 41
        AnimationSound = Sound: BalrogWingFlaps            Animation: MUBalrog_SKL.MUBalrog_FLYA Frames: 9
        AnimationSound = Sound: BalrogLand                Animation: MUBalrog_SKL.MUBalrog_LND1 Frames: 0
        AnimationSound = Sound: BalrogWingFlaps            Animation: MUBalrog_SKL.MUBalrog_JMP2 Frames: 0
        AnimationSound = Sound: BalrogLandSwordHit        Animation: MUBalrog_SKL.MUBalrog_LND2 Frames: 6
        AnimationSound = Sound: BalrogIdleB_Part3            Animation: MUBalrog_SKL.MUBalrog_LND2 Frames: 27

        AnimationSound = Sound: BalrogBreathFireExhale        Animation: MUBalrog_SKL.MUBalrog_FIRA Frames: 31
        AnimationSound = Sound: BalrogBreathFireInhale        Animation: MUBalrog_SKL.MUBalrog_FIRA Frames: 0

        AnimationSound = Sound: BalrogRoar                Animation: MUBalrog_SKL.MUBalrog_RORB Frames: 25
        AnimationSound = Sound: BalrogVanquishedRoar        Animation: MUBalrog_SKL.MUBalrog_RORC Frames: 21
        AnimationSound = Sound: BalrogVanquished            Animation: MUBalrog_SKL.MUBalrog_RORC Frames: 50

        AnimationSound = Sound: BalrogInjuredB_Part1        Animation: MUBalrog_SKL.MUBalrog_HITB Frames: 0
        AnimationSound = Sound: BalrogInjuredB_Part2        Animation: MUBalrog_SKL.MUBalrog_HITB Frames: 70

        AnimationSound = Sound: BalrogChuckle            Animation: MUBalrog_SKL.MUBalrog_IDLA Frames: 1
        AnimationSound = Sound: BalrogContentVox            Animation: MUBalrog_SKL.MUBalrog_IDLA Frames: 0
        AnimationSound = Sound: BalrogIdleB_Part1            Animation: MUBalrog_SKL.MUBalrog_IDLB Frames: 0
        AnimationSound = Sound: BalrogIdleB_Part2            Animation: MUBalrog_SKL.MUBalrog_IDLB Frames: 37
        AnimationSound = Sound: BalrogIdleB_Part3            Animation: MUBalrog_SKL.MUBalrog_IDLB Frames: 95
        AnimationSound = Sound: BalrogIdleC_Part2            Animation: MUBalrog_SKL.MUBalrog_IDLC Frames: 29
        AnimationSound = Sound: BalrogIdleC_Part3            Animation: MUBalrog_SKL.MUBalrog_IDLC Frames: 60
        AnimationSound = Sound: BalrogFootstep            Animation: MUBalrog_SKL.MUBalrog_IDLC Frames: 61

        AnimationSound = Sound: BalrogDieVox            Animation: MUBalrog_SKL.MUBalrog_DIEA Frames: 13
        AnimationSound = Sound: BalrogBodyfall1            Animation: MUBalrog_SKL.MUBalrog_DIEA Frames: 56
        AnimationSound = Sound: BalrogBodyfall2            Animation: MUBalrog_SKL.MUBalrog_DIEA Frames: 57
        AnimationSound = Sound: OliphantFall            Animation: MUBalrog_SKL.MUBalrog_DIEA Frames: 21
        AnimationSound = Sound: BalrogLandSwordHit        Animation: MUBalrog_SKL.MUBalrog_DIEA Frames: 54

        AnimationSound = Sound: BalrogIgnite            Animation: MUBalrog_SKL.MUBalrog_IGNTA Frames: 51
    End




    RadarPriority = UNIT
  KindOf          = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER SCORE CAN_ATTACK NO_FREEWILL_ENTER PATH_THROUGH_INFANTRY SCARY BIG_MONSTER CAN_ATTACK_WALLS SUMMONED
  ThreatBreakdown MordorBalrog_DetailedThreat
    AIKindOf = SIEGEWEAPON
  End

  Body            = ActiveBody ModuleTag_02
    MaxHealth         = 1000
  End

  Behavior = StancesBehavior ModuleTag_StancesBehavior
    StanceTemplate = FighterHorde
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
    MoodAttackCheckRate            = 500
    AILuaEventsList                = BalrogFunctions
  End

  LocomotorSet
    Locomotor     = ShadeofWolfLocomotor
    Condition     = SET_NORMAL
    Speed         = 35
  End

    Behavior = BezierProjectileBehavior ModuleTag_Projectile

        FirstHeight = 104
        SecondHeight = 52
        FirstPercentIndent = 20%
        SecondPercentIndent = 70%
        TumbleRandomly = Yes

        CrushStyle = Yes

        BounceCount = 0

        FinalStuckTime = 1766

        GroundHitFX       = FX_BalrogJumpHitGround
        GroundHitWeapon   = RohanGimliLeapWarhead

        PreLandingStateTime = 300
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End

    Behavior = FireWeaponUpdate FireWeaponUpdateModuleTag
        FireWeaponNugget
            WeaponName = MordorBalrogHeroEffect
            FireDelay = 0
            OneShot = No
        End
        HeroModeTrigger = Yes
    End

      Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -FADED
        DestructionDelay = 2500
        DeathFlags = DEATH_1
    End

      Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes = NONE +FADED
        DestructionDelay = 3800
        DeathFlags = DEATH_2
    End

      Behavior = SpecialPowerModule ModuleTag_IgniteStarter
        SpecialPowerTemplate      = SpecialAbilityHeroMode
        UpdateModuleStartsAttack  = Yes
    End
	
    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_IgniteUpdate
        SpecialPowerTemplate    = SpecialAbilityHeroMode
        UnpackingVariation        = 1
        UnpackTime              = 1800
        PackTime                = 1600
        AwardXPForTriggering    = 0
        HeroAttributeModifier = BalrogIgniteState
        HeroEffectDuration = 30000
    End

    Behavior = SpecialPowerModule ModuleTag_ScreamStarter
        SpecialPowerTemplate      = SpecialAbilityBalrogScream
        UpdateModuleStartsAttack  = Yes

    End
    Behavior = ModelConditionSpecialAbilityUpdate ModuleTag_ScreamUpdate
        SpecialPowerTemplate    = SpecialAbilityBalrogScream

        UnpackTime              = 1500
        PreparationTime         = 1
        PackTime                = 1800

        AwardXPForTriggering    = 0

        WhichSpecialPower = 1
    End

    Behavior = SpecialPowerModule ModuleTag_BreathStarter
        SpecialPowerTemplate        = SpecialAbilityBalrogBreath
        UpdateModuleStartsAttack    = Yes
        InitiateSound            = BalrogSpecialPowerRoar
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_BreathUpdate
        SpecialPowerTemplate    = SpecialAbilityBalrogBreath

        UnpackTime              = 1300
        PackTime                = 3700

        AwardXPForTriggering    = 0

        StartAbilityRange = 40.0

        SpecialWeapon = MordorBalrogBreath
        WhichSpecialWeapon = 1
    End

    Behavior = SpecialPowerModule ModuleTag_LeapStarter
        SpecialPowerTemplate        = SpecialAbilityBalrogWings
        UpdateModuleStartsAttack    = Yes
        InitiateSound            = BalrogSpecialPowerRoar
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_LeapUpdate
        SpecialPowerTemplate    = SpecialAbilityBalrogWings

        UnpackTime              = 1733
        PackTime                = 1160

        AwardXPForTriggering    = 0

        StartAbilityRange    = 800.0
        ApproachRequiresLOS = No
        SpecialWeapon        = MordorBalrogLeap
        BusyForDuration        = 3000
        WhichSpecialWeapon    = 2
    End







    Behavior = AISpecialPowerUpdate IgniteAI
        CommandButtonName = Command_SpecialAbilityShadeChomp
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate ScreamAI
        CommandButtonName = Command_SpecialAbilityCallPack
        SpecialPowerRange = 100
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_DEBUFF
    End

    Behavior = AISpecialPowerUpdate BreathAI
        CommandButtonName = Command_SpecialAbilityDarkLordsLament
        SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
    End

    Geometry = CYLINDER
    GeometryMajorRadius = 5.6
    GeometryMinorRadius = 5.6
    GeometryHeight = 16.0
    GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 19
    ShadowSizeY = 19
    ShadowTexture = ShadowI
End



ChildObject MordorMiniDamon_Summoned MordorMiniDamon
    IsTrainable   = No
    CommandPoints = 0
    CommandSet    = WildSpiderlingCommandSet
    EquivalentTo  = MordorMiniDamon



    Behavior = LifetimeUpdate LifetimeTag
        MinLifetime        = CREATE_A_HERO_REINFORCEMENT_LIFETIME
        MaxLifetime        = CREATE_A_HERO_REINFORCEMENT_LIFETIME
        DeathType        = FADED
    End

    Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes            = NONE +FADED
        FadeDelay            = 0
        FadeTime            = 5000
        DestructionDelay    = 5000
        DeathFlags            = DEATH_3
        Sound = INITIAL SpellGenericUnsummonFasterMS
    End

End





Object MorgothsDamonEgg
    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = None
        End
    End
    KindOf = INERT IMMOBILE UNATTACKABLE

    Body = ActiveBody ModuleTag_MakesKillWork
        MaxHealth = 1
    End
    Behavior = LifetimeUpdate ModuleTag_HatchTrigger
        MinLifetime = 0.0
        MaxLifetime = 0.0
    End
    Behavior = SlowDeathBehavior ModuleTag_HatchProcess
        DestructionDelay       = 5000
        FX                     = INITIAL FX_SoWolfSummon
        OCL                    = MIDPOINT OCL_MorgothsDamonSummoningFinish
        Weapon                 = MIDPOINT ShadeWolfSummoning
        DoNotRandomizeMidpoint = Yes
    End
End

Object MorgothsDamonEggPlaceHolder
    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = None
        End
    End
    KindOf =  IMMOBILE UNATTACKABLE NOT_AUTOACQUIRABLE
    Body = ActiveBody ModuleTag_MakesKillWork
        MaxHealth = 1
    End
    Behavior = LifetimeUpdate ModuleTag_HatchTrigger
        MinLifetime = 9000
        MaxLifetime = 9000
    End
    Geometry            = CYLINDER
    GeometryMajorRadius = 30.0
    GeometryHeight      = 70.0
    GeometryIsSmall     = No
End

