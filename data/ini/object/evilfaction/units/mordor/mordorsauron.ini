 Object MordorNekromantSauron

    SelectPortrait = HPNekromant
    ButtonImage    = HINekromant

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_Glorfindel

    Draw = W3DScriptedModelDraw ModuleTag_DRAW

        DefaultModelConditionState
            Model               = MUNekrosmoke
            ParticleSysBone     = None NekromantCloudGroundFog
            ParticleSysBone     = None NekromantCloudGroundFog02
            ParticleSysBone     = None NekromantCloud02 FXTrigger:NONE Persist:SPAWN PersistID:10
            ParticleSysBone     = CHEST SummonedDragonWaves FollowBone:Yes
            Shadow              = SHADOW_ALPHA_DECAL_DYNAMIC
            ShadowSizeX         = 190
            ShadowSizeY         = 190
            ShadowTexture       = exnekrosmoke
            ShadowOpacityStart  = 0
            ShadowOpacityFadeInTime = 1000
            ShadowOpacityPeak   = 220
            ShadowOpacityFadeOutTime = 1000
            ShadowOpacityEnd    = 0
            ShadowOverrideLODVisibility = Yes
        End

       ModelConditionState = WEAPONSET_TOGGLE_3
            Model               = musauronfire
            ParticleSysBone     = SKIRT1 SauronFireFlare FollowBone:Yes
            ParticleSysBone     = SKIRT1 SauronFireFlare02 FollowBone:Yes
        End

        AnimationState                        = DYING
            Animation                        = DIEB
                AnimationName                = MUSauron_SKL.MUSauron_DIEB
                AnimationMode                = ONCE
            End
            BeginScript
                CurDrawableHideSubObject("SAURON")
            EndScript
        End



       ModelConditionState     = SPECIAL_WEAPON_FIVE
           Model = FIRELOCATOR
            ParticleSysBone     = None NekromantCloudGroundFog
            ParticleSysBone     = None NekromantCloudGroundFog02
            ParticleSysBone     = None NekromantCloud02 FXTrigger:NONE Persist:SPAWN PersistID:100
            ParticleSysBone     = None SummonedDragonWaves FollowBone:Yes
            Shadow              = SHADOW_ALPHA_DECAL_DYNAMIC
            ShadowSizeX         = 150
            ShadowSizeY         = 150
            ShadowTexture       = exnekrosmoke
            ShadowOpacityStart  = 0
            ShadowOpacityFadeInTime = 1000
            ShadowOpacityPeak   = 170
            ShadowOpacityFadeOutTime = 1000
            ShadowOpacityEnd    = 0
            ShadowOverrideLODVisibility = Yes
        End

        AnimationState                = SPECIAL_WEAPON_FIVE
            StateName                = Schatten
            Animation
                AnimationName        = FIRELOCATOR
                AnimationMode        = ONCE
            End
        End

        ModelConditionState     = ABOUT_TO_HIT
            Model = FIRELOCATOR
            ParticleSysBone     = None NekromantCloudGroundFog
            ParticleSysBone     = None NekromantCloudGroundFog02
            ParticleSysBone     = None NekromantCloud02 FXTrigger:NONE Persist:SPAWN PersistID:100
            ParticleSysBone     = None SummonedDragonWaves FollowBone:Yes
            Shadow              = SHADOW_ALPHA_DECAL_DYNAMIC
            ShadowSizeX         = 150
            ShadowSizeY         = 150
            ShadowTexture       = exnekrosmoke
            ShadowOpacityStart  = 0
            ShadowOpacityFadeInTime = 1000
            ShadowOpacityPeak   = 170
            ShadowOpacityFadeOutTime = 1000
            ShadowOpacityEnd    = 0
            ShadowOverrideLODVisibility = Yes
        End

        AnimationState            = ABOUT_TO_HIT
            StateName            = State_AboutToHitGround
            Animation
                AnimationName        = FIRELOCATOR
                AnimationMode        = ONCE
            End
        End

        ModelConditionState     = THROWN_PROJECTILE
           Model = FIRELOCATOR
            ParticleSysBone     = None NekromantCloudGroundFog
            ParticleSysBone     = None NekromantCloudGroundFog02
            ParticleSysBone     = None NekromantCloud02 FXTrigger:NONE Persist:SPAWN PersistID:100
            ParticleSysBone     = None SummonedDragonWaves FollowBone:Yes
            Shadow              = SHADOW_ALPHA_DECAL_DYNAMIC
            ShadowSizeX         = 150
            ShadowSizeY         = 150
            ShadowTexture       = exnekrosmoke
            ShadowOpacityStart  = 0
            ShadowOpacityFadeInTime = 1000
            ShadowOpacityPeak   = 170
            ShadowOpacityFadeOutTime = 1000
            ShadowOpacityEnd    = 0
            ShadowOverrideLODVisibility = Yes
        End

        AnimationState            = THROWN_PROJECTILE
            Animation            = HurtlingThroughAir
                AnimationName        = FIRELOCATOR
                AnimationMode        = ONCE
            End
        End


    AnimationState                        = PARALYZED
        Animation
            AnimationName                = MUSauron_SKL.MUSauron_IDLA
            AnimationMode                = LOOP
        End
    End



    AnimationState                        = TURN_LEFT
        StateName                        = STATE_Turning
        Animation                        = Turning
            AnimationName                = MUSauron_SKL.MUSauron_TRNL
            AnimationMode                = LOOP
            AnimationBlendTime            = 5
        End

        Flags                            = MAINTAIN_FRAME_ACROSS_STATES2
    End

    AnimationState                        = TURN_RIGHT
        StateName                        = STATE_Turning
        Animation                        = Turning
            AnimationName                = MUSauron_SKL.MUSauron_TRNR
            AnimationMode                = LOOP
            AnimationBlendTime            = 5
        End

        Flags                            = MAINTAIN_FRAME_ACROSS_STATES2
   End

    AnimationState                        = MOVING
        StateName                        = STATE_Moving
        Animation                        = Moving
            AnimationName                = MUSauron_SKL.MUSauron_WLKA
            AnimationMode                = LOOP
            Distance                    = 88
        End


        Flags                            = MAINTAIN_FRAME_ACROSS_STATES
    End



    AnimationState                        = SPECIAL_WEAPON_ONE
        Animation
            AnimationName                = MUSauron_SKL.MUSauron_ATKD
            AnimationMode                = ONCE
        End
    End


    AnimationState            = HERO PACKING_TYPE_1
        Animation = FinishIgniteRoar
            AnimationName = MUSauron_SKL.MUSauron_ATKD
            AnimationMode = ONCE
        End
        EnteringStateFX = FX_NekromantFeuerwelleStart
    End

    AnimationState        =  PACKING_TYPE_1 PREPARING
        StateName = Attacking
        Animation = FinishIgniteRoar
            AnimationName = MUSauron_SKL.MUSauron_ATKD
            AnimationMode = ONCE
        End
    End

    AnimationState        =  HERO
        StateName = Attacking
        Animation = FinishIgniteRoar
            AnimationName = MUSauron_SKL.MUSauron_ATKD
            AnimationMode = LOOP
        End
    End





        AnimationState                = FIRING_OR_PREATTACK_A
            StateName                = STATE_ready
            Animation                = ATKC
                AnimationName        = MUSauron_SKL.MUSauron_ATKD
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
                AnimationPriority    = 3
            End
            ParticleSysBone     = None NekromantMagic01
            ParticleSysBone     = None NekromantMagic02
        End

        AnimationState                = FIRING_OR_PREATTACK_B
            StateName                = STATE_ready
            Animation                = ATKE
                AnimationName        = MUSauron_SKL.MUSauron_ATKD
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
                AnimationPriority    = 2
            End
            ParticleSysBone     = None NekromantMagic01
            ParticleSysBone     = None NekromantMagic02
        End

        AnimationState                = FIRING_OR_PREATTACK_A WEAPONSET_HERO_MODE
            StateName                = STATE_ready
            Animation                = ATKC
                AnimationName        = MUSauron_SKL.MUSauron_ATKC
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
                AnimationPriority    = 3
            End
            ParticleSysBone     = None NekromantMagic01
            ParticleSysBone     = None NekromantMagic02
        End


    AnimationState                        = SPECIAL_WEAPON_THREE
        Animation
            AnimationName                = MUSauron_SKL.MUSauron_ATKE
            AnimationMode                = ONCE
        End
        Animation
            AnimationName                = MUSauron_SKL.MUSauron_ATKD
            AnimationMode                = ONCE
        End
        ParticleSysBone = WEAPON NecroAcolyteFlare FollowBone:Yes
        ParticleSysBone = WEAPON NecroAcolyteWTrails FollowBone:Yes
    End


    AnimationState = MOVING FIRING_OR_PREATTACK_A
        Animation                        = TrotAndFire
            AnimationName                = MUSauron_SKL.MUSauron_WLKB
            AnimationMode                = LOOP
        End
        Flags = RANDOMSTART
    End

    AnimationState = MOVING FIRING_OR_PREATTACK_A WEAPONSET_HERO_MODE
        Animation                        = TrotAndFire
            AnimationName                = MUSauron_SKL.MUSauron_WLKB
            AnimationMode                = LOOP
        End
        Flags = RANDOMSTART
    End




    AnimationState                        = HIT_REACTION
        StateName                        = STATE_Ready
        Animation
            AnimationName                = MUSauron_SKL.MUSauron_HITA
            AnimationMode                = ONCE
        End
    End

        AnimationState        = RAISING_FLAG
            Animation
                AnimationName     = MUSauron_SKL.MUSauron_IDLA
                AnimationMode     = ONCE
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
        End



    AnimationState                        = SELECTED
        StateName                        = Idle
        Animation                        = IDLA
            AnimationName                = MUSauron_SKL.MUSauron_IDLA
            AnimationMode                = LOOP
        End
    End

    IdleAnimationState
        AllowRepeatInRandomPick            = Yes
        StateName                        = Idle
        Animation                        = IDLA
            AnimationName                = MUSauron_SKL.MUSauron_IDLA
            AnimationMode                = ONCE
            AnimationPriority            = 20
        End
        Animation                        = IDLC
            AnimationName                = MUSauron_SKL.MUSauron_IDLC
            AnimationMode                = ONCE
            AnimationPriority            = 10
            AnimationBlendTime            = 10
            AnimationSpeedFactorRange    = 0.7 1.5
        End
        BeginScript
            Prevs = CurDrawablePrevAnimationState()
            Preva = CurDrawablePrevAnimation()
            if Prevs == "STATE_Moving"
            then
                CurDrawableSetTransitionAnimState("TRANS_SmoothToIdle")
            elseif Prevs == "STATE_Ready"
            then
                CurDrawableSetTransitionAnimState("TRANS_ReallySmoothToIdle")
            end
            if Preva == "IDLC"
            then
                CurDrawableSetTransitionAnimState("TRANS_ReallySmoothToIdle")
            end
        EndScript
    End


    TransitionState                    = TRANS_SmoothToIdle
        Animation                    = IDLA
            AnimationName            = MUSauron_SKL.MUSauron_IDLA
            AnimationMode            = ONCE
            AnimationBlendTime        = 5
        End
    End
    TransitionState                    = TRANS_ReallySmoothToIdle
        Animation                    = IDLA
            AnimationName            = MUSauron_SKL.MUSauron_IDLA
            AnimationMode            = ONCE
            AnimationBlendTime        = 10
        End
    End
  End


    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"


    Side                  = Mordor
    EditorSorting         = UNIT
    ThreatLevel           = SAURON_THREAT_LEVEL
    ThingClass            = CHARACTER_UNIT
    TransportSlotCount    = TRANSPORTSLOTCOUNT_HERO
    BuildCost             = 0
    BuildTime             = SILMARIL_HERO_BUILDTIME
    ShockwaveResistance   = SHOCKWAVE_RESISTANCE_ALWAYS
    Scale                 = 1.1

    MaxSimultaneousOfType = 1


    WeaponSet
        Conditions            = None
        Weapon                = PRIMARY   NekromantDarknessAttackWeapon
        AutoChooseSources     = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions            = HIDDEN
    End



    ArmorSet
        Conditions      = None
        Armor           = MordorNecromancerArmor
        DamageFX        = WraithDamageFX
    End


    VisionRange            = 320
    ShroudClearingRange    = 400

    MaxVisionBonusPercent  = 300%
    VisionBonusTestRadius  = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue           = NECROMANCER_BOUNTY_VALUE
    RecruitText           = CONTROLBAR:NekromantRecruit
    ReviveText            = CONTROLBAR:NekromantRevive
    Hotkey                = CONTROLBAR:SauronHotkey
    DisplayName           = OBJECT:MordorSauron
    DisplayRangedDamage   = WEAK_HERO_DAMAGE

    CrusherLevel          = 0

    CommandSet        	= MordorNekromantCommandSet
    CommandPoints     	= 0



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_WitchKingBody

    AutoResolveArmor
        Armor = AutoResolve_WitchKingArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_WitchKingWeapon
    End



    VoiceAttack                     = NekromantVoiceAttack
    VoiceFear                       = EVA:SauronHelpMe
    VoiceCreated                    = EVA:SauronCreated
    VoiceCreated                    = +SOUND:CampOrcCreateSauronGlobal
    VoiceMove                       = NekromantVoiceMove
    VoicePriority                   = 95
    VoiceSelect                     = NekromantVoiceSelect
    VoiceGuard                      = NekromantVoiceMove

    SoundAmbient                    = BarrowWightAmbienceMS

    UnitSpecificSounds
        VoiceEnterUnitEvilMenTransportShip  = NekromantVoiceMove
        VoiceEnterUnitMordorMumakil         = NekromantVoiceMove
        VoiceEnterUnitSlaughterHouse        = NekromantVoiceMove
        VoiceGarrison                       = NekromantVoiceMove
        VoiceInitiateCaptureBuilding        = NekromantVoiceMove
    End

    CrowdResponseKey = ElfHero

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Elf Elf_Male Unit Infantry Hero
    End

    EvaEventDieOwner        = SauronDie

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
    End



    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance               = 300
        TauntAndPointUpdateDelay            = 10000
        AddEmotion            =    Doom_Base
        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
        AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base
        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
    End



    RadarPriority = UNIT
    KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY ATTACK_NEEDS_LINE_OF_SIGHT PATH_THROUGH_EACH_OTHER SCORE ARMY_SUMMARY HEAVY_MELEE_HITTER IGNORE_FOR_VICTORY
    PathfindDiameter = 40.0

    Body = RespawnBody ModuleTag_RespawnBody
        MaxHealth                   = SILMARIL_HERO_HEALTH
        PermanentlyKilledByFilter   = NONE
        DodgePercent                = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                    = DYING
        DeathAnimationTime           = 5133
        RespawnAnim                  = LEVELED
        RespawnAnimationTime         = 2000
        AutoRespawnAtObjectFilter    = NONE +CASTLE_KEEP
        ButtonImage                  = HINekromant
        RespawnAsTemplate            = MordorNekromantSauron

        RespawnRules =    AutoSpawn:No    Cost:0          Time:SILMARIL_HERO_RESPAWNTIME    Health:100%
    End

    Behavior = AutoHealBehavior ModuleTag_GlorfindelHealing
        StartsActive            = Yes
        HealingAmount           = HERO_HEAL_AMOUNT
        HealingDelay            = 1000
        StartHealingDelay       = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat   = Yes
    End

    #include "..\..\..\includes\DefaultInvisibilityUpdate.inc"

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

    #include "..\..\..\includes\CaptureBuilding.inc"





    Behavior = CitadelSlaughterHordeContain ModuleTag_SlaughterMe
        PassengerFilter              = NONE +TheDroppedRing
        ObjectStatusOfContained      = UNSELECTABLE ENCLOSED
        ContainMax                   = 1
        AllowEnemiesInside           = No
        AllowAlliesInside            = Yes
        AllowNeutralInside           = No
        AllowOwnPlayerInsideOverride = Yes
        EnterSound                   = Sauron_RingReturnedMS
        EntryOffset                  = X:0.0 Y:0.0 Z:0.0
        EntryPosition                = X:0.0 Y:0.0 Z:0.0
        ExitOffset                   = X:0.0 Y:0.0 Z:0.0
        StatusForRingEntry           = HOLDING_THE_RING
        UpgradeForRingEntry          = Upgrade_RingHero Upgrade_FortressRingHero
        ObjectToDestroyForRingEntry  = NONE +TheDroppedRing
        FXForRingEntry               = FX_OneRingFlareSauron
    End

    Behavior = ModelConditionUpgrade ModulTag_RingHeroMC
        TriggeredBy         = Upgrade_RingHero Upgrade_FortressRingHero
        RequiresAllTriggers = Yes
        AddConditionFlags   = ONE_RING
    End

    Behavior = PickupStuffUpdate ModuleTag_PickupStuffUpdate
        SkirmishAIOnly = Yes
        StuffToPickUp = NONE +TheDroppedRing
        ScanRange = 3000
        ScanIntervalSeconds = 0.5
    End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate        = 500
        CanAttackWhileContained    = Yes
        AILuaEventsList            = SauronEdainFunctions
    End

    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = 40
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 2533
    End

    Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes       = ALL
        FadeDelay        = 0
        FadeTime         = 0
        DestructionDelay = 0
        FX               = INITIAL FX_NamenlosesGrauenBlast
    End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FactionLeaderLeadershipStart
        SpecialPowerTemplate    = SpecialAbilityFakeLeadership3
    End

    Behavior = SpecialPowerModule ModuleTag_FactionLeaderLeadershipUpdate
        SpecialPowerTemplate        = SpecialAbilityFakeLeadership3
        UpdateModuleStartsAttack    = No
        StartsPaused                = No
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_FactionLeaderLeadership
        StartsActive     = Yes
        BonusName        = FactionLeaderGlobalLeadership
        RefreshDelay     = 2000
        Range            = 200
        ObjectFilter     = MORDOR_LEADERSHIP_UNITS_OBF
    End





    Behavior = CommandSetUpgrade ModueTag_CommandSet_Level2
        TriggeredBy         = Upgrade_Held2RespawnLevel
		ConflictsWith		= Upgrade_ObjectUnderAIControl
        CommandSet          = MordorNekromantCommandSet_Lvl2
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl2Gewahlt
        TriggeredBy         = Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
		ConflictsWith		= Upgrade_ObjectUnderAIControl
        CommandSet          = MordorNekromantCommandSet_Lvl2Gewahlt
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl4
        TriggeredBy         = Upgrade_Held4RespawnLevel
		ConflictsWith		= Upgrade_ObjectUnderAIControl
        CommandSet          = MordorNekromantCommandSet_Lvl2
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6
        TriggeredBy         = Upgrade_Held4RespawnLevel
		ConflictsWith		= Upgrade_ObjectUnderAIControl
        CommandSet          = MordorNekromantCommandSet_Lvl2
    End


    Behavior = CommandSetUpgrade ModueTag_CommandSet_SchreckenDolGuldurs
        TriggeredBy         = Upgrade_Held4RespawnLevel Upgrade_SchreckenDolGuldurs
		ConflictsWith		= Upgrade_ObjectUnderAIControl
        RequiresAllTriggers = Yes
        CommandSet          = MordorNekromantCommandSet_Lvl4DolGuldur
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_StreitmachtMinasMorguls
        TriggeredBy         = Upgrade_Held4RespawnLevel Upgrade_StreitmachtMinasMorguls
		ConflictsWith		= Upgrade_ObjectUnderAIControl
        RequiresAllTriggers = Yes
        CommandSet          = MordorNekromantCommandSet_Lvl4MinasMorgul
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_GarnisonCirithUngols
        TriggeredBy         = Upgrade_Held4RespawnLevel Upgrade_GarnisonCirithUngols
		ConflictsWith		= Upgrade_ObjectUnderAIControl
        RequiresAllTriggers = Yes
        CommandSet          = MordorNekromantCommandSet_Lvl4CirithUngol
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6GewahltSchreckenDolGuldursStreitmachtMinasMorguls
        TriggeredBy         = Upgrade_Held4RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls
		ConflictsWith		= Upgrade_ObjectUnderAIControl
        RequiresAllTriggers = Yes
        CommandSet          = MordorNekromantCommandSet_Lvl4Gewahlt
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6GewahltSchreckenDolGuldursGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held4RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_GarnisonCirithUngols
		ConflictsWith		= Upgrade_ObjectUnderAIControl
        RequiresAllTriggers = Yes
        CommandSet          = MordorNekromantCommandSet_Lvl4Gewahlt
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6GewahltStreitmachtMinasMorgulsGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held4RespawnLevel Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
		ConflictsWith		= Upgrade_ObjectUnderAIControl
        RequiresAllTriggers = Yes
        CommandSet          = MordorNekromantCommandSet_Lvl4Gewahlt
    End


    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9SchreckenDolGuldursStreitmachtMinasMorguls
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls
		ConflictsWith		= Upgrade_ObjectUnderAIControl
        RequiresAllTriggers = Yes
        CommandSet          = MordorNekromantCommandSet_Lvl6DolGuldurMinasMorgul
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9SchreckenDolGuldursGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_GarnisonCirithUngols
		ConflictsWith		= Upgrade_ObjectUnderAIControl
        RequiresAllTriggers = Yes
        CommandSet          = MordorNekromantCommandSet_Lvl6DolGuldurCirithUngol
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9StreitmachtMinasMorgulsGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
		ConflictsWith		= Upgrade_ObjectUnderAIControl
        RequiresAllTriggers = Yes
        CommandSet          = MordorNekromantCommandSet_Lvl6MinasMorgulCirithUngol
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9GewahltStreitmachtMinasMorgulsGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
		ConflictsWith		= Upgrade_ObjectUnderAIControl
        RequiresAllTriggers = Yes
        CommandSet          = MordorNekromantCommandSet_Lvl6Gewahlt
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl10Gewahlt
        TriggeredBy         = Upgrade_Held10RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
		ConflictsWith		= Upgrade_ObjectUnderAIControl
        RequiresAllTriggers = Yes
        CommandSet          = MordorNekromantCommandSet_Lvl10Gewahlt
    End


    Behavior = CommandSetUpgrade ModueTag_CommandSet_NecroAI
        TriggeredBy         = Upgrade_ObjectUnderAIControl
        CommandSet          = MordorNekromantCommandSet_AI
    End



    Behavior = BezierProjectileBehavior ModuleTag_Projectile
        FirstHeight = 60
        SecondHeight = 52
        FirstPercentIndent = 20%
        SecondPercentIndent = 70%
        TumbleRandomly = Yes
        CrushStyle = Yes
        BounceCount = 0
        FinalStuckTime = 1766
        GroundHitFX       = FX_WandernderSchatten
        GroundHitWeapon   = WandernderSchattenLeapWarhead
        PreLandingStateTime = 300
    End


    Behavior = SpecialPowerModule ModuleTag_SchattenStarter
        SpecialPowerTemplate     = SpecialAbilityWandernderSchatten
        UpdateModuleStartsAttack = Yes
        InitiateSound            = MoveUnseen
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_SchattenUpdate
        SpecialPowerTemplate     = SpecialAbilityWandernderSchatten
        UnpackTime               = 600
        PackTime                 = 600
        AwardXPForTriggering     = 0
        StartAbilityRange        = 1000
        ApproachRequiresLOS      = No
        SpecialWeapon            = WandernderSchattenLeap
        BusyForDuration          = 3000
        WhichSpecialWeapon       = 5
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_BlickFakeLeadership
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership2
        TriggeredBy               = Upgrade_Held1RespawnLevel
    End

    Behavior = SpecialPowerModule ModuleTag_BlickFakeLeadershipUpdate
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership2
        UpdateModuleStartsAttack  = No
        StartsPaused              = Yes
    End

    Behavior = StealthDetectorUpdate StealthDetectorUpdateModuleTag
        DetectionRate       = 10
        DetectionRange      = 400
        CancelOneRingEffect = Yes
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_FearMe
        StartsActive     = Yes
        BonusName        = SauronFear
        RefreshDelay     = 5000
        Range            = 250.0
        ObjectFilter     = ANY +INFANTRY +CAVALRY
        TargetEnemy      = Yes
        MaxActiveRank    = 3
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_VerdammtenEnabler
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        TriggeredBy                  = Upgrade_Held4RespawnLevel
    End

    Behavior = SpecialPowerModule ModuleTag_VerdammtenStarter
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        StartsPaused                 = Yes
        UpdateModuleStartsAttack     = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_VerdammtenWeaponFireUpdate
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        WhichSpecialWeapon           = 1
        SkipContinue                 = Yes
        FreezeAfterTriggerDuration   = 100
        UnpackTime                   = 700
        PreparationTime              = 1
        PackTime                     = 100
        AwardXPForTriggering         = 0
        StartAbilityRange            = 270
        SpecialWeapon                = MachtderVerdammtenWeapon
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_KnechtschaftEnabler
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        TriggeredBy              = Upgrade_Held7RespawnLevel
    End

    Behavior = SpecialPowerModule ModuleTag_KnechtschaftStarter
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_KnechtschaftUpdate
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        SkipContinue             = Yes
        UnpackTime               = 1100
        PreparationTime          = 1
        PersistentPrepTime       = 500
        PackTime                 = 500
        MustFinishAbility        = Yes
        AwardXPForTriggering     = 0
        StartAbilityRange        = 1000000
        SpecialWeapon            = EwigeKnechtschaftWeapon
        WhichSpecialWeapon       = 1
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_HerrscherEnabler
        SpecialPowerTemplate     = SpecialAbilityHerrscherdesFeuers
        TriggeredBy              = Upgrade_Held10RespawnLevel
    End

    Behavior = SpecialPowerModule ModuleTag_HerrscherStarter
        SpecialPowerTemplate     = SpecialAbilityHerrscherdesFeuers
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_HerrscherWeaponFireUpdate
        SpecialPowerTemplate     = SpecialAbilityHerrscherdesFeuers
        WhichSpecialWeapon       = 1
        SkipContinue             = Yes
        UnpackTime               = 1700
        PackTime                 = 1
        FreezeAfterTriggerDuration = 2500
        AwardXPForTriggering     = 0
        StartAbilityRange        = 80.0
        SpecialWeapon            = HerrscherdesFeuersWeapon
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_GorthaurEnabler
        SpecialPowerTemplate         = SpecialAbilityToggleSauronGestaltenSauron
    End

    Behavior = SpecialPowerModule ModuleTag_GorthaurToggleStarter
         SpecialPowerTemplate        = SpecialAbilityToggleSauronGestaltenSauron
         UpdateModuleStartsAttack    = Yes
         StartsPaused                = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate GorthaurToggle
         SpecialPowerTemplate        = SpecialAbilityToggleSauronGestaltenSauron
         MountedTemplate             = MordorGorthaur
         SynchronizeTimerOnSpecialPower = SpecialAbilityEwigeKnechtschaft
         UnpackTime                  = OBJECT_TOGGLE_TIME
         PreparationTime             = 0
         PackTime                    = 0
         OpacityTarget               = .0
         AwardXPForTriggering        = 0
         IgnoreFacingCheck           = Yes
    End

    Behavior = DoCommandUpgrade Module_DoCommandUpgradeGorthaur
        TriggeredBy     	    	= Upgrade_MachtvergangenerZeitalter
	ConflictsWith		    	= Upgrade_RingHero
        GetUpgradeCommandButtonName 	= Command_ToggleNekromantGestaltenSauron
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SauronEnabler
        SpecialPowerTemplate         = SpecialAbilityGandalfVerfuhrte
    End

    Behavior = SpecialPowerModule ModuleTag_SauronToggleStarter
         SpecialPowerTemplate        = SpecialAbilityGandalfVerfuhrte
         UpdateModuleStartsAttack    = Yes
         StartsPaused                = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate SauronToggle
         SpecialPowerTemplate        = SpecialAbilityGandalfVerfuhrte
         MountedTemplate             = MordorSauron_mod
         UnpackTime                  = OBJECT_TOGGLE_TIME
         PreparationTime             = 0
         PackTime                    = 0
         OpacityTarget               = .0
         AwardXPForTriggering        = 0
         IgnoreFacingCheck           = Yes
    End

    Behavior = DoCommandUpgrade Module_DoCommandUpgradeSauron
        TriggeredBy                  = Upgrade_RingHero
        GetUpgradeCommandButtonName  = Command_SpecialAbilityGandalfVerfuhrte
    End


    Behavior = SquishCollide ModuleTag_06
    End

    Behavior = NotifyTargetsOfImminentProbableCrushingUpdate ModuleTag_NotifyCrushScan
    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 2700
        HitReactionLifeTimer2 = 3366
        HitReactionLifeTimer3 = 10

        HitReactionThreshold1 = 5.0
        HitReactionThreshold2 = 100.0
        HitReactionThreshold3 = 300.0
    End




    Behavior = AttributeModifierUpgrade ModuleTag_HerrderErdeBonus
        TriggeredBy         = Upgrade_HerrderErde
        AttributeModifier   = HerrderErdeModifier
    End

    Behavior = AttributeModifierUpgrade ModuleTag_HerrderErdeBonus2
        TriggeredBy         = Upgrade_HerrderErde Upgrade_Level_15
        RequiresAllTriggers = Yes
        AttributeModifier   = HerrderErdeModifier2
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_HerrderErdeforSiegeworks
        StartsActive    = No
        TriggeredBy     = Upgrade_HerrderErde
        BonusName       = LordoftheEarth
        RefreshDelay    = 2000
        Range           = 99999999
        AntiCategory    = BUFF
        ObjectFilter    = NONE +MordorSiegeWorks ALLIES
    End



    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel2
        TriggeredBy     = Upgrade_Level_2
        Delay           = 0
        ThingToSpawn    = Held2RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel3
        TriggeredBy     = Upgrade_Level_3
        Delay           = 0
        ThingToSpawn    = Held3RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel4
        TriggeredBy     = Upgrade_Level_4
        Delay           = 0
        ThingToSpawn    = Held4RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel5
        TriggeredBy     = Upgrade_Level_5
        Delay           = 0
        ThingToSpawn    = Held5RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel6
        TriggeredBy     = Upgrade_Level_6
        Delay           = 0
        ThingToSpawn    = Held6RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel7
        TriggeredBy     = Upgrade_Level_7
        Delay           = 0
        ThingToSpawn    = Held7RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel8
        TriggeredBy     = Upgrade_Level_8
        Delay           = 0
        ThingToSpawn    = Held8RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel9
        TriggeredBy     = Upgrade_Level_9
        Delay           = 0
        ThingToSpawn    = Held9RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel10
        TriggeredBy     = Upgrade_Level_10
        Delay           = 0
        ThingToSpawn    = Held10RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel11
        TriggeredBy     = Upgrade_Level_11
        Delay           = 0
        ThingToSpawn    = Held11RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel12
        TriggeredBy     = Upgrade_Level_12
        Delay           = 0
        ThingToSpawn    = Held12RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel13
        TriggeredBy     = Upgrade_Level_13
        Delay           = 0
        ThingToSpawn    = Held13RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel14
        TriggeredBy     = Upgrade_Level_14
        Delay           = 0
        ThingToSpawn    = Held14RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel15
        TriggeredBy     = Upgrade_Level_15
        Delay           = 0
        ThingToSpawn    = Held15RespawnLevel
    End


    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP = Yes
    End

    Behavior = CommandButtonHuntUpdate ModuleTag_CommandButtonHuntUpdate
    End

    Behavior = AISpecialPowerUpdate GimliLeapAttackAI
        CommandButtonName = Command_SpecialAbilityWandernderSchatten
        SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
        SpecialPowerRadius = 300
    End

    Behavior = AISpecialPowerUpdate RoyalGuardAI
        CommandButtonName = Command_SpecialAbilityArmeeausHirngespinsten
        SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate SpecialPowerBoromirGiveXPAoE
        CommandButtonName = Command_SpecialAbilityFluchdesNekromanten
        SpecialPowerAIType = AI_SPECIAL_POWER_GIVEXP_AOE
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate HerrscherdesFeuers_AI
        CommandButtonName  = Command_SpecialAbilityHerrscherdesFeuers
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
        SpecialPowerRadius = 250
    End

    Geometry            = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryHeight      = 25
    GeometryIsSmall     = Yes
End

Object MordorGorthaur

    SelectPortrait = HPGorthaur
    ButtonImage    = HIGorthaur

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_LeaderHero

    Draw = W3DScriptedModelDraw ModuleTag_DRAW


        DefaultModelConditionState
            Model           = mugorthaur
            Skeleton        = EUGlrfdl_SKL
        End
		
		ModelConditionState            = USER_12
            ParticleSysBone = None EastShadow FollowBone:Yes
			ParticleSysBone = None GorthaurImmortal40 FollowBone:Yes
        End
		
        ModelConditionState = WEAPONSET_HERO_MODE
            ParticleSysBone = None BlackRiderFlare FollowBone:No
        End

        IdleAnimationState
            Animation                = IDLB
                AnimationName        = EUGlrfdl_IDLB
                AnimationMode        = ONCE
            End
            Animation                = IDLC
                AnimationName        = EUGlrfdl_IDLC
                AnimationMode        = ONCE
            End
            Animation                = IDLD
                AnimationName        = EUGlrfdl_IDLD
                AnimationMode        = ONCE
            End
            Animation                = IDLE
                AnimationName        = EUGlrfdl_IDLE
                AnimationMode        = ONCE
            End
            StateName                = Idle
            BeginScript
                CurDrawableHideSubObject("spear")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
            EndScript
        End


        AnimationState            = STUNNED_FLAILING
            Flags               = RANDOMSTART
            Animation
                AnimationName   = EUGlrfdl_FLYA
                AnimationMode   = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            StateName           = NoSword
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End

        AnimationState            = STUNNED_STANDING_UP
            Animation
                AnimationName   = EUGlrfdl_GTPA
                AnimationMode   = ONCE
                AnimationSpeedFactorRange= 1.5 1.5
            End
        End

        AnimationState            = STUNNED
            Animation
                AnimationName   = EUGlrfdl_LNDA
                AnimationMode   = ONCE
            End
            StateName           = NoSword
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState                =    DYING SPLATTED
            Animation
                AnimationName        =    EUGlrfdl_LNDA
                AnimationMode        =    ONCE
            End
            StateName                =    NoSword
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End
        AnimationState        = DYING AFLAME
            Animation = DieAflame
                AnimationName           = EUGlrfdl_MFDA
                AnimationMode       = LOOP
            End
        End


        AnimationState                =    DYING
            Animation
                AnimationName        =    EUGlrfdl_DTHA
                AnimationMode        =    ONCE
                AnimationPriority   =   10
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = EUGlrfdl_IDLB
                AnimationMode                = LOOP
            End
        End



        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = EUGlrfdl_ATKSV2
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
            BeginScript
                CurDrawableHideSubObject("spear")
            EndScript
        End

        AnimationState                =    MOVING ATTACKING
            Flags                    =    RANDOMSTART
            Animation                =    RUNB
                AnimationName        =    EUGlrfdl_RUNB
                AnimationMode        =    LOOP
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("spear")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End

        AnimationState                =    MOVING
            Flags                    =    RANDOMSTART
            Animation                =    RUNA
                AnimationName        =    EUGlrfdl_RUNB
                AnimationMode        =    LOOP
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("spear")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End

        AnimationState        =  SPECIAL_WEAPON_ONE
            Animation
                AnimationName       = EUGlrfdl_SPCB
                AnimationMode       = ONCE
            End
        End


        AnimationState                =    FIRING_OR_PREATTACK_A
            StateName                =    Sword
            Animation                =    ATKA
                AnimationName        =    EUGlrfdl_ATKA
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
            End
            Animation                =    ATKB
                AnimationName        =    EUGlrfdl_ATKB
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
            End
            Animation                =    ATKC
                AnimationName        =    EUGlrfdl_ATKC
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                =    FIRING_OR_PREATTACK_A WEAPONSET_HERO_MODE
            StateName                =    Sword
            Animation                =    ATKA
                AnimationName        =    EUGlrfdl_ATKA
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
            End
            Animation                =    ATKB
                AnimationName        =    EUGlrfdl_ATKB
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
            End
            Animation                =    ATKC
                AnimationName        =    EUGlrfdl_ATKC
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState        = ATTACKING
            Animation           = ALERT_1
                AnimationName     = EUGlrfdl_IDLA
                AnimationMode     = ONCE
            End
            Flags               = RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState            = HIT_REACTION HIT_LEVEL_1
            StateName            = STATE_Bored_Sword
            Animation            = Hit_Level_1_A
                AnimationName    = EUGlrfdl_HITA
                AnimationMode    = ONCE
            End
        End

        AnimationState            = HIT_REACTION HIT_LEVEL_2
            StateName            = STATE_Bored_Sword
            Animation            = Hit_Level_1_A
                AnimationName    = EUGlrfdl_HITA
                AnimationMode    = ONCE
            End
        End

        AnimationState            = HIT_REACTION HIT_LEVEL_3
            StateName            = STATE_Bored_Sword
            Animation            = Hit_Level_1_A
                AnimationName    = EUGlrfdl_HITA
                AnimationMode    = ONCE
            End
        End


        TransitionState                    =    TRANS_Idle_to_Selected
            Animation                    =    ATNA
                AnimationName            =    EUGlrfdl_ATNA
                AnimationMode            =    ONCE
            End
        End

        TransitionState                    =    TRANS_Selected_To_Idle
            Animation                    =    ATNC
                AnimationName            =    EUGlrfdl_ATNC
                AnimationMode            =    ONCE
            End
        End

        AnimationState                        = LEVELED
            Animation                        = LevelUp
                AnimationName                = EUGlrfdl_LVLA
                AnimationMode                = ONCE
                AnimationSpeedFactorRange    = 0.75 0.75
            End
        End

        AnimationState                =    RAISING_FLAG
            Animation                =    CHRA
                AnimationName        =    EUGlrfdl_CHRA
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    SELECTED
            StateName                =    Selected
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =    EUGlrfdl_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                CurDrawableHideSubObject("spear")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
            EndScript
        End


        AnimationState                =    EMOTION_CELEBRATING
            Animation                =    CHRA
                AnimationName        =    EUGlrfdl_CHRA
                AnimationMode        =    ONCE
                AnimationPriority    =    10
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                    = EMOTION_TAUNTING
            Animation
                AnimationName            = EUGlrfdl_TNTA
                AnimationMode            = LOOP
            End
        End

        AnimationState                    = EMOTION_ALERT EMOTION_MORALE_HIGH
            Animation                    = Taunting
                AnimationName            = EUGlrfdl_TNTA
                AnimationMode            = ONCE
            End
            Flags                        = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState        = EMOTION_ALERT
            Animation           = ALERT_1
                AnimationName     = EUGlrfdl_IDLA
                AnimationMode     = ONCE
            End
            Flags               = RESTART_ANIM_WHEN_COMPLETE
        End

    End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End


    #include "..\..\..\includes\StunDrawModuleSmall.inc"


    Side                  = Mordor
    EditorSorting         = UNIT
    ThreatLevel           = SAURON_THREAT_LEVEL
    ThingClass            = CHARACTER_UNIT
    TransportSlotCount    = TRANSPORTSLOTCOUNT_HERO
    BuildCost             = SILMARIL_HERO_COST
    BuildTime             = SILMARIL_HERO_BUILDTIME
    ShockwaveResistance   = SHOCKWAVE_RESISTANCE_STRONG
    DisplayMeleeDamage    = GORTHAURDAG_DAMAGE
    MaxSimultaneousOfType = 1
    Scale                 = 1.12



    WeaponSet
        Conditions           = None
        Weapon               = PRIMARY GorthaurSword
        AutoChooseSources    = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions           = PLAYER_UPGRADE
        Weapon               = PRIMARY GorthaurSword_Upgrade
        AutoChooseSources    = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions           = WEAPONSET_HERO_MODE
        Weapon               = PRIMARY GorthaurSwordHeroMode
        AutoChooseSources    = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End




    ArmorSet
        Conditions      = None
        Armor           = MediumHeroArmor
        DamageFX        = NormalDamageFX
    End

    ArmorSet
        Conditions      = PLAYER_UPGRADE
        Armor           = StrongHeroArmor
        DamageFX        = NormalDamageFX
    End


    VisionRange            = VISION_HERO_STANDARD
    ShroudClearingRange = SHROUD_CLEAR_HERO

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue           = SAURON_BOUNTY_VALUE
    RecruitText           = CONTROLBAR:GorthaurRecruit
    ReviveText            = CONTROLBAR:GorthaurRevive
    Hotkey                = CONTROLBAR:GorthaurHotkey
    DisplayName           = OBJECT:MordorGorthaur

    CrusherLevel          = 0

    CommandSet            = MordorGorthaurCommandSet_Start   
    CommandPoints         = 0



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_SarumanBody

    AutoResolveArmor
        Armor = AutoResolve_SarumanArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_SarumanWeapon
    End



    VoiceAttack            = GorthaurVoiceAttack
    VoiceFear              = GorthaurBearFear
    VoiceCreated           = GorthaurVoiceRecruit
    VoiceMove              = GorthaurVoiceMove
    VoicePriority          = 95
    VoiceSelect            = GorthaurVoiceSelect
    VoiceGuard             = GorthaurVoiceMove

    UnitSpecificSounds
        VoiceEnterUnitEvilMenTransportShip  = GorthaurVoiceMove
        VoiceEnterUnitMordorMumakil         = GorthaurVoiceMove
        VoiceEnterUnitSlaughterHouse        = GorthaurVoiceMove
        VoiceGarrison                       = GorthaurVoiceMove
        VoiceInitiateCaptureBuilding        = GorthaurVoiceMove
    End


    CrowdResponseKey = ElfHero

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Elf Elf_Male Unit Infantry Hero
    End


    EvaEventDieOwner           = SauronDie
    EvaEnemyObjectSightedEvent = EnemySauronSeen

    ClientUpdate = EvaAnnounceClientCreate ModuleTag_CreateAnnounce
        AnnouncementEventEnemy 	= EnemySauronSeen
        AnnouncementEventAlly  	= None
        AnnouncementEventOwner 	= None

        OnlyIfVisible 		= Yes
        CountAsFirstSightedAnnoucement = Yes
        UseObjectsPosition 	= No
        CreateFakeRadarEvent 	= Yes
    End


   ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallSoldier            Animation:EUGLRFDL_SKL.EUGLRFDL_LNDA        Frames:5
        AnimationSound = Sound:BodyFallSoldier            Animation:EUGLRFDL_SKL.EUGLRFDL_DTHA        Frames:34
        AnimationSound = Sound:FootstepDirtA              Animation:EUGlrfdl_SKL.EUGlrfdl_RUNA        Frames:9 18 28 38 48 58
        AnimationSound = Sound:FootstepDirtA              Animation:EUGlrfdl_SKL.EUGlrfdl_RUNB        Frames:9 18 28 38 48 58
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance                = 300
        TauntAndPointUpdateDelay            = 10000
        AddEmotion            =    Doom_Base
        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
        AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base
        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
    End



    RadarPriority = UNIT
    KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY ATTACK_NEEDS_LINE_OF_SIGHT PATH_THROUGH_EACH_OTHER SCORE ARMY_SUMMARY HEAVY_MELEE_HITTER
    PathfindDiameter = 40.0
    CamouflageDetectionMultiplier = 2.0

    Body = RespawnBody ModuleTag_RespawnBody
        MaxHealth                   = SILMARIL_HERO_HEALTH
        PermanentlyKilledByFilter   = NONE
        DodgePercent                = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                    = DYING
        DeathAnimationTime           = 5133
        RespawnAnim                  = LEVELED
        RespawnAnimationTime         = 2000
        AutoRespawnAtObjectFilter    = NONE +CASTLE_KEEP
        ButtonImage                  = HIGorthaur
        RespawnAsTemplate            = MordorNekromantSauron

        RespawnRules =    AutoSpawn:No    Cost:SILMARIL_HERO_COST       Time:SILMARIL_HERO_RESPAWNTIME    Health:100%
    End

    Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
        TriggeredBy =  Upgrade_Level_10
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_FearMe
        StartsActive     = Yes
        BonusName        = SauronFear
        RefreshDelay     = 5000
        Range            = 250.0
        ObjectFilter     = ANY +INFANTRY +CAVALRY
        TargetEnemy      = Yes
        MaxActiveRank    = 1
    End

    Behavior = AutoHealBehavior ModuleTag_GlorfindelHealing
        StartsActive            = Yes
        HealingAmount           = HERO_HEAL_AMOUNT
        HealingDelay            = 1000
        StartHealingDelay       = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat   = Yes
    End

    #include "..\..\..\includes\DefaultInvisibilityUpdate.inc"

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = CitadelSlaughterHordeContain ModuleTag_SlaughterMe
        PassengerFilter              = NONE +TheDroppedRing
        ObjectStatusOfContained      = UNSELECTABLE ENCLOSED
        ContainMax                   = 1
        AllowEnemiesInside           = No
        AllowAlliesInside            = Yes
        AllowNeutralInside           = No
        AllowOwnPlayerInsideOverride = Yes
        EnterSound                   = Sauron_RingReturnedMS
        EntryOffset                  = X:0.0 Y:0.0 Z:0.0
        EntryPosition                = X:0.0 Y:0.0 Z:0.0
        ExitOffset                   = X:0.0 Y:0.0 Z:0.0
        StatusForRingEntry           = HOLDING_THE_RING
        UpgradeForRingEntry          = Upgrade_RingHero Upgrade_FortressRingHero
        ObjectToDestroyForRingEntry  = NONE +TheDroppedRing
        FXForRingEntry               = FX_OneRingFlareSauron
    End

    Behavior = ModelConditionUpgrade ModulTag_RingHeroMC
        TriggeredBy         = Upgrade_RingHero Upgrade_FortressRingHero
        RequiresAllTriggers = Yes
        AddConditionFlags   = ONE_RING
    End

    Behavior = PickupStuffUpdate ModuleTag_PickupStuffUpdate
        SkirmishAIOnly = Yes
        StuffToPickUp = NONE +TheDroppedRing
        ScanRange = 3000
        ScanIntervalSeconds = 0.5
    End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate        = 500
        CanAttackWhileContained    = Yes
        AILuaEventsList            = SauronEdainFunctions
    End

    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_ELVEN_FAST_MEMBER_SPEED
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 2000
    End


    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes           = ALL
        SinkDelay            = 0
        SinkRate             = 10.0
        DestructionDelay     = 0
        FX                   = INITIAL FX_NamenlosesGrauenBlast
        Sound                = INITIAL GorthaurVoiceDie
    End

    Behavior = CommandButtonHuntUpdate ModuleTag_CommandButtonHuntUpdate
    End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FactionLeaderLeadershipStart
        SpecialPowerTemplate    = SpecialAbilityFakeLeadership3
    End

    Behavior = SpecialPowerModule ModuleTag_FactionLeaderLeadershipUpdate
        SpecialPowerTemplate        = SpecialAbilityFakeLeadership3
        UpdateModuleStartsAttack    = No
        StartsPaused                = No
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_FactionLeaderLeadership
        StartsActive     = Yes
        BonusName        = FactionLeaderGlobalLeadership
        RefreshDelay     = 2000
        Range            = 200
        ObjectFilter     = ALL -HERO -MACHINE -SHIP -DOZER -STRUCTURE ALLIES
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_HerrderErdeforSiegeworks
        StartsActive    = No
        BonusName       = LordoftheEarth
        RefreshDelay    = 2000
        Range           = 99999999
        AntiCategory    = BUFF
        ObjectFilter    = NONE +MordorSiegeWorks ALLIES
        TriggeredBy     = Upgrade_HerrderErde
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_GorthaurforSiegeworks
        StartsActive    = Yes
        BonusName       = GorthaurSiegeWorks
        RefreshDelay    = 2000
        Range           = 99999999
        AntiCategory    = BUFF
        ObjectFilter    = NONE +MordorSiegeWorks ALLIES
    End

    Behavior = GrantUpgradeCreate ModuleTag_EnableUpgradeSchwan
        UpgradeToGrant      = Upgrade_SauronUpgrade
        GiveOnBuildComplete = Yes
    End
	

    Behavior = ModelConditionUpgrade ModulTag_1
        TriggeredBy         = Upgrade_Level_2
        RequiresAllTriggers = Yes
        AddConditionFlags   = USER_1
    End

    Behavior = ModelConditionUpgrade ModulTag_2
        TriggeredBy         = Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        AddConditionFlags   = USER_2
    End

    Behavior = ModelConditionUpgrade ModulTag_3a
        TriggeredBy         = Upgrade_Level_4 Upgrade_SchreckenDolGuldurs
        RequiresAllTriggers = Yes
        AddConditionFlags   = USER_3
    End

    Behavior = ModelConditionUpgrade ModulTag_3b
        TriggeredBy         = Upgrade_Level_4 Upgrade_StreitmachtMinasMorguls
        RequiresAllTriggers = Yes
        AddConditionFlags   = USER_3
    End

    Behavior = ModelConditionUpgrade ModulTag_3c
        TriggeredBy         = Upgrade_Level_4 Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        AddConditionFlags   = USER_3
    End

    Behavior = ModelConditionUpgrade ModulTag_4a
        TriggeredBy         = Upgrade_Level_6 Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls
        RequiresAllTriggers = Yes
        AddConditionFlags   = USER_4
    End

    Behavior = ModelConditionUpgrade ModulTag_4b
        TriggeredBy         = Upgrade_Level_6 Upgrade_SchreckenDolGuldurs Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        AddConditionFlags   = USER_4
    End

    Behavior = ModelConditionUpgrade ModulTag_4c
        TriggeredBy         = Upgrade_Level_6 Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        AddConditionFlags   = USER_4
    End

    Behavior = ModelConditionUpgrade ModulTag_5a
        TriggeredBy         = Upgrade_Level_6 Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls
        RequiresAllTriggers = Yes
        AddConditionFlags   = USER_5
    End

    Behavior = ModelConditionUpgrade ModulTag_5b
        TriggeredBy         = Upgrade_Level_6 Upgrade_SchreckenDolGuldurs Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        AddConditionFlags   = USER_5
    End

    Behavior = ModelConditionUpgrade ModulTag_5c
        TriggeredBy         = Upgrade_Level_6 Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        AddConditionFlags   = USER_5
    End

    Behavior = ModelConditionUpgrade ModulTag_6a
        TriggeredBy         = Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        AddConditionFlags   = USER_6
    End


    Behavior = WeaponSetUpgrade ModuleTag_WeaponSetUpgradeTag
        TriggeredBy = Upgrade_MachtvergangenerZeitalter
    End

    Behavior = ArmorUpgrade ArmorUpgradeModuleTag
        TriggeredBy            = Upgrade_MachtvergangenerZeitalter
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSetupgrade
        TriggeredBy       = Upgrade_MachtvergangenerZeitalter
        CommandSet        = MordorGorthaurCommandSet
    End

    Behavior = MonitorConditionUpdate ModuleTag_CommandSetSwapper1
        WeaponSetFlags            = WEAPONSET_TOGGLE_1
        WeaponToggleCommandSet    = MordorGorthaurCommandSet2
    End

    Behavior = MonitorConditionUpdate ModuleTag_CommandSetSwapper2
        WeaponSetFlags            = WEAPONSET_TOGGLE_2
        WeaponToggleCommandSet    = MordorGorthaurCommandSet
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSetAI
        TriggeredBy       = Upgrade_ObjectUnderAIControl
        CommandSet        = MordorGorthaurCommandSet_AI
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MouthOfSauronDissentEnabler
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        TriggeredBy                 = Upgrade_Level_4
        ObeyRechageOnTrigger        = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentStarter
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        StartsPaused                = Yes
         UpdateModuleStartsAttack   = Yes
    End

    Behavior = ActivateModuleSpecialPower ModuleTag_MouthOfSauronDissentMover
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        StartAbilityRange           = 300
        TriggerSpecialPower         = ModuleTag_MouthOfSauronDissentTrigger TARGETPOS
    End

    Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentTrigger
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        AttributeModifier           = MouthOfSauronDissentModifier
        AttributeModifierRange      = MOUTH_OF_SAURON_DISSENT_RADIUS
        AttributeModifierAffects    = ANY +INFANTRY +CAVALRY +MONSTER -HERO
        TriggerFX                   = FX_MouthOfSauronDissent
        UpdateModuleStartsAttack    = No
        StartsPaused                = Yes
        TargetAllSides              = Yes
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WaffenstillstandEnabler
        SpecialPowerTemplate     = SpecialAbilityWaffenstillstandAnnatar
        TriggeredBy              = Upgrade_Level_6
        ObeyRechageOnTrigger     = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_WaffenstillstandStarter
        SpecialPowerTemplate      = SpecialAbilityWaffenstillstandAnnatar
        UpdateModuleStartsAttack  = Yes
        StartsPaused              = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WaffenstillstandWeaponFireUpdate
        SpecialPowerTemplate      = SpecialAbilityWaffenstillstandAnnatar
        SpecialWeapon             = AnnatarWaffenstillstandWeapon
        WhichSpecialWeapon        = 1
        StartAbilityRange         = 10.0
        SkipContinue              = Yes
        UnpackTime                = 1000
        PackTime                  = 2000
        MustFinishAbility         = Yes
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DominateEnabler
        SpecialPowerTemplate         = SpecialAbilityDominateEnemySauronRing
        TriggeredBy                  = Upgrade_Level_9
        ObeyRechageOnTrigger         = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_DominateEnemySpecialPowerModule
        SpecialPowerTemplate         = SpecialAbilityDominateEnemySauronRing
        StartsPaused                 = Yes
        UpdateModuleStartsAttack     = Yes
    End

    Behavior = DominateEnemySpecialPower ModuleTag_DominateEnemySpecialPower
        SpecialPowerTemplate         = SpecialAbilityDominateEnemySauronRing
        UnpackingVariation           = 1
        StartAbilityRange            = 200.0
        AttributeModifierAffects     = ALL -HERO -DOZER -MOVE_ONLY -STRUCTURE ENEMIES NEUTRAL
        DominateRadius               = 120
        DominatedFX                  = FX_SauronDominateTargets
        TriggerFX                    = FX_SauronDominateTrigger
        UnpackTime                   = 2000
        PermanentlyConvert           = No
        PreparationTime              = 1
        FreezeAfterTriggerDuration   = 3500
     End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FurstderVampireEnabler
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        TriggeredBy             = Upgrade_Level_2
        ObeyRechageOnTrigger    = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_FurstderVampireStarter
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        StartsPaused            = Yes
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_FurstderVampireUpdate
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        HeroAttributeModifier   = FurstderVampire
        HeroEffectDuration      = 30000
        UnpackTime              = 1
        TriggerSound            = GorthaurBlademaster
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FlammenschlagEnabler
        SpecialPowerTemplate = SpecialAbilityGorthaurFlammenschlag
        TriggeredBy          = Upgrade_Level_5
        ObeyRechageOnTrigger = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_Flammenschlag
        SpecialPowerTemplate = SpecialAbilityGorthaurFlammenschlag
        OCL                  = OCL_GorthaurFlammenschlagStrike
        CreateLocation       = CREATE_AT_LOCATION
        StartsPaused         = Yes
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_VerdammtenEnabler
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        TriggeredBy                  = Upgrade_Level_4
        ObeyRechageOnTrigger            = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_VerdammtenStarter
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        StartsPaused                 = Yes
        UpdateModuleStartsAttack     = Yes
    End
    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_VerdammtenWeaponFireUpdate
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        WhichSpecialWeapon           = 1
        SkipContinue                 = Yes
        FreezeAfterTriggerDuration   = 100
        UnpackTime                   = 700
        PreparationTime              = 1
        PackTime                     = 100
        AwardXPForTriggering         = 0
        StartAbilityRange            = 270
        SpecialWeapon                = MachtderVerdammtenWeapon
    End




    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FinsternisEnabler
        SpecialPowerTemplate = SpecialAbilityVerschlingendeFinsternis
        TriggeredBy          = Upgrade_Level_7
        ObeyRechageOnTrigger = Yes
    End
    Behavior = OCLSpecialPower ModuleTag_OCLSpecialPowerFinsternis
        SpecialPowerTemplate = SpecialAbilityVerschlingendeFinsternis
        OCL                  = OCL_SummonVerschlingendeFinsternis
        CreateLocation       = CREATE_AT_LOCATION
        StartsPaused         = Yes
        TriggerFX            = FX_VerschlingendeFinsternisNekromant
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TolinGaurhothEnabler
        SpecialPowerTemplate   = SpecialAbilityTolinGaurhoth
        TriggeredBy            = Upgrade_Level_10
        ObeyRechageOnTrigger   = Yes
    End
    Behavior = OCLSpecialPower ModuleTag_TolinGaurhothOCLSpecialPower
        SpecialPowerTemplate   = SpecialAbilityTolinGaurhoth
        OCL                    = OCL_SummonTolinGaurhoth
        CreateLocation         = CREATE_AT_LOCATION
        StartsPaused           = Yes
        SetModelCondition      = ModelConditionState:USER_1
        SetModelConditionTime  = 4.1
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_KnechtschaftEnabler
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        TriggeredBy              = Upgrade_Level_7
        ObeyRechageOnTrigger     = Yes
    End
    Behavior = SpecialPowerModule ModuleTag_KnechtschaftStarter
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_KnechtschaftUpdate
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        SkipContinue             = Yes
        UnpackTime               = 1100
        PreparationTime          = 1
        PersistentPrepTime       = 500
        PackTime                 = 500
        MustFinishAbility        = Yes
        AwardXPForTriggering     = 0
        StartAbilityRange        = 1000000
        SpecialWeapon            = EwigeKnechtschaftWeapon
        WhichSpecialWeapon       = 1
    End
	
    Behavior = AutoAbilityBehavior ModuleTag_KnechtschaftAutoAbility
        SpecialAbility  = SpecialAbilityEwigeKnechtschaft
        MaxScanRange    = 150
        Query           = 1 NONE +MordorWraith
    End




    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AnnatarToggleEnabler
        SpecialPowerTemplate            = SpecialAbilityToggleSauronGestaltenAnnatar
        TriggeredBy                     = Upgrade_Level_4
        ObeyRechageOnTrigger            = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_AnnatarToggleStarter
         SpecialPowerTemplate           = SpecialAbilityToggleSauronGestaltenAnnatar
         UpdateModuleStartsAttack       = Yes
         StartsPaused                   = Yes
         AvailableAtStart               = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate AnnatarToggle
         SpecialPowerTemplate        = SpecialAbilityToggleSauronGestaltenAnnatar
         MountedTemplate             = MordorAnnatar
         UnpackTime                  = OBJECT_TOGGLE_TIME
         PreparationTime             = 0
         PackTime                    = 0
         OpacityTarget               = .0
         AwardXPForTriggering        = 0
         IgnoreFacingCheck           = Yes
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WerwolfToggleEnabler
        SpecialPowerTemplate            = SpecialAbilityToggleSauronGestaltenWerwolf
        TriggeredBy                     = Upgrade_Level_3
        ObeyRechageOnTrigger            = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_WerwolfToggleStarter
         SpecialPowerTemplate          = SpecialAbilityToggleSauronGestaltenWerwolf
         UpdateModuleStartsAttack       = Yes
         StartsPaused                   = Yes
         AvailableAtStart               = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate WerwolfToggle
         SpecialPowerTemplate        = SpecialAbilityToggleSauronGestaltenWerwolf
         MountedTemplate             = MordorSauronWerwolf
         UnpackTime                  = OBJECT_TOGGLE_TIME
         PreparationTime             = 0
         PackTime                    = 0
         OpacityTarget               = .0
         AwardXPForTriggering        = 0
         IgnoreFacingCheck           = Yes
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_VampirToggleEnabler
        SpecialPowerTemplate            = SpecialAbilityToggleSauronGestaltenVampir
        TriggeredBy                     = Upgrade_Level_1
        ObeyRechageOnTrigger            = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_VampirToggleStarter
         SpecialPowerTemplate           = SpecialAbilityToggleSauronGestaltenVampir
         UpdateModuleStartsAttack       = Yes
         StartsPaused                   = No
         AvailableAtStart               = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate VampirToggle
         SpecialPowerTemplate        = SpecialAbilityToggleSauronGestaltenVampir
         MountedTemplate             = MordorGorthaurVampir
         UnpackTime                  = OBJECT_TOGGLE_TIME
         PreparationTime             = 0
         PackTime                    = 0
         OpacityTarget               = .0
         AwardXPForTriggering        = 0
         IgnoreFacingCheck           = Yes
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SauronEnabler
        SpecialPowerTemplate         = SpecialAbilityToggleSauronGestaltenSauron
    End

    Behavior = SpecialPowerModule ModuleTag_SauronToggleStarter
         SpecialPowerTemplate        = SpecialAbilityToggleSauronGestaltenSauron
         UpdateModuleStartsAttack    = Yes
         StartsPaused                = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate SauronToggle
         SpecialPowerTemplate        = SpecialAbilityToggleSauronGestaltenSauron
         MountedTemplate             = MordorSauron_mod
         UnpackTime                  = OBJECT_TOGGLE_TIME
         PreparationTime             = 0
         PackTime                    = 0
         OpacityTarget               = .0
         AwardXPForTriggering        = 0
         IgnoreFacingCheck           = Yes
    End

    Behavior = DoCommandUpgrade Module_DoCommandUpgrade
        TriggeredBy 		         = Upgrade_RingHero
        GetUpgradeCommandButtonName  = Command_ToggleSauronGestaltenSauron
    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = NotifyTargetsOfImminentProbableCrushingUpdate ModuleTag_NotifyCrushScan
    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 2700
        HitReactionLifeTimer2 = 3366
        HitReactionLifeTimer3 = 10

        HitReactionThreshold1 = 5.0
        HitReactionThreshold2 = 100.0
        HitReactionThreshold3 = 300.0
    End



    Behavior = AttributeModifierUpgrade ModuleTag_HerrderErdeBonus
        TriggeredBy         = Upgrade_HerrderErde
        AttributeModifier   = HerrderErdeModifier
    End

    Behavior = AttributeModifierUpgrade ModuleTag_HerrderErdeBonus2
        TriggeredBy         = Upgrade_HerrderErde Upgrade_Level_15
        RequiresAllTriggers = Yes
        AttributeModifier   = HerrderErdeModifier2
    End


    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP = Yes
    End





    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel2
        TriggeredBy     = Upgrade_Level_2
        Delay           = 0
        ThingToSpawn    = Held2RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel3
        TriggeredBy     = Upgrade_Level_3
        Delay           = 0
        ThingToSpawn    = Held3RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel4
        TriggeredBy     = Upgrade_Level_4
        Delay           = 0
        ThingToSpawn    = Held4RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel5
        TriggeredBy     = Upgrade_Level_5
        Delay           = 0
        ThingToSpawn    = Held5RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel6
        TriggeredBy     = Upgrade_Level_6
        Delay           = 0
        ThingToSpawn    = Held6RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel7
        TriggeredBy     = Upgrade_Level_7
        Delay           = 0
        ThingToSpawn    = Held7RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel8
        TriggeredBy     = Upgrade_Level_8
        Delay           = 0
        ThingToSpawn    = Held8RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel9
        TriggeredBy     = Upgrade_Level_9
        Delay           = 0
        ThingToSpawn    = Held9RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel10
        TriggeredBy     = Upgrade_Level_10
        Delay           = 0
        ThingToSpawn    = Held10RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel11
        TriggeredBy     = Upgrade_Level_11
        Delay           = 0
        ThingToSpawn    = Held11RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel12
        TriggeredBy     = Upgrade_Level_12
        Delay           = 0
        ThingToSpawn    = Held12RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel13
        TriggeredBy     = Upgrade_Level_13
        Delay           = 0
        ThingToSpawn    = Held13RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel14
        TriggeredBy     = Upgrade_Level_14
        Delay           = 0
        ThingToSpawn    = Held14RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel15
        TriggeredBy     = Upgrade_Level_15
        Delay           = 0
        ThingToSpawn    = Held15RespawnLevel
    End

    Behavior = StealthDetectorUpdate StealthDetectorUpdateModuleTag
        DetectionRate       = 10
        DetectionRange      = 400
        CancelOneRingEffect = Yes
    End






    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
       CommandButtonName  = Command_SetStanceBattle
       SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
       CommandButtonName  = Command_SetStanceAggressive
       SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
       CommandButtonName  = Command_SetStanceHoldGround
       SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End

    Behavior = AISpecialPowerUpdate ElvenLorienWarriorHordeCaptureBuildingAI
        CommandButtonName  = Command_CaptureBuilding
        SpecialPowerAIType = AI_SPECIAL_POWER_CAPTURE_BUILDING
    End

    Behavior = AISpecialPowerUpdate BladeOfPurityAI
        CommandButtonName = Command_SpecialAbilityFurstderVampire
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate ThunderboltAI
        CommandButtonName = Command_SpecialAbilityGorthaurFlammenschlag
        SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER
    End

    Behavior = AISpecialPowerUpdate FiresOfDoomAI
        CommandButtonName = Command_SpecialAbilityVerschlingendeFinsternis
        SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
        SpecialPowerRadius = 300.0
    End

    Behavior = AISpecialPowerUpdate RoyalGuardAI
        CommandButtonName = Command_SpecialAbilityTolinGaurhoth
        SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
        SpecialPowerRadius = 30.0
    End

    Geometry            = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryHeight      = 25
    GeometryIsSmall     = Yes
End


Object MordorGorthaurVampir

    SelectPortrait = HPGorthaur
    ButtonImage    = HIGorthaur

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_FellBeast

    Draw = W3DHordeModelDraw ModuleTag_01

        OkToChangeModelColor = Yes
        StaticModelLODMode   = Yes

        DefaultModelConditionState
            Model            = Bats_SKN
            WeaponLaunchBone = PRIMARY BAT_TOER1
        End

        IdleAnimationState
            StateName                = Idle
            Animation                = IdleA
                AnimationName       = Bats_SKL.Bats_IDLA
                AnimationMode       = LOOP
                AnimationBlendTime  = 30
            End
            Flags                        = RANDOMSTART
        End

        AnimationState                = JUST_BUILT
            StateName                = State_JustBuilt
            Animation
                AnimationName        = Bats_SKL.Bats_SMNA
                AnimationMode        = ONCE
                AnimationBlendTime    = 0
            End
        End

        AnimationState                = DYING DEATH_1
            Animation
                AnimationName        = Bats_SKL.Bats_SMNB
                AnimationMode        = ONCE
                AnimationBlendTime    = 15
            End
        End


        AnimationState                = MOVING
            Animation                = RunA
                AnimationName       = Bats_SKL.Bats_MOV
                AnimationMode       = LOOP
                AnimationBlendTime  = 30

            End
        End

        AnimationState                =    SELECTED
            StateName                =    State_Selected
            Animation                =    AtAttention
                AnimationName        =    Bats_SKL.Bats_IDLA
                AnimationMode        =    LOOP
                AnimationBlendTime  = 30
            End
        End

        AnimationState = CLIMBING
            StateName = Climbing
            Animation = Moving
                AnimationName = Bats_SKL.Bats_MOV
                AnimationMode = LOOP
                AnimationBlendTime = 10
                AnimationSpeedFactorRange = 0.95 1.05
            End
        End

        AnimationState = FREEFALL
            StateName = Freefall
            Animation = Moving
                AnimationName = Bats_SKL.Bats_MOV
                AnimationMode = LOOP
                AnimationBlendTime = 10
            End
        End
    End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbigbox
        End
    End


    Side                 = Mordor
    EditorSorting        = UNIT
    ThreatLevel          = SAURON_THREAT_LEVEL
    ThingClass           = CHARACTER_UNIT
    TransportSlotCount   = TRANSPORTSLOTCOUNT_HERO
    BuildCost            = SILMARIL_HERO_COST
    BuildTime            = SILMARIL_HERO_BUILDTIME
    Scale                = 1.3
    ShockwaveResistance  = SHOCKWAVE_RESISTANCE_STRONG
    DisplayMeleeDamage   = WEAK_HERO_DAMAGE

    WeaponSet
        Weapon                     = PRIMARY    VampireBatsPlowAttack
        ReadyStatusSharedWithinSet = Yes
    End

    ArmorSet
        Conditions      = None
        Armor           = EdainGorthaurBatArmor
        DamageFX        = FellBeastDamageFX
    End

    VisionRange           = VISION_HERO_STANDARD
    ShroudClearingRange = SHROUD_CLEAR_HERO
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%
    DisplayName         = OBJECT:SauronVampire
    RamPower            = 45
    RamZMult            = 0.5
    CrusherLevel        = 3
    CrushKnockback      = 50
    CrushZFactor        = 1.0
    CommandSet          = MordorGorthaurVampirCommandSet
    CommandPoints       = 0


    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_WitchKingBody

    AutoResolveArmor
        Armor = AutoResolve_WitchKingArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_WitchKingWeapon
    End


    SoundAmbient   = CaveBatsAmbientLoop
    SoundMoveStart = CaveBatsSelect
    VoiceSelect    = CaveBatsSelect

    EvaEventDieOwner    = SauronDie

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    RadarPriority = UNIT
    KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS SCORE NO_FREEWILL_ENTER MONSTER CANNOT_RETALIATE ARMY_SUMMARY GIANT_BIRD

    Body = RespawnBody ModuleTag_RespawnBody
        MaxHealth                   = SILMARIL_HERO_HEALTH
        PermanentlyKilledByFilter   = NONE
        DodgePercent                = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                    = DYING
        DeathAnimationTime           = 5133
        RespawnAnim                  = LEVELED
        RespawnAnimationTime         = 2000
        AutoRespawnAtObjectFilter    = NONE +CASTLE_KEEP
        ButtonImage                  = HIGorthaur
        RespawnAsTemplate            = MordorNekromantSauron

        RespawnRules =    AutoSpawn:No    Cost:SILMARIL_HERO_COST       Time:SILMARIL_HERO_RESPAWNTIME    Health:100%
    End

    Behavior = AutoHealBehavior ModuleTag_FellbeastHealing
        StartsActive = Yes
        HealingAmount = NAZGUL_HEAL_AMOUNT
        HealingDelay = 1000
        StartHealingDelay = 15000
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

    Behavior = NotifyTargetsOfImminentProbableCrushingUpdate ModuleTag_NotifyCrushScan
    End

    Behavior = GiantBirdAIUpdate ModuleTag_GiantBirdAI
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate           = 500
        AILuaEventsList               = SauronEdainFellBeastFunctions
        FollowThroughDistance         = 200
        FollowThroughCheckStep        = 50
        FollowThroughGradient         = 1.0
        GrabTossTimeTrigger           = 2.5
        GrabTossHeightTrigger         = 100.0
        TossFX                        = FX_DiebyFalling
        SpecialContactPoints          = Swoop
        AttackPriority                = AttackPriority_FellBeast
    End

    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP = Yes
    End

      LocomotorSet
        	Locomotor = FellBeastLocomotor
        	Condition = SET_NORMAL
        	Speed     = 110
      End
      LocomotorSet
        	Locomotor = FellBeastLocomotor
        	Condition = SET_SUPERSONIC
        	Speed     = 130
      End
      LocomotorSet
        	Locomotor = FellBeastLocomotor
        	Condition = SET_WANDER
        	Speed     = 110
      End
      LocomotorSet
        	Locomotor = FellBeastSwoopLocomotor
        	Condition = SET_PANIC
        	Speed     = 150
      End


    Behavior = PhysicsBehavior ModuleTag_04
    End

    Behavior = CommandButtonHuntUpdate ModuleTag_CommandButtonHuntUpdate
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_Debuff
        StartsActive     = Yes
        BonusName        = GenericDebuff
        AntiCategory     = LEADERSHIP BUFF SPELL
        ObjectFilter     = ANY +INFANTRY +CAVALRY -STRUCTURE -BASE_FOUNDATION  -HERO -HORDE
        Range            = 250
        RefreshDelay     = 2000
        TargetEnemy      = Yes
    End

    Behavior = FireWeaponUpdate ModuleTag_WeaponFiring
        FireWeaponNugget
            WeaponName = SauronVampireRadiusWeapon
            Offset = X:0 Y:0 Z:0
            FireDelay = 2000
            OneShot = No
        End
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_FearMe
        StartsActive     = Yes
        BonusName        = SauronFear
        RefreshDelay     = 5000
        Range            = 250.0
        ObjectFilter     = ANY +INFANTRY +CAVALRY
        TargetEnemy      = Yes
        MaxActiveRank    = 1
    End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FactionLeaderLeadershipStart
        SpecialPowerTemplate    = SpecialAbilityFakeLeadership3
    End

    Behavior = SpecialPowerModule ModuleTag_FactionLeaderLeadershipUpdate
        SpecialPowerTemplate        = SpecialAbilityFakeLeadership3
        UpdateModuleStartsAttack    = No
        StartsPaused                = No
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_FactionLeaderLeadership
        StartsActive     = Yes
        BonusName        = FactionLeaderGlobalLeadership
        RefreshDelay     = 2000
        Range            = 200
        ObjectFilter     = ALL -HERO -MACHINE -SHIP -DOZER -STRUCTURE ALLIES
    End




    Behavior = CommandSetUpgrade ModueTag_CommandSet_Level3
        TriggeredBy         = Upgrade_Held2RespawnLevel
        CommandSet          = MordorGorthaurVampirCommandSet_Lvl3
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl3Gewahlt
        TriggeredBy         = Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        CommandSet          = MordorGorthaurVampirCommandSet_Lvl3Gewahlt
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6
        TriggeredBy         = Upgrade_Held4RespawnLevel
        CommandSet          = MordorGorthaurVampirCommandSet_Lvl3
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9
        TriggeredBy         = Upgrade_Held6RespawnLevel
        CommandSet          = MordorGorthaurVampirCommandSet_Lvl3
    End


    Behavior = CommandSetUpgrade ModueTag_CommandSet_SchreckenDolGuldurs
        TriggeredBy         = Upgrade_Held4RespawnLevel Upgrade_SchreckenDolGuldurs
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurVampirCommandSet_Lvl6DolGuldur
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_StreitmachtMinasMorguls
        TriggeredBy         = Upgrade_Held4RespawnLevel Upgrade_StreitmachtMinasMorguls
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurVampirCommandSet_Lvl6MinasMorgul
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_GarnisonCirithUngols
        TriggeredBy         = Upgrade_Held4RespawnLevel Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurVampirCommandSet_Lvl6CirithUngol
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6GewahltSchreckenDolGuldursStreitmachtMinasMorguls
        TriggeredBy         = Upgrade_Held4RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurVampirCommandSet_Lvl6Gewahlt
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6GewahltSchreckenDolGuldursGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held4RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurVampirCommandSet_Lvl6Gewahlt
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6GewahltStreitmachtMinasMorgulsGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held4RespawnLevel Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurVampirCommandSet_Lvl6Gewahlt
    End


    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9SchreckenDolGuldursStreitmachtMinasMorguls
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurVampirCommandSet_Lvl9DolGuldurMinasMorgul
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9SchreckenDolGuldursGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurVampirCommandSet_Lvl9DolGuldurCirithUngol
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9StreitmachtMinasMorgulsGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurVampirCommandSet_Lvl9MinasMorgulCirithUngol
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl10GewahltStreitmachtMinasMorgulsGarnisonCirithUngols
        TriggeredBy         = Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurVampirCommandSet_Lvl10Gewahlt
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SauronEnabler
        SpecialPowerTemplate         = SpecialAbilityToggleSauronGestaltenSauron
    End

    Behavior = SpecialPowerModule ModuleTag_SauronToggleStarter
         SpecialPowerTemplate        = SpecialAbilityToggleSauronGestaltenSauron
         UpdateModuleStartsAttack    = Yes
         StartsPaused                = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate SauronToggle
         SpecialPowerTemplate        = SpecialAbilityToggleSauronGestaltenSauron
         MountedTemplate             = MordorSauron_mod
         UnpackTime                  = OBJECT_TOGGLE_TIME
         PreparationTime             = 0
         PackTime                    = 0
         OpacityTarget               = .0
         AwardXPForTriggering        = 0
         IgnoreFacingCheck           = Yes
    End

    Behavior = DoCommandUpgrade Module_DoCommandUpgrade
        TriggeredBy 		         = Upgrade_RingHero
        GetUpgradeCommandButtonName  = Command_ToggleSauronGestaltenSauron
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MouthOfSauronDissentEnabler
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        TriggeredBy                 = Upgrade_Level_4
        ObeyRechageOnTrigger        = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentStarter
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        StartsPaused                = Yes
         UpdateModuleStartsAttack   = Yes
    End

    Behavior = ActivateModuleSpecialPower ModuleTag_MouthOfSauronDissentMover
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        StartAbilityRange           = 300
        TriggerSpecialPower         = ModuleTag_MouthOfSauronDissentTrigger TARGETPOS
    End

    Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentTrigger
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        AttributeModifier           = MouthOfSauronDissentModifier
        AttributeModifierRange      = MOUTH_OF_SAURON_DISSENT_RADIUS
        AttributeModifierAffects    = ANY +INFANTRY +CAVALRY +MONSTER -HERO
        TriggerFX                   = FX_MouthOfSauronDissent
        UpdateModuleStartsAttack    = No
        StartsPaused                = Yes
        TargetAllSides              = Yes
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WaffenstillstandEnabler
        SpecialPowerTemplate     = SpecialAbilityWaffenstillstandAnnatar
        TriggeredBy              = Upgrade_Level_6
        ObeyRechageOnTrigger     = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_WaffenstillstandStarter
        SpecialPowerTemplate      = SpecialAbilityWaffenstillstandAnnatar
        UpdateModuleStartsAttack  = Yes
        StartsPaused              = Yes

    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WaffenstillstandWeaponFireUpdate
        SpecialPowerTemplate      = SpecialAbilityWaffenstillstandAnnatar
        SpecialWeapon             = AnnatarWaffenstillstandWeapon
        WhichSpecialWeapon        = 1
        StartAbilityRange         = 10.0
        SkipContinue              = Yes
        UnpackTime                = 1000
        PackTime                  = 2000
        MustFinishAbility         = Yes
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DominateEnabler
        SpecialPowerTemplate         = SpecialAbilityDominateEnemySauronRing
        TriggeredBy                  = Upgrade_Level_9
        ObeyRechageOnTrigger         = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_DominateEnemySpecialPowerModule
        SpecialPowerTemplate         = SpecialAbilityDominateEnemySauronRing
        StartsPaused                 = Yes
        UpdateModuleStartsAttack     = Yes
    End

    Behavior = DominateEnemySpecialPower ModuleTag_DominateEnemySpecialPower
        SpecialPowerTemplate         = SpecialAbilityDominateEnemySauronRing
        UnpackingVariation           = 1
        StartAbilityRange            = 200.0
        AttributeModifierAffects     = ALL -HERO -DOZER -MOVE_ONLY -STRUCTURE ENEMIES NEUTRAL
        DominateRadius               = 120
        DominatedFX                  = FX_SauronDominateTargets
        TriggerFX                    = FX_SauronDominateTrigger
        UnpackTime                   = 2000
        PreparationTime              = 1
        PermanentlyConvert           = No
        FreezeAfterTriggerDuration   = 3500
     End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_VerdammtenEnabler
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        TriggeredBy                  = Upgrade_Level_4
    End

    Behavior = SpecialPowerModule ModuleTag_VerdammtenStarter
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        StartsPaused                 = Yes
        UpdateModuleStartsAttack     = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_VerdammtenWeaponFireUpdate
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        WhichSpecialWeapon           = 1
        SkipContinue                 = Yes
        FreezeAfterTriggerDuration   = 100
        UnpackTime                   = 700
        PreparationTime              = 1
        PackTime                     = 100
        AwardXPForTriggering         = 0
        StartAbilityRange            = 270
        SpecialWeapon                = MachtderVerdammtenWeapon
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FurstderVampireEnabler
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        TriggeredBy             = Upgrade_Level_2
        ObeyRechageOnTrigger    = Yes
    End

      Behavior = SpecialPowerModule ModuleTag_FurstderVampireStarter
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        StartsPaused            = Yes
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_FurstderVampireUpdate
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        HeroAttributeModifier   = FurstderVampire
        HeroEffectDuration      = 30000
        UnpackTime              = 1
        TriggerSound            = FurstderVampireMS
    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1   = 100
        HitReactionLifeTimer2   = 1000
        HitReactionLifeTimer3   = 1993

        HitReactionThreshold1   = 0.0
        HitReactionThreshold2   = 25.0
        HitReactionThreshold3   = 50.0
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FinsternisEnabler
        SpecialPowerTemplate = SpecialAbilityVerschlingendeFinsternis
        TriggeredBy          = Upgrade_Level_7
        ObeyRechageOnTrigger = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_OCLSpecialPowerFinsternis
        SpecialPowerTemplate = SpecialAbilityVerschlingendeFinsternis
        OCL                  = OCL_SummonVerschlingendeFinsternis
        CreateLocation       = CREATE_AT_LOCATION
        StartsPaused         = Yes
        TriggerFX            = FX_VerschlingendeFinsternisNekromant
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FlammenschlagEnabler
        SpecialPowerTemplate = SpecialAbilityGorthaurFlammenschlag
        TriggeredBy          = Upgrade_Level_5
        ObeyRechageOnTrigger = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_Flammenschlag
        SpecialPowerTemplate = SpecialAbilityGorthaurFlammenschlag
        OCL                  = OCL_GorthaurFlammenschlagStrike
        CreateLocation       = CREATE_AT_LOCATION
        StartsPaused         = Yes
    End






    Behavior = SpecialPowerModule ModuleTag_AnnatarToggleStarter
         SpecialPowerTemplate           = SpecialAbilityVampirzuGorthaur
         UpdateModuleStartsAttack       = Yes
         StartsPaused                   = No
         AvailableAtStart               = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Dismount
         SpecialPowerTemplate        = SpecialAbilityVampirzuGorthaur
         StartAbilityRange           = 50.0
         MountedTemplate             = MordorGorthaur
         SynchronizeTimerOnSpecialPower = SpecialAbilityAragornBladeMaster SpecialAbilityGorthaurFlammenschlag SpecialAbilityEwigeKnechtschaft SpecialAbilityVerschlingendeFinsternis SpecialAbilityToggleSauronGestaltenVampir SpecialAbilityToggleSauronGestaltenWerwolf SpecialAbilityToggleSauronGestaltenAnnatar SpecialAbilityTolinGaurhoth
         UnpackTime                  = 0
         PreparationTime             = 1
         PackTime                    = 0
         OpacityTarget               = 1
         AwardXPForTriggering        = 0
         IgnoreFacingCheck           = Yes
    End








    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TolinGaurhothEnabler
        SpecialPowerTemplate   = SpecialAbilityTolinGaurhoth
        TriggeredBy            = Upgrade_Level_10
        ObeyRechageOnTrigger   = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_TolinGaurhothOCLSpecialPower
        SpecialPowerTemplate   = SpecialAbilityTolinGaurhoth
        OCL                    = OCL_SummonTolinGaurhoth
        CreateLocation         = CREATE_AT_LOCATION
        StartsPaused           = Yes
        SetModelCondition      = ModelConditionState:USER_1
        SetModelConditionTime  = 4.1
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_KnechtschaftEnabler
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        TriggeredBy              = Upgrade_Level_7
        ObeyRechageOnTrigger     = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_KnechtschaftStarter
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_KnechtschaftUpdate
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        SkipContinue             = Yes
        UnpackTime               = 1100
        PreparationTime          = 1
        PersistentPrepTime       = 500
        PackTime                 = 500
        MustFinishAbility        = Yes
        AwardXPForTriggering     = 0
        StartAbilityRange        = 1000000
        SpecialWeapon            = EwigeKnechtschaftWeapon
        WhichSpecialWeapon       = 1
    End






    Behavior = AttributeModifierUpgrade ModuleTag_HerrderErdeBonus
        TriggeredBy         = Upgrade_HerrderErde
        AttributeModifier   = HerrderErdeModifier
    End

    Behavior = AttributeModifierUpgrade ModuleTag_HerrderErdeBonus2
        TriggeredBy         = Upgrade_HerrderErde Upgrade_Level_15
        RequiresAllTriggers = Yes
        AttributeModifier   = HerrderErdeModifier2
    End


    Behavior = SpecialPowerModule ModuleTag_FellbeastLevelAttack
        SpecialPowerTemplate      = SpecialAbilityLevelAttack
        UpdateModuleStartsAttack  = Yes
    End

    Behavior = FellBeastSwoopPower ModuleTag_FellBeastSwoopPower
        SpecialPowerTemplate      = SpecialAbilityLevelAttack
        UnpackTime                = 1
        AwardXPForTriggering      = 0
        StartAbilityRange         = 1000.0
    End

    Behavior = TransportContain TransportContainModuleTag
        ObjectStatusOfContained = UNSELECTABLE UNATTACKABLE
        PassengerFilter = ANY +INFANTRY +HULK +CAVALRY +GRAB_AND_DROP -HERO -PORTER
        Slots = 1
        ShowPips = No
        CollidePickup = No
        AllowEnemiesInside = Yes
        AllowNeutralInside = Yes
        AllowAlliesInside  = Yes
        DamagePercentToUnits = 0%
        PassengerBonePrefix = PassengerBone:B_PASSENGER       KindOf:GRAB_AND_DROP
        EjectPassengersOnDeath = No
        GrabWeapon = FellbeastGrabWeapon
        FireGrabWeaponOnVictim = No
        ReleaseSnappyness = 0.05
    End

    Behavior = SlowDeathBehavior ModuleTag_NormalDeath
        DeathTypes           = ALL -FADED
        DeathFlags           = DEATH_1
        DestructionDelay     = 0
        SinkDelay            = 0
        FX                   = INITIAL FX_NamenlosesGrauenBlast
    End





    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel2
        TriggeredBy     = Upgrade_Level_2
        Delay           = 0
        ThingToSpawn    = Held2RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel3
        TriggeredBy     = Upgrade_Level_3
        Delay           = 0
        ThingToSpawn    = Held3RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel4
        TriggeredBy     = Upgrade_Level_4
        Delay           = 0
        ThingToSpawn    = Held4RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel5
        TriggeredBy     = Upgrade_Level_5
        Delay           = 0
        ThingToSpawn    = Held5RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel6
        TriggeredBy     = Upgrade_Level_6
        Delay           = 0
        ThingToSpawn    = Held6RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel7
        TriggeredBy     = Upgrade_Level_7
        Delay           = 0
        ThingToSpawn    = Held7RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel8
        TriggeredBy     = Upgrade_Level_8
        Delay           = 0
        ThingToSpawn    = Held8RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel9
        TriggeredBy     = Upgrade_Level_9
        Delay           = 0
        ThingToSpawn    = Held9RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel10
        TriggeredBy     = Upgrade_Level_10
        Delay           = 0
        ThingToSpawn    = Held10RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel11
        TriggeredBy     = Upgrade_Level_11
        Delay           = 0
        ThingToSpawn    = Held11RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel12
        TriggeredBy     = Upgrade_Level_12
        Delay           = 0
        ThingToSpawn    = Held12RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel13
        TriggeredBy     = Upgrade_Level_13
        Delay           = 0
        ThingToSpawn    = Held13RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel14
        TriggeredBy     = Upgrade_Level_14
        Delay           = 0
        ThingToSpawn    = Held14RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel15
        TriggeredBy     = Upgrade_Level_15
        Delay           = 0
        ThingToSpawn    = Held15RespawnLevel
    End

    Behavior = SquishCollide ModuleTag_06

    End

    FormationPreviewDecal
       Texture = FPflyingUnitDecal
       Width   = 128
       Height  = 128
    End

    Geometry             = CYLINDER
    GeometryMajorRadius  = 49.0
    GeometryHeight       = 50.0
    GeometryOffset       = X:0 Y:0 Z:-10
    GeometryIsSmall      = No
    Shadow               = SHADOW_VOLUME_NON_SELF_3
    ShadowSunAngle       = 89
End

Object MordorSauronWerwolf

    SelectPortrait = UPSauronWereWolf
    ButtonImage    = HISauronWereWolf

    Draw = W3DScriptedModelDraw ModuleTag_BodyDraw

        OkToChangeModelColor = Yes
        ExtraPublicBone      = B_PASSENGER01

        DefaultModelConditionState
            Model = musaronwolf
        End

        IdleAnimationState
            StateName = State_Idle
            Animation = Breathe
                AnimationName = KUWWolf_SKL.KUWWolf_IDLA
                AnimationMode = ONCE
                AnimationBlendTime = 10
                AnimationPriority = 3
            End
            Animation = LookAround
                AnimationName = KUWWolf_SKL.KUWWolf_IDLB
                AnimationMode = ONCE
                AnimationBlendTime = 10
                AnimationPriority = 2
            End
            Animation = SnortLikeABull
                AnimationName = KUWWolf_SKL.KUWWolf_IDLC
                AnimationMode = ONCE
                AnimationBlendTime = 10
                AnimationPriority = 1
            End

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "State_JustBuilt"
                    then CurDrawableSetTransitionAnimState("TRANS_JustBuilt_To_Idle")
                end
                if Prev == "State_AboutToHitGround"
                    then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle")
                end
            EndScript
            ParticleSysBone = None SoWolf_Ambient_snowFollowBone:Yes
        End

        AnimationState                    =    DYING DEATH_1
            Animation                =    Dying
                AnimationName            =    KUWWolf_SKL.KUWWolf_DIEA
                AnimationMode            =    ONCE
            End
        End

        AnimationState                    =    DYING DEATH_2
            Animation                =    FadingOut
                AnimationName            =    KUWWolf_SKL.KUWWolf_RORA
                AnimationMode            =    ONCE
            End
        End


        AnimationState                    =    EATING
            FrameForPristineBonePositions         = 99
            Animation                =    DoingHorribleThingToGrabbedGuy
                AnimationName            =    KUWWolf_SKL.KUWWolf_SPCC
                AnimationMode            =    ONCE
                AnimationBlendTime        =    0
            End

        End

        AnimationState            = JUST_BUILT
            StateName = State_JustBuilt
            Animation
                AnimationName = KUWWolf_SKL.KUWWolf_RORA
                AnimationMode = MANUAL
                AnimationBlendTime = 0
            End
        End

        TransitionState = TRANS_JustBuilt_To_Idle
            Animation = BeingSummoned
                AnimationName = KUWWolf_SKL.KUWWolf_RORA
                AnimationMode = ONCE
            End
        End

        AnimationState = FIRING_OR_PREATTACK_B
            Animation = CrackThatWhip
                AnimationName = KUWWolf_SKL.KUWWolf_WIPA
                AnimationMode = ONCE
            End
        End

        AnimationState            = SPECIAL_WEAPON_ONE
            Animation
                AnimationName    = KUWWolf_SKL.KUWWolf_SPCB
                AnimationMode   = ONCE
            End
        End

        AnimationState            = SPECIAL_WEAPON_TWO
            Animation
                AnimationName    = KUWWolf_SKL.KUWWolf_CHRA
                AnimationMode   = ONCE
            End
        End

        AnimationState            = SPECIAL_WEAPON_THREE
            Animation
                AnimationName    = KUWWolf_SKL.KUWWolf_SPCA
                AnimationMode   = ONCE
            End
        End

        AnimationState            = TURN_RIGHT
            Animation            = TurningRight
                AnimationName    = KUWWolf_SKL.KUWWolf_TRNR
                AnimationMode   = LOOP
                AnimationBlendTime = 50
            End
        End

        AnimationState            = TURN_LEFT
            Animation            = TurningLeft
                AnimationName    = KUWWolf_SKL.KUWWolf_TRNL
                AnimationMode   = LOOP
                AnimationBlendTime = 50
            End
        End

        AnimationState                = MOVING
            Animation            = Running
                AnimationName        = KUWWolf_SKL.KUWWolf_RUNA
                AnimationMode       = LOOP
                AnimationBlendTime     = 10
                Distance        = 112

            End
            Flags                       = RANDOMSTART
        End

        AnimationState            = FIRING_OR_PREATTACK_A
            Animation
                AnimationName    = KUWWolf_SKL.KUWWolf_ATKA
                AnimationMode    = ONCE
                UseWeaponTiming    = Yes
            End
            Animation
                AnimationName    = KUWWolf_SKL.KUWWolf_ATKB
                AnimationMode    = ONCE
                UseWeaponTiming    = Yes
            End
        End
    End


    Side                  = Mordor
    EditorSorting         = UNIT
    ThreatLevel           = SAURON_THREAT_LEVEL
    ThingClass            = CHARACTER_UNIT
    BuildCost             = SILMARIL_HERO_COST
    BuildTime             = SILMARIL_HERO_BUILDTIME
    TransportSlotCount    = TRANSPORTSLOTCOUNT_UNIT
    CrusherLevel          = 2
    CrushWeapon           = BalrogCrush
    MinCrushVelocityPercent     = MINCRUSHVELOCITYPERCENT_HERO
    CrushDecelerationPercent    = CRUSHDECELERATIONPERCENT_HERO
    ShockwaveResistance   = SHOCKWAVE_RESISTANCE_STRONG
    EquivalentTo          = MordorGorthaur
    MaxSimultaneousOfType = 1
    DisplayMeleeDamage    = 500


    DisplayName       = OBJECT:MordorSauronWerwolf
    RecruitText       = CONTROLBAR:AngmarHeroWolfRecruit
    Hotkey            = CONTROLBAR:MordorSauronWerwolfHotkey
    CommandPoints     = 0
    CrushKnockback    = 40
    CrushZFactor      = 1.0
    Scale 	      = 1.03

    WeaponSet
        Conditions = None
        Weapon     = PRIMARY    SauronWolfSwipe
    End

    ArmorSet
        Conditions         = None
        Armor              = GorthaurWerwolfArmor
        DamageFX           = NormalDamageFX
    End

    VisionRange          = VISION_HERO_STANDARD
    ShroudClearingRange  = SHROUD_CLEAR_HERO

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue  = SAURON_BOUNTY_VALUE
    CommandSet   = MordorGorthaurWerwolfCommandSet


    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_WitchKingBody

    AutoResolveArmor
        Armor = AutoResolve_WitchKingArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_WitchKingWeapon
    End



    VoiceAttack            = ShadeWolfAttack
    VoiceAttackCharge      = ShadeWolfAttack
    VoiceAttackMachine     = ShadeWolfAttack
    VoiceAttackStructure   = ShadeWolfAttack
    VoiceGuard             = ShadeWolfIdle
    VoiceMove              = ShadeWolfIdle
    VoiceSelect            = ShadeWolfIdle
    VoiceSelectBattle      = ShadeWolfIdle

    SoundAmbient           = ShadeWolfIdle
    SoundImpact            = ImpactHorse

    EvaEventDieOwner       = SauronDie

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: BalrogFootstep            Animation: KUWWolf_SKL.KUWWolf_RUNA Frames: 42 17
        AnimationSound = Sound: BalrogFootstep            Animation: KUWWolf_SKL.KUWWolf_TRNR Frames: 21 52
        AnimationSound = Sound: BalrogFootstep            Animation: KUWWolf_SKL.KUWWolf_TRNL Frames: 21 52

        AnimationSound = Sound: ShadeWolfSummonPack        Animation: KUWWolf_SKL.KUWWolf_SPCB Frames: 1
        AnimationSound = Sound: ShadeWolfLament            Animation: KUWWolf_SKL.KUWWolf_CHRA Frames: 21

        AnimationSound = Sound: ShadeWolfSummonHowl        Animation: KUWWolf_SKL.KUWWolf_DIEA Frames: 25
        AnimationSound = Sound: ShadeWolfSummonHowl        Animation: KUWWolf_SKL.KUWWolf_RORA Frames: 21
        AnimationSound = Sound: ShadeWolfSummonHowl        Animation: KUWWolf_SKL.KUWWolf_SPCC Frames: 50
    End




    RadarPriority = UNIT
    KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS HEAVY_MELEE_HITTER MONSTER SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT NO_FREEWILL_ENTER PATH_THROUGH_INFANTRY CAN_ATTACK_WALLS ARMY_SUMMARY SIEGEENGINE

    Body = RespawnBody ModuleTag_RespawnBody
        MaxHealth                   = SILMARIL_HERO_HEALTH
        PermanentlyKilledByFilter   = NONE
        DodgePercent                = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                    = DYING
        DeathAnimationTime           = 5133
        RespawnAnim                  = LEVELED
        RespawnAnimationTime         = 2000
        AutoRespawnAtObjectFilter    = NONE +CASTLE_KEEP
        ButtonImage                  = HIGorthaur
        RespawnAsTemplate            = MordorNekromantSauron

        RespawnRules =    AutoSpawn:No    Cost:SILMARIL_HERO_COST       Time:SILMARIL_HERO_RESPAWNTIME    Health:100%
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_FearMe
        StartsActive     = Yes
        BonusName        = SauronFear
        RefreshDelay     = 5000
        Range            = 250.0
        ObjectFilter     = ANY +INFANTRY +CAVALRY
        TargetEnemy      = Yes
        MaxActiveRank    = 1
    End

    Behavior = CommandButtonHuntUpdate ModuleTag_CommandButtonHuntUpdate
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
    	StanceTemplate = Hero
    End

    Behavior = AIUpdateInterface ModuleTag_03
    	AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
    	MoodAttackCheckRate           = 500
    	AILuaEventsList               = SauronEdainWerewolfFunctions
    End

    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP = Yes
    End





    Behavior = CitadelSlaughterHordeContain ModuleTag_SlaughterMe
        PassengerFilter              = NONE +TheDroppedRing
        ObjectStatusOfContained      = UNSELECTABLE ENCLOSED
        ContainMax                   = 1
        AllowEnemiesInside           = No
        AllowAlliesInside            = Yes
        AllowNeutralInside           = No
        AllowOwnPlayerInsideOverride = Yes
        EnterSound                   = Sauron_RingReturnedMS
        EntryOffset                  = X:0.0 Y:0.0 Z:0.0
        EntryPosition                = X:0.0 Y:0.0 Z:0.0
        ExitOffset                   = X:0.0 Y:0.0 Z:0.0
        StatusForRingEntry           = HOLDING_THE_RING
        UpgradeForRingEntry          = Upgrade_RingHero Upgrade_FortressRingHero
        ObjectToDestroyForRingEntry  = NONE +TheDroppedRing
        FXForRingEntry               = FX_OneRingFlareSauron
    End

    Behavior = ModelConditionUpgrade ModulTag_RingHeroMC
        TriggeredBy         = Upgrade_RingHero Upgrade_FortressRingHero
        RequiresAllTriggers = Yes
        AddConditionFlags   = ONE_RING
    End

    Behavior = PickupStuffUpdate ModuleTag_PickupStuffUpdate
        SkirmishAIOnly = Yes
        StuffToPickUp = NONE +TheDroppedRing
        ScanRange = 3000
        ScanIntervalSeconds = 0.5
    End

  LocomotorSet
    Locomotor     = ShadeofWolfLocomotor
    Condition     = SET_NORMAL
    Speed         = 110
  End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes           = ALL -FADED
        DestructionDelay     = 0
        FadeDelay            = 0
        FadeTime             = 0
        DeathFlags           = DEATH_1
        FX                   = INITIAL FX_NamenlosesGrauenBlast
    End


    Behavior = AutoHealBehavior ModuleTag_GlorfindelHealing
        StartsActive             = Yes
        HealingAmount            = HERO_HEAL_AMOUNT
        HealingDelay             = 1000
        StartHealingDelay        = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat    = Yes
    End


    Behavior = SquishCollide ModuleTag_06

    End


    Behavior = RadiateFearUpdate ModuleTag_DreadVisageFear
        InitiallyActive                       = No
        TriggeredBy                           = Upgrade_Level_1
        WhichSpecialPower                     = 1
        GenerateTerror                        = No
        GenerateFear                          = Yes
        EmotionPulseRadius                    = 200
        EmotionPulseInterval                  = 1000
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SauronEnabler
        SpecialPowerTemplate         = SpecialAbilityGandalfVerfuhrte
    End

    Behavior = SpecialPowerModule ModuleTag_SauronToggleStarter
         SpecialPowerTemplate        = SpecialAbilityGandalfVerfuhrte
         UpdateModuleStartsAttack    = Yes
         StartsPaused                = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate SauronToggle
         SpecialPowerTemplate        = SpecialAbilityGandalfVerfuhrte
         MountedTemplate             = MordorSauron_mod
         UnpackTime                  = OBJECT_TOGGLE_TIME
         PreparationTime             = 0
         PackTime                    = 0
         OpacityTarget               = .0
         AwardXPForTriggering        = 0
         IgnoreFacingCheck           = Yes
    End

    Behavior = DoCommandUpgrade Module_DoCommandUpgradeSauron
        TriggeredBy                  = Upgrade_RingHero
        GetUpgradeCommandButtonName  = Command_SpecialAbilityGandalfVerfuhrte
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FactionLeaderLeadershipStart
        SpecialPowerTemplate    = SpecialAbilityFakeLeadership3
    End

    Behavior = SpecialPowerModule ModuleTag_FactionLeaderLeadershipUpdate
        SpecialPowerTemplate        = SpecialAbilityFakeLeadership3
        UpdateModuleStartsAttack    = No
        StartsPaused                = No
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_FactionLeaderLeadership
        StartsActive     = Yes
        BonusName        = FactionLeaderGlobalLeadership
        RefreshDelay     = 2000
        Range            = 200
        ObjectFilter     = ALL -HERO -MACHINE -SHIP -DOZER -STRUCTURE ALLIES
    End





    Behavior = CommandSetUpgrade ModueTag_CommandSet_Level3
        TriggeredBy         = Upgrade_Held3RespawnLevel
        CommandSet          = MordorGorthaurWerwolfCommandSet_Lvl3
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl3Gewahlt
        TriggeredBy         = Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        CommandSet          = MordorGorthaurWerwolfCommandSet_Lvl3Gewahlt
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6
        TriggeredBy         = Upgrade_Held6RespawnLevel
        CommandSet          = MordorGorthaurWerwolfCommandSet_Lvl3
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9
        TriggeredBy         = Upgrade_Held9RespawnLevel
        CommandSet          = MordorGorthaurWerwolfCommandSet_Lvl3
    End


    Behavior = CommandSetUpgrade ModueTag_CommandSet_SchreckenDolGuldurs
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_SchreckenDolGuldurs
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurWerwolfCommandSet_Lvl6DolGuldur
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_StreitmachtMinasMorguls
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_StreitmachtMinasMorguls
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurWerwolfCommandSet_Lvl6MinasMorgul
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_GarnisonCirithUngols
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurWerwolfCommandSet_Lvl6CirithUngol
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6GewahltSchreckenDolGuldursStreitmachtMinasMorguls
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurWerwolfCommandSet_Lvl6Gewahlt
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6GewahltSchreckenDolGuldursGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurWerwolfCommandSet_Lvl6Gewahlt
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6GewahltStreitmachtMinasMorgulsGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurWerwolfCommandSet_Lvl6Gewahlt
    End


    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9SchreckenDolGuldursStreitmachtMinasMorguls
        TriggeredBy         = Upgrade_Held9RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurWerwolfCommandSet_Lvl9DolGuldurMinasMorgul
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9SchreckenDolGuldursGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held9RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurWerwolfCommandSet_Lvl9DolGuldurCirithUngol
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9StreitmachtMinasMorgulsGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held9RespawnLevel Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurWerwolfCommandSet_Lvl9MinasMorgulCirithUngol
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl10GewahltStreitmachtMinasMorgulsGarnisonCirithUngols
        TriggeredBy         = Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorGorthaurWerwolfCommandSet_Lvl10Gewahlt
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_HeulenEnabler
        SpecialPowerTemplate     = SpecialAbilityKampfschreiEffect
        TriggeredBy              = Upgrade_Level_5
        ObeyRechageOnTrigger     = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_HeulenStarter
        SpecialPowerTemplate      = SpecialAbilityKampfschreiEffect
        UpdateModuleStartsAttack  = Yes
        StartsPaused              = Yes
        InitiateSound             = ZaphragorKampfschrei
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_HeulenWeaponFireUpdate
        SpecialPowerTemplate      = SpecialAbilityKampfschreiEffect
        SpecialWeapon             = SauronWerwolfHeulenWeapon
        WhichSpecialWeapon        = 2
        StartAbilityRange         = 10.0
        SkipContinue              = Yes
        UnpackTime                = 1000
        PackTime                  = 2000
        MustFinishAbility         = Yes
    End

    Behavior = AutoAbilityBehavior ModuleTag_LamentAutoAbility
        SpecialAbility            = SpecialAbilityKampfschreiEffect
        MaxScanRange              = 55
        Query                     = 1 ALL -STRUCTURE ENEMIES
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WolfsrufEnabler
        SpecialPowerTemplate         = SpecialPowerWolfsruf
        TriggeredBy                  = Upgrade_Level_7
        ObeyRechageOnTrigger         = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_WolfsrufSpecialStarter
        UpdateModuleStartsAttack     = No
        SpecialPowerTemplate         = SpecialPowerWolfsruf
        StartsPaused                 = Yes
        SetModelCondition            = ModelConditionState:EMOTION_CELEBRATING
        SetModelConditionTime        = 3.0
        AttributeModifier            = SauronWerwolfWolfsrufModifier
        AttributeModifierRange       = 1
        AttributeModifierAffectsSelf = Yes
        AttributeModifierAffects     = NONE +MordorSauronWerwolf ALLIES
    End

    Behavior = ModelConditionSpecialAbilityUpdate ModuleTag_WolfsrufSpecialUpdate
        SpecialPowerTemplate         = SpecialPowerWolfsruf
        UnpackTime                   = 2000
        PackTime                     = 3000
        AwardXPForTriggering         = 0
        MustFinishAbility            = Yes
    End

    Behavior = ObjectCreationUpgrade MaketheEagle
        TriggeredBy                  = Upgrade_RaiseShield
        Delay                        = 0.0
        ThingToSpawn                 = AngmarDireWolf_Sauron
        Offset                       = X:30.0 Y:0.0 Z:0.0
        FadeInTime                   = 0
    End

    Behavior = ObjectCreationUpgrade MaketheEagle2
        TriggeredBy                  = Upgrade_RaiseShield
        Delay                        = 0.0
        ThingToSpawn                 = AngmarDireWolf_Sauron
        Offset                       = X:-30.0 Y:0.0 Z:0.0
        FadeInTime                   = 0
    End

    Behavior = ObjectCreationUpgrade MaketheEagle3
        TriggeredBy                  = Upgrade_RaiseShield
        Delay                        = 0.0
        ThingToSpawn                 = AngmarDireWolf_Sauron
        Offset                       = X:0.0 Y:30.0 Z:0.0
        FadeInTime                   = 0
    End

    Behavior = ObjectCreationUpgrade MaketheEagle4
        TriggeredBy                  = Upgrade_RaiseShield
        Delay                        = 0.0
        ThingToSpawn                 = AngmarDireWolf_Sauron
        Offset                       = X:0.0 Y:-30.0 Z:0.0
        FadeInTime                   = 0
    End

    Behavior = ObjectCreationUpgrade MaketheEagle5
        TriggeredBy                  = Upgrade_RaiseShield
        Delay                        = 0.0
        ThingToSpawn                 = AngmarDireWolf_Sauron
        Offset                       = X:30.0 Y:30.0 Z:0.0
        FadeInTime                   = 0
    End

    Behavior = ObjectCreationUpgrade MaketheEagle6
        TriggeredBy                  = Upgrade_RaiseShield
        Delay                        = 0.0
        ThingToSpawn                 = AngmarDireWolf_Sauron
        Offset                       = X:-30.0 Y:30.0 Z:0.0
        FadeInTime                   = 0
    End

    Behavior = ObjectCreationUpgrade MaketheEagle7
        TriggeredBy                  = Upgrade_RaiseShield
        Delay                        = 0.0
        ThingToSpawn                 = AngmarDireWolf_Sauron
        Offset                       = X:60.0 Y:30.0 Z:0.0
        FadeInTime                   = 0
    End

    Behavior = ObjectCreationUpgrade MaketheEagle8
        TriggeredBy                  = Upgrade_RaiseShield
        Delay                        = 0.0
        ThingToSpawn                 = AngmarDireWolf_Sauron
        Offset                       = X:60.0 Y:-30.0 Z:0.0
        FadeInTime                   = 0
    End

    Behavior = ObjectCreationUpgrade MaketheEagle9
        TriggeredBy                  = Upgrade_RaiseShield
        Delay                        = 0.0
        ThingToSpawn                 = AngmarDireWolf_Sauron
        Offset                       = X:-60.0 Y:30.0 Z:0.0
        FadeInTime                   = 0
    End

    Behavior = ObjectCreationUpgrade MaketheEagle10
        TriggeredBy                  = Upgrade_RaiseShield
        Delay                        = 0.0
        ThingToSpawn                 = AngmarDireWolf_Sauron
        Offset                       = X:-60.0 Y:-30.0 Z:0.0
        FadeInTime                   = 0
    End

    Behavior = SlaveWatcherBehavior WatchTheEagle
        RemoveUpgrade                = Upgrade_RaiseShield
        LetSlaveLive                 = Yes
    End

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CallPackEnabler
        SpecialPowerTemplate         = SpecialAbilityCallPack
        TriggeredBy                  = Upgrade_Level_11
    End 
	
	Behavior = SpecialPowerModule ModuleTag_CallPackStarter
        SpecialPowerTemplate        = SpecialAbilityCallPack
        TriggerFX             = FX_SoWolf_SummonPack
        UpdateModuleStartsAttack    = Yes
        StartsPaused            = Yes
        InitiateSound            = WargHowlAbility
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_FloodUpdate
        SpecialPowerTemplate    = SpecialAbilityCallPack
        UnpackTime              = 500
        PackTime                = 1000
        StartAbilityRange     = 100.0
        SpecialWeapon         = ShadeCallthePack
        WhichSpecialWeapon     = 1
    End




    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_GrabEnabler
        SpecialPowerTemplate         = SpecialAbilityAngmarShadeEatMeGrab
        TriggeredBy                  = Upgrade_Level_6
    End 
	
    Behavior = SpecialPowerModule ModuleTag_SpecialPowerModuleGrabStarter
        SpecialPowerTemplate        = SpecialAbilityAngmarShadeEatMeGrab
        UpdateModuleStartsAttack    = Yes
        StartsPaused            = Yes
        InitiateSound            = BalrogChuckle
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WeaponFireSpecialAbilityUpdateGrab
        SpecialPowerTemplate        = SpecialAbilityAngmarShadeEatMeGrab
        SkipContinue            = Yes
        UnpackTime            = 533
        StartAbilityRange        = 12.0
        SpecialWeapon            = AngmarShadeChompWeapon
        ChainedButton            = Command_SpecialAbilityShadeChompFlingPassenger
        CustomAnimAndDuration        = AnimState:EATING AnimTime:3333
        MustFinishAbility        = Yes
        TriggerAttributeModifier    = SharkuManEater
        AttributeModifierDuration    = 20000
        TriggerSound                = SharkuManEaterEatingMS
        BusyForDuration                = 5000
    End

    Behavior = AutoAbilityBehavior ModuleTag_GrabAutoAbility
        SpecialAbility              = SpecialAbilityAngmarShadeEatMeGrab
        MaxScanRange                = 300
        Query                       = 1 ANY ENEMIES +INFANTRY +CAVALRY -MONSTER -HERO
    End

    Behavior = PlayerHealSpecialPower ModuleTag_SpecialPowerModuleFlingPassengerStarter
        SpecialPowerTemplate        = SpecialAbilityAngmarShadeEatMeDrop
        UpdateModuleStartsAttack    = Yes
        StartsPaused            = No
        HealAmount            = 1.0
        HealAsPercent            = Yes
        HealAffects            = HERO
        HealRadius            = 0.0
        HealFX                = FX_SpellHealUnitHealBuff
    End

    Behavior = FlingPassengerSpecialAbilityUpdate ModuleTag_FlingPassengerSpecialAbilityUpdate
        SpecialPowerTemplate            = SpecialAbilityAngmarShadeEatMeDrop
        UnpackTime                = 1250
        FlingPassengerVelocity            = X:0 Y:0 Z:0
        FlingPassengerLandingWarhead        = AngmarShadeChompWarhead
        MustFinishAbility        = Yes
    End

    Behavior = TransportContain ModuleTag_09
        ObjectStatusOfContained = UNSELECTABLE
        PassengerFilter            = ANY +INFANTRY

        Slots                    = 1
        ShowPips                = No
        AllowEnemiesInside        = Yes
        AllowNeutralInside        = Yes
        AllowAlliesInside        = No

        DestroyRidersWhoAreNotFreeToExit = Yes
        ForceOrientationContainer = No
        PassengerBonePrefix = PassengerBone:B_PASSENGER01        KindOf:INFANTRY

    End




    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FurstderVampireEnabler
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        TriggeredBy             = Upgrade_Level_2
        ObeyRechageOnTrigger    = Yes
    End

      Behavior = SpecialPowerModule ModuleTag_FurstderVampireStarter
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        StartsPaused            = Yes
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_FurstderVampireUpdate
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        HeroAttributeModifier   = FurstderVampire
        HeroEffectDuration      = 30000
        UnpackTime              = 1
        TriggerSound            = FurstderVampireMS
    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1   = 100
        HitReactionLifeTimer2   = 1000
        HitReactionLifeTimer3   = 1993

        HitReactionThreshold1   = 0.0
        HitReactionThreshold2   = 25.0
        HitReactionThreshold3   = 50.0
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FinsternisEnabler
        SpecialPowerTemplate = SpecialAbilityVerschlingendeFinsternis
        TriggeredBy          = Upgrade_Level_7
        ObeyRechageOnTrigger = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_OCLSpecialPowerFinsternis
        SpecialPowerTemplate = SpecialAbilityVerschlingendeFinsternis
        OCL                  = OCL_SummonVerschlingendeFinsternis
        CreateLocation       = CREATE_AT_LOCATION
        StartsPaused         = Yes
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FlammenschlagEnabler
        SpecialPowerTemplate = SpecialAbilityGorthaurFlammenschlag
        TriggeredBy          = Upgrade_Level_5
        ObeyRechageOnTrigger = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_Flammenschlag
        SpecialPowerTemplate = SpecialAbilityGorthaurFlammenschlag
        OCL                  = OCL_GorthaurFlammenschlagStrike
        CreateLocation       = CREATE_AT_LOCATION
        StartsPaused         = Yes
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_VerdammtenEnabler
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        TriggeredBy                  = Upgrade_Level_4
    End

    Behavior = SpecialPowerModule ModuleTag_VerdammtenStarter
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        StartsPaused                 = Yes
        UpdateModuleStartsAttack     = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_VerdammtenWeaponFireUpdate
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        WhichSpecialWeapon           = 1
        SkipContinue                 = Yes
        FreezeAfterTriggerDuration   = 100
        UnpackTime                   = 700
        PreparationTime              = 1
        PackTime                     = 100
        AwardXPForTriggering         = 0
        StartAbilityRange            = 270
        SpecialWeapon                = MachtderVerdammtenWeapon
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MouthOfSauronDissentEnabler
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        TriggeredBy                 = Upgrade_Level_4
        ObeyRechageOnTrigger        = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentStarter
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        StartsPaused                = Yes
         UpdateModuleStartsAttack   = Yes
    End

    Behavior = ActivateModuleSpecialPower ModuleTag_MouthOfSauronDissentMover
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        StartAbilityRange           = 300
        TriggerSpecialPower         = ModuleTag_MouthOfSauronDissentTrigger TARGETPOS
    End

    Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentTrigger
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        AttributeModifier           = MouthOfSauronDissentModifier
        AttributeModifierRange      = MOUTH_OF_SAURON_DISSENT_RADIUS
        AttributeModifierAffects    = ANY +INFANTRY +CAVALRY +MONSTER -HERO
        TriggerFX                   = FX_MouthOfSauronDissent
        UpdateModuleStartsAttack    = No
        StartsPaused                = Yes
        TargetAllSides              = Yes
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WaffenstillstandEnabler
        SpecialPowerTemplate     = SpecialAbilityWaffenstillstandAnnatar
        TriggeredBy              = Upgrade_Level_5
        ObeyRechageOnTrigger     = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_WaffenstillstandStarter
        SpecialPowerTemplate      = SpecialAbilityWaffenstillstandAnnatar
        UpdateModuleStartsAttack  = Yes
        StartsPaused              = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WaffenstillstandWeaponFireUpdate
        SpecialPowerTemplate      = SpecialAbilityWaffenstillstandAnnatar
        SpecialWeapon             = AnnatarWaffenstillstandWeapon
        WhichSpecialWeapon        = 1
        StartAbilityRange         = 10.0
        SkipContinue              = Yes
        UnpackTime                = 1000
        PackTime                  = 2000
        MustFinishAbility         = Yes
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DominateEnabler
        SpecialPowerTemplate         = SpecialAbilityDominateEnemySauronRing
        TriggeredBy                  = Upgrade_Level_9
        ObeyRechageOnTrigger         = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_DominateEnemySpecialPowerModule
        SpecialPowerTemplate         = SpecialAbilityDominateEnemySauronRing
        StartsPaused                 = Yes
        UpdateModuleStartsAttack     = Yes
    End

    Behavior = DominateEnemySpecialPower ModuleTag_DominateEnemySpecialPower
        SpecialPowerTemplate         = SpecialAbilityDominateEnemySauronRing
        UnpackingVariation           = 1
        StartAbilityRange            = 200.0
        AttributeModifierAffects     = ALL -HERO -DOZER -MOVE_ONLY -STRUCTURE ENEMIES NEUTRAL
        DominateRadius               = 120
        DominatedFX                  = FX_SauronDominateTargets
        TriggerFX                    = FX_SauronDominateTrigger
        UnpackTime                   = 2000
        PreparationTime              = 1
        PermanentlyConvert           = No
        FreezeAfterTriggerDuration   = 3500
     End







    Behavior = SpecialPowerModule ModuleTag_GorthaurToggleStarter
         SpecialPowerTemplate           = SpecialAbilityToggleSauronGestaltenGorthaur
         UpdateModuleStartsAttack       = Yes
         StartsPaused                   = No
         AvailableAtStart               = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate GorthaurToggle
         SpecialPowerTemplate        = SpecialAbilityToggleSauronGestaltenGorthaur
         MountedTemplate             = MordorGorthaur
         SynchronizeTimerOnSpecialPower = SpecialAbilityAragornBladeMaster SpecialAbilityGorthaurFlammenschlag SpecialAbilityEwigeKnechtschaft SpecialAbilityVerschlingendeFinsternis SpecialAbilityToggleSauronGestaltenVampir SpecialAbilityToggleSauronGestaltenWerwolf SpecialAbilityToggleSauronGestaltenAnnatar SpecialAbilityTolinGaurhoth
         UnpackTime                  = 1000
         PreparationTime             = 0
         PackTime                    = 0
         OpacityTarget               = .0
         AwardXPForTriggering        = 0
         IgnoreFacingCheck           = Yes
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TolinGaurhothEnabler
        SpecialPowerTemplate   = SpecialAbilityTolinGaurhoth
        TriggeredBy            = Upgrade_Level_10
        ObeyRechageOnTrigger   = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_TolinGaurhothOCLSpecialPower
        SpecialPowerTemplate   = SpecialAbilityTolinGaurhoth
        OCL                    = OCL_SummonTolinGaurhoth
        CreateLocation         = CREATE_AT_LOCATION
        StartsPaused           = Yes
        SetModelCondition      = ModelConditionState:USER_1
        SetModelConditionTime  = 4.1
    End







    Behavior = AttributeModifierUpgrade ModuleTag_HerrderErdeBonus
        TriggeredBy         = Upgrade_HerrderErde
        AttributeModifier   = HerrderErdeModifier
    End

    Behavior = AttributeModifierUpgrade ModuleTag_HerrderErdeBonus2
        TriggeredBy         = Upgrade_HerrderErde Upgrade_Level_15
        RequiresAllTriggers = Yes
        AttributeModifier   = HerrderErdeModifier2
    End





    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel2
        TriggeredBy     = Upgrade_Level_2
        Delay           = 0
        ThingToSpawn    = Held2RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel3
        TriggeredBy     = Upgrade_Level_3
        Delay           = 0
        ThingToSpawn    = Held3RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel4
        TriggeredBy     = Upgrade_Level_4
        Delay           = 0
        ThingToSpawn    = Held4RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel5
        TriggeredBy     = Upgrade_Level_5
        Delay           = 0
        ThingToSpawn    = Held5RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel6
        TriggeredBy     = Upgrade_Level_6
        Delay           = 0
        ThingToSpawn    = Held6RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel7
        TriggeredBy     = Upgrade_Level_7
        Delay           = 0
        ThingToSpawn    = Held7RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel8
        TriggeredBy     = Upgrade_Level_8
        Delay           = 0
        ThingToSpawn    = Held8RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel9
        TriggeredBy     = Upgrade_Level_9
        Delay           = 0
        ThingToSpawn    = Held9RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel10
        TriggeredBy     = Upgrade_Level_10
        Delay           = 0
        ThingToSpawn    = Held10RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel11
        TriggeredBy     = Upgrade_Level_11
        Delay           = 0
        ThingToSpawn    = Held11RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel12
        TriggeredBy     = Upgrade_Level_12
        Delay           = 0
        ThingToSpawn    = Held12RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel13
        TriggeredBy     = Upgrade_Level_13
        Delay           = 0
        ThingToSpawn    = Held13RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel14
        TriggeredBy     = Upgrade_Level_14
        Delay           = 0
        ThingToSpawn    = Held14RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel15
        TriggeredBy     = Upgrade_Level_15
        Delay           = 0
        ThingToSpawn    = Held15RespawnLevel
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_KnechtschaftEnabler
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        TriggeredBy              = Upgrade_Level_7
        ObeyRechageOnTrigger     = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_KnechtschaftStarter
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_KnechtschaftUpdate
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        SkipContinue             = Yes
        UnpackTime               = 1100
        PreparationTime          = 1
        PersistentPrepTime       = 500
        PackTime                 = 500
        MustFinishAbility        = Yes
        AwardXPForTriggering     = 0
        StartAbilityRange        = 1000000
        SpecialWeapon            = EwigeKnechtschaftWeapon
        WhichSpecialWeapon       = 1
    End





    Geometry            = CYLINDER
    GeometryMajorRadius = 18.0
    GeometryHeight      = 50.0
    GeometryOffset      = X:-20 Y:0 Z:0
    GeometryIsSmall     = No

    Shadow              = SHADOW_VOLUME
    ShadowSizeX         = 100
    ShadowSizeY         = 100
    ShadowTexture       = ShadowI
End


Object MordorAnnatar

    SelectPortrait = HPAnnatar
    ButtonImage    = HIAnnatar

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_Glorfindel

    Draw = W3DScriptedModelDraw ModuleTag_DRAW


        DefaultModelConditionState
            Model           = euannatar_skn
            Skeleton        = EUGlrfdl_SKL
            ParticleSysBone = NONE GandalfRingFlare FXTrigger:NONE Persist:SPAWN PersistID:100
        End

        ModelConditionState = USER_4
            ParticleSysBone = BAT_SPINE1 GlorfindelWindreiterflare FollowBone:Yes
        End

        IdleAnimationState
            Animation                = IDLB
                AnimationName        = EUGlrfdl_IDLB
                AnimationMode        = ONCE
            End
            Animation                = IDLD
                AnimationName        = EUGlrfdl_IDLD
                AnimationMode        = ONCE
            End
            Animation                = IDLE
                AnimationName        = EUGlrfdl_IDLE
                AnimationMode        = ONCE
            End
            StateName                = Idle
            BeginScript
                CurDrawableHideSubObject("spear")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
            EndScript

        End


        TransitionState                =    TRANS_MountedSelect
            Animation                =    ATNA
                AnimationName        =    RUHHs_Theo_ATNA
                AnimationMode        =    ONCE
            End
        End





        AnimationState                =    MOUNTED FREEFALL
            Animation                =    freefall
                AnimationName        =    RUHHs_Theo_FLYC
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOUNTED STUNNED_FLAILING
            Animation                =    JustDie
                AnimationName        =    RUHHs_Theo_FLYA
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange    = 0.2 0.3
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOUNTED DYING SPLATTED
            Animation                =    Land
                AnimationName        =    RUHHs_Theo_LNDA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    MOUNTED DYING
            Animation                =    DieA
                AnimationName        =    RUHHs_Theo_DIEA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    MOUNTED STUNNED_STANDING_UP
            Animation                =    StandUp
                AnimationName        =    RUHHs_Theo_GTPA
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 1.3 1.3
            End
        End

        AnimationState                =    MOUNTED STUNNED
            Animation                =    Land
                AnimationName        =    RUHHs_Theo_LNDA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                        = PARALYZED MOUNTED
            Animation
                AnimationName                = RUHHs_Theo_IDLA
                AnimationMode                = LOOP
            End
        End

        AnimationState        = MOUNTED MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = MountedRunAndFire
                AnimationName       = RUHHs_Theo_ATRB
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End

        AnimationState                =    MOUNTED FIRING_OR_PREATTACK_A
            Animation                =    AttackA
                AnimationName        =    RUHHs_Theo_ATKA
                AnimationMode        =    LOOP
                UseWeaponTiming        =    Yes
            End
            Animation                =    AttackB
                AnimationName        =    RUHHs_Theo_ATKB
                AnimationMode        =    LOOP
                UseWeaponTiming        =    Yes
            End
        End

        AnimationState                =    MOUNTED TURN_LEFT_HIGH_SPEED
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_TNL1
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    MOUNTED TURN_RIGHT_HIGH_SPEED
            Animation                =    TurnRight
                AnimationName        =    RUHHs_Theo_TNR1
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    MOUNTED MOVING ACCELERATE
            Animation                =    Accelerate
                AnimationName        =    RUHHs_Theo_ACCL
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    MOUNTED MOVING DECELERATE
            Animation                =    Decelerate
                AnimationName        =    RUHHs_Theo_DECL
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.6 0.6
            End
        End

        AnimationState                =    MOUNTED TURN_LEFT
            Animation                =    TurnLeft
                AnimationName        =    RUHHs_Theo_TRNL
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    MOUNTED TURN_RIGHT
            Animation                =    TurnRight
                AnimationName        =    RUHHs_Theo_TRNR
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    MOUNTED MOVING WALKING
            Animation                =    Walk
                AnimationName        =    RUHHs_Theo_WLKA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End

        AnimationState                =    MOUNTED MOVING BACKING_UP
            Animation                =    BackingUp
                AnimationName        =    RUHHs_Theo_BAKA
                AnimationMode        =    LOOP
            End
            Flags                    =    RANDOMSTART
        End


        AnimationState                =    MOUNTED MOVING
            Animation                =    RunA
                AnimationName        =    RUHHs_Theo_RUNA
                AnimationMode        =    LOOP
            End
             Flags                    =    RANDOMSTART
        End

        AnimationState = MOUNTED USER_1
            Animation
                AnimationName                = EUGlrfnMnt_SPCA
                AnimationMode                = ONCE
                AnimationSpeedFactorRange    = 0.7 0.7
            End
        End

        AnimationState = MOUNTED USER_2
            Animation
                AnimationName                = EUGlrfnMnt_SPCB
                AnimationMode                = ONCE
                AnimationSpeedFactorRange    = 0.8 0.8
            End
        End

        AnimationState                =    RAISING_FLAG MOUNTED
                Animation           =    CHRA
                    AnimationName   =    RUHHs_Theo_CHRA
                    AnimationMode   =    LOOP
                End
        End

        AnimationState                =    MOUNTED SELECTED
            SimilarRestart            =   Yes
            StateName                =    AtAttentionIdle
            Animation                =    ATNB
                AnimationName        =    RUHHs_Theo_IDLH
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
            EndScript
        End

        TransitionState                =    TRANS_MountedSelect
            Animation                =    ATNA
                AnimationName        =    RUHHs_Theo_ATNA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                = MOUNTED LEVELED
            Animation                = LevelUp
                AnimationName        = RUHHs_Theo_CHRA
                AnimationMode        = ONCE
            End
        End

        AnimationState = MOUNTED
            StateName = Idle
            Animation                =    IdleA
                AnimationName        =    RUHHs_Theo_IDLA
                AnimationPriority    =    30
                AnimationMode        =    LOOP
                AnimationBlendTime    =    15
            End
            Animation    =    IDLB
                AnimationName        =    RUHHs_Theo_IDLB
                AnimationPriority    =    15
                AnimationMode        =    LOOP
                AnimationBlendTime    =    30
            End
            Animation    =    IDLC
                AnimationName        =    RUHHs_Theo_IDLC
                AnimationPriority    =    15
                AnimationMode        =    LOOP
                AnimationBlendTime    =    30
            End
            Flags                    =    RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState            = STUNNED_FLAILING
            Flags               = RANDOMSTART
            Animation
                AnimationName   = EUGlrfdl_FLYA
                AnimationMode   = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            StateName           = NoSword
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End

        AnimationState            = STUNNED_STANDING_UP
            Animation
                AnimationName   = EUGlrfdl_GTPA
                AnimationMode   = ONCE
                AnimationSpeedFactorRange= 1.5 1.5
            End
        End

        AnimationState            = STUNNED
            Animation
                AnimationName   = EUGlrfdl_LNDA
                AnimationMode   = ONCE
            End
            StateName           = NoSword
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState                =    DYING SPLATTED
            Animation
                AnimationName        =    EUGlrfdl_LNDA
                AnimationMode        =    ONCE
            End
            StateName                =    NoSword
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End
        AnimationState        = DYING AFLAME
            Animation = DieAflame
                AnimationName           = EUGlrfdl_MFDA
                AnimationMode       = LOOP
            End
        End


        AnimationState                =    DYING
            Animation
                AnimationName        =    EUGlrfdl_DTHA
                AnimationMode        =    ONCE
                AnimationPriority   =   10
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = EUGlrfdl_IDLB
                AnimationMode                = LOOP
            End
        End



        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = EUGlrfdl_ATKSV2
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
            BeginScript
                CurDrawableHideSubObject("spear")
            EndScript
        End

        AnimationState                =    MOVING ATTACKING
            Flags                    =    RANDOMSTART
            Animation                =    RUNB
                AnimationName        =    euglrfdl_wlka
                AnimationMode        =    LOOP
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("spear")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End


        AnimationState                =    MOVING
            Flags                    =    RANDOMSTART
            Animation                =    RUNA
                AnimationName        =    euglrfdl_wlka
                AnimationMode        =    LOOP
            End
            StateName                =    NoSword
            BeginScript
                CurDrawableHideSubObject("spear")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
            EndScript
        End

        AnimationState = USER_1
            Animation
                AnimationName                = EUGlrfdl_SPCA
                AnimationMode                = ONCE
                AnimationSpeedFactorRange    = 0.75 0.75
            End
        End

        AnimationState = USER_2
            Animation
                AnimationName                = EUGlrfdl_SPCB
                AnimationMode                = ONCE
                AnimationSpeedFactorRange    = 0.8 0.8
            End
        End


        AnimationState                = PACKING_TYPE_1
            StateName                = Dominate
            Animation
                AnimationName        = EUGlrfdl_SPCB
                AnimationMode        = ONCE
                AnimationBlendTime  = 5
            End
            FXEvent    = Frame:6    Name: FX_SarumanDominateAtSelf
        End



        AnimationState                =    FIRING_OR_PREATTACK_A
            StateName                =    Sword
            Animation                =    ATKA
                AnimationName        =    EUGlrfdl_ATKA
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
            End
            Animation                =    ATKB
                AnimationName        =    EUGlrfdl_ATKB
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
            End
            Animation                =    ATKC
                AnimationName        =    EUGlrfdl_ATKC
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                CurDrawableHideSubObject("spear")
            EndScript
        End


        AnimationState        = ATTACKING
            Animation           = ALERT_1
                AnimationName     = EUGlrfdl_IDLB
                AnimationMode     = ONCE
            End
            Flags               = RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState            = HIT_REACTION HIT_LEVEL_1
            StateName            = STATE_Bored_Sword
            Animation            = Hit_Level_1_A
                AnimationName    = EUGlrfdl_HITA
                AnimationMode    = ONCE
            End
        End

        AnimationState            = HIT_REACTION HIT_LEVEL_2
            StateName            = STATE_Bored_Sword
            Animation            = Hit_Level_1_A
                AnimationName    = EUGlrfdl_HITA
                AnimationMode    = ONCE
            End
        End

        AnimationState            = HIT_REACTION HIT_LEVEL_3
            StateName            = STATE_Bored_Sword
            Animation            = Hit_Level_1_A
                AnimationName    = EUGlrfdl_HITA
                AnimationMode    = ONCE
            End
        End


        TransitionState                    =    TRANS_Idle_to_Selected
            Animation                    =    IDLB
                AnimationName            =    EUGlrfdl_IDLB
                AnimationMode            =    ONCE
            End
        End

        TransitionState                    =    TRANS_Selected_To_Idle
            Animation                    =    IDLB
                AnimationName            =    EUGlrfdl_IDLB
                AnimationMode            =    ONCE
            End
        End

        AnimationState                        = LEVELED
            Animation                        = LevelUp
                AnimationName                = EUGlrfdl_CHRA
                AnimationMode                = ONCE
                AnimationSpeedFactorRange    = 0.75 0.75
            End
        End

        AnimationState                =    RAISING_FLAG
            Animation                =    CHRA
                AnimationName        =    EUGlrfdl_CHRA
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    SELECTED
            StateName                =    Selected
            SimilarRestart            =   Yes
            Animation                =    IDLB
                AnimationName        =    EUGlrfdl_IDLB
                AnimationMode        =    LOOP
            End
            BeginScript
                CurDrawableHideSubObject("spear")
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
            EndScript
        End


        AnimationState                =    EMOTION_CELEBRATING
            Animation                =    CHRA
                AnimationName        =    EUGlrfdl_CHRA
                AnimationMode        =    ONCE
                AnimationPriority    =    10
            End
            Flags                    =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                    = EMOTION_TAUNTING
            Animation
                AnimationName            = EUGlrfdl_IDLB
                AnimationMode            = LOOP
            End
        End

        AnimationState                    = EMOTION_ALERT EMOTION_MORALE_HIGH
            Animation                    = Taunting
                AnimationName            = EUGlrfdl_IDLB
                AnimationMode            = ONCE
            End
            Flags                        = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState        = EMOTION_ALERT
            Animation           = ALERT_1
                AnimationName     = EUGlrfdl_IDLB
                AnimationMode     = ONCE
            End
            Flags               = RESTART_ANIM_WHEN_COMPLETE
        End

    End


    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End


    #include "..\..\..\includes\StunDrawModuleSmall.inc"


    Side                  = Mordor
    EditorSorting         = UNIT
    ThreatLevel           = SAURON_THREAT_LEVEL
    ThingClass            = CHARACTER_UNIT
    TransportSlotCount    = TRANSPORTSLOTCOUNT_HERO
    BuildCost             = SILMARIL_HERO_COST
    BuildTime             = SILMARIL_HERO_BUILDTIME
    ShockwaveResistance   = SHOCKWAVE_RESISTANCE_STRONG
    EquivalentTo          = MordorGorthaur
    MaxSimultaneousOfType = 1
    Scale                 = 1.12


    ArmorSet
        Conditions      = None
        Armor           = AnnatarArmor
        DamageFX        = WraithDamageFX
    End


    VisionRange            = VISION_HERO_STANDARD
    ShroudClearingRange = SHROUD_CLEAR_HERO

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue           = SAURON_BOUNTY_VALUE
    RecruitText           = CONTROLBAR:AnnatarRecruit
    ReviveText            = CONTROLBAR:AnnatarRevive
    Hotkey                = CONTROLBAR:AnnatarHotkey
    DisplayName           = OBJECT:MordorAnnatar

    CrusherLevel          = 0

    CommandSet            = MordorAnnatarCommandSet
    CommandPoints         = 0



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_WitchKingBody

    AutoResolveArmor
        Armor = AutoResolve_WitchKingArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_WitchKingWeapon
    End






    VoiceAttack            = SauronModVoiceAttack
    VoiceFear              = EVA:SauronHelpMe
    VoiceCreated           = EVA:SauronCreated
    VoiceCreated           = +SOUND:CampOrcCreateSauronGlobal
    VoiceMove              = SauronVoiceMoveMS
    VoicePriority          = 95
    VoiceSelect            = SauronModVoiceSelect
    VoiceGuard             = SauronVoiceMove

    UnitSpecificSounds
        VoiceEnterUnitEvilMenTransportShip     = SauronVoiceMoveMS
        VoiceEnterUnitMordorMumakil            = SauronVoiceMoveMS
        VoiceEnterUnitSlaughterHouse           = SauronVoiceMoveMS
        VoiceGarrison                          = SauronVoiceMoveMS
        VoiceInitiateCaptureBuilding           = SauronVoiceMoveMS
    End


    CrowdResponseKey = ElfHero

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Elf Elf_Male Unit Infantry Hero

    End


    EvaEventDieOwner        = SauronDie



   ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallSoldier            Animation:EUGLRFDL_SKL.EUGLRFDL_LNDA        Frames:5
        AnimationSound = Sound:BodyFallSoldier            Animation:EUGLRFDL_SKL.EUGLRFDL_DTHA        Frames:34
        AnimationSound = Sound:FootstepDirtA              Animation:EUGlrfdl_SKL.EUGlrfdl_RUNA        Frames:9 18 28 38 48 58
        AnimationSound = Sound:FootstepDirtA              Animation:EUGlrfdl_SKL.EUGlrfdl_RUNB        Frames:9 18 28 38 48 58
    End



    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance                = 300
        TauntAndPointUpdateDelay            = 10000
        AddEmotion            =    Doom_Base
        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
        AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base
        AddEmotion            =    Alert_Base
        AddEmotion            =    CheerForAboutToCrush_Base
    End



    RadarPriority = UNIT
    KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER ARMY_SUMMARY HEAVY_MELEE_HITTER UNATTACKABLE
    PathfindDiameter = 40.0
    CamouflageDetectionMultiplier = 2.0

    Body = RespawnBody ModuleTag_RespawnBody
        MaxHealth                   = SILMARIL_HERO_HEALTH
        PermanentlyKilledByFilter   = NONE
        DodgePercent                = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                    = DYING
        DeathAnimationTime           = 5133
        RespawnAnim                  = LEVELED
        RespawnAnimationTime         = 2000
        AutoRespawnAtObjectFilter    = NONE +CASTLE_KEEP
        ButtonImage                  = HIGorthaur
        RespawnAsTemplate            = MordorNekromantSauron

        RespawnRules =    AutoSpawn:No    Cost:SILMARIL_HERO_COST       Time:SILMARIL_HERO_RESPAWNTIME    Health:100%
    End

    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP = Yes
    End

    #include "..\..\..\includes\DefaultInvisibilityUpdate.inc"

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate        = 500
        CanAttackWhileContained    = Yes
        AILuaEventsList            = SauronEdainFunctions
    End





    Behavior = CitadelSlaughterHordeContain ModuleTag_SlaughterMe
        PassengerFilter              = NONE +TheDroppedRing
        ObjectStatusOfContained      = UNSELECTABLE ENCLOSED
        ContainMax                   = 1
        AllowEnemiesInside           = No
        AllowAlliesInside            = Yes
        AllowNeutralInside           = No
        AllowOwnPlayerInsideOverride = Yes
        EnterSound                   = Sauron_RingReturnedMS
        EntryOffset                  = X:0.0 Y:0.0 Z:0.0
        EntryPosition                = X:0.0 Y:0.0 Z:0.0
        ExitOffset                   = X:0.0 Y:0.0 Z:0.0
        StatusForRingEntry           = HOLDING_THE_RING
        UpgradeForRingEntry          = Upgrade_RingHero Upgrade_FortressRingHero
        ObjectToDestroyForRingEntry  = NONE +TheDroppedRing
        FXForRingEntry               = FX_OneRingFlareSauron
    End

    Behavior = ModelConditionUpgrade ModulTag_RingHeroMC
        TriggeredBy         = Upgrade_RingHero Upgrade_FortressRingHero
        RequiresAllTriggers = Yes
        AddConditionFlags   = ONE_RING
    End

    Behavior = PickupStuffUpdate ModuleTag_PickupStuffUpdate
        SkirmishAIOnly = Yes
        StuffToPickUp = NONE +TheDroppedRing
        ScanRange = 3000
        ScanIntervalSeconds = 0.5
    End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TeleportEnabler
        SpecialPowerTemplate             = SpecialAbilityHeroBlink
    End

    Behavior = SpecialPowerModule ModuleTag_TeleportStarter
        SpecialPowerTemplate             = SpecialAbilityHeroBlink
        UpdateModuleStartsAttack         = Yes
        TriggerFX                        = FX_UnderworldWizarBlink
        StartsPaused                     = No
    End

    Behavior = TeleportSpecialAbilityUpdate ModuleTag_TeleportUpdate
        SpecialPowerTemplate             = SpecialAbilityHeroBlink
        UnpackingVariation               = 1
        UnpackTime                       = 1500
        PackTime                         = 1000
        ApproachRequiresLOS              = No
        BusyForDuration                  = 5000
        DestinationWeaponName            = UnderworldWizarBlinkWeapon
    End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SauronEnabler
        SpecialPowerTemplate         = SpecialAbilityGandalfVerfuhrte
    End

    Behavior = SpecialPowerModule ModuleTag_SauronToggleStarter
         SpecialPowerTemplate        = SpecialAbilityGandalfVerfuhrte
         UpdateModuleStartsAttack    = Yes
         StartsPaused                = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate SauronToggle
         SpecialPowerTemplate        = SpecialAbilityGandalfVerfuhrte
         MountedTemplate             = MordorSauron_mod
         UnpackTime                  = OBJECT_TOGGLE_TIME
         PreparationTime             = 0
         PackTime                    = 0
         OpacityTarget               = .0
         AwardXPForTriggering        = 0
         IgnoreFacingCheck           = Yes
    End

    Behavior = DoCommandUpgrade Module_DoCommandUpgradeSauron
        TriggeredBy                  = Upgrade_RingHero
        GetUpgradeCommandButtonName  = Command_SpecialAbilityGandalfVerfuhrte
    End

    LocomotorSet
        Locomotor = BasicSauronLocomotor
        Condition = SET_NORMAL
        Speed     = 29
    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 2000
    End


    Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes       = ALL
        FadeDelay        = 0
        FadeTime         = 0
        DestructionDelay = 0
        FX               = INITIAL FX_NamenlosesGrauenBlast
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FactionLeaderLeadershipStart
        SpecialPowerTemplate    = SpecialAbilityFakeLeadership3
    End

    Behavior = SpecialPowerModule ModuleTag_FactionLeaderLeadershipUpdate
        SpecialPowerTemplate        = SpecialAbilityFakeLeadership3
        UpdateModuleStartsAttack    = No
        StartsPaused                = No
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_FactionLeaderLeadership
        StartsActive     = Yes
        BonusName        = FactionLeaderGlobalLeadership
        RefreshDelay     = 2000
        Range            = 200
        ObjectFilter     = ALL -HERO -MACHINE -SHIP -DOZER -STRUCTURE ALLIES
    End


    Behavior = CommandSetUpgrade ModueTag_CommandSet_Level3
        TriggeredBy         = Upgrade_Held3RespawnLevel
        CommandSet          = MordorAnnatarCommandSet_Lvl3
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl3Gewahlt
        TriggeredBy         = Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        CommandSet          = MordorAnnatarCommandSet_Lvl3Gewahlt
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6
        TriggeredBy         = Upgrade_Held6RespawnLevel
        CommandSet          = MordorAnnatarCommandSet_Lvl3
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9
        TriggeredBy         = Upgrade_Held9RespawnLevel
        CommandSet          = MordorAnnatarCommandSet_Lvl3
    End


    Behavior = CommandSetUpgrade ModueTag_CommandSet_SchreckenDolGuldurs
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_SchreckenDolGuldurs
        RequiresAllTriggers = Yes
        CommandSet          = MordorAnnatarCommandSet_Lvl6DolGuldur
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_StreitmachtMinasMorguls
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_StreitmachtMinasMorguls
        RequiresAllTriggers = Yes
        CommandSet          = MordorAnnatarCommandSet_Lvl6MinasMorgul
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_GarnisonCirithUngols
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorAnnatarCommandSet_Lvl6CirithUngol
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6GewahltSchreckenDolGuldursStreitmachtMinasMorguls
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls
        RequiresAllTriggers = Yes
        CommandSet          = MordorAnnatarCommandSet_Lvl6Gewahlt
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6GewahltSchreckenDolGuldursGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorAnnatarCommandSet_Lvl6Gewahlt
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl6GewahltStreitmachtMinasMorgulsGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held6RespawnLevel Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorAnnatarCommandSet_Lvl6Gewahlt
    End


    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9SchreckenDolGuldursStreitmachtMinasMorguls
        TriggeredBy         = Upgrade_Held9RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls
        RequiresAllTriggers = Yes
        CommandSet          = MordorAnnatarCommandSet_Lvl9DolGuldurMinasMorgul
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9SchreckenDolGuldursGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held9RespawnLevel Upgrade_SchreckenDolGuldurs Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorAnnatarCommandSet_Lvl9DolGuldurCirithUngol
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl9StreitmachtMinasMorgulsGarnisonCirithUngols
        TriggeredBy         = Upgrade_Held9RespawnLevel Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorAnnatarCommandSet_Lvl9MinasMorgulCirithUngol
    End

    Behavior = CommandSetUpgrade ModueTag_CommandSet_Lvl10GewahltStreitmachtMinasMorgulsGarnisonCirithUngols
        TriggeredBy         = Upgrade_SchreckenDolGuldurs Upgrade_StreitmachtMinasMorguls Upgrade_GarnisonCirithUngols
        RequiresAllTriggers = Yes
        CommandSet          = MordorAnnatarCommandSet_Lvl10Gewahlt
    End

; --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    Behavior = AttributeModifierAuraUpdate ModuleTag_LordOfGifts
        StartsActive       = Yes
        BonusName          = HerrderGeschenke
        RefreshDelay       = 2000
        Range              = 300
        TargetEnemy        = Yes
        ObjectFilter       = ANY +INFANTRY +CAVALRY +HERO -STRUCTURE ENEMIES
    End
	
	Behavior = AttributeModifierAuraUpdate ModuleTag_AnnatarsDeceit
        StartsActive       = Yes
        BonusName          = HerrderGeschenke
        RefreshDelay       = 2000
        Range              = 300
        TargetEnemy        = No
        ObjectFilter       = ANY +INFANTRY +CAVALRY +HERO -STRUCTURE ALLIES
    End
	
; --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SchmiedenEnabler
        SpecialPowerTemplate    = SpecialAbilityKraftRing
        TriggeredBy             = Upgrade_Level_2
        ObeyRechageOnTrigger    = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_SchmiedenStarter
        SpecialPowerTemplate     = SpecialAbilityKraftRing
        UpdateModuleStartsAttack = Yes
        StartsPaused             = No
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_SchmiedenUpdate
        SpecialPowerTemplate     = SpecialAbilityKraftRing
        SkipContinue             = Yes
        UnpackTime               = 1100
        PreparationTime          = 1
        PersistentPrepTime       = 500
        PackTime                 = 500
        MustFinishAbility        = Yes
        AwardXPForTriggering     = 70
        StartAbilityRange        = 300
        SpecialWeapon            = GeshenkKraftRingWeapon
        WhichSpecialWeapon       = 1
    End

; --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FurstderVampireEnabler
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        TriggeredBy             = Upgrade_Level_2
        ObeyRechageOnTrigger    = Yes
    End

      Behavior = SpecialPowerModule ModuleTag_FurstderVampireStarter
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        StartsPaused            = Yes
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_FurstderVampireUpdate
        SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
        HeroAttributeModifier   = FurstderVampire
        HeroEffectDuration      = 30000
        UnpackTime              = 1
        TriggerSound            = FurstderVampireMS
    End

; --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FinsternisEnabler
        SpecialPowerTemplate = SpecialAbilityVerschlingendeFinsternis
        TriggeredBy          = Upgrade_Level_7
        ObeyRechageOnTrigger = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_OCLSpecialPowerFinsternis
        SpecialPowerTemplate = SpecialAbilityVerschlingendeFinsternis
        OCL                  = OCL_SummonVerschlingendeFinsternis
        CreateLocation       = CREATE_AT_LOCATION
        StartsPaused         = Yes
    End

; --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FlammenschlagEnabler
        SpecialPowerTemplate = SpecialAbilityGorthaurFlammenschlag
        TriggeredBy          = Upgrade_Level_5
        ObeyRechageOnTrigger = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_Flammenschlag
        SpecialPowerTemplate = SpecialAbilityGorthaurFlammenschlag
        OCL                  = OCL_GorthaurFlammenschlagStrike
        CreateLocation       = CREATE_AT_LOCATION
        StartsPaused         = Yes
    End

; --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_VerdammtenEnabler
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        TriggeredBy                  = Upgrade_Level_9
    End

    Behavior = SpecialPowerModule ModuleTag_VerdammtenStarter
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        StartsPaused                 = Yes
        UpdateModuleStartsAttack     = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_VerdammtenWeaponFireUpdate
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        WhichSpecialWeapon           = 1
        SkipContinue                 = Yes
        FreezeAfterTriggerDuration   = 100
        UnpackTime                   = 700
        PreparationTime              = 1
        PackTime                     = 100
        AwardXPForTriggering         = 70
        StartAbilityRange            = 270
        SpecialWeapon                = MachtderVerdammtenWeapon
    End

; --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MouthOfSauronDissentEnabler
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        TriggeredBy                 = Upgrade_Level_7
        ObeyRechageOnTrigger        = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentStarter
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        StartsPaused                = Yes
         UpdateModuleStartsAttack   = Yes
    End

    Behavior = ActivateModuleSpecialPower ModuleTag_MouthOfSauronDissentMover
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        StartAbilityRange           = 300
        TriggerSpecialPower         = ModuleTag_MouthOfSauronDissentTrigger TARGETPOS
    End

    Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentTrigger
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        AttributeModifier           = MouthOfSauronDissentModifier
        AttributeModifierRange      = MOUTH_OF_SAURON_DISSENT_RADIUS
        AttributeModifierAffects    = NONE +HERO
        TriggerFX                   = FX_MouthOfSauronDissent
        UpdateModuleStartsAttack    = No
        StartsPaused                = Yes
        TargetEnemy             	= Yes
    End

; --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WaffenstillstandEnabler
        SpecialPowerTemplate     = SpecialAbilityWaffenstillstandAnnatar
        TriggeredBy              = Upgrade_Level_5
        ObeyRechageOnTrigger     = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_WaffenstillstandStarter
        SpecialPowerTemplate      = SpecialAbilityWaffenstillstandAnnatar
        UpdateModuleStartsAttack  = Yes
        StartsPaused              = Yes

    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WaffenstillstandWeaponFireUpdate
        SpecialPowerTemplate      = SpecialAbilityWaffenstillstandAnnatar
        SpecialWeapon             = AnnatarWaffenstillstandWeapon
        WhichSpecialWeapon        = 1
        StartAbilityRange         = 10.0
        SkipContinue              = Yes
        UnpackTime                = 1000
        PackTime                  = 2000
		AwardXPForTriggering      = 70
        MustFinishAbility         = Yes
    End

; --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DominateEnabler
        SpecialPowerTemplate         = SpecialAbilityDominateEnemySauronRing
        TriggeredBy                  = Upgrade_Level_9
        ObeyRechageOnTrigger         = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_DominateEnemySpecialPowerModule
        SpecialPowerTemplate         = SpecialAbilityDominateEnemySauronRing
        StartsPaused                 = Yes
        UpdateModuleStartsAttack     = Yes
    End

    Behavior = DominateEnemySpecialPower ModuleTag_DominateEnemySpecialPower
        SpecialPowerTemplate         = SpecialAbilityDominateEnemySauronRing
        UnpackingVariation           = 1
        StartAbilityRange            = 200.0
        AttributeModifierAffects     = ALL -HERO -DOZER -MOVE_ONLY -STRUCTURE ENEMIES NEUTRAL
        DominateRadius               = 120
        DominatedFX                  = FX_SauronDominateTargets
        TriggerFX                    = FX_SauronDominateTrigger
        UnpackTime                   = 2000
        PreparationTime              = 1
        PermanentlyConvert           = No
        FreezeAfterTriggerDuration   = 3500
    End
	
; --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------	

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TolinGaurhothEnabler
        SpecialPowerTemplate   = SpecialAbilityTolinGaurhoth
        TriggeredBy            = Upgrade_Level_10
        ObeyRechageOnTrigger   = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_TolinGaurhothOCLSpecialPower
        SpecialPowerTemplate   = SpecialAbilityTolinGaurhoth
        OCL                    = OCL_SummonTolinGaurhoth
        CreateLocation         = CREATE_AT_LOCATION
        StartsPaused           = Yes
        SetModelCondition      = ModelConditionState:USER_1
        SetModelConditionTime  = 4.1
    End

; --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    Behavior = SpecialPowerModule ModuleTag_GorthaurToggleStarter
         SpecialPowerTemplate           = SpecialAbilityToggleSauronGestaltenGorthaur
         UpdateModuleStartsAttack       = Yes
         StartsPaused                   = No
         AvailableAtStart               = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate GorthaurToggle
         SpecialPowerTemplate        = SpecialAbilityToggleSauronGestaltenGorthaur
         MountedTemplate             = MordorGorthaur
         SynchronizeTimerOnSpecialPower = SpecialAbilityAragornBladeMaster SpecialAbilityGorthaurFlammenschlag SpecialAbilityEwigeKnechtschaft SpecialAbilityVerschlingendeFinsternis SpecialAbilityToggleSauronGestaltenVampir SpecialAbilityToggleSauronGestaltenWerwolf SpecialAbilityToggleSauronGestaltenAnnatar SpecialAbilityTolinGaurhoth
         UnpackTime                  = 2000
         PreparationTime             = 0
         PackTime                    = 0
         OpacityTarget               = .0
         AwardXPForTriggering        = 0
         IgnoreFacingCheck           = Yes
    End
	
; --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    Behavior = AttributeModifierAuraUpdate ModuleTag_HappyAura
        StartsActive    = Yes
        BonusName       = AnnatarHinterlist
        RefreshDelay    = 1000
        Range           = 160.0
        ObjectFilter    = ANY +INFANTRY +CAVALRY
        TargetEnemy     = Yes
        MaxActiveRank   = 5
    End

; --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = NotifyTargetsOfImminentProbableCrushingUpdate ModuleTag_NotifyCrushScan
    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 2700
        HitReactionLifeTimer2 = 3366
        HitReactionLifeTimer3 = 10

        HitReactionThreshold1 = 5.0
        HitReactionThreshold2 = 100.0
        HitReactionThreshold3 = 300.0
    End

    Behavior = StealthDetectorUpdate StealthDetectorUpdateModuleTag
        DetectionRate       = 10
        DetectionRange      = 400
        CancelOneRingEffect = Yes
    End

    Behavior = CommandButtonHuntUpdate ModuleTag_CommandButtonHuntUpdate
    End





    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel2
        TriggeredBy     = Upgrade_Level_2
        Delay           = 0
        ThingToSpawn    = Held2RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel3
        TriggeredBy     = Upgrade_Level_3
        Delay           = 0
        ThingToSpawn    = Held3RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel4
        TriggeredBy     = Upgrade_Level_4
        Delay           = 0
        ThingToSpawn    = Held4RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel5
        TriggeredBy     = Upgrade_Level_5
        Delay           = 0
        ThingToSpawn    = Held5RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel6
        TriggeredBy     = Upgrade_Level_6
        Delay           = 0
        ThingToSpawn    = Held6RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel7
        TriggeredBy     = Upgrade_Level_7
        Delay           = 0
        ThingToSpawn    = Held7RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel8
        TriggeredBy     = Upgrade_Level_8
        Delay           = 0
        ThingToSpawn    = Held8RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel9
        TriggeredBy     = Upgrade_Level_9
        Delay           = 0
        ThingToSpawn    = Held9RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel10
        TriggeredBy     = Upgrade_Level_10
        Delay           = 0
        ThingToSpawn    = Held10RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel11
        TriggeredBy     = Upgrade_Level_11
        Delay           = 0
        ThingToSpawn    = Held11RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel12
        TriggeredBy     = Upgrade_Level_12
        Delay           = 0
        ThingToSpawn    = Held12RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel13
        TriggeredBy     = Upgrade_Level_13
        Delay           = 0
        ThingToSpawn    = Held13RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel14
        TriggeredBy     = Upgrade_Level_14
        Delay           = 0
        ThingToSpawn    = Held14RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel15
        TriggeredBy     = Upgrade_Level_15
        Delay           = 0
        ThingToSpawn    = Held15RespawnLevel
    End






    Behavior = AttributeModifierUpgrade ModuleTag_HerrderErdeBonus
        TriggeredBy         = Upgrade_HerrderErde
        AttributeModifier   = HerrderErdeModifier
    End

    Behavior = AttributeModifierUpgrade ModuleTag_HerrderErdeBonus2
        TriggeredBy         = Upgrade_HerrderErde Upgrade_Level_15
        RequiresAllTriggers = Yes
        AttributeModifier   = HerrderErdeModifier2
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_KnechtschaftEnabler
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        TriggeredBy              = Upgrade_Level_7
        ObeyRechageOnTrigger     = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_KnechtschaftStarter
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_KnechtschaftUpdate
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        SkipContinue             = Yes
        UnpackTime               = 1100
        PreparationTime          = 1
        PersistentPrepTime       = 500
        PackTime                 = 500
        MustFinishAbility        = Yes
        AwardXPForTriggering     = 0
        StartAbilityRange        = 1000000
        SpecialWeapon            = EwigeKnechtschaftWeapon
        WhichSpecialWeapon       = 1
    End

    Behavior = AutoAbilityBehavior ModuleTag_KnechtschaftAutoAbility
        SpecialAbility  = SpecialAbilityEwigeKnechtschaft
        MaxScanRange    = 150
        Query           = 1 NONE +MordorWraith
    End






    Behavior = AISpecialPowerUpdate GlorfindelToggleMountedAI
        CommandButtonName = Command_ToggleGorthaurVerwandlung
        SpecialPowerAIType = AI_SPECIAL_POWER_TOGGLE_MOUNTED
    End

    Behavior = AISpecialPowerUpdate BladeOfPurityAI
        CommandButtonName = Command_MordorGorthaurDissent
    	SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
    	SpecialPowerRadius = 300
    End

    Behavior = AISpecialPowerUpdate WindRiderAI
        CommandButtonName = Command_SpecialAbilityAnnatarWaffenstillstand
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate StarLightAI
        CommandButtonName = Command_SpecialAbilityAnnatarBetorung
        SpecialPowerAIType = AI_SPECIAL_POWER_DOMINATE_ENEMY
        SpecialPowerRadius = 200
    End

    Geometry            = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryHeight      = 25
    GeometryIsSmall     = Yes

    Shadow              = SHADOW_DECAL
    ShadowSizeX         = 20
    ShadowSizeY         = 20
    ShadowTexture       = ShadowI
End




Object MordorSauron_mod

    SelectPortrait = HeSauronNewPortrait
    ButtonImage    = HISauron

    Draw = W3DScriptedModelDraw ModuleTag_01

        OkToChangeModelColor = Yes
        StaticModelLODMode   = Yes

        DefaultModelConditionState
            Model           = musauron_dda
	    ParticleSysBone = WEAPON SaronRingSpark FollowBone:Yes
        End

        ModelConditionState = HERO
            Model           = musauron_dda
	    ParticleSysBone = WEAPON SaronRingSpark FollowBone:Yes
            ParticleSysBone = None BlackRiderFlare FollowBone:No
            ParticleSysBone = None BalrogIgniteHeatWave FollowBone:No
        End



    AnimationState                       = DYING
        Animation                        = DIEB
            AnimationName                = MUSauron_SKL.MUSauron_DIEB
            AnimationMode                = ONCE
        End

        BeginScript
            CurDrawableShowSubObject("SHARD01")
            CurDrawableShowSubObject("SHARD02")
            CurDrawableShowSubObject("SHARD03")
            CurDrawableShowSubObject("SHARD04")
            CurDrawableShowSubObject("SHARD05")
            CurDrawableShowSubObject("SHARD06")
            CurDrawableShowSubObject("SHARD07")
            CurDrawableShowSubObject("SHARD08")
            CurDrawableShowSubObject("SHARD09")
            CurDrawableShowSubObject("SHARD10")
            CurDrawableShowSubObject("SHARD11")
            CurDrawableShowSubObject("SHARD12")
            CurDrawableShowSubObject("SHARD13")
            CurDrawableShowSubObject("SHARD14")
            CurDrawableShowSubObject("SHARD15")
            CurDrawableShowSubObject("SHARD16")
            CurDrawableShowSubObject("SHARD17")
            CurDrawableShowSubObject("SHARD18")
            CurDrawableShowSubObject("SHARD19")
            CurDrawableShowSubObject("SHARD20")
        EndScript
    End

    AnimationState                        = PARALYZED
        Animation
            AnimationName                = MUSauron_SKL.MUSauron_IDLA
            AnimationMode                = LOOP
        End
    End



    AnimationState                        = MOVING FIRING_OR_PREATTACK_A
        StateName                        = STATE_Moving
        Animation                        = Moving
            AnimationName                = MUSauron_SKL.MUSauron_WLKB
            AnimationMode                = LOOP
            Distance                    = 88
        End
        Flags                            = MAINTAIN_FRAME_ACROSS_STATES
    End

    AnimationState                        = MOVING TURN_RIGHT_HIGH_SPEED
        StateName                        = STATE_Moving
        Animation                        = Moving
            AnimationName                = MUSauron_SKL.MUSauron_WLKA
            AnimationMode                = LOOP
            Distance                    = 88
        End
        Animation                        = Turning
            AnimationName                = MUSauron_SKL.MUSauron_TRNR
            AnimationMode                = LOOP
            AnimationBlendTime            = 0
        End
        Flags                            = MAINTAIN_FRAME_ACROSS_STATES MAINTAIN_FRAME_ACROSS_STATES2
        BeginScript
            if CurDrawablePrevAnimationState() == "STATE_Turning" then return "Turning" else return "Moving" end
        EndScript
    End

    AnimationState                        = MOVING TURN_LEFT_HIGH_SPEED
        StateName                        = STATE_Moving
        Animation                        = Moving
            AnimationName                = MUSauron_SKL.MUSauron_WLKA
            AnimationMode                = LOOP
            Distance                    = 88
        End
        Animation                        = Turning
            AnimationName                = MUSauron_SKL.MUSauron_TRNL
            AnimationMode                = LOOP
            AnimationBlendTime            = 0
        End
        Flags                            = MAINTAIN_FRAME_ACROSS_STATES MAINTAIN_FRAME_ACROSS_STATES2
        BeginScript
            if CurDrawablePrevAnimationState() == "STATE_Turning" then return "Turning" else return "Moving" end
        EndScript
    End

    AnimationState                        = TURN_LEFT
        StateName                        = STATE_Turning
        Animation                        = Turning
            AnimationName                = MUSauron_SKL.MUSauron_TRNL
            AnimationMode                = LOOP
            AnimationBlendTime            = 5
        End
        Flags                            = MAINTAIN_FRAME_ACROSS_STATES2
    End

    AnimationState                        = TURN_RIGHT
        StateName                        = STATE_Turning
        Animation                        = Turning
            AnimationName                = MUSauron_SKL.MUSauron_TRNR
            AnimationMode                = LOOP
            AnimationBlendTime            = 5
        End
        Flags                            = MAINTAIN_FRAME_ACROSS_STATES2
   End

    AnimationState                        = MOVING
        StateName                        = STATE_Moving
        Animation                        = Moving
            AnimationName                = MUSauron_SKL.MUSauron_WLKA
            AnimationMode                = LOOP
            Distance                    = 88
        End
        Flags                            = MAINTAIN_FRAME_ACROSS_STATES
    End


 AnimationState						= SPECIAL_WEAPON_TWO
		Animation
			AnimationName				= MUSauron_SKL.MUSauron_ATKD
			AnimationMode				= ONCE
		End
		FXEvent			= Frame:5 Name:FX_SauronROF
			FrameForPristineBonePositions = 27
	End

  AnimationState= UNPACKING SPECIAL_POWER_2
	Animation
	AnimationName= MUSauron_SKL.MUSauron_ATKD
	AnimationMode= ONCE
	End
End

    AnimationState               = SPECIAL_WEAPON_ONE
        Animation
            AnimationName                = MUSauron_SKL.MUSauron_ATKD
            AnimationMode                = ONCE
        End
		FXEvent				= Frame:59 Name:FX_SauronLOTRStart
    End

    AnimationState            = WEAPONSET_HERO_MODE UNPACKING PACKING_TYPE_1
        Animation = StartIgniteRoar
            AnimationName = MUSauron_SKL.MUSauron_IDLA
            AnimationMode = ONCE
        End
    End

    AnimationState            = HERO PACKING PACKING_TYPE_1
        Animation = FinishIgniteRoar
            AnimationName = MUSauron_SKL.MUSauron_ATKD
            AnimationMode = ONCE
        End
        EnteringStateFX = FX_SauronIgniteStart
    End

     AnimationState						= SPECIAL_WEAPON_THREE
		Animation
			AnimationName				= MUSauron_SKL.MUSauron_ATKD
			AnimationMode				= ONCE
		End
			FXEvent			= Frame:5 Name:FX_SauronWOPInitial
			FrameForPristineBonePositions = 27
	End



        AnimationState                = FIRING_OR_PREATTACK_A
            StateName                = STATE_ready
            Animation                = ATKC
                AnimationName        = MUSauron_SKL.MUSauron_ATKC
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
                AnimationPriority    = 3
            End
        End

        AnimationState                = FIRING_OR_PREATTACK_B
            StateName                = STATE_ready
            Animation                = ATKE
                AnimationName        = MUSauron_SKL.MUSauron_ATKA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
                AnimationPriority    = 2
            End
        End

        AnimationState                = FIRING_OR_PREATTACK_A WEAPONSET_HERO_MODE
            StateName                = STATE_ready
            Animation                = ATKC
                AnimationName        = MUSauron_SKL.MUSauron_ATKC
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
                AnimationPriority    = 3
            End
        End

    AnimationState                        = SPECIAL_WEAPON_THREE
        Animation
            AnimationName                = MUSauron_SKL.MUSauron_ATKE
            AnimationMode                = ONCE
        End
        Animation
            AnimationName                = MUSauron_SKL.MUSauron_ATKD
            AnimationMode                = ONCE
        End
        ParticleSysBone = WEAPON NecroAcolyteFlare FollowBone:Yes
        ParticleSysBone = WEAPON NecroAcolyteWTrails FollowBone:Yes
    End


    AnimationState = MOVING FIRING_OR_PREATTACK_A
        Animation                        = TrotAndFire
            AnimationName                = MUSauron_SKL.MUSauron_WLKB
            AnimationMode                = LOOP
        End
        Flags = RANDOMSTART
    End

    AnimationState = MOVING FIRING_OR_PREATTACK_A WEAPONSET_HERO_MODE
        Animation                        = TrotAndFire
            AnimationName                = MUSauron_SKL.MUSauron_WLKB
            AnimationMode                = LOOP
        End
        Flags = RANDOMSTART
    End




    AnimationState                        = HIT_REACTION
        StateName                        = STATE_Ready
        Animation
            AnimationName                = MUSauron_SKL.MUSauron_HITA
            AnimationMode                = ONCE
        End
    End

        AnimationState        = RAISING_FLAG
            Animation
                AnimationName     = MUSauron_SKL.MUSauron_IDLA
                AnimationMode     = ONCE
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
        End



    AnimationState                        = SELECTED
        StateName                        = Idle
        Animation                        = IDLA
            AnimationName                = MUSauron_SKL.MUSauron_IDLA
            AnimationMode                = LOOP
        End
    End

    IdleAnimationState
        AllowRepeatInRandomPick            = Yes
        StateName                        = Idle
        Animation                        = IDLA
            AnimationName                = MUSauron_SKL.MUSauron_IDLA
            AnimationMode                = ONCE
            AnimationPriority            = 20
        End
        Animation                        = IDLC
            AnimationName                = MUSauron_SKL.MUSauron_IDLC
            AnimationMode                = ONCE
            AnimationPriority            = 10
            AnimationBlendTime            = 10
            AnimationSpeedFactorRange    = 0.7 1.5
        End
        BeginScript
            Prevs = CurDrawablePrevAnimationState()
            Preva = CurDrawablePrevAnimation()
            if Prevs == "STATE_Moving"
            then
                CurDrawableSetTransitionAnimState("TRANS_SmoothToIdle")
            elseif Prevs == "STATE_Ready"
            then
                CurDrawableSetTransitionAnimState("TRANS_ReallySmoothToIdle")
            end
            if Preva == "IDLC"
            then
                CurDrawableSetTransitionAnimState("TRANS_ReallySmoothToIdle")
            end
        EndScript
    End


    TransitionState                    = TRANS_SmoothToIdle
        Animation                    = IDLA
            AnimationName            = MUSauron_SKL.MUSauron_IDLA
            AnimationMode            = ONCE
            AnimationBlendTime        = 5
        End
    End
    TransitionState                    = TRANS_ReallySmoothToIdle
        Animation                    = IDLA
            AnimationName            = MUSauron_SKL.MUSauron_IDLA
            AnimationMode            = ONCE
            AnimationBlendTime        = 10
        End
    End


  End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End


    #include "..\..\..\includes\StunDrawModuleMedium.inc"


    Side                  = Mordor
    EditorSorting         = UNIT
    ThreatLevel           = SAURON_THREAT_LEVEL
    ThingClass            = CHARACTER_UNIT
    TransportSlotCount    = TRANSPORTSLOTCOUNT_HERO
    BuildCost             = SILMARIL_HERO_COST
    BuildTime             = SILMARIL_HERO_BUILDTIME
    ShockwaveResistance   = SHOCKWAVE_RESISTANCE_ALWAYS
    VisionRange           = 320
    ShroudClearingRange   = 390
    EquivalentTo          = MordorGorthaur
    MaxSimultaneousOfType = 1
    Scale                 = 1.20

    BountyValue           = SAURON_SILMARIL_BOUNTY_VALUE
    RecruitText           = CONTROLBAR:SauronRecruit
    ReviveText            = CONTROLBAR:SauronRevive
    Hotkey                = CONTROLBAR:SauronHotkey
    DisplayName           = OBJECT:MordorSauron
    CrusherLevel          = 0
    CrushAllies           = Yes
    RamPower              = 25
    CommandSet            = MordorSauronEdainCommandSet
    CommandPoints         = 0
    DisplayMeleeDamage    = SILMARIL_HERO_DAMAGE

    WeaponSet
        Conditions = None
        DefaultWeaponChoiceCritera = SELECT_AT_RANDOM
        ReadyStatusSharedWithinSet = Yes
        Weapon               = PRIMARY    SauronMaceModRight
        Weapon               = SECONDARY  SauronMaceModLeft
    End

    WeaponSet
        Conditions           = WEAPONSET_HERO_MODE
        Weapon               = PRIMARY    SauronMaceModHeroMode
        AutoChooseSources    = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    ArmorSet
        Conditions           = None
        Armor                = SilmarilHeroHeavyArmor
        DamageFX             = WraithDamageFX
    End


    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_WitchKingBody

    AutoResolveArmor
        Armor = AutoResolve_WitchKingArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_WitchKingWeapon
    End





    VoiceAttack          = SauronModVoiceAttack
    VoiceFear            = EVA:SauronHelpMe
    VoiceCreated         = SH_ForSauron
    VoiceFullyCreated    = SH_ForSauron
    VoiceMove            = SauronVoiceMoveMS
    VoicePriority        = 95
    VoiceSelect          = SauronModVoiceSelect
    VoiceGuard           = SauronVoiceMove

    UnitSpecificSounds
        VoiceEnterUnitEvilMenTransportShip    = SauronVoiceMoveMS
        VoiceEnterUnitMordorMumakil           = SauronVoiceMoveMS
        VoiceEnterUnitSlaughterHouse          = SauronVoiceMoveMS
        VoiceGarrison                         = SauronVoiceMoveMS
        VoiceInitiateCaptureBuilding          = SauronVoiceMoveMS
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:SauronFootstep            Animation:MUSauron_SKL.MUSauron_ATKE     Frames:47
        AnimationSound = Sound:SauronFootstep            Animation:MUSauron_SKL.MUSauron_DIEB     Frames:29
        AnimationSound = Sound:BodyFallSoldier           Animation:MUSAURON_SKL.MUSAURON_LNDA     Frames:4 30
        AnimationSound = Sound:SauronFootstep            Animation:MUSAURON_SKL.MUSAURON_WLKA     Frames:8 26 44 62 80 98
        AnimationSound = Sound:SauronFootstep            Animation:MUSAURON_SKL.MUSAURON_WLKB     Frames:25 44 64 84
    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    EvaEventDieOwner        = SauronDie

    EvaEnemyObjectSightedEvent = EnemySauronSeen

    ClientUpdate = EvaAnnounceClientCreate ModuleTag_CreateAnnounce
        AnnouncementEventEnemy = EnemySauronSeen
        AnnouncementEventAlly  = None
        AnnouncementEventOwner = None

        OnlyIfVisible 		       = Yes
        CountAsFirstSightedAnnoucement = Yes
        UseObjectsPosition 	       = No
        CreateFakeRadarEvent           = Yes
    End


    RadarPriority        = UNIT
    KindOf               = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS SCORE SCARY HEAVY_MELEE_HITTER
    PathfindDiameter     = 40.0


    Body = RespawnBody ModuleTag_RespawnBody
        MaxHealth                   = SILMARIL_HERO_HEALTH
        PermanentlyKilledByFilter   = NONE
        DodgePercent                = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                    = DYING
        DeathAnimationTime           = 5133
        RespawnAnim                  = LEVELED
        RespawnAnimationTime         = 2000
        AutoRespawnAtObjectFilter    = NONE +CASTLE_KEEP
        ButtonImage                  = HIGorthaur
        RespawnAsTemplate            = MordorNekromantSauron

        RespawnRules =    AutoSpawn:No    Cost:SILMARIL_HERO_COST       Time:SILMARIL_HERO_RESPAWNTIME    Health:100%
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = AnnounceBirthAndDeathBehavior ModuleTag_AnnounceBirthAndDeathBehavior
    End

    Behavior = AIUpdateInterface ModuleTag_AI
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        AILuaEventsList               = SauronEdainFunctions
    End

    LocomotorSet
        Locomotor = BasicSauronLocomotor
        Condition = SET_NORMAL
        Speed     = 52
    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 3333
        HitReactionThreshold1 = 100.0
    End

    Behavior = PhysicsBehavior ModuleTag_Physics
        GravityMult = 1.0
    End

    Behavior = SlowDeathBehavior ModuleTag_SlowDeath
        DeathTypes          = ALL
        SinkDelay           = 5000
        SinkRate            = 10.0
        DestructionDelay    = 5000
        FX                  = INITIAL FX_NamenlosesGrauenBlast
        Weapon              = FINAL   RingHeroDeathShockwave
    End


    Behavior = MonitorConditionUpdate ModuleTag_CommandSetSwapper1
        WeaponSetFlags            = WEAPONSET_TOGGLE_1
        WeaponToggleCommandSet    = MordorSauronEdainCommandSet_2
    End

    Behavior = MonitorConditionUpdate ModuleTag_CommandSetSwapper2
        WeaponSetFlags            = WEAPONSET_TOGGLE_2
        WeaponToggleCommandSet    = MordorSauronEdainCommandSet
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSetRing_AI
        TriggeredBy       = Upgrade_ObjectUnderAIControl
        CommandSet        = MordorSauronEdainCommandSet_AI
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SilmarilHeroLeadershipStart
        SpecialPowerTemplate    = SpecialAbilityFakeLeadership3
    End

    Behavior = SpecialPowerModule ModuleTag_SilmarilHeroLeadershipUpdate
        SpecialPowerTemplate        = SpecialAbilityFakeLeadership3
        UpdateModuleStartsAttack    = No
        StartsPaused                = No
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_SilmarilHeroLeadership
        StartsActive     = Yes
        BonusName        = SilmarilHeroGlobalLeadership
        RefreshDelay     = 2000
        Range            = 1250
        ObjectFilter     = ALL -HERO -MACHINE -SHIP -DOZER -STRUCTURE ALLIES
    End





    Behavior = AttributeModifierAuraUpdate ModuleTag_EnableArmorNazguls
        StartsActive              = Yes
        BonusName                 = MordorSauronNazgulEnablerArmor	
        RefreshDelay              = 2500
        Range                     = 99999999
        ObjectFilter              = NONE +MordorNazgul_CGmod +MordorNazgul_CGmod2 +GasthausKhamul +MordorWitchKing
    End





    Behavior = SpecialPowerModule ModuleTag_DunkleWelleStarter
        SpecialPowerTemplate       = SpecialAbilitySauronDunkleWelle
        UpdateModuleStartsAttack   = Yes
        StartsPaused               = No
        InitiateSound              = SauronModVoiceAttack
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_DunkleWelleWeaponFireUpdate
        SpecialPowerTemplate       = SpecialAbilitySauronDunkleWelle
        WhichSpecialWeapon         = 3
        SkipContinue               = Yes
        UnpackTime                 = 2600
        PackTime                   = 1
        FreezeAfterTriggerDuration = 1500
        AwardXPForTriggering       = 0
        StartAbilityRange          = 80.0
        SpecialWeapon              = SauronDunkleWelleWeapon
    End

    Behavior = AutoAbilityBehavior ModuleTag_DunkleWelleAutoAbility
        SpecialAbility             = SpecialAbilitySauronDunkleWelle
        MaxScanRange               = 70
        Query                      = 3 ANY +HORDE +MACHINE ENEMIES
        Query                      = 1 ANY +HERO +MONSTER NOT_FLYING_UNITS
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SauronTerribleFuryEnabler
        SpecialPowerTemplate        = SpecialAbilityScreech
        TriggeredBy                 = Upgrade_Level_2
    End

    Behavior = SpecialPowerModule ModuleTag_SauronTerribleFury
        SpecialPowerTemplate        = SpecialAbilityScreech
        UpdateModuleStartsAttack    = Yes
        StartsPaused                = Yes
        TriggerFX                   = FX_FearBlastSauron
    End

    Behavior = SpecialAbilityUpdate ModuleTag_SauronTerribleFuryUpdate
        SpecialPowerTemplate        = SpecialAbilityScreech
        AwardXPForTriggering        = 0
        TriggerSound                = SauronTerribleFury
        EffectRange                 = 200
        UnpackTime                  = 1000
        PreparationTime             = 1
        PackTime                    = 7000
    End

    Behavior = SquishCollide ModuleTag_Squish
    End





    Behavior = BannerCarrierUpdate BannerCarrierUpdateModuleTag
        IdleSpawnRate            = 3000
        UnitSpawnFX              = FX_BannerCarrierSpawnUnit

        ReplenishNearbyHorde     = Yes
        ReplenishAllNearbyHordes = Yes
        ScanHordeDistance        = 300
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_FearMe
        StartsActive     = Yes
        BonusName        = SauronFear
        RefreshDelay     = 5000
        Range            = 250.0
        ObjectFilter     = ANY +INFANTRY +CAVALRY
        TargetEnemy      = Yes
        MaxActiveRank    = 1
    End

    Behavior = SpecialPowerModule ModuleTag_EyeStarter
        SpecialPowerTemplate        = SpecialAbilityEyeOfSauronAntiCategory
        UpdateModuleStartsAttack    = No
        AntiCategory                = LEADERSHIP BUFF
        AttributeModifierAffects    = ANY +INFANTRY +CAVALRY -STRUCTURE -BASE_FOUNDATION  -HERO -HORDE
        AttributeModifier           = EyeOfSauronAntiCategory
        AttributeModifierRange      = 150.0
        StartsPaused                = No
    End

    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DreadVisage
        SpecialPowerTemplate        = SpecialAbilityFakeLeadership
        TriggeredBy                 = Upgrade_Level_1
    End

    Behavior = SpecialPowerModule ModuleTag_DreadVisageUpdate
        SpecialPowerTemplate        = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack    = Yes
        StartsPaused                = No
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FlammenschlagEnabler
        SpecialPowerTemplate = SpecialAbilitySauronFlammenschlag
        TriggeredBy          = Upgrade_Level_7
        ObeyRechageOnTrigger = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_Flammenschlag
        SpecialPowerTemplate = SpecialAbilitySauronFlammenschlag
        OCL                  = OCL_SauronFlammenschlagStrike
        CreateLocation       = CREATE_AT_LOCATION
        TriggerFX            = FX_SauronFlammenschlagSound
        StartsPaused         = Yes
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_VerdammtenEnabler
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        TriggeredBy                  = Upgrade_Level_4
    End

    Behavior = SpecialPowerModule ModuleTag_VerdammtenStarter
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        StartsPaused                 = Yes
        UpdateModuleStartsAttack     = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_VerdammtenWeaponFireUpdate
        SpecialPowerTemplate         = SpecialAbilityMachtderVerdammten
        WhichSpecialWeapon           = 1
        SkipContinue                 = Yes
        FreezeAfterTriggerDuration   = 100
        UnpackTime                   = 700
        PreparationTime              = 1
        PackTime                     = 100
        AwardXPForTriggering         = 0
        StartAbilityRange            = 270
        SpecialWeapon                = MachtderVerdammtenWeapon
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FireballEnabler
        SpecialPowerTemplate      = SpecialAbilitySarumanFireball
        TriggeredBy               = Upgrade_Level_7
    End

    Behavior = SpecialPowerModule ModuleTag_FireballStarter
        SpecialPowerTemplate      = SpecialAbilitySarumanFireball
        UpdateModuleStartsAttack  = Yes
        StartsPaused              = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_FireballUpdate
        SpecialPowerTemplate      = SpecialAbilitySarumanFireball
        WhichSpecialWeapon        = 1
        SkipContinue              = Yes
        UnpackTime                = 800
        PreparationTime           = 1
        PersistentPrepTime        = 1000
        PackTime                  = 100
        AwardXPForTriggering      = 0
        StartAbilityRange         = SARUMAN_FIREBALL_RANGE
        MustFinishAbility         = Yes
        SpecialWeapon             = SauronDunklerFeuerball
    End

    Behavior = AutoAbilityBehavior ModuleTag_FirBallAutoAbility
        SpecialAbility            = SpecialAbilitySarumanFireball
        MaxScanRange              = #SUBTRACT( SARUMAN_FIREBALL_RANGE 25 )
        Query                     = 1 ALL ENEMIES -STRUCTURE
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_RingLeadership
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership2
        TriggeredBy               = Upgrade_Level_1
    End

    Behavior = SpecialPowerModule ModuleTag_TheodenLeadershipUpdateRing
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership2
        UpdateModuleStartsAttack  = No
        StartsPaused              = No
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_LeadershipRing
        StartsActive              = Yes
        BonusName                 = RingNebeneffecktSauron
        RefreshDelay              = 2000
        Range                     = 99999999
        ObjectFilter              = ANY +MordorSchwarzeReiter +MordorSchwarzeReiterHorde +MordorNazgul_CGmod +MordorFellBeast_edainmod +MorgomirFellBeast +MordorWitchKingOnFellBeast +MordorFellBeast +MordorFellBeastInterface +GasthausKhamul +GasthausKhamulonFellBeast +MordorNazgul_Schattenfurst +MordorNazgul_Enthullung2 +MordorNazgul_Enthullung +MordorNazgulToggle +MordorNazgulToggleHorde ALLIES
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_IgniteEnabler
        SpecialPowerTemplate      = SpecialAbilityDunklerWille
        TriggeredBy               = Upgrade_Level_10
    End

    Behavior = SpecialPowerModule ModuleTag_IgniteStarter
        SpecialPowerTemplate         = SpecialAbilityDunklerWille
	UpdateModuleStartsAttack     = Yes
        StartsPaused                 = Yes
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_IgniteUpdate
        SpecialPowerTemplate               = SpecialAbilityDunklerWille
        UnpackingVariation                 = 1
        UnpackTime                         = 100
        PackTime                           = 2500
        AwardXPForTriggering               = 0
        HeroAttributeModifier              = SauronDunklerWille
        HeroEffectDuration                 = 30000
		FreezeAfterTriggerDuration   	   = 2500
    End

    Behavior = FireWeaponUpdate FireWeaponUpdateModuleTag
        FireWeaponNugget
            WeaponName = MordorSauronHeroEffect
            FireDelay  = 2000
            OneShot    = No
        End
        HeroModeTrigger = Yes
    End

    Behavior = FireWeaponUpdate FireWeaponUpdateModuleTagExplosion
        FireWeaponNugget
            WeaponName = MordorSauronHeroEffect2
            FireDelay  = 5000
            OneShot    = No
        End
        HeroModeTrigger = Yes
    End

    Behavior = AutoAbilityBehavior ModuleTag_DunklerWilleAutoAbility
		SpecialAbility		= SpecialAbilityDunklerWille
		ForbiddenStatus 	= INSIDE_GARRISON
		MaxScanRange		= 60
		Query			= 3 ANY +HERO ENEMIES
		Query			= 40 ALL ENEMIES
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DominateSauronRingEnabler
        SpecialPowerTemplate         = SpecialAbilityDominateEnemySauronRing
        TriggeredBy                  = Upgrade_Level_6
        ObeyRechageOnTrigger         = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_DominateEnemySauronRingSpecialPowerModule
        SpecialPowerTemplate         = SpecialAbilityDominateEnemySauronRing
        StartsPaused                 = Yes
        UpdateModuleStartsAttack     = Yes
    End

    Behavior = DominateEnemySpecialPower ModuleTag_DominateEnemySauronRingSpecialPower
        SpecialPowerTemplate         = SpecialAbilityDominateEnemySauronRing
        UnpackingVariation           = 1
        StartAbilityRange            = 200.0
        AttributeModifierAffects     = ALL -HERO -DOZER -MOVE_ONLY -STRUCTURE ENEMIES NEUTRAL
        DominateRadius               = 120
        DominatedFX                  = FX_SauronDominateTargets
        TriggerFX                    = FX_SauronDominateTrigger
        UnpackTime                   = 2000
        PreparationTime              = 1
        PermanentlyConvert           = No
        FreezeAfterTriggerDuration   = 3500
     End







        Behavior                         = UnpauseSpecialPowerUpgrade ModuleTag_UglukMedicineEnabler
            SpecialPowerTemplate         = SpecialAbilitySauronHealing
            TriggeredBy                  = Upgrade_Level_4
            ObeyRechageOnTrigger         = Yes
        End

        Behavior                         = SpecialPowerModule ModuleTag_UglukMedicine
            SpecialPowerTemplate         = SpecialAbilitySauronHealing
            UpdateModuleStartsAttack     = Yes
            StartsPaused                 = No
            TriggerFX                    = FX_EineRing
        End

        Behavior                         = SpecialAbilityUpdate ModuleTag_UglukMedicineUpdate
            SpecialPowerTemplate         = SpecialAbilitySauronHealing
            StartAbilityRange            = 1.6
            UnpackTime                   = 1
            PreparationTime              = 3
            PackTime                     = 2096
            AwardXPForTriggering         = 0
        End

        Behavior                         = AutoHealBehavior ModuleTag_MedicineHealing
            StartsActive                 = Yes
            ButtonTriggered              = No
            HealingAmount                = 7000
            Radius                       = 15
            HealOnlyOthers               = No
            SingleBurst                  = Yes
            UnitHealPulseFX              = FX_EineRing
            KindOf                       = HERO
       End

	Behavior = AutoAbilityBehavior ModuleTag_MedicineAutoAbility
		SpecialAbility	= SpecialAbilitySauronHealing
		MaxScanRange	= 150
		Query		= 1 NONE +HERO ALLIES
	End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FiresOfDoomEnabler
        SpecialPowerTemplate     = FiresOfDoomSpecialPower
        TriggeredBy              = Upgrade_Level_12
        ObeyRechageOnTrigger     = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_FiresOfDoom
	SpecialPowerTemplate		= FiresOfDoomSpecialPower
	UpdateModuleStartsAttack	= Yes
	StartsPaused			= Yes
	InitiateSound			= SauronVoxBlackspeechFiresOfDoom
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_FiresOfDoomUpdate
	SpecialPowerTemplate    = FiresOfDoomSpecialPower
	WhichSpecialWeapon	= 2
	SkipContinue		= Yes
	UnpackTime              = 900
	PreparationTime         = 1
	PersistentPrepTime      = 1500
	PackTime                = 1100
	FreezeAfterTriggerDuration = 2500
	AwardXPForTriggering    = 0
	StartAbilityRange	= 600.0
	MustFinishAbility	= Yes
	SpecialWeapon		= SauronFiresOfDoomWeaponNew
    End

    Behavior = AutoAbilityBehavior ModuleTag_FiresOfDoomAutoAbility
        SpecialAbility           = FiresOfDoomSpecialPower
        Query                    = 10 ANY ENEMIES +INFANTRY +CAVALRY
        Query                    = 1 ALL ENEMIES
    End






    Behavior                     = UnpauseSpecialPowerUpgrade ModuleTag_ArrowWindEnabler
        SpecialPowerTemplate     = SpecialAbilitySauronBlitze
        TriggeredBy              = Upgrade_Level_7
        ObeyRechageOnTrigger     = Yes
    End

    Behavior                     = SpecialPowerModule ModuleTag_ArrowWindStarter
        SpecialPowerTemplate     = SpecialAbilitySauronBlitze
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
    End

    Behavior                     = ArrowStormUpdate ModuleTag_ArrowWindUpdate
        SpecialPowerTemplate     = SpecialAbilitySauronBlitze
        StartAbilityRange        = 250.0
        UnpackTime               = 1000
        PreparationTime          = 200
        PersistentPrepTime       = 600
        PackTime                 = 1200
        UnpackingVariation       = 1
        ParalyzeDurationWhenCompleted   = 600
        ParalyzeDurationWhenAborted     = 800
        ApproachRequiresLOS             = Yes
        AwardXPForTriggering            = 0
        WeaponTemplate                  = SauronBlitze
        TargetRadius                    = 250
        ShotsPerTarget                  = 1
        ShotsPerBurst                   = 5
        MaxShots                        = 50
        CanShootEmptyGround             = Yes
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FinsternisEnabler
        SpecialPowerTemplate = SpecialAbilityVerschlingendeFinsternis
        TriggeredBy          = Upgrade_Level_13
        ObeyRechageOnTrigger = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_OCLSpecialPowerFinsternis
        SpecialPowerTemplate = SpecialAbilityVerschlingendeFinsternis
        OCL                  = OCL_SummonVerschlingendeFinsternis
        CreateLocation       = CREATE_AT_LOCATION
        StartsPaused         = Yes
        TriggerFX            = FX_VerschlingendeFinsternisNekromant
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MouthOfSauronDissentEnabler
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        TriggeredBy                 = Upgrade_Level_5
        ObeyRechageOnTrigger        = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentStarter
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        StartsPaused                = Yes
         UpdateModuleStartsAttack   = Yes
    End

    Behavior = ActivateModuleSpecialPower ModuleTag_MouthOfSauronDissentMover
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        StartAbilityRange           = 300
        TriggerSpecialPower         = ModuleTag_MouthOfSauronDissentTrigger TARGETPOS
    End

    Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentTrigger
        SpecialPowerTemplate        = SpecialAbilityMouthOfSauronDissent
        AttributeModifier           = MouthOfSauronDissentModifier
        AttributeModifierRange      = MOUTH_OF_SAURON_DISSENT_RADIUS
        AttributeModifierAffects    = ANY +INFANTRY +CAVALRY +MONSTER -HERO
        TriggerFX                   = FX_MouthOfSauronDissent
        UpdateModuleStartsAttack    = No
        StartsPaused                = Yes
        TargetAllSides              = Yes
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TolinGaurhothEnabler
        SpecialPowerTemplate   = SpecialAbilityTolinGaurhoth
        TriggeredBy            = Upgrade_Level_10
        ObeyRechageOnTrigger   = Yes
    End

    Behavior = OCLSpecialPower ModuleTag_TolinGaurhothOCLSpecialPower
        SpecialPowerTemplate   = SpecialAbilityTolinGaurhoth
        OCL                    = OCL_SummonTolinGaurhoth
        CreateLocation         = CREATE_AT_LOCATION
        StartsPaused           = Yes
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DunklerSchleierEnabler
        SpecialPowerTemplate         = SpecialAbilityDunklerSchleierNekromant
        TriggeredBy                  = Upgrade_Level_6
        ObeyRechageOnTrigger         = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_DunklerSchleierStarter
        SpecialPowerTemplate         = SpecialAbilityDunklerSchleierNekromant
        StartsPaused                 = Yes
        UpdateModuleStartsAttack     = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_DunklerSchleierWeaponFireUpdate
        SpecialPowerTemplate         = SpecialAbilityDunklerSchleierNekromant
        WhichSpecialWeapon           = 1
        SkipContinue                 = Yes
        FreezeAfterTriggerDuration   = 1000
        UnpackTime                   = 900
        PreparationTime              = 1
        PackTime                     = 1100
        AwardXPForTriggering         = 0
        StartAbilityRange            = 270
        SpecialWeapon                = DunklerSchleierNekromantWeapon
    End

    Behavior = AutoAbilityBehavior ModuleTag_DunklerSchleierAutoAbility
        SpecialAbility           = SpecialAbilityDunklerSchleierNekromant
        Query                    = 10 ANY ALLIES +STRUCTURE
    End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_BlickFakeLeadership
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership
        TriggeredBy               = Upgrade_Level_1
    End

    Behavior = SpecialPowerModule ModuleTag_BlickFakeLeadershipUpdate
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack  = No
        StartsPaused              = Yes
    End

    Behavior = StealthDetectorUpdate StealthDetectorUpdateModuleTag
        DetectionRate       = 10
        DetectionRange      = 400
        CancelOneRingEffect = Yes
    End

    Behavior = AttributeModifierAuraUpdate ModuleTag_DreadVisage2
        StartsActive        = No
        BonusName           = HerrderSchattenDebuff
        TriggeredBy         = Upgrade_Level_5
        RefreshDelay        = 2000
        Range               = 300
        TargetEnemy         = Yes
        AntiCategory        = LEADERSHIP BUFF STUN STRUCTURE SPELL
        ObjectFilter        = ANY +INFANTRY +CAVALRY -STRUCTURE -BASE_FOUNDATION +HERO +HORDE
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_KnechtschaftEnabler
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        TriggeredBy              = Upgrade_Level_7
    End

    Behavior = SpecialPowerModule ModuleTag_KnechtschaftStarter
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_KnechtschaftUpdate
        SpecialPowerTemplate     = SpecialAbilityEwigeKnechtschaft
        SkipContinue             = Yes
        UnpackTime               = 1100
        PreparationTime          = 1
        PersistentPrepTime       = 500
        PackTime                 = 500
        MustFinishAbility        = Yes
        AwardXPForTriggering     = 0
        StartAbilityRange        = 1000000
        SpecialWeapon            = EwigeKnechtschaftWeapon
        WhichSpecialWeapon       = 1
    End

    Behavior = AutoAbilityBehavior ModuleTag_KnechtschaftAutoAbility
        SpecialAbility  = SpecialAbilityEwigeKnechtschaft
        MaxScanRange    = 150
        Query           = 1 NONE +MordorWraith
    End





    Behavior = AttributeModifierUpgrade ModuleTag_HerrderErdeBonus
        TriggeredBy         = Upgrade_HerrderErde
        AttributeModifier   = HerrderErdeModifier
    End

    Behavior = AttributeModifierUpgrade ModuleTag_HerrderErdeBonus2
        TriggeredBy         = Upgrade_HerrderErde Upgrade_Level_15
        RequiresAllTriggers = Yes
        AttributeModifier   = HerrderErdeModifier2
    End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_HerrscherEnabler
        SpecialPowerTemplate     = SpecialAbilityHerrscherdesFeuers
        TriggeredBy              = Upgrade_Level_14
    End

    Behavior = SpecialPowerModule ModuleTag_HerrscherStarter
        SpecialPowerTemplate     = SpecialAbilityHerrscherdesFeuers
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_HerrscherWeaponFireUpdate
        SpecialPowerTemplate     = SpecialAbilityHerrscherdesFeuers
        WhichSpecialWeapon       = 1
        SkipContinue             = Yes
        UnpackTime               = 1700
        PackTime                 = 1
        FreezeAfterTriggerDuration = 2500
        AwardXPForTriggering     = 0
        StartAbilityRange        = 80.0
        SpecialWeapon            = HerrscherdesFeuersWeapon
    End





  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WordOfPowerSauronEnabler
    SpecialPowerTemplate     = SpecialAbilityWordOfPowerSauron
    TriggeredBy              = Upgrade_Level_15
  End

  Behavior = SpecialPowerModule ModuleTag_WordStarter
    SpecialPowerTemplate      	= SpecialAbilityWordOfPowerSauron
    UpdateModuleStartsAttack  	= Yes
    StartsPaused                = Yes
  End

  Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WordWeaponFireUpdate
        SpecialPowerTemplate    = SpecialAbilityWordOfPowerSauron
        WhichSpecialWeapon      = 3
        SkipContinue            = Yes
        UnpackTime              = 1700
        PackTime                = 1
        FreezeAfterTriggerDuration = 2500
        AwardXPForTriggering    = 0
		BusyForDuration		= 3000
        StartAbilityRange       = GANDALF_WORD_OF_POWER_RANGE

        SpecialWeapon           = SauronWordOfPower
    End

    Behavior = AutoAbilityBehavior ModuleTag_WordWeaponAutoAbility
		SpecialAbility		= SpecialAbilityWordOfPowerSauron
		ForbiddenStatus 	= INSIDE_GARRISON
		MaxScanRange		= GANDALF_WORD_OF_POWER_RANGE
		Query			= 40 ALL ENEMIES
    End






    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_ErscheinungEnabler
        SpecialPowerTemplate             = SpecialAbilityEalendrilUntergangMittelerdes
        TriggeredBy                      = Upgrade_AllFactionUpgrade
        ObeyRechageOnTrigger             = Yes
    End

    Behavior   = DarknessSpecialPower ModuleTag_Erscheinung
        SpecialPowerTemplate             = SpecialAbilityEalendrilUntergangMittelerdes
        AttributeModifier                = SpellBookDarkness
        AttributeModifierAffects         = ANY +INFANTRY +CAVALRY +MONSTER -HERO -HORDE ALLIES
        AttributeModifierWeatherBased    = Yes
        WeatherDuration                  = SPELL_DARKNESS_DURATION
        ChangeWeather                    = CLOUDY
        AvailableAtStart                 = Yes
    End

    Behavior = DoCommandUpgrade Module_DoCommandUpgradeErscheinung
        TriggeredBy                      = Upgrade_AllFactionUpgrade
        GetUpgradeCommandButtonName      = Command_SpecialAbilityEalendrilUntergangMittelerdes
    End

    Behavior = RemoveUpgradeUpgrade ModuleTag_RemoveSilmaril
        TriggeredBy                   = Upgrade_AllFactionUpgrade
        UpgradeToRemove               = Upgrade_FortressRingHero Upgrade_RingHero
        RemoveFromAllPlayerObjects    = Yes
        SuppressEvaEventForRemoval    = Yes
    End

    Behavior = FXListDie ModuleTag_AnnounceWeLostTheRing
        DeathFX             = GandalfAnnounceFortressDeathLostRingFX
    End

    Behavior = CreateObjectDie ModuleTag_DropTheRing
        CreationList    = OCL_TheOneRing
    End





    Behavior = CommandButtonHuntUpdate ModuleTag_CommandButtonHuntUpdate
    End

    Behavior = AutoHealBehavior ModuleTag_AutoHeal
        StartsActive            = Yes
        HealingAmount           = HERO_HEAL_AMOUNT_SILMARIL
        HealingDelay            = 1000
        StartHealingDelay       = HERO_HEAL_DELAY_SILMARIL
        HealOnlyIfNotInCombat   = Yes
    End





    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel2
        TriggeredBy     = Upgrade_Level_2
        Delay           = 0
        ThingToSpawn    = Held2RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel3
        TriggeredBy     = Upgrade_Level_3
        Delay           = 0
        ThingToSpawn    = Held3RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel4
        TriggeredBy     = Upgrade_Level_4
        Delay           = 0
        ThingToSpawn    = Held4RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel5
        TriggeredBy     = Upgrade_Level_5
        Delay           = 0
        ThingToSpawn    = Held5RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel6
        TriggeredBy     = Upgrade_Level_6
        Delay           = 0
        ThingToSpawn    = Held6RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel7
        TriggeredBy     = Upgrade_Level_7
        Delay           = 0
        ThingToSpawn    = Held7RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel8
        TriggeredBy     = Upgrade_Level_8
        Delay           = 0
        ThingToSpawn    = Held8RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel9
        TriggeredBy     = Upgrade_Level_9
        Delay           = 0
        ThingToSpawn    = Held9RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel10
        TriggeredBy     = Upgrade_Level_10
        Delay           = 0
        ThingToSpawn    = Held10RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel11
        TriggeredBy     = Upgrade_Level_11
        Delay           = 0
        ThingToSpawn    = Held11RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel12
        TriggeredBy     = Upgrade_Level_12
        Delay           = 0
        ThingToSpawn    = Held12RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel13
        TriggeredBy     = Upgrade_Level_13
        Delay           = 0
        ThingToSpawn    = Held13RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel14
        TriggeredBy     = Upgrade_Level_14
        Delay           = 0
        ThingToSpawn    = Held14RespawnLevel
    End

    Behavior = ObjectCreationUpgrade ModuleTag_GiveUpgradeForRespawnLevel15
        TriggeredBy     = Upgrade_Level_15
        Delay           = 0
        ThingToSpawn    = Held15RespawnLevel
    End






    Behavior = GrantUpgradeCreate ModuleTag_EnableCirithUngol
        UpgradeToGrant      = Upgrade_GarnisonCirithUngols
        GiveOnBuildComplete = Yes
    End

    Behavior = GrantUpgradeCreate ModuleTag_EnableDolGuldur
        UpgradeToGrant      = Upgrade_SchreckenDolGuldurs
        GiveOnBuildComplete = Yes
    End

    Behavior = GrantUpgradeCreate ModuleTag_EnableMinasMorgul
        UpgradeToGrant      = Upgrade_StreitmachtMinasMorguls
        GiveOnBuildComplete = Yes
    End


    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_SauronBody

    AutoResolveArmor
        Armor = AutoResolve_WitchKingArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_SauronWeapon
    End

    AutoResolveLeadership = AutoResolve_AragornBonus






    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End

    Behavior = AISpecialPowerUpdate DominateAI
        CommandButtonName = Command_SauronEineRing_Test
        SpecialPowerAIType = AI_SPECIAL_POWER_DOMINATE_ENEMY
        SpecialPowerRadius = 200
    End

    Behavior = AISpecialPowerUpdate DissentAI
        CommandButtonName = Command_SauronDissent_Test
        SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
        SpecialPowerRadius = 300
    End

    Behavior = AISpecialPowerUpdate FiresOfDoomAI
        CommandButtonName = Command_SauronModFiresOfDoom_Test
        SpecialPowerAIType = AI_SPELLBOOK_ARMY_BREAKER
    End

    Behavior = AISpecialPowerUpdate TerribleFuryAI
        CommandButtonName = Command_SpecialAbilitySauronTerribleFury_Test
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate SpecialPowerAragornAthelas
        CommandButtonName = Command_SauronVerderbteLebenskraft_Test
        SpecialPowerAIType = AI_SPECIAL_POWER_SELFAOEHEALHEROS
        SpecialPowerRadius = 30.0
    End

    Behavior = AISpecialPowerUpdate AragornBladeMasterAI
        CommandButtonName = Command_SpecialAbilityDunklerWille_Test
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

    Behavior = AISpecialPowerUpdate HerrscherdesFeuers_AI
        CommandButtonName  = Command_SpecialAbilityHerrscherdesFeuers_SilmarilForm
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
        SpecialPowerRadius = 250
    End

    Behavior = AISpecialPowerUpdate SauronWordOfPowerAI
		CommandButtonName = Command_SpecialAbilityWordOfPowerSauron
		SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
		SpecialPowerRadius = 250
    End

    Behavior = AISpecialPowerUpdate SauronPitofDarkness_AI
        CommandButtonName  = Command_SpecialAbilityVerschlingendeFinsternisSauron
        SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
    End

    Geometry              = CYLINDER
    GeometryMajorRadius   = 11
    GeometryHeight        = 32
    GeometryIsSmall       = Yes

    Shadow                = SHADOW_DECAL
    ShadowSizeX           = 22
    ShadowSizeY           = 22
    ShadowTexture         = ShadowI
End