Object IsengardWargPack


    ButtonImage        = WOR_WargPack
    SelectPortrait     = UPWargPackPortrait

    Draw = W3DHordeModelDraw ModuleTag_01

        OkToChangeModelColor = Yes

        StaticModelLODMode = Yes

        LodOptions    = LOW
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_LOW
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_LOW
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_LOW
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_LOW
        End

        LodOptions    = MEDIUM
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_MED
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_MED
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_MED
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_MED
        End

        LodOptions    = HIGH
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_HIGH
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_HIGH
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_HIGH
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_HIGH
        End


        DefaultModelConditionState
            Model               = IUWarg_SKA
            Model               = IUWarg_SKB  ExtraMesh:Yes
            Model               = IUWarg_SKC  ExtraMesh:Yes
            Model               = IUWarg_SKD  ExtraMesh:Yes
            Model               = IUWarg_SKE  ExtraMesh:Yes
            Model               = IUWarg_SKF  ExtraMesh:Yes
            Model               = IUWarg_SKG  ExtraMesh:Yes

            Skeleton            = IUWarg_SKL
        End


        AnimationState                = PASSENGER
            Animation            = Grabbed
                AnimationName        = IUWarg_GBDA
                AnimationMode        = LOOP
            End
        End

        AnimationState                = FREEFALL
            Animation            = freefall
                AnimationName        = IUWarg_FLYA
                AnimationMode        = LOOP
                AnimationBlendTime    = 10
            End
        End

        AnimationState                =    DYING SPLATTED
            Animation            =    splatted
                AnimationName        =    IUWarg_LNDA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    STUNNED_FLAILING
            Animation            =    JustDie
                AnimationName           =    IUWarg_FLYA
                AnimationMode           =    LOOP
            End
        End

        AnimationState                =    DYING
            Animation            =    JustDie
                AnimationName        =    IUWarg_DIEA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    STUNNED
            Animation            =    Land
                AnimationName           =    IUWarg_LNDA
                AnimationMode           =    ONCE
            End
        End

        AnimationState                =    STUNNED_STANDING_UP
            Animation            =    StandUp
                AnimationName           =    IUWarg_GTPA
                AnimationMode           =    ONCE
            End
        End


        AnimationState                =    TURN_LEFT_HIGH_SPEED
            Animation            =    MTurnLeft
                AnimationName        =    IUWarg_TNL1
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    TURN_RIGHT_HIGH_SPEED
            Animation            =    MTurnRight
                AnimationName        =    IUWarg_TNR1
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    TURN_LEFT
            Animation            =    TurnRight
                AnimationName        =    IUWarg_TRNL
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange =     1.0 1.0
            End
        End

        AnimationState                =    TURN_RIGHT
            Animation            =    TurnRight
                AnimationName        =    IUWarg_TRNR
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange =     1.0 1.0
            End
        End

        AnimationState                =    MOVING ACCELERATE
            Animation            =    Accelerate
                AnimationName        =    IUWarg_ACCL
                AnimationMode        =    ONCE
            End
            ParticleSysBone                =     None GenericSiegeTrailDust
        End

        AnimationState                =    MOVING DECELERATE
            Animation            =    Decelerate
                AnimationName        =    IUWarg_DECL
                AnimationMode        =    ONCE
            End
            ParticleSysBone                =     None GenericSiegeTrailDust
        End

        AnimationState                =    MOVING
            ShareAnimation            =    Yes
            Animation                =    RunA
                AnimationName        =    IUWarg_RUNA
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    MOVING BACKING_UP
            Animation            =    BackingUp
                AnimationName        =    IUWarg_BAKA
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    MOVING ATTACKING
            ShareAnimation            =    Yes
            Animation            =    RunA
                AnimationName        =    IUWarg_RUNA
                AnimationMode        =    LOOP
            End

        End

        AnimationState                =    MOVING LEASHED_RETURNING
            ShareAnimation            =    Yes
            Animation            =    RunA
                AnimationName        =    IUWarg_RUNA
                AnimationMode        =    LOOP
            End

        End

        AnimationState                =    MOVING
            ShareAnimation            =    Yes
            Animation            =    WalkA
                AnimationName        =    IUWarg_WLKA
                AnimationMode        =    LOOP
                AnimationBlendTime    =    10
                AnimationPriority       =    10
                Distance        =       30
            End
            Animation            =    WalkB
                AnimationName        =    IUWarg_WLKB
                AnimationMode        =    LOOP
                AnimationBlendTime    =    10
                AnimationPriority       =    3
                Distance        =       30
            End
            Animation            =    WalkC
                AnimationName        =    IUWarg_WLKC
                AnimationMode        =    LOOP
                AnimationBlendTime    =    10
                AnimationPriority       =    3
                Distance        =       30
            End

        End


        AnimationState                =    BETWEEN_FIRING_SHOTS_A
            Animation            =    BetweenFiringShots
                AnimationName        =    IUWarg_IDLA
                AnimationMode        =    LOOP
                AnimationBlendTime    =       10
            End
        End

        AnimationState                =    FIRING_OR_PREATTACK_A
            Animation            =    AttackA3
                AnimationName        =    IUWarg_ATKA
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
                AnimationBlendTime      =    10
            End
        End

        AnimationState                =    ATTACKING
            Animation            =    AttackA3
                AnimationName        =    IUWarg_ATKA
                AnimationMode        =    LOOP
                AnimationBlendTime    =       10
            End
        End


        AnimationState = WAR_CHANT
            Animation = Chant
                AnimationName = IUWarg_TNTA
                AnimationMode = LOOP
            End
        End


        AnimationState                = EMOTION_TAUNTING
            Animation            = TNTA
                AnimationName        = IUWarg_TNTA
                AnimationMode        = LOOP
            End
        End

        AnimationState                = EMOTION_CELEBRATING
            Animation                       = CHRA
                AnimationName        = IUWarg_CHRA
                AnimationMode        = ONCE
            End
        End


        AnimationState                = EMOTION_ALERT
            StateName            = STATE_Ready
            Animation            = ALERT
                AnimationName        = IUWarg_IDLA
                AnimationMode        = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Ready") end
            EndScript
        End


        AnimationState                =    SELECTED
            SimilarRestart            =       Yes
            Animation            =    AtAttention
                AnimationName        =    IUWarg_ATNB
                AnimationMode        =    LOOP
            End
            StateName            =     Selected
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("Idle_to_Selected") end
                if Prev == "STATE_Ready" then CurDrawableSetTransitionAnimState("Ready_to_Selected") end
            EndScript
        End

        IdleAnimationState
            Animation
                AnimationName        =    IUWarg_IDLC
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
                AnimationPriority       =    1
            End
            Animation
                AnimationName        =    IUWarg_IDLB
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
                AnimationPriority       =    1
            End
            Animation
                AnimationName        =    IUWarg_IDLD
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
                AnimationPriority       =    20
            End
            StateName            =     Idle
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Idle") end
            EndScript
        End


        TransitionState                   = Selected_to_Idle
            Animation                   = ATNE
                AnimationName        =    IUWarg_ATNC
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange =     0.7 1.3
            End
        End

        TransitionState                   = Idle_to_Selected
            Animation                   = ATND
                AnimationName         =     IUWarg_ATNA
                AnimationMode       =    ONCE
                AnimationSpeedFactorRange =     0.7 1.3
            End
        End

    End


    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End


     #include "..\..\..\includes\StunDrawModuleMedium.inc"


      Side             = Isengard
      EditorSorting         = UNIT
      ThreatLevel         = 2.0
      TransportSlotCount     = TRANSPORTSLOTCOUNT_UNIT

      WeaponSet
          Conditions     = None
          Weapon         = PRIMARY    WargPackWeapon_Edain
      End

      ArmorSet
          Conditions      = None
          Armor           = WargPackArmor
          DamageFX        = NormalDamageFX
      End


      BuildFadeInOnCreateTime = 0

        VisionRange         = 250
        ShroudClearingRange     = 450

      VisionSide         = 35%
      VisionRear         = 25%

      MaxVisionBonusPercent     = 300%
      VisionBonusTestRadius     = 200
      VisionBonusPercentPerFoot = 2.0%

      BountyValue         = ISENGARD_WARGPACK_BOUNTY_VALUE
      DisplayName         = OBJECT:IsengardWargPack

      CommandSet = WargRiderCommandSet
       CommandPoints = 4

    CrushableLevel         = 2
    CrusherLevel         = 1

    CrushWeapon         = LightCavalryCrushWeapon

    MinCrushVelocityPercent = MINCRUSHVELOCITYPERCENT_STANDARD
    CrushDecelerationPercent = CRUSHDECELERATIONPERCENT_STANDARD

    RamPower = 30
    RamZMult = 0.5



      VoiceSelect = NeutralWargVoxSelect
      VoiceMove = NeutralWargVoxMove
      VoiceAttack = NeutralWargVoxAttack

      SoundAmbient                = WargAmbienceVOX
      SoundImpact                = ImpactHorse

      ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
          MaxUpdateRangeCap = 800
          AnimationSound = Sound:WargMoveFootsteps Animation:IUWarg_SKL.IUWarg_RUNA Frames:0
          AnimationSound = Sound:WargMoveFootsteps Animation:IUWARG_SKL.IUWARG_TNL1 Frames:0
          AnimationSound = Sound:WargMoveFootsteps Animation:IUWARG_SKL.IUWARG_TNR1 Frames:0
          AnimationSound = Sound:WargMoveFootsteps Animation:IUWARG_SKL.IUWARG_TRNL Frames:0
          AnimationSound = Sound:WargMoveFootsteps Animation:IUWARG_SKL.IUWARG_TRNR Frames:0
          AnimationSound = Sound:WargMoveFootsteps Animation:IUWARG_SKL.IUWARG_ACCL Frames:0
          AnimationSound = Sound:WargTauntCallouts Animation:IUWarg_SKL.IUWarg_TNTA Frames:26 Animation:IUWarg_SKL.IUWarg_ATND Frames:7 Animation:IUWarg_SKL.IUWarg_HWLA Frames:17
          AnimationSound = Sound:WargTauntFootstep Animation:IUWarg_SKL.IUWarg_TNTA Frames:7 12 64 73
      End

      Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
          Key = Warg
      End




      RadarPriority = UNIT
      ThingClass = HORDE_UNIT

      KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SCORE GRAB_AND_DROP

      Body = ActiveBody BodyModuleTag
          CheerRadius            = EMOTION_CHEER_RADIUS
          MaxHealth              = 450
          MaxHealthDamaged       = 100
          BurningDeathBehavior   = Yes
          BurningDeathFX         = FX_CavalryBurningFlame
      End

      Behavior = AIUpdateInterface ModuleTag_03
          AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
          AILuaEventsList            = WargRiderFunctions
          BurningDeathTime           = BURNINGDEATH_DURATION_CAVALRY
      End

      LocomotorSet
          Locomotor = NormalHorseHordeMemberLocomotor
          Condition = SET_NORMAL
          Speed     = NORMAL_MOUNTED_FAST_MEMBER_SPEED
      End

      LocomotorSet
          Locomotor = BurningDeathLocomotorCavalry
          Condition = SET_BURNINGDEATH
          Speed      = BURNINGDEATH_WANDERSPEED_CAVALRY
      End

      Behavior = PhysicsBehavior ModuleTag_04
          GravityMult       = 1.0
          ShockStandingTime = 2533
      End

      Behavior = HordeMemberCollide ModuleTag_HMC

      End

      Behavior = SquishCollide ModuleTag_06

      End

      Behavior = SlowDeathBehavior ModuleTag_08
          DeathTypes       = ALL -EXTRA_8
          SinkDelay        = 5000
          SinkRate         = 1.50
          DestructionDelay = 17000
          Sound            = INITIAL WargVoxDie
      End

  Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.5
        DestructionDelay = 8000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus = DEATH_4
        StartsActive   = Yes
        DelayTime      = 0
        DeathWeapon    = GrabandDropHorsesImpactWarhead
        WeaponOffset   = X:0 Y:0 Z:0
  End

  Behavior = BezierProjectileBehavior ModuleTag_BodyHitHorse
        FirstHeight               = 24
        SecondHeight              = 24
        FirstPercentIndent        = 30%
        SecondPercentIndent       = 70%
        TumbleRandomly            = Yes
        CrushStyle                = Yes
        DieOnImpact               = Yes
        BounceCount               = 1
        BounceDistance            = 40
        BounceFirstHeight         = 24
        BounceSecondHeight        = 24
        BounceFirstPercentIndent  = 20%
        BounceSecondPercentIndent = 80%
        GroundHitFX               = FX_GrabandDropHorsesGroundHit
        GroundBounceFX            = FX_GrabandDropHorsesGroundHit
  End

      Geometry               	= CYLINDER
      GeometryMajorRadius    	= 16
      GeometryMinorRadius    	= 16
      GeometryHeight         	= 20.0
      GeometryIsSmall        	= No

      Shadow           		= SHADOW_DECAL
      ShadowSizeX      		= 30
      ShadowSizeY      		= 20
      ShadowTexture    		= ShadowI
End



Object AngmarWeiﬂerWarg


    ButtonImage        = HSWeiﬂeWarge
    SelectPortrait     = UPWeiﬂeWarge

    Draw = W3DHordeModelDraw ModuleTag_01

        OkToChangeModelColor = Yes
        StaticModelLODMode   = Yes

        LodOptions    = LOW
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_LOW
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_LOW
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_LOW
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_LOW
        End

        LodOptions    = MEDIUM
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_MED
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_MED
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_MED
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_MED
        End

        LodOptions    = HIGH
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_HIGH
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_HIGH
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_HIGH
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_HIGH
        End


        DefaultModelConditionState
            Model               = KUDireWolf_SKC
            Skeleton            = KUDireWolf_SKL
        End


        AnimationState                = PASSENGER
            Animation            = Grabbed
                AnimationName        = KUDireWolf_GBDA
                AnimationMode        = LOOP
            End
        End

        AnimationState                = FREEFALL
            Animation            = freefall
                AnimationName        = KUDireWolf_FLYA
                AnimationMode        = LOOP
                AnimationBlendTime    = 10
            End
        End

        AnimationState                =    DYING BURNINGDEATH
            Animation
                AnimationName        =    KUDireWolf_DIEA
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
            End
        End

        AnimationState                =    DYING SPLATTED
            Animation            =    splatted
                AnimationName        =    KUDireWolf_LNDA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    STUNNED_FLAILING
            Animation            =    JustDie
                AnimationName           =    KUDireWolf_FLYA
                AnimationMode           =    LOOP
            End
        End

        AnimationState                =    DYING
            Animation
                AnimationName        =    KUDireWolf_DIEA
                AnimationMode        =    ONCE
            End
            Animation
                AnimationName        =    KUDireWolf_DIEB
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    BURNINGDEATH
            Animation
                AnimationName           =    KUDireWolf_MFDA
                AnimationMode           =    LOOP
                Distance        =    50
            End
        End

    AnimationState            = STUNNED_FLAILING
        Animation
            AnimationName   = KUDireWolf_FLYA
            AnimationMode   = LOOP
            AnimationSpeedFactorRange    = 0.4 0.6
        End
    End


        AnimationState                =    STUNNED
            Animation            =    Land
                AnimationName           =    KUDireWolf_LNDA
                AnimationMode           =    ONCE
            End
        End

        AnimationState                =    STUNNED_STANDING_UP
            Animation            =    StandUp
                AnimationName           =    KUDireWolf_GTPA
                AnimationMode           =    ONCE
            End
        End


        AnimationState                =    TURN_LEFT_HIGH_SPEED
            Animation            =    MTurnLeft
                AnimationName        =    KUDireWolf_TNL1
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    TURN_RIGHT_HIGH_SPEED
            Animation            =    MTurnRight
                AnimationName        =    KUDireWolf_TNR1
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    TURN_LEFT
            Animation            =    TurnRight
                AnimationName        =    KUDireWolf_TRNL
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange =     2.0 2.0
            End
        End

        AnimationState                =    TURN_RIGHT
            Animation            =    TurnRight
                AnimationName        =    KUDireWolf_TRNR
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange =     2.0 2.0
            End
        End

        AnimationState                =    MOVING ACCELERATE
            Animation            =    Accelerate
                AnimationName        =    KUDireWolf_ACCL
                AnimationMode        =    ONCE
            End
            ParticleSysBone                =     None GenericSiegeTrailDust
        End

        AnimationState                =    MOVING DECELERATE
            Animation            =    Decelerate
                AnimationName        =    KUDireWolf_DECL
                AnimationMode        =    ONCE
            End

        End

        AnimationState                =    MOVING BACKING_UP
            Animation            =    BackingUp
                AnimationName        =    KUDireWolf_BAKA
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    MOVING
            ShareAnimation            =    Yes
            Animation            =    RunA
                AnimationName        =    KUDireWolf_RUNA
                AnimationMode        =    LOOP
            End

            Flags               = RANDOMSTART
        End


        AnimationState                =    BETWEEN_FIRING_SHOTS_A
            Animation            =    BetweenFiringShots
                AnimationName        =    KUDireWolf_IDLA
                AnimationMode        =    ONCE
                AnimationBlendTime    =       10
            End
        End

        AnimationState                =    FIRING_OR_PREATTACK_A
            Animation
                AnimationName        =    KUDireWolf_ATKB
                AnimationMode        =    LOOP
                AnimationBlendTime      =    10
            End
        End

        AnimationState                =    ATTACKING
            Animation
                AnimationName        =    KUDireWolf_ATKA
                AnimationMode        =    LOOP
                AnimationBlendTime    =       10
            End
            Animation
                AnimationName        =    KUDireWolf_ATKB
                AnimationMode        =    LOOP
                UseWeaponTiming        =    Yes
                AnimationBlendTime      =    10
            End
        End


        AnimationState = WAR_CHANT
            Animation = Chant
                AnimationName = KUDireWolf_TNTA
                AnimationMode = LOOP
            End
        End


        AnimationState                = EMOTION_TAUNTING
            Animation            = TNTA
                AnimationName        = KUDireWolf_TNTA
                AnimationMode        = LOOP
            End
        End

        AnimationState                = EMOTION_CELEBRATING
            Animation                       = CHRA
                AnimationName        = KUDireWolf_TNTA
                AnimationMode        = LOOP
            End
        End


        AnimationState                = EMOTION_ALERT
            StateName            = STATE_Ready
            Animation            = ALERT
                AnimationName        = KUDireWolf_IDLA
                AnimationMode        = ONCE
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Ready") end
            EndScript
        End


        AnimationState                = SELECTED
            SimilarRestart            = Yes
            Animation            = AtAttention
                AnimationName        = KUDireWolf_ATNB
                AnimationMode        = LOOP
            End
            StateName            = Selected
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("Idle_to_Selected") end
                if Prev == "STATE_Ready" then CurDrawableSetTransitionAnimState("Ready_to_Selected") end
            EndScript
        End

        IdleAnimationState
            StateName                = STATE_Idle
            Animation                = IDLB
                AnimationName       = KUDireWolf_IDLB
                AnimationMode       = ONCE
                AnimationPriority   = 20
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLC
                AnimationName       = KUDireWolf_IDLC
                AnimationMode       = ONCE
                AnimationPriority   = 5
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLD
                AnimationName       = KUDireWolf_IDLD
                AnimationMode       = ONCE
                AnimationPriority   = 1
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Idle") end
            EndScript
        End


        TransitionState       = Selected_to_Idle
            Animation                   = ATNE
                AnimationName        =    KUDireWolf_ATNC
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.7 1.3
            End
        End

        TransitionState       = Idle_to_Selected
            Animation                   = ATND
                AnimationName         = KUDireWolf_ATNA
                AnimationMode       =    ONCE
                AnimationSpeedFactorRange = 0.7 1.3
            End
        End

    End

    Draw = W3DScriptedModelDraw DustEffects
        DefaultModelConditionState
          Model = None
        End
        IdleAnimationState
        End
        AnimationState = MOVING WADING
            ParticleSysBone = None FootstepSlash
        End
        AnimationState = MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOVING
        End
    End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bhorsebox
        End
    End


     #include "..\..\..\includes\StunDrawModuleMedium.inc"


      Side                  = Angmar
      EditorSorting         = UNIT
      ThreatLevel           = 2.0
      TransportSlotCount    = TRANSPORTSLOTCOUNT_UNIT

      WeaponSet
          Conditions     = None
          Weapon         = PRIMARY    WargPackWeapon_Edain
      End

      ArmorSet
          Conditions      = None
          Armor           = WhiteWolfArmor
          DamageFX        = NormalDamageFX
      End

      BuildFadeInOnCreateTime = 0

      VisionRange         = 150
      ShroudClearingRange = 250

      VisionSide         = 35%
      VisionRear         = 25%

      MaxVisionBonusPercent     = 300%
      VisionBonusTestRadius     = 200
      VisionBonusPercentPerFoot = 2.0%

      BountyValue           = 25
      DisplayName           = OBJECT:AngmarWeiﬂerWarg
      CrushableLevel        = 2

      CommandSet    = AngmarWhiteWargCommandSet
      CommandPoints = 5

      CrushableLevel       = 2
      CrusherLevel         = 1

      CrushWeapon          = LightCavalryCrushWeapon

    MinCrushVelocityPercent = MINCRUSHVELOCITYPERCENT_STANDARD
    CrushDecelerationPercent = CRUSHDECELERATIONPERCENT_STANDARD

      RamPower = 30
      RamZMult = 0.5



    SoundAmbient                = WargAmbienceVOX
    SoundImpact                 = ImpactHorse

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_RUNA Frames:0
        AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_TNL1 Frames:0
        AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_TNR1 Frames:0
        AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_TRNL Frames:0
        AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_TRNR Frames:0
        AnimationSound = Sound:WargMoveFootsteps Animation:KUDireWolf_ACCL Frames:0
        AnimationSound = Sound:NeutralWargVoxAttack Animation:KUDireWolf_TNTA Frames:26 Animation:KUDireWolf_ATND Frames:7 Animation:KUDireWolf_HWLA Frames:17
        AnimationSound = Sound:WargTauntFootstep Animation:KUDireWolf_TNTA Frames:7 12 64 73
    End

      Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
          Key = Warg
      End



      RadarPriority = UNIT
      ThingClass = HORDE_UNIT

      KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CAVALRY SCORE GRAB_AND_DROP

      Body = ActiveBody BodyModuleTag
          CheerRadius          = EMOTION_CHEER_RADIUS
          MaxHealth            = 700
          MaxHealthDamaged     = 350
          BurningDeathBehavior = Yes
          BurningDeathFX       = FX_CavalryBurningFlame
      End

      Behavior = AIUpdateInterface ModuleTag_03
          AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
          BurningDeathTime    = BURNINGDEATH_DURATION_CAVALRY
      End

    LocomotorSet
        Locomotor = NormalHorseHordeMemberLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_MOUNTED_FAST_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor = BurningDeathLocomotorCavalry
        Condition = SET_BURNINGDEATH
        Speed      = BURNINGDEATH_WANDERSPEED_CAVALRY
    End

      Behavior = PhysicsBehavior ModuleTag_04
          GravityMult       = 1.0
          ShockStandingTime = 2533
      End

      Behavior = HordeMemberCollide ModuleTag_HMC
      End

      Behavior = SquishCollide ModuleTag_06
      End

      Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = FighterHorde
      End

      Behavior = SlowDeathBehavior ModuleTag_08
          DeathTypes       = ALL -EXTRA_8
          SinkDelay        = 5000
          SinkRate         = 1.50
          DestructionDelay = 17000
          Sound            = INITIAL WargVoxDie
      End

  Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.5
        DestructionDelay = 8000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus = DEATH_4
        StartsActive   = Yes
        DelayTime      = 0
        DeathWeapon    = GrabandDropHorsesImpactWarhead
        WeaponOffset   = X:0 Y:0 Z:0
  End

  Behavior = BezierProjectileBehavior ModuleTag_BodyHitHorse
        FirstHeight               = 24
        SecondHeight              = 24
        FirstPercentIndent        = 30%
        SecondPercentIndent       = 70%
        TumbleRandomly            = Yes
        CrushStyle                = Yes
        DieOnImpact               = Yes
        BounceCount               = 1
        BounceDistance            = 40
        BounceFirstHeight         = 24
        BounceSecondHeight        = 24
        BounceFirstPercentIndent  = 20%
        BounceSecondPercentIndent = 80%
        GroundHitFX               = FX_GrabandDropHorsesGroundHit
        GroundBounceFX            = FX_GrabandDropHorsesGroundHit
  End

      Geometry               = CYLINDER
      GeometryMajorRadius    = 16
      GeometryMinorRadius    = 16
      GeometryHeight         = 20.0
      GeometryIsSmall        = No

      Shadow          = SHADOW_DECAL
      ShadowSizeX     = 30
      ShadowSizeY     = 20
      ShadowTexture   = ShadowI
End

ChildObject AngmarWeiﬂerWarg_Slaved AngmarWeiﬂerWarg

    KindOf = +CREEP
    CommandPoints = 0
    Scale = 1.1

    Behavior = SlavedUpdate ModuleTag_Slave
        GuardMaxRange       = 300
        GuardWanderRange    = 150
        UseSlaverAsControlForEvaObjectSightedEvents = Yes
    End
End

Object DerUnbezahmbare


    ButtonImage    = HSUnbezahmbarer
    SelectPortrait = UPUnbezahmbarer

    Draw = W3DHordeModelDraw ModuleTag_01

        OkToChangeModelColor = Yes
        StaticModelLODMode   = Yes


        LodOptions    = LOW
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_LOW
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_LOW
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_LOW
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_LOW
        End

        LodOptions    = MEDIUM
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_MED
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_MED
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_MED
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_MED
        End

        LodOptions    = HIGH
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_HIGH
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_HIGH
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_HIGH
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_HIGH
        End

        RandomTexture = iuunbez‰hmbare.tga 0 IUWargSntryA.tga
        RandomTexture = iuunbez‰hmbare.tga 0 IUWargSntryB.tga

        DefaultModelConditionState
            Model                   = IUWarg_SKN
            Skeleton                = IUWarg_SKL
        End


        AnimationState                        = PASSENGER
            Animation                        = Grabbed
                AnimationName                = IUWarg_GBDA
                AnimationMode                = LOOP
            End
        End

        AnimationState                        = FREEFALL
            Animation                        = freefall
                AnimationName                = IUWarg_FLYA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End

        AnimationState                =    DYING BURNINGDEATH
            Animation
                AnimationName        =    IUWarg_DIEA
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
            End
        End

        AnimationState                =    DYING SPLATTED
            Animation                =    splatted
                AnimationName        =    IUWarg_LNDA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    STUNNED_FLAILING
            Animation                =    JustDie
                AnimationName       =    IUWarg_FLYA
                AnimationMode       =    LOOP
            End
        End

        AnimationState                =    DYING
            Animation                =    JustDie
                AnimationName        =    IUWarg_DIEA
                AnimationMode        =    ONCE
            End
        End

        AnimationState                =    BURNINGDEATH
            Animation
                AnimationName       =    IUWarg_MFDA
                AnimationMode       =    LOOP
                Distance            =    50
            End
        End

        AnimationState                =    STUNNED
            Animation                =    Land
                AnimationName       =    IUWarg_LNDA
                AnimationMode       =    ONCE
            End
        End

        AnimationState                =    STUNNED_STANDING_UP
            Animation                =    StandUp
                AnimationName       =    IUWarg_GTPA
                AnimationMode       =    ONCE
            End
        End


        AnimationState                =    TURN_LEFT_HIGH_SPEED
            Animation                =    MTurnLeft
                AnimationName        =    IUWarg_TNL1
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    TURN_RIGHT_HIGH_SPEED
            Animation                =    MTurnRight
                AnimationName        =    IUWarg_TNR1
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    TURN_LEFT
            Animation                =    TurnRight
                AnimationName        =    IUWarg_TRNL
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange = 2.0 2.0
            End
        End

        AnimationState                =    TURN_RIGHT
            Animation                =    TurnRight
                AnimationName        =    IUWarg_TRNR
                AnimationMode        =    LOOP
                AnimationSpeedFactorRange = 2.0 2.0
            End
        End

        AnimationState                =    MOVING ACCELERATE
            Animation                =    Accelerate
                AnimationName        =    IUWarg_ACCL
                AnimationMode        =    ONCE
            End
            ParticleSysBone                = None GenericSiegeTrailDust
        End

        AnimationState                =    MOVING DECELERATE
            Animation                =    Decelerate
                AnimationName        =    IUWarg_DECL
                AnimationMode        =    ONCE
            End
            ParticleSysBone                = None GenericSiegeTrailDust
        End

        AnimationState                =    MOVING BACKING_UP
            Animation                =    BackingUp
                AnimationName        =    IUWarg_BAKA
                AnimationMode        =    LOOP
            End
        End

        AnimationState                =    MOVING
            ShareAnimation            =    Yes
            Animation                =    RunA
                AnimationName        =    IUWarg_RUNA
                AnimationMode        =    LOOP
            End

        End


        AnimationState                =    BETWEEN_FIRING_SHOTS_A
            Animation                =    BetweenFiringShots
                AnimationName        =    IUWarg_IDLA
                AnimationMode        =    LOOP
                AnimationBlendTime    =   10
            End
        End

        AnimationState                =    FIRING_OR_PREATTACK_A
            Animation                =    AttackA3
                AnimationName        =    IUWarg_ATKA
                AnimationMode        =    ONCE
                UseWeaponTiming        =    Yes
                AnimationBlendTime  =    10
            End
        End

        AnimationState                =    ATTACKING
            Animation                =    AttackA3
                AnimationName        =    IUWarg_ATKA
                AnimationMode        =    LOOP
                AnimationBlendTime    =   10
            End
        End


        AnimationState = WAR_CHANT
            Animation = Chant
                AnimationName = IUWarg_TNTA
                AnimationMode = LOOP
            End
        End


        AnimationState                    = EMOTION_TAUNTING
            Animation                    = TNTA
                AnimationName            = IUWarg_TNTA
                AnimationMode            = LOOP
            End
        End

        AnimationState                    = EMOTION_CELEBRATING
            Animation                   = CHRA
                AnimationName            = IUWarg_CHRA
                AnimationMode            = ONCE
            End
        End


        AnimationState                            = EMOTION_ALERT
            StateName                            = STATE_Ready
            Animation                            = ALERT
                AnimationName                    = IUWarg_IDLA
                AnimationMode                    = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Ready") end
            EndScript
        End


        AnimationState                =    SELECTED
            SimilarRestart            =   Yes
            Animation                =    AtAttention
                AnimationName        =    IUWarg_ATNB
                AnimationMode        =    LOOP
            End
            StateName                = Selected
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle" then CurDrawableSetTransitionAnimState("Idle_to_Selected") end
                if Prev == "STATE_Ready" then CurDrawableSetTransitionAnimState("Ready_to_Selected") end
            EndScript
        End

        IdleAnimationState
            Animation
                AnimationName        =    IUWarg_IDLC
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
                AnimationPriority   =    20
            End
            Animation
                AnimationName        =    IUWarg_IDLB
                AnimationMode        =    ONCE
                AnimationBlendTime    =    10
                AnimationPriority   =    1
            End
            StateName                = Idle
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Idle") end
            EndScript
        End


        TransitionState       = Selected_to_Idle
            Animation           = ATNE
                AnimationName        =    IUWarg_ATNC
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.7 1.3
            End
        End

        TransitionState       = Idle_to_Selected
            Animation           = ATND
                AnimationName     = IUWarg_ATNA
                AnimationMode   =    ONCE
                AnimationSpeedFactorRange = 0.7 1.3
            End
        End

    End


    Draw = W3DScriptedModelDraw DustEffects
        DefaultModelConditionState
          Model = None
        End
        IdleAnimationState
        End
        AnimationState = MOVING WADING
            ParticleSysBone = None FootstepSlash
        End
        AnimationState = MOVING ACCELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOVING DECELERATE
            ParticleSysBone = None GenericSiegeTrailDust
        End
        AnimationState = MOVING
        End
    End



    Side                = Isengard
    EditorSorting       = UNIT
    ThreatLevel         = 2.0
    TransportSlotCount  = TRANSPORTSLOTCOUNT_UNIT
    BuildCost           = 400
    BuildTime           = WEAK_BUILDTIME
    CommandPoints       = 10
    Scale               = 1.36
    MaxSimultaneousOfType = 1

    WeaponSet
        Conditions = None
        Weapon = PRIMARY    UnbezahmbarerWeapon
    End

    ArmorSet
        Conditions      = None
        Armor           = HeroArmorMounted
        DamageFX        = NormalDamageFX
    End

    VisionRange = 300
    ShroudClearingRange = 300

    BountyValue = ISENGARD_WARGRIDER_BOUNTY_VALUE
    DisplayName = OBJECT:DerUnbezahmbare

    CrushableLevel = 3
    CrusherLevel = 2

    CrushWeapon         = UnbezahmbareCrush

    MinCrushVelocityPercent = MINCRUSHVELOCITYPERCENT_STANDARD
    CrushDecelerationPercent = CRUSHDECELERATIONPERCENT_STANDARD

    RamPower = 30
    RamZMult = 0.5
    IsTrainable        = No

    CommandSet = CreepCommandSet




    VoiceSelect = NeutralWargVoxSelect
    VoiceMove = NeutralWargVoxMove
    VoiceAttack = NeutralWargVoxAttack


    SoundAmbient               = WargAmbienceVOX
    SoundImpact                = ImpactHorse





      EvaEnemyObjectSightedEvent = WargRiderCreepSighted
     EvaEnemyObjectSightedAfterRespawnEvent = WargRiderCreepSighted



    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:WargMoveFootsteps Animation:IUWarg_SKL.IUWarg_RUNA Frames:0
        AnimationSound = Sound:WargMoveFootsteps Animation:IUWARG_SKL.IUWARG_TNL1 Frames:0
        AnimationSound = Sound:WargMoveFootsteps Animation:IUWARG_SKL.IUWARG_TNR1 Frames:0
        AnimationSound = Sound:WargMoveFootsteps Animation:IUWARG_SKL.IUWARG_TRNL Frames:0
        AnimationSound = Sound:WargMoveFootsteps Animation:IUWARG_SKL.IUWARG_TRNR Frames:0
        AnimationSound = Sound:WargMoveFootsteps Animation:IUWARG_SKL.IUWARG_ACCL Frames:0

        AnimationSound = Sound:WargTauntCallouts Animation:IUWarg_SKL.IUWarg_TNTA Frames:26 Animation:IUWarg_SKL.IUWarg_ATND Frames:7 Animation:IUWarg_SKL.IUWarg_HWLA Frames:17
        AnimationSound = Sound:WargTauntFootstep Animation:IUWarg_SKL.IUWarg_TNTA Frames:7 12 64 73

    End


    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Warg
    End




    RadarPriority = UNIT
    ThingClass = CAVALRY_UNIT

    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CAVALRY PATH_THROUGH_INFANTRY GRAB_AND_DROP HAS_HEALTH_BAR CREEP SCORE

    Body = ActiveBody BodyModuleTag
        MaxHealth            = 3000
        BurningDeathBehavior = Yes
        BurningDeathFX       = FX_CavalryBurningFlame
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = FighterHorde
    End

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
		MoodAttackCheckRate           = 500
		AILuaEventsList               = WargRiderFunctions
		BurningDeathTime              = BURNINGDEATH_DURATION_CAVALRY
	End


    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes
        MoodAttackCheckRate        = 500
    End

    LocomotorSet
        Locomotor = WargLocomotor
        Condition = SET_NORMAL
        Speed     = 90
    End

    LocomotorSet
        Locomotor = BurningDeathLocomotorCavalry
        Condition = SET_BURNINGDEATH
        Speed     = BURNINGDEATH_WANDERSPEED_CAVALRY
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 3800
    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = SlowDeathBehavior ModuleTag_08
        DeathTypes = ALL
        SinkDelay = 5000
        SinkRate = 1.50
        DestructionDelay = 17000
        Sound = INITIAL WargVoxDie
    End

    Behavior = AnimalAIUpdate ModuleTagWanderAround
        WanderPercentage     = 80
        MaxWanderDistance    = 150
        MaxWanderRadius      = 999999
        UpdateTimer          = 1
        AfraidOfCastles      = No
    End

    Geometry            = CYLINDER
    GeometryMajorRadius = 20
    GeometryHeight        = 25.0
    GeometryIsSmall        = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 35
    ShadowSizeY = 25
    ShadowTexture = ShadowI

End


