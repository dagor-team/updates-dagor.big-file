Object IsengardUrukHauptmann1

  ButtonImage    = HSUrukhauptmann
  SelectPortrait = UPUrukhauptmann

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_IsengardUrukHauptmann1

  Draw = W3DHordeModelDraw ModuleTag_01

    OkToChangeModelColor = No
    StaticModelLODMode   = No

    DefaultModelConditionState
        Model = iuurukleade
        Skeleton = IUUrukahi_SKL
    End

    ModelConditionState WEAPONSET_PLAYER_UPGRADE
        Model = iuurukleade
        Skeleton = IUUrukahi_SKL
    End

    ModelConditionState = WEAPONSET_HERO_MODE
        ParticleSysBone = BAT_CHEST BladeMaster FollowBone:Yes
    End

    IdleAnimationState
        Animation = IDLB
            AnimationName = IUUrukahi_IDLB
            AnimationMode = ONCE
            AnimationPriority = 20
        End
        Animation = IDLG
            AnimationName = IUUrukahi_IDLG
            AnimationMode = ONCE
            AnimationPriority = 1
        End
        Animation = IDLD
            AnimationName = IUUrukahi_IDLD
            AnimationMode = ONCE
            AnimationPriority = 2
        End
        StateName = Idle
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoard") end
        EndScript
    End

    AnimationState                        = PASSENGER
        Animation                        = Falling
            AnimationName                = IUUrukahi_FLLA
            AnimationMode                = LOOP
        End
    End

    AnimationState                        = FREEFALL
        Animation                        = FLYA
            AnimationName                = IUUrukahi_FLYA
            AnimationMode                = LOOP
            AnimationSpeedFactorRange    = 0.5    0.5
            AnimationBlendTime            = 5
        End
    End

    AnimationState            = STUNNED_FLAILING
        Animation           = StunFlail
            AnimationName   = IUUrukahi_FLYA
            AnimationMode   = LOOP
            AnimationSpeedFactorRange    = 0.4 0.6
        End
        Flags                        = MAINTAIN_FRAME_ACROSS_STATES2
    End

    AnimationState            = DYING BURNINGDEATH
        Animation
            AnimationName    = IUUrukahi_DIEA
            AnimationMode    = ONCE
            AnimationBlendTime = 10
        End
        Animation
            AnimationName    = IUUrukahi_DIEB
            AnimationMode    = ONCE
            AnimationBlendTime = 20
        End
        Animation
            AnimationName    = IUUrukahi_DIEC
            AnimationMode    = ONCE
            AnimationBlendTime = 20
        End
        Animation
            AnimationName    = IUUrukahi_DIEG
            AnimationMode    = ONCE
            AnimationBlendTime = 20
        End
    End

    AnimationState            = DYING SPLATTED
        Animation            = Splat
            AnimationName    = IUUrukahi_LNDA
            AnimationMode    = ONCE
        End
    End

    AnimationState = DYING
        Animation = DIEA
            AnimationName = IUUrukahi_DIEA
            AnimationMode = ONCE
            AnimationPriority = 1
            AnimationSpeedFactorRange    =    0.8 1.25
        End
        Animation = DIEB
            AnimationName = IUUrukahi_DIEB
            AnimationMode = ONCE
            AnimationPriority = 3
            AnimationSpeedFactorRange    =    0.8 1.25
        End
        Animation = DIEC
            AnimationName = IUUrukahi_DIEC
            AnimationMode = ONCE
            AnimationPriority = 2
            AnimationSpeedFactorRange    =    0.8 1.25
        End
        Animation = DIEG
            AnimationName = IUUrukahi_DIEG
            AnimationMode = ONCE
            AnimationPriority = 10
            AnimationSpeedFactorRange    =    0.8 1.25
        End
    End

    AnimationState = DYING DEATH_2
        Animation = ByeBye
            AnimationName = IUUrukahi_IDLA
            AnimationMode = LOOP
        End
    End

    AnimationState            = BURNINGDEATH
        Animation
            AnimationName    = IUUrukahi_MFDA
            AnimationMode    = LOOP
            Distance        = 50
        End
    End

    AnimationState                        = PARALYZED
        Animation
            AnimationName                = IUUrukahi_IDLA
            AnimationMode                = LOOP
        End
    End


    AnimationState        = STUNNED
        Animation           = LNDA
            AnimationName     = IUUrukahi_LNDA
            AnimationMode     = ONCE
        End
    End

    AnimationState        = STUNNED_STANDING_UP
        Animation           = GTPA
            AnimationName     = IUUrukahi_GTPA
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 1.5 1.5
        End
    End

    AnimationState        = THROWN_PROJECTILE
        Animation           = FLYA
            AnimationName     = IUUrukahi_FLYA
            AnimationMode     = LOOP
        End
    End




    AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_1
        Animation = grasping_siege_lefthanded
            AnimationName =  IUUrukahi_BATB
            AnimationMode = ONCE

        End
    End

    AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_2
        Animation = grasping_siege_righthanded
            AnimationName = IUUrukahi_BATA
            AnimationMode = ONCE

        End
    End

    AnimationState = FIRING_OR_PREATTACK_B PASSENGER PASSENGER_VARIATION_1
        Animation = grasping_siege_lefthanded
            AnimationName =  IUUrukahi_BATB
            AnimationMode = ONCE

        End
    End
    AnimationState = FIRING_OR_PREATTACK_B PASSENGER PASSENGER_VARIATION_2
        Animation = grasping_siege_righthanded
            AnimationName = IUUrukahi_BATA
            AnimationMode = ONCE

        End
    End

    AnimationState = FIRING_OR_PREATTACK_C PASSENGER PASSENGER_VARIATION_1
        Animation = grasping_siege_lefthanded
            AnimationName =  IUUrukahi_BATB
            AnimationMode = ONCE

        End
    End
    AnimationState = FIRING_OR_PREATTACK_C PASSENGER PASSENGER_VARIATION_2
        Animation = grasping_siege_righthanded
            AnimationName = IUUrukahi_BATA
            AnimationMode = ONCE

        End
    End

    AnimationState = MOVING FIRING_OR_PREATTACK_A
        Animation = TrotAndFire
            AnimationName = IUUrukahi_ATRA
            AnimationMode = LOOP
        End
        Flags = RANDOMSTART

    End




    AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_1
        Animation = moving_siege_lefthanded
            AnimationName =  IUUrukahi_BRNB
            AnimationMode = LOOP_BACKWARDS
        End
    End
    AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_2
        Animation = moving_siege_righthanded
            AnimationName = IUUrukahi_BRNA
            AnimationMode = LOOP_BACKWARDS
        End
    End

    AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_1
        Animation = moving_siege_lefthanded
            AnimationName =  IUUrukahi_BRNB
            AnimationMode = LOOP_BACKWARDS
        End
    End
    AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_2
        Animation = moving_siege_righthanded
            AnimationName = IUUrukahi_BRNA
            AnimationMode = LOOP
        End
    End

    AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_1
        Animation = moving_siege_lefthanded
            AnimationName =  IUUrukahi_BRNB
            AnimationMode = LOOP
        End
    End
    AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_2
        Animation = moving_siege_righthanded
            AnimationName = IUUrukahi_BRNA
            AnimationMode = LOOP_BACKWARDS
        End
    End

    AnimationState = MOVING PASSENGER PASSENGER_VARIATION_1
        Animation = moving_siege_lefthanded
            AnimationName =  IUUrukahi_BRNB
            AnimationMode = LOOP
            AnimationSpeedFactorRange    =    0.7 0.7
        End
    End
    AnimationState = MOVING PASSENGER PASSENGER_VARIATION_2
        Animation = moving_siege_righthanded
            AnimationName = IUUrukahi_BRNA
            AnimationMode = LOOP
            AnimationSpeedFactorRange    =    0.7 0.7
        End
    End


    AnimationState = MOVING CLIMBING BACKING_UP
        Animation = Climbing_Down
            AnimationName = IUUrukahi_CLMA
            AnimationMode = LOOP_BACKWARDS
            AnimationSpeedFactorRange = 2.0 2.0
        End
    End

    AnimationState = MOVING CLIMBING
        Animation = Climbing_Up
            AnimationName = IUUrukahi_CLMA
            AnimationMode = LOOP
            AnimationSpeedFactorRange = 2.0 2.0
        End
    End

    AnimationState = MOVING EMOTION_TERROR
        Animation = TERRORIZED
            AnimationName = IUUrukahi_RUNC
            AnimationMode = LOOP
        End
        Flags = RANDOMSTART
        ParticleSysBone = None InfantryDustTrails
    End

    AnimationState = MOVING BACKING_UP
        Animation = BackingUp
            AnimationName = IUUrukahi_BAKA
            AnimationMode = LOOP
        End
        Flags = RANDOMSTART
    End

    AnimationState = MOVING ALTERNATE_FORMATION
        Animation = Moving
            AnimationName = IUUrukahi_SPCA
            AnimationMode = LOOP
            Distance        = 25
        End
        Flags = RANDOMSTART
        ParticleSysBone = None InfantryDustTrails
    End
    AnimationState = MOVING
        Animation = Moving
            AnimationName = IUUrukahi_RUNA
            AnimationMode = LOOP
        End
        Flags = RANDOMSTART
        ParticleSysBone = None InfantryDustTrails
    End

    AnimationState = FIRING_OR_PREATTACK_A
        Animation = ATKA
            AnimationName = IUUrukahi_ATKA
            AnimationMode = ONCE
        End
        Animation = ATKC
            AnimationName = IUUrukahi_ATKC
            AnimationMode = ONCE
            AnimationSpeedFactorRange    =    0.7 0.7
        End
        Animation = ATKB
            AnimationName = IUUrukahi_ATKB
            AnimationMode = ONCE
        End
    End

    AnimationState = FIRING_OR_PREATTACK_B
        Animation = ATKA
            AnimationName = IUUrukahi_ATKA
            AnimationMode = ONCE
        End
        Animation = ATKC
            AnimationName = IUUrukahi_ATKC
            AnimationMode = ONCE
            AnimationSpeedFactorRange    =    0.7 0.7
        End
        Animation = ATKB
            AnimationName = IUUrukahi_ATKB
            AnimationMode = ONCE
        End
    End

    AnimationState = FIRING_OR_PREATTACK_C
        Animation = ATKA
            AnimationName = IUUrukahi_ATKA
            AnimationMode = ONCE
        End
        Animation = ATKC
            AnimationName = IUUrukahi_ATKC
            AnimationMode = ONCE
            AnimationSpeedFactorRange    =    0.7 0.7
        End
        Animation = ATKB
            AnimationName = IUUrukahi_ATKB
            AnimationMode = ONCE
        End
    End

    AnimationState = WAR_CHANT
        Animation = Chant
            AnimationName = IUUrukahi_TNTA
            AnimationMode = LOOP
        End
    End

    AnimationState                            = EMOTION_UNCONTROLLABLY_AFRAID
        Animation                            = FERA
            AnimationName                    = IUUrukahi_FERA
            AnimationMode                    = LOOP
        End
        Flags = RANDOMSTART
    End



    AnimationState                            = EMOTION_AFRAID
        Animation                            = FERA
            AnimationName                    = IUUrukahi_FERA
            AnimationMode                    = LOOP
        End
        Flags = RANDOMSTART
    End

    AnimationState = BETWEEN_FIRING_SHOTS_A
        Animation = Wait
            AnimationName = IUUrukahi_IDLA
            AnimationMode = ONCE
        End
    End

     AnimationState = ATTACKING
        Animation = IdleAllAttacksComeFrom
            AnimationName = IUUrukahi_IDLA
            AnimationMode = LOOP
        End
    End

    AnimationState                            = EMOTION_TAUNTING
        Animation                            = TNTA
            AnimationName                    = IUUrukahi_TNTA
            AnimationMode                    = LOOP
            AnimationBlendTime                = 10
            AnimationSpeedFactorRange        = 0.8 1.2
        End
        Flags                                = RANDOMSTART
    End

    AnimationState                            = EMOTION_POINTING
        Animation                            = Pointing1
            AnimationName                    = IUUrukahi_PNTA
            AnimationMode                    = LOOP
        End
        Flags                                = RANDOMSTART
    End

    AnimationState                            = EMOTION_CELEBRATING
        Animation                            = CHRA
            AnimationName                    = IUUrukahi_CHRA
            AnimationMode                    = ONCE
            AnimationBlendTime                = 10
        End
        Animation                            = CHRB
            AnimationName                    = IUUrukahi_CHRB
            AnimationMode                    = ONCE
            AnimationBlendTime                = 10
        End
        Animation                            = TNTA
            AnimationName                    = IUUrukahi_TNTA
            AnimationMode                    = ONCE
            AnimationBlendTime                = 10
        End
        Flags                = RESTART_ANIM_WHEN_COMPLETE
    End

    AnimationState                            = EMOTION_ALERT
        Animation                            = ALERT
            AnimationName                    = IUUrukahi_IDLA
            AnimationMode                    = LOOP
        End
        Flags                                = RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
    End


    AnimationState        = RAISING_FLAG
        Animation
            AnimationName = IUUrukahi_CHRA
            AnimationMode = ONCE
            AnimationSpeedFactorRange = 0.9 1.1
        End
        Animation
            AnimationName = IUUrukahi_CHRB
            AnimationMode = ONCE
            AnimationSpeedFactorRange = 0.9 1.1
        End
        Flags = RESTART_ANIM_WHEN_COMPLETE
    End

    AnimationState        = SELECTED
        StateName           = STATE_Selected
        Animation           = ATNB
            AnimationName     = IUUrukahi_ATNB
            AnimationMode     = LOOP
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
        EndScript
    End

    TransitionState       = TRANS_IdleToSelected
        Animation           = ATNA
            AnimationName     = IUUrukahi_ATNA
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 0.9 1.0
        End
    End

    TransitionState       = TRANS_SelectedToGuard
        Animation           = ATNB
            AnimationName     = IUUrukahi_ATNB
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 0.9 1.0
        End
    End

    TransitionState        = TRANS_SelectedToBoard
        Animation            = ATNC
            AnimationName    = IUUrukahi_ATNC
            AnimationMode    = ONCE
            AnimationSpeedFactorRange = 0.9 1.0
        End
    End

    AnimationState = PASSENGER PASSENGER_VARIATION_1
        Animation = idle_siege_lefthanded
            AnimationName =  IUUrukahi_BIDB
            AnimationMode = LOOP
        End
    End
    AnimationState = PASSENGER PASSENGER_VARIATION_2
        Animation = idle_siege_righthanded
            AnimationName = IUUrukahi_BIDA
            AnimationMode = LOOP
        End
    End

    AnimationState WEAPONSET_PLAYER_UPGRADE
        Animation = IDLA
            AnimationName = IUUrukahi_IDLA
            AnimationMode = LOOP
        End
        StateName    = Idle
        Flags        = RANDOMSTART
    End

    AnimationState = ALTERNATE_FORMATION
        Animation = IDLB
            AnimationName = IUUrukahi_IDLA
            AnimationMode = LOOP
            AnimationPriority = 20
        End
    End
  End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"


    Side               = Isengard
    EditorSorting      = UNIT
    ThreatLevel        = 1.0
    ThingClass         = HORDE_UNIT
    EmotionRange       = 240
    CommandPoints      = 0
    CommandSet         = IsengardUrukHauptmannCommandSet1
    Scale              = 1.15
    ShowHealthInSelectionDecal = Yes
    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
    BuildCost          = 750
    BuildTime          = ELITE_BUILDTIME
    ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG
    DisplayMeleeDamage = 170
    MaxSimultaneousOfType = 1

    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    UrukHauptmannSword
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    ArmorSet
        Conditions      = None
        Armor           = EdainWarriorHeroArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_STANDARD_HORSE
    ShroudClearingRange = SHROUD_CLEAR_HERO

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue         = 50
    DisplayName         = OBJECT:IsengardUrukHauptmann
    CrushableLevel      = 1
    CrusherLevel        = 0
    CrushRevengeWeapon  = BasicInfantryCrushRevenge

    BuildFadeInOnCreateTime = 0



            VoiceAttack                             = HeroUrukHaiVoiceAttack
            VoiceAttackAir                          = HeroUrukHaiVoiceAttack
            VoiceAttackCharge                       = HeroUrukHaiVoiceAttack
            VoiceAttackMachine                      = HeroUrukHaiVoiceAttack
            VoiceAttackStructure                    = HeroUrukHaiVoiceAttack
            VoiceCreated                            = HeroUrukHaiVoiceSalute
            VoiceFear                               = HeroUrukHaiVoiceHelpMe
            VoiceFullyCreated                       = HeroUrukHaiVoiceSalute
            VoiceGuard                              = HeroUrukHaiVoiceMove
            VoiceMove                               = HeroUrukHaiVoiceMove
            VoiceMoveToCamp                         = HeroUrukHaiVoiceMove
            VoiceMoveWhileAttacking                 = HeroUrukHaiVoiceMove
            VoicePriority                           = 80
            VoiceRetreatToCastle                    = HeroUrukHaiVoiceMove
            VoiceSelect                             = HeroUrukHaiVoiceSelectMS
            VoiceSelectBattle                       = HeroUrukHaiVoiceSelectBattle

            SoundImpact                             = ImpactHorse

            UnitSpecificSounds
                VoiceEnterUnitElvenTransportShip    = HeroUrukHaiVoiceMove
                VoiceEnterUnitMordorMumakil         = HeroUrukHaiVoiceMove
                VoiceEnterUnitSlaughterHouse        = HeroUrukHaiVoiceMove
                VoiceEnterUnitTransportShip         = HeroUrukHaiVoiceMove
                VoiceGarrison                       = HeroUrukHaiVoiceMove
                VoiceInitiateCaptureBuilding        = HeroUrukHaiVoiceCaptureBuilding
            End

    CrowdResponseKey = Uruk

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionUrukCompilationVoxTauntSinglesLoop
    End

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Orc_Infantry UrukHai_Swordman
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallOrc             Animation:IUUrukahi_SKL.IUUrukahi_DIEA    Frames:18
        AnimationSound = Sound:BodyFallOrc             Animation:IUUrukahi_SKL.IUUrukahi_DIEB    Frames:30
        AnimationSound = Sound:BodyFallOrc             Animation:IUUrukahi_SKL.IUUrukahi_DIEC    Frames:28
        AnimationSound = Sound:BodyFallGeneric2        Animation:IUUrukahi_SKL.IUUrukahi_DIEG    Frames:115
        AnimationSound = Sound:BodyFallOrc             Animation:IUUrukahi_SKL.IUUrukahi_LNDA    Frames:2
        AnimationSound = Sound:BodyFallGeneric2        Animation:IUUrukahi_SKL.IUUrukahi_LNDA    Frames:37
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_USE_SIEGE_TOWER URUK GRAB_AND_DROP ARMY_SUMMARY CAN_ATTACK

    ThreatBreakdown   = IsengardBeserker_DetailedThreat
        AIKindOf      = INFANTRY
    End

    Body = ActiveBody ModuleTag_02
        CheerRadius        = EMOTION_CHEER_RADIUS
        MaxHealth          = 2400
        MaxHealthDamaged   = 600
        CheerRadius        = EMOTION_CHEER_RADIUS
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
    AILuaEventsList               = IsengardFighterFunctions
    MoodAttackCheckRate           = 500
    AttackPriority                = AttackPriority_Infantry
    BurningDeathTime              = BURNINGDEATH_DURATION_INFANTRY
  End

    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = AttributeModifierUpgrade ModuleTag_AMU
        AttributeModifier = FearlessForever
    End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = NORMAL_EVIL_FAST_MEMBER_SPEED
  End

  LocomotorSet
    Locomotor = BurningDeathLocomotorInfantry
    Condition = SET_BURNINGDEATH
    Speed      = BURNINGDEATH_WANDERSPEED_INFANTRY
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
    ShockStandingTime = 2533
  End

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -EXTRA_8
    SinkDelay = 3000
    SinkRate = 0.40
    DestructionDelay = 8000
    Sound = INITIAL UrukVoiceDie
  End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_LurtzCarnage
        SpecialPowerTemplate    = SpecialAbilityLurtzCarnageMod
        TriggeredBy             = Upgrade_ObjectLevel2
    End

    Behavior = SpecialPowerModule ModuleTag_LurtzCarnageStarter
        SpecialPowerTemplate         = SpecialAbilityLurtzCarnageMod
        StartsPaused                 = Yes
        AttributeModifier            = LurtzCarnage
        AttributeModifierAffectsSelf = Yes
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_CarnageUpdate
        SpecialPowerTemplate    = SpecialAbilityLurtzCarnageMod
        HeroEffectDuration      = 20000
        UnpackTime              = 1
    End

    Behavior = AutoAbilityBehavior ModuleTag_BladeOfPurityAutoAbility
	SpecialAbility	= SpecialAbilityLurtzCarnageMod
	ForbiddenStatus = INSIDE_GARRISON
	MaxScanRange	= 200
	Query		= 15 ALL ENEMIES
    End


    Behavior = SpecialPowerModule ModuleTag_LeadershipAnzeige
        SpecialPowerTemplate        = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack    = No
        StartsPaused                = No
    End

    Behavior = FireWeaponUpdate ModuleTag_FireWeapon
        FireWeaponNugget
            WeaponName = UrukHauptmannModifierWeapon
            FireDelay = 0
            OneShot = No
        End
    End

    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End

    Behavior = AutoHealBehavior ModuleTag_LurtzHealing
       StartsActive          = Yes
       HealingAmount         = HERO_HEAL_AMOUNT
       HealingDelay          = 2000
       StartHealingDelay     = HERO_HEAL_DELAY
       HealOnlyIfNotInCombat = Yes
    End

    Behavior = SquishCollide ModuleTag_06
    End





    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName  = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName  = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName  = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End

    Behavior = AISpecialPowerUpdate CaptainCarnageAI
        CommandButtonName = Command_SpecialAbilityLurtzCarnageMod
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

  Geometry            = CYLINDER
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 9.0
  GeometryHeight      = 20
  GeometryIsSmall     = Yes

  Shadow              = SHADOW_DECAL
  ShadowSizeX         = 22
  ShadowSizeY         = 22
  ShadowTexture       = ShadowI



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_MordorAttackTrollBody

    AutoResolveArmor
        Armor = AutoResolve_MordorAttackTrollArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_MordorAttackTrollWeapon
    End
End


Object IsengardUrukHauptmann2


  ButtonImage    = HSUrukHauptmann2
  SelectPortrait = UPUrukHauptmann2

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_IsengardUrukHauptmann2

  Draw = W3DHordeModelDraw ModuleTag_01

    OkToChangeModelColor = No
    StaticModelLODMode   = No


    DefaultModelConditionState
        Model = iuurukhaupb
        Skeleton = IUUrukahi_SKL
    End

    ModelConditionState WEAPONSET_PLAYER_UPGRADE
        Model = iuurukhaupb
        Skeleton = IUUrukahi_SKL
    End

    ModelConditionState = WEAPONSET_HERO_MODE
        ParticleSysBone = BAT_CHEST BladeMaster FollowBone:Yes
    End



    IdleAnimationState
        Animation = IDLB
            AnimationName = IUUrukahi_IDLB
            AnimationMode = ONCE
            AnimationPriority = 20
        End
        Animation = IDLG
            AnimationName = IUUrukahi_IDLG
            AnimationMode = ONCE
            AnimationPriority = 1
        End
        Animation = IDLD
            AnimationName = IUUrukahi_IDLD
            AnimationMode = ONCE
            AnimationPriority = 2
        End
        StateName = Idle
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoard") end
        EndScript
    End


    AnimationState                        = PASSENGER
        Animation                        = Falling
            AnimationName                = IUUrukahi_FLLA
            AnimationMode                = LOOP
        End
    End

    AnimationState                        = FREEFALL
        Animation                        = FLYA
            AnimationName                = IUUrukahi_FLYA
            AnimationMode                = LOOP
            AnimationSpeedFactorRange    = 0.5    0.5
            AnimationBlendTime            = 5
        End
    End

    AnimationState            = STUNNED_FLAILING
        Animation           = StunFlail
            AnimationName   = IUUrukahi_FLYA
            AnimationMode   = LOOP
            AnimationSpeedFactorRange    = 0.4 0.6
        End
        Flags                        = MAINTAIN_FRAME_ACROSS_STATES2
    End

    AnimationState            = DYING BURNINGDEATH
        Animation
            AnimationName    = IUUrukahi_DIEA
            AnimationMode    = ONCE
            AnimationBlendTime = 10
        End
        Animation
            AnimationName    = IUUrukahi_DIEB
            AnimationMode    = ONCE
            AnimationBlendTime = 20
        End
        Animation
            AnimationName    = IUUrukahi_DIEC
            AnimationMode    = ONCE
            AnimationBlendTime = 20
        End
        Animation
            AnimationName    = IUUrukahi_DIEG
            AnimationMode    = ONCE
            AnimationBlendTime = 20
        End
    End

    AnimationState            = DYING SPLATTED
        Animation            = Splat
            AnimationName    = IUUrukahi_LNDA
            AnimationMode    = ONCE
        End
    End

    AnimationState = DYING
        Animation = DIEA
            AnimationName = IUUrukahi_DIEA
            AnimationMode = ONCE
            AnimationPriority = 1
            AnimationSpeedFactorRange    =    0.8 1.25
        End
        Animation = DIEB
            AnimationName = IUUrukahi_DIEB
            AnimationMode = ONCE
            AnimationPriority = 3
            AnimationSpeedFactorRange    =    0.8 1.25
        End
        Animation = DIEC
            AnimationName = IUUrukahi_DIEC
            AnimationMode = ONCE
            AnimationPriority = 2
            AnimationSpeedFactorRange    =    0.8 1.25
        End
        Animation = DIEG
            AnimationName = IUUrukahi_DIEG
            AnimationMode = ONCE
            AnimationPriority = 10
            AnimationSpeedFactorRange    =    0.8 1.25
        End
    End

    AnimationState = DYING DEATH_2
        Animation = ByeBye
            AnimationName = IUUrukahi_IDLA
            AnimationMode = LOOP
        End
    End

    AnimationState            = BURNINGDEATH
        Animation
            AnimationName    = IUUrukahi_MFDA
            AnimationMode    = LOOP
            Distance        = 50
        End
    End

    AnimationState                        = PARALYZED
        Animation
            AnimationName                = IUUrukahi_IDLA
            AnimationMode                = LOOP
        End
    End


    AnimationState        = STUNNED
        Animation           = LNDA
            AnimationName     = IUUrukahi_LNDA
            AnimationMode     = ONCE
        End
    End

    AnimationState        = STUNNED_STANDING_UP
        Animation           = GTPA
            AnimationName     = IUUrukahi_GTPA
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 1.5 1.5
        End
    End

    AnimationState        = THROWN_PROJECTILE
        Animation           = FLYA
            AnimationName     = IUUrukahi_FLYA
            AnimationMode     = LOOP
        End
    End




    AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_1
        Animation = grasping_siege_lefthanded
            AnimationName =  IUUrukahi_BATB
            AnimationMode = ONCE

        End
    End

    AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_2
        Animation = grasping_siege_righthanded
            AnimationName = IUUrukahi_BATA
            AnimationMode = ONCE

        End
    End

    AnimationState = FIRING_OR_PREATTACK_B PASSENGER PASSENGER_VARIATION_1
        Animation = grasping_siege_lefthanded
            AnimationName =  IUUrukahi_BATB
            AnimationMode = ONCE

        End
    End
    AnimationState = FIRING_OR_PREATTACK_B PASSENGER PASSENGER_VARIATION_2
        Animation = grasping_siege_righthanded
            AnimationName = IUUrukahi_BATA
            AnimationMode = ONCE

        End
    End

    AnimationState = FIRING_OR_PREATTACK_C PASSENGER PASSENGER_VARIATION_1
        Animation = grasping_siege_lefthanded
            AnimationName =  IUUrukahi_BATB
            AnimationMode = ONCE

        End
    End
    AnimationState = FIRING_OR_PREATTACK_C PASSENGER PASSENGER_VARIATION_2
        Animation = grasping_siege_righthanded
            AnimationName = IUUrukahi_BATA
            AnimationMode = ONCE

        End
    End

    AnimationState = MOVING FIRING_OR_PREATTACK_A
        Animation = TrotAndFire
            AnimationName = IUUrukahi_ATRA
            AnimationMode = LOOP
        End
        Flags = RANDOMSTART

    End




    AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_1
        Animation = moving_siege_lefthanded
            AnimationName =  IUUrukahi_BRNB
            AnimationMode = LOOP_BACKWARDS
        End
    End
    AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_2
        Animation = moving_siege_righthanded
            AnimationName = IUUrukahi_BRNA
            AnimationMode = LOOP_BACKWARDS
        End
    End

    AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_1
        Animation = moving_siege_lefthanded
            AnimationName =  IUUrukahi_BRNB
            AnimationMode = LOOP_BACKWARDS
        End
    End
    AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_2
        Animation = moving_siege_righthanded
            AnimationName = IUUrukahi_BRNA
            AnimationMode = LOOP
        End
    End

    AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_1
        Animation = moving_siege_lefthanded
            AnimationName =  IUUrukahi_BRNB
            AnimationMode = LOOP
        End
    End
    AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_2
        Animation = moving_siege_righthanded
            AnimationName = IUUrukahi_BRNA
            AnimationMode = LOOP_BACKWARDS
        End
    End

    AnimationState = MOVING PASSENGER PASSENGER_VARIATION_1
        Animation = moving_siege_lefthanded
            AnimationName =  IUUrukahi_BRNB
            AnimationMode = LOOP
            AnimationSpeedFactorRange    =    0.7 0.7
        End
    End
    AnimationState = MOVING PASSENGER PASSENGER_VARIATION_2
        Animation = moving_siege_righthanded
            AnimationName = IUUrukahi_BRNA
            AnimationMode = LOOP
            AnimationSpeedFactorRange    =    0.7 0.7
        End
    End


    AnimationState = MOVING CLIMBING BACKING_UP
        Animation = Climbing_Down
            AnimationName = IUUrukahi_CLMA
            AnimationMode = LOOP_BACKWARDS
            AnimationSpeedFactorRange = 2.0 2.0
        End
    End

    AnimationState = MOVING CLIMBING
        Animation = Climbing_Up
            AnimationName = IUUrukahi_CLMA
            AnimationMode = LOOP
            AnimationSpeedFactorRange = 2.0 2.0
        End
    End

    AnimationState = MOVING EMOTION_TERROR
        Animation = TERRORIZED
            AnimationName = IUUrukahi_RUNC
            AnimationMode = LOOP
        End
        Flags = RANDOMSTART
        ParticleSysBone = None InfantryDustTrails
    End

    AnimationState = MOVING BACKING_UP
        Animation = BackingUp
            AnimationName = IUUrukahi_BAKA
            AnimationMode = LOOP
        End
        Flags = RANDOMSTART
    End










    AnimationState = MOVING ALTERNATE_FORMATION
        Animation = Moving
            AnimationName = IUUrukahi_SPCA
            AnimationMode = LOOP
            Distance        = 25
        End
        Flags = RANDOMSTART
        ParticleSysBone = None InfantryDustTrails
    End
    AnimationState = MOVING
        Animation = Moving
            AnimationName = IUUrukahi_RUNA
            AnimationMode = LOOP
        End
        Flags = RANDOMSTART
        ParticleSysBone = None InfantryDustTrails
    End

    AnimationState = FIRING_OR_PREATTACK_A
        Animation = ATKA
            AnimationName = IUUrukahi_ATKA
            AnimationMode = ONCE
        End
        Animation = ATKC
            AnimationName = IUUrukahi_ATKC
            AnimationMode = ONCE
            AnimationSpeedFactorRange    =    0.7 0.7
        End
        Animation = ATKB
            AnimationName = IUUrukahi_ATKB
            AnimationMode = ONCE
        End
    End

    AnimationState = FIRING_OR_PREATTACK_B
        Animation = ATKA
            AnimationName = IUUrukahi_ATKA
            AnimationMode = ONCE
        End
        Animation = ATKC
            AnimationName = IUUrukahi_ATKC
            AnimationMode = ONCE
            AnimationSpeedFactorRange    =    0.7 0.7
        End
        Animation = ATKB
            AnimationName = IUUrukahi_ATKB
            AnimationMode = ONCE
        End
    End

    AnimationState = FIRING_OR_PREATTACK_C
        Animation = ATKA
            AnimationName = IUUrukahi_ATKA
            AnimationMode = ONCE
        End
        Animation = ATKC
            AnimationName = IUUrukahi_ATKC
            AnimationMode = ONCE
            AnimationSpeedFactorRange    =    0.7 0.7
        End
        Animation = ATKB
            AnimationName = IUUrukahi_ATKB
            AnimationMode = ONCE
        End
    End

    AnimationState = WAR_CHANT
        Animation = Chant
            AnimationName = IUUrukahi_TNTA
            AnimationMode = LOOP
        End
    End

    AnimationState                            = EMOTION_UNCONTROLLABLY_AFRAID
        Animation                            = FERA
            AnimationName                    = IUUrukahi_FERA
            AnimationMode                    = LOOP
        End
        Flags = RANDOMSTART
    End



    AnimationState                            = EMOTION_AFRAID
        Animation                            = FERA
            AnimationName                    = IUUrukahi_FERA
            AnimationMode                    = LOOP
        End
        Flags = RANDOMSTART
    End

    AnimationState = BETWEEN_FIRING_SHOTS_A
        Animation = Wait
            AnimationName = IUUrukahi_IDLA
            AnimationMode = ONCE
        End
    End

     AnimationState = ATTACKING
        Animation = IdleAllAttacksComeFrom
            AnimationName = IUUrukahi_IDLA
            AnimationMode = LOOP
        End
    End

    AnimationState                            = EMOTION_TAUNTING
        Animation                            = TNTA
            AnimationName                    = IUUrukahi_TNTA
            AnimationMode                    = LOOP
            AnimationBlendTime                = 10
            AnimationSpeedFactorRange        = 0.8 1.2
        End
        Flags                                = RANDOMSTART
    End

    AnimationState                            = EMOTION_POINTING
        Animation                            = Pointing1
            AnimationName                    = IUUrukahi_PNTA
            AnimationMode                    = LOOP
        End
        Flags                                = RANDOMSTART
    End

    AnimationState                            = EMOTION_CELEBRATING
        Animation                            = CHRA
            AnimationName                    = IUUrukahi_CHRA
            AnimationMode                    = ONCE
            AnimationBlendTime                = 10
        End
        Animation                            = CHRB
            AnimationName                    = IUUrukahi_CHRB
            AnimationMode                    = ONCE
            AnimationBlendTime                = 10
        End
        Animation                            = TNTA
            AnimationName                    = IUUrukahi_TNTA
            AnimationMode                    = ONCE
            AnimationBlendTime                = 10
        End
        Flags                = RESTART_ANIM_WHEN_COMPLETE
    End

    AnimationState                            = EMOTION_ALERT
        Animation                            = ALERT
            AnimationName                    = IUUrukahi_IDLA
            AnimationMode                    = LOOP
        End
        Flags                                = RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
    End


    AnimationState        = RAISING_FLAG
        Animation
            AnimationName = IUUrukahi_CHRA
            AnimationMode = ONCE
            AnimationSpeedFactorRange = 0.9 1.1
        End
        Animation
            AnimationName = IUUrukahi_CHRB
            AnimationMode = ONCE
            AnimationSpeedFactorRange = 0.9 1.1
        End
        Flags = RESTART_ANIM_WHEN_COMPLETE
    End

    AnimationState        = SELECTED
        StateName           = STATE_Selected
        Animation           = ATNB
            AnimationName     = IUUrukahi_ATNB
            AnimationMode     = LOOP
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
        EndScript
    End

    TransitionState       = TRANS_IdleToSelected
        Animation           = ATNA
            AnimationName     = IUUrukahi_ATNA
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 0.9 1.0
        End
    End

    TransitionState       = TRANS_SelectedToGuard
        Animation           = ATNB
            AnimationName     = IUUrukahi_ATNB
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 0.9 1.0
        End
    End

    TransitionState        = TRANS_SelectedToBoard
        Animation            = ATNC
            AnimationName    = IUUrukahi_ATNC
            AnimationMode    = ONCE
            AnimationSpeedFactorRange = 0.9 1.0
        End
    End




    AnimationState = PASSENGER PASSENGER_VARIATION_1
        Animation = idle_siege_lefthanded
            AnimationName =  IUUrukahi_BIDB
            AnimationMode = LOOP
        End
    End
    AnimationState = PASSENGER PASSENGER_VARIATION_2
        Animation = idle_siege_righthanded
            AnimationName = IUUrukahi_BIDA
            AnimationMode = LOOP
        End
    End

    AnimationState WEAPONSET_PLAYER_UPGRADE
        Animation = IDLA
            AnimationName = IUUrukahi_IDLA
            AnimationMode = LOOP
        End
        StateName    = Idle
        Flags        = RANDOMSTART
    End

    AnimationState = ALTERNATE_FORMATION
        Animation = IDLB
            AnimationName = IUUrukahi_IDLA
            AnimationMode = LOOP
            AnimationPriority = 20
        End
    End

  End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"



    Side               = Isengard
    EditorSorting      = UNIT
    ThreatLevel        = 1.0
    ThingClass         = HORDE_UNIT
    EmotionRange       = 240
    CommandPoints      = 0
    CommandSet         = IsengardUrukHauptmannCommandSet2
    Scale              = 1.15
    ShowHealthInSelectionDecal = Yes
    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
    BuildCost          = 750
    BuildTime          = ELITE_BUILDTIME
    ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG
    DisplayMeleeDamage = 170
    MaxSimultaneousOfType = 1



    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    UrukHauptmannSword
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    ArmorSet
        Conditions      = None
        Armor           = EdainWarriorHeroArmor
        DamageFX        = NormalDamageFX
    End



    VisionRange = VISION_STANDARD_HORSE
    ShroudClearingRange = SHROUD_CLEAR_HERO

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue         = 50
    DisplayName         = OBJECT:IsengardUrukHauptmann
    CrushableLevel      = 1
    CrusherLevel        = 0
    CrushRevengeWeapon  = BasicInfantryCrushRevenge



    BuildFadeInOnCreateTime = 0




            VoiceAttack                             = HeroUrukHaiVoiceAttack
            VoiceAttackAir                          = HeroUrukHaiVoiceAttack
            VoiceAttackCharge                       = HeroUrukHaiVoiceAttack
            VoiceAttackMachine                      = HeroUrukHaiVoiceAttack
            VoiceAttackStructure                    = HeroUrukHaiVoiceAttack
            VoiceCreated                            = HeroUrukHaiVoiceSalute
            VoiceFear                               = HeroUrukHaiVoiceHelpMe
            VoiceFullyCreated                       = HeroUrukHaiVoiceSalute
            VoiceGuard                              = HeroUrukHaiVoiceMove
            VoiceMove                               = HeroUrukHaiVoiceMove
            VoiceMoveToCamp                         = HeroUrukHaiVoiceMove
            VoiceMoveWhileAttacking                 = HeroUrukHaiVoiceMove
            VoicePriority                           = 80
            VoiceRetreatToCastle                    = HeroUrukHaiVoiceMove
            VoiceSelect                             = HeroUrukHaiVoiceSelectMS
            VoiceSelectBattle                       = HeroUrukHaiVoiceSelectBattle

            SoundImpact                             = ImpactHorse

            UnitSpecificSounds
                VoiceEnterUnitElvenTransportShip    = HeroUrukHaiVoiceMove
                VoiceEnterUnitMordorMumakil         = HeroUrukHaiVoiceMove
                VoiceEnterUnitSlaughterHouse        = HeroUrukHaiVoiceMove
                VoiceEnterUnitTransportShip         = HeroUrukHaiVoiceMove
                VoiceGarrison                       = HeroUrukHaiVoiceMove
                VoiceInitiateCaptureBuilding        = HeroUrukHaiVoiceCaptureBuilding
            End

    CrowdResponseKey = Uruk

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"



    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionUrukCompilationVoxTauntSinglesLoop
    End

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Orc_Infantry UrukHai_Swordman
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallOrc            Animation:IUUrukahi_SKL.IUUrukahi_DIEA    Frames:18
        AnimationSound = Sound:BodyFallOrc            Animation:IUUrukahi_SKL.IUUrukahi_DIEB    Frames:30
        AnimationSound = Sound:BodyFallOrc            Animation:IUUrukahi_SKL.IUUrukahi_DIEC    Frames:28
        AnimationSound = Sound:BodyFallGeneric2        Animation:IUUrukahi_SKL.IUUrukahi_DIEG    Frames:115
        AnimationSound = Sound:BodyFallOrc            Animation:IUUrukahi_SKL.IUUrukahi_LNDA    Frames:2
        AnimationSound = Sound:BodyFallGeneric2        Animation:IUUrukahi_SKL.IUUrukahi_LNDA    Frames:37
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_USE_SIEGE_TOWER URUK GRAB_AND_DROP ARMY_SUMMARY CAN_ATTACK

    ThreatBreakdown   = IsengardBeserker_DetailedThreat
        AIKindOf      = INFANTRY
    End

    Body = ActiveBody ModuleTag_02
        CheerRadius     = EMOTION_CHEER_RADIUS
        MaxHealth            = 2400
        MaxHealthDamaged     = 600


        CheerRadius = EMOTION_CHEER_RADIUS
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
    AILuaEventsList               = IsengardFighterFunctions
    MoodAttackCheckRate        = 500
    AttackPriority                =     AttackPriority_Infantry
    BurningDeathTime            =    BURNINGDEATH_DURATION_INFANTRY
  End


    #include "..\..\..\includes\CaptureBuilding.inc"


    Behavior = AttributeModifierUpgrade ModuleTag_AMU
        AttributeModifier = FearlessForever
    End


  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = NORMAL_EVIL_FAST_MEMBER_SPEED
  End

  LocomotorSet
    Locomotor = BurningDeathLocomotorInfantry
    Condition = SET_BURNINGDEATH
    Speed      = BURNINGDEATH_WANDERSPEED_INFANTRY
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
    ShockStandingTime        = 2533
  End

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -EXTRA_8
    SinkDelay = 3000
    SinkRate = 0.40
    DestructionDelay = 8000
    Sound = INITIAL UrukVoiceDie
  End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_ScreechEnabler
        SpecialPowerTemplate     = SpecialAbilityKampfschreiEffect
        TriggeredBy              = Upgrade_ObjectLevel2
    End

    Behavior = SpecialPowerModule ModuleTag_ScreechStarter
        SpecialPowerTemplate      = SpecialAbilityKampfschreiEffect
        UpdateModuleStartsAttack  = Yes
        StartsPaused              = Yes

    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_ScreechWeaponFireUpdate
        SpecialPowerTemplate      = SpecialAbilityKampfschreiEffect
        SpecialWeapon             = UrukHauptmannFearWeapon
        WhichSpecialWeapon        = 2
        StartAbilityRange         = 10.0
        SkipContinue              = Yes
        UnpackTime                = 1000
        PackTime                  = 2000
        MustFinishAbility         = Yes
    End

    Behavior = AutoAbilityBehavior ModuleTag_LamentAutoAbility
        SpecialAbility            = SpecialAbilityKampfschreiEffect
        MaxScanRange              = 55
        Query                     = 1 ALL -STRUCTURE ENEMIES
    End




    Behavior = SpecialPowerModule ModuleTag_LeadershipAnzeige
        SpecialPowerTemplate        = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack    = No
        StartsPaused                = No
    End

    Behavior = FireWeaponUpdate ModuleTag_FireWeapon
        FireWeaponNugget
            WeaponName = UrukHauptmannModifierWeapon
            FireDelay = 0
            OneShot = No
        End
    End




    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End


    Behavior = AutoHealBehavior ModuleTag_LurtzHealing
       StartsActive          = Yes
       HealingAmount         = HERO_HEAL_AMOUNT
       HealingDelay          = 2000
       StartHealingDelay     = HERO_HEAL_DELAY
       HealOnlyIfNotInCombat = Yes
    End


    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName  = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName  = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName  = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End


  Geometry = CYLINDER
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 20
  GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 22
  ShadowSizeY = 22
  ShadowTexture = ShadowI



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_MordorAttackTrollBody

    AutoResolveArmor
        Armor = AutoResolve_MordorAttackTrollArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_MordorAttackTrollWeapon
    End
End


Object IsengardUrukHauptmann3


  ButtonImage    = HSUrukHauptmann3
  SelectPortrait = UPUrukHauptmann3

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_IsengardUrukHauptmann3

  Draw = W3DHordeModelDraw ModuleTag_01

    OkToChangeModelColor = No
    StaticModelLODMode = No

        RandomTexture = w_arrow.tga  0 g_arrow.tga

        DefaultModelConditionState
            Model = iuurukhaupa
            Skeleton = IUCrsbowmn_SKL
            WeaponLaunchBone            =    PRIMARY B_CRSBOW
            WeaponLaunchBone            =    SECONDARY ARROWNOCK
            WeaponLaunchBone            =    TERTIARY B_CRSBOW
        End



        IdleAnimationState
            StateName = STATE_Idle
            Animation = IDLB
                AnimationName        = IUCrsbowmn_IDLB
                AnimationMode        = ONCE
                AnimationPriority    = 14
                AnimationSpeedFactorRange = 0.8 1.2
                AnimationBlendTime  = 15
            End

            Animation = IDLB
                AnimationName        = IUCrsbowmn_IDLB
                AnimationMode        = ONCE
                AnimationPriority    = 14
                AnimationSpeedFactorRange = 0.8 1.2
                AnimationBlendTime  = 15
            End
            Animation = IDLD
                AnimationName        = IUCrsbowmn_IDLD
                AnimationMode        = ONCE
                AnimationPriority    = 4
                AnimationSpeedFactorRange = 0.8 1.2
                AnimationBlendTime  = 15
            End
            Animation = IDLE
                AnimationName        = IUCrsbowmn_IDLE
                AnimationMode        = ONCE
                AnimationPriority    = 4
                AnimationSpeedFactorRange = 0.8 1.2
                AnimationBlendTime  = 15
            End
            Animation = IDLF
                AnimationName        = IUCrsbowmn_IDLF
                AnimationMode        = ONCE
                AnimationPriority    = 4
                AnimationSpeedFactorRange = 0.8 1.2
                AnimationBlendTime  = 15
            End
            Animation = IDLI
                AnimationName        = IUCrsbowmn_IDLI
                AnimationMode        = ONCE
                AnimationPriority    = 1
                AnimationSpeedFactorRange = 0.8 1.2
                AnimationBlendTime  = 15
            End
        End



        AnimationState                        = PASSENGER
            Animation                        = Wiggling
                AnimationName                = IUCrsbowmn_FLLA
                AnimationMode                = LOOP
            End
        End


        AnimationState        = THROWN_PROJECTILE
            Animation           = FLYA
                AnimationName     = IUCrsbowmn_FLYA
                AnimationMode     = LOOP
            End
        End

        AnimationState                        = FREEFALL
            Animation                        = Wiggling
                AnimationName                = IUCrsbowmn_FLYA
                AnimationMode                = LOOP
                AnimationSpeedFactorRange    = 0.5    0.5
                AnimationBlendTime            = 5
            End
        End

        AnimationState        = STUNNED_FLAILING
            Animation           = StunFlail
                AnimationName     = IUCrsbowmn_FLYA
                AnimationMode      = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
        End



        AnimationState            = DYING BURNINGDEATH
            Animation
                AnimationName    = IUCrsbowmn_DIEA
                AnimationMode    = ONCE
                AnimationBlendTime = 10
            End
            Animation
                AnimationName    = IUCrsbowmn_DIEB
                AnimationMode    = ONCE
                AnimationBlendTime = 10
            End
            Animation
                AnimationName    = IUCrsbowmn_DIEC
                AnimationMode    = ONCE
                AnimationBlendTime = 10
            End
            Animation
                AnimationName    = IUCrsbowmn_DIED
                AnimationMode    = ONCE
                AnimationBlendTime = 10
            End
            Animation
                AnimationName    = IUCrsbowmn_DIEE
                AnimationMode    = ONCE
                AnimationBlendTime = 10
            End
            Animation
                AnimationName    = IUCrsbowmn_DIEF
                AnimationMode    = ONCE
                AnimationBlendTime = 10
            End
        End
        AnimationState                    =    DYING SPLATTED
            Animation                    =    Fire
                AnimationName            =    IUCrsbowmn_LNDA
                AnimationMode            =    ONCE
                AnimationSpeedFactorRange = 0.7 1.3
            End
            EnteringStateFX = FX_SoldierHitGround
        End

        AnimationState                    =    DYING AFLAME
            Animation                    =    Fire
                AnimationName            =    GUArcher_MFDA
                AnimationSpeedFactorRange = 0.9 1.1
            End
        End

        AnimationState = DYING
            Animation = Dying_1
                AnimationName = IUCrsbowmn_DIEA
                AnimationMode = ONCE
            End
            Animation = Dying_2
                AnimationName = IUCrsbowmn_DIEB
                AnimationMode = ONCE
            End
            Animation = Dying_3
                AnimationName = IUCrsbowmn_DIEC
                AnimationMode = ONCE
            End
            Animation = Dying_4
                AnimationName = IUCrsbowmn_DIED
                AnimationMode = ONCE
            End
            Animation = Dying_5
                AnimationName = IUCrsbowmn_DIEE
                AnimationMode = ONCE
            End
            Animation = Dying_2
                AnimationName = IUCrsbowmn_DIEF
                AnimationMode = ONCE
            End
        End

        AnimationState            = BURNINGDEATH
            Animation
                AnimationName    = IUCrsbowmn_MFDA
                AnimationMode    = LOOP
                Distance        = 75
            End
        End

    AnimationState                        = PARALYZED
        Animation
            AnimationName                = IUCrsbowmn_IDLA
            AnimationMode                = LOOP
        End
    End



    AnimationState        = STUNNED_STANDING_UP
        Animation           = GTPA
            AnimationName     = IUCrsbowmn_GTPA
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 1.5 1.5
        End
    End

    AnimationState        = STUNNED
        Animation           = LNDA
            AnimationName     = IUCrsbowmn_LNDA
            AnimationMode     = ONCE
        End
    End




    AnimationState = MOVING CLIMBING BACKING_UP
        Animation = Climbing_Down
            AnimationName = IUCrsbowmn_CLMA
            AnimationMode = LOOP_BACKWARDS
            AnimationSpeedFactorRange = 2.0 2.0
        End
    End

    AnimationState = MOVING CLIMBING
        Animation = Climbing_Up
            AnimationName = IUCrsbowmn_CLMA
            AnimationMode = LOOP
            AnimationSpeedFactorRange = 2.0 2.0
        End
    End



        AnimationState                    = MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
            Animation                    = TerrorFromTheSky
                AnimationName            = IUCrsbowmn_RUND
                AnimationMode            = LOOP
            End
        End

        AnimationState = MOVING EMOTION_TERROR
            Animation = RUND
                AnimationName = IUCrsbowmn_RUND
                AnimationMode = LOOP
            End
            Flags = RANDOMSTART
            ParticleSysBone = None InfantryDustTrails
        End




        AnimationState = MOVING BACKING_UP
            Animation = Backing_Up
                AnimationName = IUCrsbowmn_BAKA
                AnimationMode = LOOP
            End
        End



    AnimationState = MOVING
        Animation = Moving
            AnimationName = IUCrsbowmn_RUNA
            AnimationMode = LOOP
        End
        Animation = Moving_2
            AnimationName = IUCrsbowmn_RUNB
            AnimationMode = LOOP
        End
        Flags = RANDOMSTART
        ParticleSysBone = None InfantryDustTrails
    End







    AnimationState = PREATTACK_A
         Animation = IDLA
            AnimationName = IUCrsbowmn_IDLA
            AnimationMode = ONCE
            UseWeaponTiming    = Yes
            AnimationBlendTime = 8
        End
    End
    AnimationState = FIRING_OR_RELOADING_A
        StateName = STATE_Firing
         Animation = ATKA
            AnimationName = IUCrsbowmn_ATKA
            AnimationMode = ONCE
            UseWeaponTiming    = Yes
            AnimationBlendTime = 0
        End
        FrameForPristineBonePositions = 0
    End

    AnimationState = PREATTACK_C
         Animation = IDLA
            AnimationName = IUCrsbowmn_IDLA
            AnimationMode = ONCE
            UseWeaponTiming    = Yes
            AnimationBlendTime = 8
        End
    End
    AnimationState = FIRING_OR_RELOADING_C
        StateName = STATE_Firing
         Animation = ATKA
            AnimationName = IUCrsbowmn_ATKA
            AnimationMode = ONCE
            UseWeaponTiming    = Yes
            AnimationBlendTime = 0
        End
        FrameForPristineBonePositions = 0
    End




    AnimationState                    = EMOTION_AFRAID UNCONTROLLABLE
        Animation                    = FERA
            AnimationName            = IUCrsbowmn_FERA
            AnimationMode            = LOOP
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Firing" then CurDrawableAllowToContinue() return end
        EndScript
    End

    AnimationState                    = EMOTION_UNCONTROLLABLY_AFRAID
        Animation                    = FERA
            AnimationName            = IUCrsbowmn_FERA
            AnimationMode            = LOOP
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Firing" then CurDrawableAllowToContinue() return end
        EndScript
    End

    AnimationState        = ATTACKING
        Animation           = IdleAttackComesFrom
            AnimationName     = IUCrsbowmn_IDLA
            AnimationMode     = LOOP
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Firing" then CurDrawableAllowToContinue() return end
        EndScript
    End

     AnimationState        = ENGAGED SELECTED
        Animation           = ALERT_1
            AnimationName     = IUCrsbowmn_IDLA
            AnimationMode     = LOOP
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Firing" then CurDrawableAllowToContinue() return end
        EndScript
    End

    AnimationState                            = RAISING_FLAG
        Animation
            AnimationName                    = IUCrsbowmn_CHRA
            AnimationMode                    = ONCE
            AnimationSpeedFactorRange        = 0.9 1.1
        End
        Animation                            = CHRB
            AnimationName                    = IUCrsbowmn_CHRB
            AnimationMode                    = ONCE
            AnimationSpeedFactorRange        = 0.9 1.1
        End
        Flags                = RESTART_ANIM_WHEN_COMPLETE
    End

    AnimationState = SELECTED
        Animation = ATNB
            AnimationName = IUCrsbowmn_ATNB
            AnimationMode = LOOP
            AnimationBlendTime = 20
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Firing" then CurDrawableAllowToContinue() return end
        EndScript
    End

    AnimationState                            = EMOTION_AFRAID
        Animation                            = FERA
            AnimationName                    = IUCrsbowmn_FERA
            AnimationMode                    = LOOP
        End
        Flags = RANDOMSTART
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Firing" then CurDrawableAllowToContinue() return end
        EndScript
    End

    AnimationState                            = EMOTION_TAUNTING
        Animation                            = TNTA
            AnimationName                    = IUCrsbowmn_TNTA
            AnimationSpeedFactorRange        = 0.8 1.2
            AnimationMode                    = ONCE
        End
        Animation                            = TNTB
            AnimationName                    = IUCrsbowmn_TNTB
            AnimationSpeedFactorRange        = 0.8 1.2
            AnimationMode                    = ONCE
        End
        Flags                                = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Firing" then CurDrawableAllowToContinue() return end
        EndScript
    End



    AnimationState                            = EMOTION_POINTING
        Animation                            = Pointing1
            AnimationName                    = IUCrsbowmn_PNTA
            AnimationMode                    = ONCE
            AnimationPriority    = 10
        End
        Animation = IDLD
            AnimationName        = IUCrsbowmn_IDLD
            AnimationMode        = ONCE
            AnimationPriority    = 2
            AnimationSpeedFactorRange = 0.8 1.2
        End
        Animation                            = Pointing1
            AnimationName                    = IUCrsbowmn_PNTB
            AnimationMode                    = ONCE
            AnimationPriority    = 8
        End
        Animation = IDLE
            AnimationName        = IUCrsbowmn_IDLE
            AnimationMode        = ONCE
            AnimationPriority    = 1
            AnimationSpeedFactorRange = 0.8 1.2
            AnimationPriority    = 4
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Firing" then CurDrawableAllowToContinue() return end
        EndScript
        Flags                = RESTART_ANIM_WHEN_COMPLETE
    End

    AnimationState                            = EMOTION_CELEBRATING
        Animation                            = CHRA
            AnimationName                    = IUCrsbowmn_CHRA
            AnimationMode                    = ONCE
            AnimationBlendTime                = 10
        End
        Animation                            = CHRB
            AnimationName                    = IUCrsbowmn_CHRB
            AnimationMode                    = ONCE
            AnimationBlendTime                = 10
        End
        Animation                            = TNTA
            AnimationName                    = IUCrsbowmn_TNTA
            AnimationMode                    = ONCE
            AnimationBlendTime                = 10
        End
        Flags                = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Firing" then CurDrawableAllowToContinue() return end
        EndScript
    End

    AnimationState                            = EMOTION_ALERT
        Animation                            = ALERT
            AnimationName                    = IUCrsbowmn_IDLA
            AnimationMode                    = LOOP
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Firing" then CurDrawableAllowToContinue() return end
        EndScript
    End



        AnimationState         = SPECIAL_WEAPON_ONE
            StateName = STATE_Firing
            Animation         = ATKA
                AnimationName = IUCrsbowmn_ATKA
                AnimationMode = ONCE
                UseWeaponTiming = Yes
                AnimationBlendTime = 0
            End
            FrameForPristineBonePositions = 0
        End

    AnimationState = WAR_CHANT
        Animation                            = ALERT
            AnimationName                    = IUCrsbowmn_IDLA
            AnimationMode                    = LOOP
        End
        BeginScript
            CurDrawableSetTransitionAnimState("theRealWarChant")
        EndScript
    End

    TransitionState = theRealWarChant
        Animation = Chant
            AnimationName = IUCrsbowmn_CHRA
            AnimationMode = ONCE
        End
        Animation = Chant2
            AnimationName = IUCrsbowmn_CHRB
            AnimationMode = ONCE
        End
    End

 End


    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"



    Side               = Isengard
    EditorSorting      = UNIT
    ThreatLevel        = 1.0
    ThingClass         = HORDE_UNIT
    EmotionRange       = 240
    CommandPoints      = 0
    CommandSet         = IsengardUrukHauptmannCommandSet3
    Scale              = 1.15
    ShowHealthInSelectionDecal = Yes
    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
    BuildCost          = 750
    BuildTime          = ELITE_BUILDTIME
    ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG
    DisplayRangedDamage = 300
    MaxSimultaneousOfType = 1


    WeaponSet
        Conditions = None
        Weapon            = PRIMARY     MauhurWeaponBow
        Weapon            = SECONDARY   MauhurWeaponBolzen
        AutoChooseSources = SECONDARY NONE
    End

    ArmorSet
        Conditions      = None
        Armor           = EdainWarriorHeroArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_HERO_RANGED
    ShroudClearingRange = SHROUD_CLEAR_RANGED_HERO

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue         = 50
    DisplayName         = OBJECT:IsengardUrukHauptmann
    CrushableLevel      = 1
    CrusherLevel        = 0
    CrushRevengeWeapon  = BasicInfantryCrushRevenge



    BuildFadeInOnCreateTime = 0




            VoiceAttack                             = HeroUrukHaiVoiceAttack
            VoiceAttackAir                          = HeroUrukHaiVoiceAttack
            VoiceAttackCharge                       = HeroUrukHaiVoiceAttack
            VoiceAttackMachine                      = HeroUrukHaiVoiceAttack
            VoiceAttackStructure                    = HeroUrukHaiVoiceAttack
            VoiceCreated                            = HeroUrukHaiVoiceSalute
            VoiceFear                               = HeroUrukHaiVoiceHelpMe
            VoiceFullyCreated                       = HeroUrukHaiVoiceSalute
            VoiceGuard                              = HeroUrukHaiVoiceMove
            VoiceMove                               = HeroUrukHaiVoiceMove
            VoiceMoveToCamp                         = HeroUrukHaiVoiceMove
            VoiceMoveWhileAttacking                 = HeroUrukHaiVoiceMove
            VoicePriority                           = 80
            VoiceRetreatToCastle                    = HeroUrukHaiVoiceMove
            VoiceSelect                             = HeroUrukHaiVoiceSelectMS
            VoiceSelectBattle                       = HeroUrukHaiVoiceSelectBattle

            SoundImpact                             = ImpactHorse

            UnitSpecificSounds
                VoiceEnterUnitElvenTransportShip    = HeroUrukHaiVoiceMove
                VoiceEnterUnitMordorMumakil         = HeroUrukHaiVoiceMove
                VoiceEnterUnitSlaughterHouse        = HeroUrukHaiVoiceMove
                VoiceEnterUnitTransportShip         = HeroUrukHaiVoiceMove
                VoiceGarrison                       = HeroUrukHaiVoiceMove
                VoiceInitiateCaptureBuilding        = HeroUrukHaiVoiceCaptureBuilding
            End

    CrowdResponseKey = Uruk

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"



    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionUrukCompilationVoxTauntSinglesLoop
    End

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Orc_Infantry UrukHai_Swordman
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallOrc            Animation:IUCrsbowmn_SKL.IUCrsbowmn_DIEA        Frames:23
        AnimationSound = Sound:BodyFallOrc            Animation:IUCrsbowmn_SKL.IUCrsbowmn_DIEB        Frames:29
        AnimationSound = Sound:BodyFallOrc            Animation:IUCrsbowmn_SKL.IUCrsbowmn_DIEC        Frames:76
        AnimationSound = Sound:BodyFallOrc            Animation:IUCrsbowmn_SKL.IUCrsbowmn_DIED        Frames:38
        AnimationSound = Sound:BodyFallOrc            Animation:IUCrsbowmn_SKL.IUCrsbowmn_DIEE        Frames:57
        AnimationSound = Sound:BodyFallOrc            Animation:IUCrsbowmn_SKL.IUCrsbowmn_LNDA        Frames:4
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_USE_SIEGE_TOWER URUK GRAB_AND_DROP ARMY_SUMMARY CAN_ATTACK ARCHER

    ThreatBreakdown   = IsengardBeserker_DetailedThreat
        AIKindOf      = INFANTRY
    End

    Body = ActiveBody ModuleTag_02
        CheerRadius     = EMOTION_CHEER_RADIUS
        MaxHealth            = 2400
        MaxHealthDamaged     = 600
        CheerRadius = EMOTION_CHEER_RADIUS
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
    AILuaEventsList               = IsengardFighterFunctions
    MoodAttackCheckRate        = 500
    AttackPriority                =     AttackPriority_Infantry
    BurningDeathTime            =    BURNINGDEATH_DURATION_INFANTRY
  End


    #include "..\..\..\includes\CaptureBuilding.inc"


    Behavior = AttributeModifierUpgrade ModuleTag_AMU
        AttributeModifier = FearlessForever
    End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = 60
  End

  LocomotorSet
    Locomotor = BurningDeathLocomotorInfantry
    Condition = SET_BURNINGDEATH
    Speed      = BURNINGDEATH_WANDERSPEED_INFANTRY
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
    ShockStandingTime        = 2533
  End

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -EXTRA_8
    SinkDelay = 3000
    SinkRate = 0.40
    DestructionDelay = 8000
    Sound = INITIAL UrukVoiceDie
  End







    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SwiftMarchUnpause
        SpecialPowerTemplate        = SpecialAbilitySwiftMarch
        TriggeredBy                 = Upgrade_ObjectLevel2
    End

    Behavior = SpecialPowerModule SwiftMarch_ModuleTag
        SpecialPowerTemplate        = SpecialAbilitySwiftMarch
        AttributeModifier           = RaiderSwiftMarch
        AttributeModifierRange      = 90
        AttributeModifierAffects    = ANY +IsengardUrukCrossbow +IsengardUrukScout ALLIES
        TriggerFX                   = FX_SwiftMarchStart
        UpdateModuleStartsAttack    = No
        StartsPaused                = Yes
    End



    Behavior = SpecialPowerModule ModuleTag_LeadershipAnzeige
        SpecialPowerTemplate        = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack    = No
        StartsPaused                = No
    End

    Behavior = FireWeaponUpdate ModuleTag_FireWeapon
        FireWeaponNugget
            WeaponName = UrukHauptmannModifierWeapon
            FireDelay = 0
            OneShot = No
        End
    End




    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End


    Behavior = AutoHealBehavior ModuleTag_LurtzHealing
       StartsActive          = Yes
       HealingAmount         = HERO_HEAL_AMOUNT
       HealingDelay          = 2000
       StartHealingDelay     = HERO_HEAL_DELAY
       HealOnlyIfNotInCombat = Yes
    End


    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName  = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName  = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName  = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End

  Geometry = CYLINDER
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 20
  GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 22
  ShadowSizeY = 22
  ShadowTexture = ShadowI



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_MordorAttackTrollBody

    AutoResolveArmor
        Armor = AutoResolve_MordorAttackTrollArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_MordorAttackTrollWeapon
    End
End

Object IsengardUrukHauptmann4

  ButtonImage    = HSUrukhauptmann4
  SelectPortrait = UPUrukhauptmann4

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_IsengardUrukHauptmann1

  Draw = W3DHordeModelDraw ModuleTag_01

    OkToChangeModelColor = No
    StaticModelLODMode   = No




    DefaultModelConditionState
        Model = iuurukcaptain
        Skeleton = IUUrukahi_SKL
    End

    ModelConditionState WEAPONSET_PLAYER_UPGRADE
        Model = iuurukleade
        Skeleton = IUUrukahi_SKL
    End

    ModelConditionState = WEAPONSET_HERO_MODE
        ParticleSysBone = BAT_CHEST BladeMaster FollowBone:Yes
    End

    IdleAnimationState
        Animation = IDLB
            AnimationName = IUUrukahi_IDLB
            AnimationMode = ONCE
            AnimationPriority = 20
        End
        Animation = IDLG
            AnimationName = IUUrukahi_IDLG
            AnimationMode = ONCE
            AnimationPriority = 1
        End
        Animation = IDLD
            AnimationName = IUUrukahi_IDLD
            AnimationMode = ONCE
            AnimationPriority = 2
        End
        StateName = Idle
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoard") end
        EndScript
    End

    AnimationState                        = PASSENGER
        Animation                        = Falling
            AnimationName                = IUUrukahi_FLLA
            AnimationMode                = LOOP
        End
    End

    AnimationState                        = FREEFALL
        Animation                        = FLYA
            AnimationName                = IUUrukahi_FLYA
            AnimationMode                = LOOP
            AnimationSpeedFactorRange    = 0.5    0.5
            AnimationBlendTime            = 5
        End
    End

    AnimationState            = STUNNED_FLAILING
        Animation           = StunFlail
            AnimationName   = IUUrukahi_FLYA
            AnimationMode   = LOOP
            AnimationSpeedFactorRange    = 0.4 0.6
        End
        Flags                        = MAINTAIN_FRAME_ACROSS_STATES2
    End

    AnimationState            = DYING BURNINGDEATH
        Animation
            AnimationName    = IUUrukahi_DIEA
            AnimationMode    = ONCE
            AnimationBlendTime = 10
        End
        Animation
            AnimationName    = IUUrukahi_DIEB
            AnimationMode    = ONCE
            AnimationBlendTime = 20
        End
        Animation
            AnimationName    = IUUrukahi_DIEC
            AnimationMode    = ONCE
            AnimationBlendTime = 20
        End
        Animation
            AnimationName    = IUUrukahi_DIEG
            AnimationMode    = ONCE
            AnimationBlendTime = 20
        End
    End

    AnimationState            = DYING SPLATTED
        Animation            = Splat
            AnimationName    = IUUrukahi_LNDA
            AnimationMode    = ONCE
        End
    End

    AnimationState = DYING
        Animation = DIEA
            AnimationName = IUUrukahi_DIEA
            AnimationMode = ONCE
            AnimationPriority = 1
            AnimationSpeedFactorRange    =    0.8 1.25
        End
        Animation = DIEB
            AnimationName = IUUrukahi_DIEB
            AnimationMode = ONCE
            AnimationPriority = 3
            AnimationSpeedFactorRange    =    0.8 1.25
        End
        Animation = DIEC
            AnimationName = IUUrukahi_DIEC
            AnimationMode = ONCE
            AnimationPriority = 2
            AnimationSpeedFactorRange    =    0.8 1.25
        End
        Animation = DIEG
            AnimationName = IUUrukahi_DIEG
            AnimationMode = ONCE
            AnimationPriority = 10
            AnimationSpeedFactorRange    =    0.8 1.25
        End
    End

    AnimationState = DYING DEATH_2
        Animation = ByeBye
            AnimationName = IUUrukahi_IDLA
            AnimationMode = LOOP
        End
    End

    AnimationState            = BURNINGDEATH
        Animation
            AnimationName    = IUUrukahi_MFDA
            AnimationMode    = LOOP
            Distance        = 50
        End
    End

    AnimationState                        = PARALYZED
        Animation
            AnimationName                = IUUrukahi_IDLA
            AnimationMode                = LOOP
        End
    End


    AnimationState        = STUNNED
        Animation           = LNDA
            AnimationName     = IUUrukahi_LNDA
            AnimationMode     = ONCE
        End
    End

    AnimationState        = STUNNED_STANDING_UP
        Animation           = GTPA
            AnimationName     = IUUrukahi_GTPA
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 1.5 1.5
        End
    End

    AnimationState        = THROWN_PROJECTILE
        Animation           = FLYA
            AnimationName     = IUUrukahi_FLYA
            AnimationMode     = LOOP
        End
    End




    AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_1
        Animation = grasping_siege_lefthanded
            AnimationName =  IUUrukahi_BATB
            AnimationMode = ONCE

        End
    End

    AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_2
        Animation = grasping_siege_righthanded
            AnimationName = IUUrukahi_BATA
            AnimationMode = ONCE

        End
    End

    AnimationState = FIRING_OR_PREATTACK_B PASSENGER PASSENGER_VARIATION_1
        Animation = grasping_siege_lefthanded
            AnimationName =  IUUrukahi_BATB
            AnimationMode = ONCE

        End
    End
    AnimationState = FIRING_OR_PREATTACK_B PASSENGER PASSENGER_VARIATION_2
        Animation = grasping_siege_righthanded
            AnimationName = IUUrukahi_BATA
            AnimationMode = ONCE

        End
    End

    AnimationState = FIRING_OR_PREATTACK_C PASSENGER PASSENGER_VARIATION_1
        Animation = grasping_siege_lefthanded
            AnimationName =  IUUrukahi_BATB
            AnimationMode = ONCE

        End
    End
    AnimationState = FIRING_OR_PREATTACK_C PASSENGER PASSENGER_VARIATION_2
        Animation = grasping_siege_righthanded
            AnimationName = IUUrukahi_BATA
            AnimationMode = ONCE

        End
    End

    AnimationState = MOVING FIRING_OR_PREATTACK_A
        Animation = TrotAndFire
            AnimationName = IUUrukahi_ATRA
            AnimationMode = LOOP
        End
        Flags = RANDOMSTART

    End




    AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_1
        Animation = moving_siege_lefthanded
            AnimationName =  IUUrukahi_BRNB
            AnimationMode = LOOP_BACKWARDS
        End
    End
    AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_2
        Animation = moving_siege_righthanded
            AnimationName = IUUrukahi_BRNA
            AnimationMode = LOOP_BACKWARDS
        End
    End

    AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_1
        Animation = moving_siege_lefthanded
            AnimationName =  IUUrukahi_BRNB
            AnimationMode = LOOP_BACKWARDS
        End
    End
    AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_2
        Animation = moving_siege_righthanded
            AnimationName = IUUrukahi_BRNA
            AnimationMode = LOOP
        End
    End

    AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_1
        Animation = moving_siege_lefthanded
            AnimationName =  IUUrukahi_BRNB
            AnimationMode = LOOP
        End
    End
    AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_2
        Animation = moving_siege_righthanded
            AnimationName = IUUrukahi_BRNA
            AnimationMode = LOOP_BACKWARDS
        End
    End

    AnimationState = MOVING PASSENGER PASSENGER_VARIATION_1
        Animation = moving_siege_lefthanded
            AnimationName =  IUUrukahi_BRNB
            AnimationMode = LOOP
            AnimationSpeedFactorRange    =    0.7 0.7
        End
    End
    AnimationState = MOVING PASSENGER PASSENGER_VARIATION_2
        Animation = moving_siege_righthanded
            AnimationName = IUUrukahi_BRNA
            AnimationMode = LOOP
            AnimationSpeedFactorRange    =    0.7 0.7
        End
    End


    AnimationState = MOVING CLIMBING BACKING_UP
        Animation = Climbing_Down
            AnimationName = IUUrukahi_CLMA
            AnimationMode = LOOP_BACKWARDS
            AnimationSpeedFactorRange = 2.0 2.0
        End
    End

    AnimationState = MOVING CLIMBING
        Animation = Climbing_Up
            AnimationName = IUUrukahi_CLMA
            AnimationMode = LOOP
            AnimationSpeedFactorRange = 2.0 2.0
        End
    End

    AnimationState = MOVING EMOTION_TERROR
        Animation = TERRORIZED
            AnimationName = IUUrukahi_RUNC
            AnimationMode = LOOP
        End
        Flags = RANDOMSTART
        ParticleSysBone = None InfantryDustTrails
    End

    AnimationState = MOVING BACKING_UP
        Animation = BackingUp
            AnimationName = IUUrukahi_BAKA
            AnimationMode = LOOP
        End
        Flags = RANDOMSTART
    End

    AnimationState = MOVING ALTERNATE_FORMATION
        Animation = Moving
            AnimationName = IUUrukahi_SPCA
            AnimationMode = LOOP
            Distance        = 25
        End
        Flags = RANDOMSTART
        ParticleSysBone = None InfantryDustTrails
    End
    AnimationState = MOVING
        Animation = Moving
            AnimationName = IUUrukahi_RUNA
            AnimationMode = LOOP
        End
        Flags = RANDOMSTART
        ParticleSysBone = None InfantryDustTrails
    End

    AnimationState = FIRING_OR_PREATTACK_A
        Animation = ATKA
            AnimationName = IUUrukahi_ATKA
            AnimationMode = ONCE
        End
        Animation = ATKC
            AnimationName = IUUrukahi_ATKC
            AnimationMode = ONCE
            AnimationSpeedFactorRange    =    0.7 0.7
        End
        Animation = ATKB
            AnimationName = IUUrukahi_ATKB
            AnimationMode = ONCE
        End
    End

    AnimationState = FIRING_OR_PREATTACK_B
        Animation = ATKA
            AnimationName = IUUrukahi_ATKA
            AnimationMode = ONCE
        End
        Animation = ATKC
            AnimationName = IUUrukahi_ATKC
            AnimationMode = ONCE
            AnimationSpeedFactorRange    =    0.7 0.7
        End
        Animation = ATKB
            AnimationName = IUUrukahi_ATKB
            AnimationMode = ONCE
        End
    End

    AnimationState = FIRING_OR_PREATTACK_C
        Animation = ATKA
            AnimationName = IUUrukahi_ATKA
            AnimationMode = ONCE
        End
        Animation = ATKC
            AnimationName = IUUrukahi_ATKC
            AnimationMode = ONCE
            AnimationSpeedFactorRange    =    0.7 0.7
        End
        Animation = ATKB
            AnimationName = IUUrukahi_ATKB
            AnimationMode = ONCE
        End
    End

    AnimationState = WAR_CHANT
        Animation = Chant
            AnimationName = IUUrukahi_TNTA
            AnimationMode = LOOP
        End
    End

    AnimationState                            = EMOTION_UNCONTROLLABLY_AFRAID
        Animation                            = FERA
            AnimationName                    = IUUrukahi_FERA
            AnimationMode                    = LOOP
        End
        Flags = RANDOMSTART
    End



    AnimationState                            = EMOTION_AFRAID
        Animation                            = FERA
            AnimationName                    = IUUrukahi_FERA
            AnimationMode                    = LOOP
        End
        Flags = RANDOMSTART
    End

    AnimationState = BETWEEN_FIRING_SHOTS_A
        Animation = Wait
            AnimationName = IUUrukahi_IDLA
            AnimationMode = ONCE
        End
    End

     AnimationState = ATTACKING
        Animation = IdleAllAttacksComeFrom
            AnimationName = IUUrukahi_IDLA
            AnimationMode = LOOP
        End
    End

    AnimationState                            = EMOTION_TAUNTING
        Animation                            = TNTA
            AnimationName                    = IUUrukahi_TNTA
            AnimationMode                    = LOOP
            AnimationBlendTime                = 10
            AnimationSpeedFactorRange        = 0.8 1.2
        End
        Flags                                = RANDOMSTART
    End

    AnimationState                            = EMOTION_POINTING
        Animation                            = Pointing1
            AnimationName                    = IUUrukahi_PNTA
            AnimationMode                    = LOOP
        End
        Flags                                = RANDOMSTART
    End

    AnimationState                            = EMOTION_CELEBRATING
        Animation                            = CHRA
            AnimationName                    = IUUrukahi_CHRA
            AnimationMode                    = ONCE
            AnimationBlendTime                = 10
        End
        Animation                            = CHRB
            AnimationName                    = IUUrukahi_CHRB
            AnimationMode                    = ONCE
            AnimationBlendTime                = 10
        End
        Animation                            = TNTA
            AnimationName                    = IUUrukahi_TNTA
            AnimationMode                    = ONCE
            AnimationBlendTime                = 10
        End
        Flags                = RESTART_ANIM_WHEN_COMPLETE
    End

    AnimationState                            = EMOTION_ALERT
        Animation                            = ALERT
            AnimationName                    = IUUrukahi_IDLA
            AnimationMode                    = LOOP
        End
        Flags                                = RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
    End


    AnimationState        = RAISING_FLAG
        Animation
            AnimationName = IUUrukahi_CHRA
            AnimationMode = ONCE
            AnimationSpeedFactorRange = 0.9 1.1
        End
        Animation
            AnimationName = IUUrukahi_CHRB
            AnimationMode = ONCE
            AnimationSpeedFactorRange = 0.9 1.1
        End
        Flags = RESTART_ANIM_WHEN_COMPLETE
    End

    AnimationState        = SELECTED
        StateName           = STATE_Selected
        Animation           = ATNB
            AnimationName     = IUUrukahi_ATNB
            AnimationMode     = LOOP
        End
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
        EndScript
    End

    TransitionState       = TRANS_IdleToSelected
        Animation           = ATNA
            AnimationName     = IUUrukahi_ATNA
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 0.9 1.0
        End
    End

    TransitionState       = TRANS_SelectedToGuard
        Animation           = ATNB
            AnimationName     = IUUrukahi_ATNB
            AnimationMode     = ONCE
            AnimationSpeedFactorRange = 0.9 1.0
        End
    End

    TransitionState        = TRANS_SelectedToBoard
        Animation            = ATNC
            AnimationName    = IUUrukahi_ATNC
            AnimationMode    = ONCE
            AnimationSpeedFactorRange = 0.9 1.0
        End
    End

    AnimationState = PASSENGER PASSENGER_VARIATION_1
        Animation = idle_siege_lefthanded
            AnimationName =  IUUrukahi_BIDB
            AnimationMode = LOOP
        End
    End
    AnimationState = PASSENGER PASSENGER_VARIATION_2
        Animation = idle_siege_righthanded
            AnimationName = IUUrukahi_BIDA
            AnimationMode = LOOP
        End
    End

    AnimationState WEAPONSET_PLAYER_UPGRADE
        Animation = IDLA
            AnimationName = IUUrukahi_IDLA
            AnimationMode = LOOP
        End
        StateName    = Idle
        Flags        = RANDOMSTART
    End

    AnimationState = ALTERNATE_FORMATION
        Animation = IDLB
            AnimationName = IUUrukahi_IDLA
            AnimationMode = LOOP
            AnimationPriority = 20
        End
    End
  End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"


    Side               = Isengard
    EditorSorting      = UNIT
    ThreatLevel        = 1.0
    ThingClass         = HORDE_UNIT
    EmotionRange       = 240
    CommandPoints      = 0
    CommandSet         = IsengardUrukHauptmannCommandSet1
    Scale              = 1.05
    ShowHealthInSelectionDecal = Yes
    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
    BuildCost          = 750
    BuildTime          = ELITE_BUILDTIME
    ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG
    DisplayMeleeDamage = 170
    MaxSimultaneousOfType = 1

    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    UrukHauptmannSword
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    ArmorSet
        Conditions      = None
        Armor           = EdainWarriorHeroArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_STANDARD_HORSE
    ShroudClearingRange = SHROUD_CLEAR_HERO

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue         = 50
    DisplayName         = OBJECT:IsengardUrukHauptmann
    CrushableLevel      = 1
    CrusherLevel        = 0
    CrushRevengeWeapon  = BasicInfantryCrushRevenge

    BuildFadeInOnCreateTime = 0



            VoiceAttack                             = HeroUrukHaiVoiceAttack
            VoiceAttackAir                          = HeroUrukHaiVoiceAttack
            VoiceAttackCharge                       = HeroUrukHaiVoiceAttack
            VoiceAttackMachine                      = HeroUrukHaiVoiceAttack
            VoiceAttackStructure                    = HeroUrukHaiVoiceAttack
            VoiceCreated                            = HeroUrukHaiVoiceSalute
            VoiceFear                               = HeroUrukHaiVoiceHelpMe
            VoiceFullyCreated                       = HeroUrukHaiVoiceSalute
            VoiceGuard                              = HeroUrukHaiVoiceMove
            VoiceMove                               = HeroUrukHaiVoiceMove
            VoiceMoveToCamp                         = HeroUrukHaiVoiceMove
            VoiceMoveWhileAttacking                 = HeroUrukHaiVoiceMove
            VoicePriority                           = 80
            VoiceRetreatToCastle                    = HeroUrukHaiVoiceMove
            VoiceSelect                             = HeroUrukHaiVoiceSelectMS
            VoiceSelectBattle                       = HeroUrukHaiVoiceSelectBattle

            SoundImpact                             = ImpactHorse

            UnitSpecificSounds
                VoiceEnterUnitElvenTransportShip    = HeroUrukHaiVoiceMove
                VoiceEnterUnitMordorMumakil         = HeroUrukHaiVoiceMove
                VoiceEnterUnitSlaughterHouse        = HeroUrukHaiVoiceMove
                VoiceEnterUnitTransportShip         = HeroUrukHaiVoiceMove
                VoiceGarrison                       = HeroUrukHaiVoiceMove
                VoiceInitiateCaptureBuilding        = HeroUrukHaiVoiceCaptureBuilding
            End

    CrowdResponseKey = Uruk

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionUrukCompilationVoxTauntSinglesLoop
    End

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Orc_Infantry UrukHai_Swordman
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallOrc             Animation:IUUrukahi_SKL.IUUrukahi_DIEA    Frames:18
        AnimationSound = Sound:BodyFallOrc             Animation:IUUrukahi_SKL.IUUrukahi_DIEB    Frames:30
        AnimationSound = Sound:BodyFallOrc             Animation:IUUrukahi_SKL.IUUrukahi_DIEC    Frames:28
        AnimationSound = Sound:BodyFallGeneric2        Animation:IUUrukahi_SKL.IUUrukahi_DIEG    Frames:115
        AnimationSound = Sound:BodyFallOrc             Animation:IUUrukahi_SKL.IUUrukahi_LNDA    Frames:2
        AnimationSound = Sound:BodyFallGeneric2        Animation:IUUrukahi_SKL.IUUrukahi_LNDA    Frames:37
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_USE_SIEGE_TOWER URUK GRAB_AND_DROP ARMY_SUMMARY CAN_ATTACK

    ThreatBreakdown   = IsengardBeserker_DetailedThreat
        AIKindOf      = INFANTRY
    End

    Body = ActiveBody ModuleTag_02
        CheerRadius        = EMOTION_CHEER_RADIUS
        MaxHealth          = 2400
        MaxHealthDamaged   = 600
        CheerRadius        = EMOTION_CHEER_RADIUS
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
    AILuaEventsList               = IsengardFighterFunctions
    MoodAttackCheckRate           = 500
    AttackPriority                = AttackPriority_Infantry
    BurningDeathTime              = BURNINGDEATH_DURATION_INFANTRY
  End

    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = AttributeModifierUpgrade ModuleTag_AMU
        AttributeModifier = FearlessForever
    End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = NORMAL_EVIL_FAST_MEMBER_SPEED
  End

  LocomotorSet
    Locomotor = BurningDeathLocomotorInfantry
    Condition = SET_BURNINGDEATH
    Speed      = BURNINGDEATH_WANDERSPEED_INFANTRY
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
    ShockStandingTime = 2533
  End

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -EXTRA_8
    SinkDelay = 3000
    SinkRate = 0.40
    DestructionDelay = 8000
    Sound = INITIAL UrukVoiceDie
  End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_LurtzCarnage
        SpecialPowerTemplate    = SpecialAbilityLurtzCarnageMod
        TriggeredBy             = Upgrade_ObjectLevel2
    End

    Behavior = SpecialPowerModule ModuleTag_LurtzCarnageStarter
        SpecialPowerTemplate         = SpecialAbilityLurtzCarnageMod
        StartsPaused                 = Yes
        AttributeModifier            = LurtzCarnage
        AttributeModifierAffectsSelf = Yes
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_CarnageUpdate
        SpecialPowerTemplate    = SpecialAbilityLurtzCarnageMod
        HeroEffectDuration      = 20000
        UnpackTime              = 1
    End

    Behavior = AutoAbilityBehavior ModuleTag_BladeOfPurityAutoAbility
	SpecialAbility	= SpecialAbilityLurtzCarnageMod
	ForbiddenStatus = INSIDE_GARRISON
	MaxScanRange	= 200
	Query		= 15 ALL ENEMIES
    End


    Behavior = SpecialPowerModule ModuleTag_LeadershipAnzeige
        SpecialPowerTemplate        = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack    = No
        StartsPaused                = No
    End

    Behavior = FireWeaponUpdate ModuleTag_FireWeapon
        FireWeaponNugget
            WeaponName = UrukHauptmannModifierWeapon
            FireDelay = 0
            OneShot = No
        End
    End

    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End

    Behavior = AutoHealBehavior ModuleTag_LurtzHealing
       StartsActive          = Yes
       HealingAmount         = HERO_HEAL_AMOUNT
       HealingDelay          = 2000
       StartHealingDelay     = HERO_HEAL_DELAY
       HealOnlyIfNotInCombat = Yes
    End

    Behavior = SquishCollide ModuleTag_06
    End





    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName  = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName  = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName  = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End

    Behavior = AISpecialPowerUpdate CaptainCarnageAI
        CommandButtonName = Command_SpecialAbilityLurtzCarnageMod
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

  Geometry            = CYLINDER
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 9.0
  GeometryHeight      = 20
  GeometryIsSmall     = Yes

  Shadow              = SHADOW_DECAL
  ShadowSizeX         = 22
  ShadowSizeY         = 22
  ShadowTexture       = ShadowI



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_MordorAttackTrollBody

    AutoResolveArmor
        Armor = AutoResolve_MordorAttackTrollArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_MordorAttackTrollWeapon
    End
End

Object IsengardUrukHauptmann5

  ButtonImage    = HSUrukhauptmann5
  SelectPortrait = UPUrukhauptmann5

    DescriptionStrategic = CONTROLBAR:LW_ToolTip_IsengardUrukHauptmann1

  Draw = W3DHordeModelDraw ModuleTag_01

    OkToChangeModelColor = No
    StaticModelLODMode   = No






    DefaultModelConditionState
            Model    = IUUrukCptn_SKN
            Skeleton = GUTowerGrd_SKL
    End

    ModelConditionState WEAPONSET_PLAYER_UPGRADE
            Model    = IUUrukCptn_SKN
            Skeleton = GUTowerGrd_SKL
    End


		AnimationState        = THROWN_PROJECTILE
			Animation           = FLYA
				AnimationName     = GUTowerGrd_FLYA
				AnimationMode     = LOOP
			End
		End

		AnimationState							= PASSENGER FREEFALL
			Animation							= Grabbed
				AnimationName					= GUTowerGrd_FLLA
				AnimationMode					= LOOP
			End
		End

		AnimationState							= FREEFALL
			Animation							= Falling
				AnimationName					= GUTowerGrd_FLYA
				AnimationMode					= LOOP
				AnimationBlendTime				= 10
			End
		End

		AnimationState        = MOVING FIRING_OR_PREATTACK_A
			ShareAnimation		= Yes
			Animation           = RunAndFire
				AnimationName       = GUTowerGrd_ATRA
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART
		End


		AnimationState					= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
			ShareAnimation				= Yes
			Animation					= TerrorFromTheSky
				AnimationName			= GUTowerGrd_RUNB
				AnimationMode			= LOOP
			End
		End
		AnimationState					= MOVING EMOTION_TERROR
			ShareAnimation				= Yes
			Animation					= Terror
				AnimationName			= GUTowerGrd_RUNB
				AnimationMode			= LOOP
			End
		End


		AnimationState				=	MOVING BACKING_UP
			ShareAnimation = Yes
			Animation				=	BackingUp
				AnimationName		=	GUTowerGrd_BAKA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
		End























		AnimationState        = MOVING
			ShareAnimation = Yes
			Animation           = RUNA
				AnimationName     = GUTowerGrd_WLKA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART

		End

		AnimationState        =  FIRING_OR_PREATTACK_A
			Animation           = ATKA
				AnimationName     = GUTowerGrd_ATKA
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End

		End


		AnimationState        = STUNNED_FLAILING
			Animation           = FLYA
				AnimationName     = GUTowerGrd_FLYA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
		End

		AnimationState        = DYING SPLATTED
			Animation           = LNDA
				AnimationName     = GUTowerGrd_LNDB
				AnimationMode     = ONCE
			End
		End


		AnimationState        = DYING
			Animation           = DIEA
				AnimationName     = GUTowerGrd_DIEA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.8 1.2
			End
		End

		AnimationState        = STUNNED_STANDING_UP
			Animation           = GTPA
				AnimationName     = GUTowerGrd_GTPA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End

		AnimationState        = STUNNED
			Animation           = LNDA
				AnimationName     = GUTowerGrd_LNDB
				AnimationMode     = ONCE
			End
		End

		TransitionState       = TRANS_Plant
			Animation           = PLTA
				AnimationName     = GUTowerGrd_PLTA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.8 1.2
			End
		End

		TransitionState       = TRANS_Unplant
			Animation           = PLTB
				AnimationName     = GUTowerGrd_PLTB
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.5 1.2
			End
		End

		AnimationState						= HIT_REACTION
			Animation						= HIT REACTION
				AnimationName				= GUTowerGrd_HITA
				AnimationMode				= ONCE
			End
		End


		AnimationState					= EMOTION_ALERT EMOTION_AFRAID
			ShareAnimation				= Yes
			Animation					= Apprehensive
				AnimationName			= IUUrukCptn_APPA
				AnimationMode			= LOOP
			End
		End



		AnimationState					= EMOTION_AFRAID
			ShareAnimation				= Yes
			Animation					= FERA
				AnimationName			= GUTowerGrd_FERA
				AnimationMode			= LOOP
			End
			Animation					= FERB
				AnimationName			= GUTowerGrd_FERB
				AnimationMode			= LOOP
			End
		End



		AnimationState					= EMOTION_TAUNTING ALTERNATE_FORMATION
			Animation					= TNTA
				AnimationName			= GUTowerGrd_TNTA
				AnimationMode			= LOOP
			End
		End
		AnimationState					= EMOTION_TAUNTING
			Animation					= Taunting
				AnimationName			= GUTowerGrd_TNTA
				AnimationMode			= ONCE
			End
			Animation					= Taunting2
				AnimationName			= GUTowerGrd_TNTB
				AnimationMode			= ONCE
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
		End



		AnimationState					= EMOTION_POINTING
			Animation					= Pointing1
				AnimationName			= GUTowerGrd_PNTA
				AnimationMode			= LOOP
			End
			Flags						= RANDOMSTART
		End



		AnimationState					= EMOTION_CELEBRATING
			Animation					= CHRA
				AnimationName			= GUTowerGrd_CHRA
				AnimationMode			= LOOP
			End
		End


		AnimationState					= EMOTION_ALERT
			Animation					= CHRA
				AnimationName			= IUUrukCptn_IDLA
				AnimationMode			= LOOP
			End
		End



		AnimationState					= SELECTED ALTERNATE_FORMATION
			ShareAnimation				= Yes
			StateName					= STATE_SelectedAlternateFormation
			Animation					= IDLB
				AnimationName			= GUTowerGrd_IDLB
				AnimationMode			= LOOP
			End
		End
		AnimationState					= SELECTED
			StateName					= STATE_Selected

			ShareAnimation				= Yes
			Animation					= ATNB
				AnimationName			= IUUrukCptn_ATNB
				AnimationMode			= LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Planted" then CurDrawableSetTransitionAnimState("TRANS_Unplant") end
			EndScript
		End



		AnimationState					= ALTERNATE_FORMATION
			StateName					= STATE_SelectedAlternateFormation

			ShareAnimation				= Yes
			Animation					= IDLB
				AnimationName			= GUTowerGrd_IDLB
				AnimationMode			= LOOP
			End
		End
		IdleAnimationState
			StateName					= STATE_Idle
			Animation					= IDLA
				AnimationName			= IUUrukCptn_IDLA
				AnimationMode			= LOOP
				AnimationBlendTime		= 15
				AnimationSpeedFactorRange = 0.8 1.2
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Planted" then CurDrawableSetTransitionAnimState("TRANS_Unplant") end
			EndScript
		End

    End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"


    Side               = Isengard
    EditorSorting      = UNIT
    ThreatLevel        = 1.0
    ThingClass         = HORDE_UNIT
    EmotionRange       = 240
    CommandPoints      = 0
    CommandSet         = IsengardUrukHauptmannCommandSet1
    Scale              = 1.05
    ShowHealthInSelectionDecal = Yes
    TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
    BuildCost          = 750
    BuildTime          = ELITE_BUILDTIME
    ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG
    DisplayMeleeDamage = 170
    MaxSimultaneousOfType = 1

    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    UrukHauptmannSword
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    ArmorSet
        Conditions      = None
        Armor           = EdainWarriorHeroArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_STANDARD_HORSE
    ShroudClearingRange = SHROUD_CLEAR_HERO

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 1.0%

    BountyValue         = 50
    DisplayName         = OBJECT:IsengardUrukHauptmann
    CrushableLevel      = 1
    CrusherLevel        = 0
    CrushRevengeWeapon  = BasicInfantryCrushRevenge

    BuildFadeInOnCreateTime = 0



            VoiceAttack                             = HeroUrukHaiVoiceAttack
            VoiceAttackAir                          = HeroUrukHaiVoiceAttack
            VoiceAttackCharge                       = HeroUrukHaiVoiceAttack
            VoiceAttackMachine                      = HeroUrukHaiVoiceAttack
            VoiceAttackStructure                    = HeroUrukHaiVoiceAttack
            VoiceCreated                            = HeroUrukHaiVoiceSalute
            VoiceFear                               = HeroUrukHaiVoiceHelpMe
            VoiceFullyCreated                       = HeroUrukHaiVoiceSalute
            VoiceGuard                              = HeroUrukHaiVoiceMove
            VoiceMove                               = HeroUrukHaiVoiceMove
            VoiceMoveToCamp                         = HeroUrukHaiVoiceMove
            VoiceMoveWhileAttacking                 = HeroUrukHaiVoiceMove
            VoicePriority                           = 80
            VoiceRetreatToCastle                    = HeroUrukHaiVoiceMove
            VoiceSelect                             = HeroUrukHaiVoiceSelectMS
            VoiceSelectBattle                       = HeroUrukHaiVoiceSelectBattle

            SoundImpact                             = ImpactHorse

            UnitSpecificSounds
                VoiceEnterUnitElvenTransportShip    = HeroUrukHaiVoiceMove
                VoiceEnterUnitMordorMumakil         = HeroUrukHaiVoiceMove
                VoiceEnterUnitSlaughterHouse        = HeroUrukHaiVoiceMove
                VoiceEnterUnitTransportShip         = HeroUrukHaiVoiceMove
                VoiceGarrison                       = HeroUrukHaiVoiceMove
                VoiceInitiateCaptureBuilding        = HeroUrukHaiVoiceCaptureBuilding
            End

    CrowdResponseKey = Uruk

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionUrukCompilationVoxTauntSinglesLoop
    End

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Orc_Infantry UrukHai_Swordman
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallOrc             Animation:IUUrukahi_SKL.IUUrukahi_DIEA    Frames:18
        AnimationSound = Sound:BodyFallOrc             Animation:IUUrukahi_SKL.IUUrukahi_DIEB    Frames:30
        AnimationSound = Sound:BodyFallOrc             Animation:IUUrukahi_SKL.IUUrukahi_DIEC    Frames:28
        AnimationSound = Sound:BodyFallGeneric2        Animation:IUUrukahi_SKL.IUUrukahi_DIEG    Frames:115
        AnimationSound = Sound:BodyFallOrc             Animation:IUUrukahi_SKL.IUUrukahi_LNDA    Frames:2
        AnimationSound = Sound:BodyFallGeneric2        Animation:IUUrukahi_SKL.IUUrukahi_LNDA    Frames:37
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_USE_SIEGE_TOWER URUK GRAB_AND_DROP ARMY_SUMMARY CAN_ATTACK

    ThreatBreakdown   = IsengardBeserker_DetailedThreat
        AIKindOf      = INFANTRY
    End

    Body = ActiveBody ModuleTag_02
        CheerRadius        = EMOTION_CHEER_RADIUS
        MaxHealth          = 2400
        MaxHealthDamaged   = 600
        CheerRadius        = EMOTION_CHEER_RADIUS
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
    AILuaEventsList               = IsengardFighterFunctions
    MoodAttackCheckRate           = 500
    AttackPriority                = AttackPriority_Infantry
    BurningDeathTime              = BURNINGDEATH_DURATION_INFANTRY
  End

    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = AttributeModifierUpgrade ModuleTag_AMU
        AttributeModifier = FearlessForever
    End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = NORMAL_EVIL_FAST_MEMBER_SPEED
  End

  LocomotorSet
    Locomotor = BurningDeathLocomotorInfantry
    Condition = SET_BURNINGDEATH
    Speed      = BURNINGDEATH_WANDERSPEED_INFANTRY
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
    ShockStandingTime = 2533
  End

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -EXTRA_8
    SinkDelay = 3000
    SinkRate = 0.40
    DestructionDelay = 8000
    Sound = INITIAL UrukVoiceDie
  End





    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_LurtzCarnage
        SpecialPowerTemplate    = SpecialAbilityLurtzCarnageMod
        TriggeredBy             = Upgrade_ObjectLevel2
    End

    Behavior = SpecialPowerModule ModuleTag_LurtzCarnageStarter
        SpecialPowerTemplate         = SpecialAbilityLurtzCarnageMod
        StartsPaused                 = Yes
        AttributeModifier            = LurtzCarnage
        AttributeModifierAffectsSelf = Yes
    End

    Behavior = HeroModeSpecialAbilityUpdate ModuleTag_CarnageUpdate
        SpecialPowerTemplate    = SpecialAbilityLurtzCarnageMod
        HeroEffectDuration      = 20000
        UnpackTime              = 1
    End

    Behavior = AutoAbilityBehavior ModuleTag_BladeOfPurityAutoAbility
	SpecialAbility	= SpecialAbilityLurtzCarnageMod
	ForbiddenStatus = INSIDE_GARRISON
	MaxScanRange	= 200
	Query		= 15 ALL ENEMIES
    End


    Behavior = SpecialPowerModule ModuleTag_LeadershipAnzeige
        SpecialPowerTemplate        = SpecialAbilityFakeLeadership
        UpdateModuleStartsAttack    = No
        StartsPaused                = No
    End

    Behavior = FireWeaponUpdate ModuleTag_FireWeapon
        FireWeaponNugget
            WeaponName = UrukHauptmannModifierWeapon
            FireDelay = 0
            OneShot = No
        End
    End

    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End

    Behavior = AutoHealBehavior ModuleTag_LurtzHealing
       StartsActive          = Yes
       HealingAmount         = HERO_HEAL_AMOUNT
       HealingDelay          = 2000
       StartHealingDelay     = HERO_HEAL_DELAY
       HealOnlyIfNotInCombat = Yes
    End

    Behavior = SquishCollide ModuleTag_06
    End





    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
        CommandButtonName  = Command_SetStanceBattle
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
        CommandButtonName  = Command_SetStanceAggressive
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
        CommandButtonName  = Command_SetStanceHoldGround
        SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End

    Behavior = AISpecialPowerUpdate CaptainCarnageAI
        CommandButtonName = Command_SpecialAbilityLurtzCarnageMod
        SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
    End

  Geometry            = CYLINDER
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 9.0
  GeometryHeight      = 20
  GeometryIsSmall     = Yes

  Shadow              = SHADOW_DECAL
  ShadowSizeX         = 22
  ShadowSizeY         = 22
  ShadowTexture       = ShadowI



    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_MordorAttackTrollBody

    AutoResolveArmor
        Armor = AutoResolve_MordorAttackTrollArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_MordorAttackTrollWeapon
    End
End

