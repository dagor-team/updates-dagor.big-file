Object WildSmaug_mod


      SelectPortrait = UPMMSmaug
      ButtonImage    = UIMMSmaug

	DescriptionStrategic = CONTROLBAR:LW_ToolTip_Drogoth

	ShockwaveResistance = SHOCKWAVE_RESISTANCE_ALWAYS

	Draw = W3DScriptedModelDraw ModuleTag_01

	    OkToChangeModelColor = Yes
	    StaticModelLODMode   = Yes

		DefaultModelConditionState
			Model			= wusmaug_ddf	
			WeaponLaunchBone	= PRIMARY BAT_JAW
			WeaponLaunchBone	= SECONDARY BAT_TAIL08
		End

		IdleAnimationState
			StateName = Idle
			Animation = IDLA
				AnimationName = WUDrogoth_SKL.WUDrogoth_FLYA
				AnimationMode = LOOP
				AnimationSpeedFactorRange = 0.95 1.05
			End
			BeginScript
 				Prev = CurDrawablePrevAnimationState()
 				if Prev == "STATE_WingBlastLoop" then
 					CurDrawableSetTransitionAnimState("TRANS_WingBlastStop") end
 			EndScript
		End

  		AnimationState = DYING
   			StateName = DYING
			Animation = DyingA
				AnimationName = WUDrogoth_SKL.WUDrogoth_DIEK
  				AnimationMode = ONCE
  			End
		End

 		AnimationState	= BACKING_UP
   			StateName = backup
   			Animation = IDLA
   				AnimationName = WUDrogoth_SKL.WUDrogoth_FLYA
   				AnimationMode = LOOP
				AnimationSpeedFactorRange = 0.95 1.05
   			End
   		End

   		AnimationState = DIVING
   			StateName = Diving
   			Animation = Diving
   				AnimationName = WUDrogoth_SKL.WUDrogoth_FLYA
   				AnimationMode = LOOP
 				AnimationSpeedFactorRange = 0.95 1.05
  			End
   		End

		AnimationState = ABOUT_TO_HIT
			StateName = Claw
			Animation = Claw
				AnimationName = WUDrogoth_SKL.WUDrogoth_ATKA
				AnimationMode = LOOP
			End
		End


		AnimationState			= SPECIAL_WEAPON_ONE
			Animation
				AnimationName	= WUDrogoth_SKL.WUDrogoth_SPCA
				AnimationMode   = LOOP
			End
			FXEvent	= Frame:12 Name: FX_SmaugStunSelf
		End

		AnimationState			= SPECIAL_WEAPON_TWO
			Animation
				AnimationName	= WUDrogoth_SKL.WUDrogoth_SPCB
				AnimationMode   = LOOP
			End

            ParticleSysBone = BAT_HEAD DrogothFireBreathvals FollowBone:Yes
			ParticleSysBone = BAT_HEAD DrogothFireBreath FollowBone:Yes
			ParticleSysBone = BAT_HEAD droslave01 FollowBone:Yes
			ParticleSysBone = BAT_HEAD DrogothBreathProxy FollowBone:Yes
		End


		AnimationState			= SPECIAL_WEAPON_THREE
			StateName			= STATE_WingBlastLoop
			Animation
				AnimationName				= WUDrogoth_SKL.WUDrogoth_SPC2
				AnimationMode				= LOOP
				AnimationSpeedFactorRange	= 0.9 0.9
			End
			FXEvent	= Frame:6 Name:FX_WindBlast
 	 		BeginScript
 				Prev = CurDrawablePrevAnimationState()
 				if Prev ~= "TRANS_WingBlastStart" and Prev ~= "STATE_WingBlastLoop" then
 					CurDrawableSetTransitionAnimState("TRANS_WingBlastStart") end
 			EndScript
		End

   	    TransitionState = TRANS_WingBlastStart
   			Animation
   				AnimationName = WUDrogoth_SKL.WUDrogoth_SPC1
   				AnimationMode = ONCE
   			End
   		End

   		TransitionState = TRANS_WingBlastStop
   			Animation
   				AnimationName = WUDrogoth_SKL.WUDrogoth_SPC3
   				AnimationMode = ONCE
   			End
   		End

		AnimationState	= USER_1
			Animation
				AnimationName	= WUDrogoth_SKL.WUDrogoth_SPCF
				AnimationMode	= ONCE
			End
		End


		AnimationState = CLIMBING
			StateName = Climbing
			Animation = Moving
				AnimationName = WUDrogoth_SKL.WUDrogoth_FLYA
				AnimationMode = LOOP
				AnimationSpeedFactorRange = 0.95 1.05
			End
		End
		AnimationState = FREEFALL
			StateName = Freefall
			Animation = Moving
				AnimationName = WUDrogoth_SKL.WUDrogoth_FLYA
				AnimationMode = LOOP
			End
		End

		AnimationState = MOVING
			StateName = Moving
			Animation = Moving
				AnimationName = WUDrogoth_SKL.wusmaug_flyb
				AnimationMode = LOOP
				AnimationPriority   = 10
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation = Moving
				AnimationName = WUDrogoth_SKL.wusmaug_soar
				AnimationMode = LOOP
				AnimationPriority   = 20

				AnimationSpeedFactorRange = 0.8 0.95
			End
 	 		BeginScript
 				Prev = CurDrawablePrevAnimationState()
 				if Prev == "Idle"	then CurDrawableSetTransitionAnimState("Trans_Begin_Moving") return end
 				if Prev == "Climbing"	then CurDrawableSetTransitionAnimState("Trans_Begin_Moving") return end
 				if Prev == "STATE_WingBlastLoop" then
 					CurDrawableSetTransitionAnimState("TRANS_WingBlastStop") end
 			EndScript
 		End

   	    TransitionState = Trans_Begin_Moving
   			Animation = Transition
   				AnimationName = WUDrogoth_SKL.WUDrogoth_FLYC
   				AnimationMode = ONCE
   				AnimationBlendTime = 6
   			End
   		End

   		AnimationState = LEVELED
			Animation
				AnimationName = WUDrogoth_SKL.WUDrogoth_LVLA
				AnimationMode = LOOP
			End
		End
	End

	Side			= Wild
	EditorSorting		= UNIT
	ThreatLevel		= DROGOTH_THREAT_LEVEL
	ThingClass		= LARGE_MONSTER
	TransportSlotCount	= TRANSPORTSLOTCOUNT_NOT_TRANSPORTABLE
 	BuildCost		= 3000
 	BuildTime		= SILMARIL_HERO_BUILDTIME

	WeaponSet
		Weapon			   = SECONDARY	SmaugPlowAttack
		PreferredAgainst	   = SECONDARY MACHINE HORDE INFANTRY CAVALRY
		Weapon			   = TERTIARY	SmaugClawAttack
		OnlyAgainst		   = TERTIARY	MONSTER STRUCTURE HERO
		ReadyStatusSharedWithinSet = Yes
	End

	ArmorSet
		Conditions      = None
		Armor           = FlyingDragonArmor
		DamageFX        = FellBeastDamageFX
	End
	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = FlyingDragonArmorUpgrade
		DamageFX        = FellBeastDamageFX
	End
	
	ShroudClearingRange 	= SHROUD_CLEAR_FLIER
	DisplayMeleeDamage 	= VERY_STRONG_HERO_DAMAGE
	BountyValue 		= 2000
	DisplayName		= OBJECT:SmaugKingUnderTheMountainFlying
	RecruitText		= CONTROLBAR:WildSmaugKingUnderTheMountainFlyingRecruit
	ReviveText		= CONTROLBAR:WildSmaugKingUnderTheMountainFlyingRevive
	Hotkey			= CONTROLBAR:WildSmaugKingUnderTheMountainFlyingHotkey
	RamPower		= 45
	RamZMult		= 0.5
	CrusherLevel		= 3
	CrushKnockback		= 50
	CrushZFactor	= 1.0
	CommandSet	= WildSmaugModCommandSet
	CommandPoints	= 0

	AutoResolveUnitType = AutoResolveUnit_Hero
	AutoResolveCombatChain = AutoResolve_HeroCombatChain

	AutoResolveBody = AutoResolve_DrogothBody

	AutoResolveArmor
		Armor = AutoResolve_DrogothArmor
	End

	AutoResolveWeapon
		Weapon = AutoResolve_DrogothWeapon
	End

	VoiceAttack		= SmaugVoxAttack
	VoiceAttackCharge	= SmaugVoxAttackCharge
	VoiceCreated		= EVA:SmaugCreated
	VoiceFullyCreated	= EVA:SmaugCreated
	VoiceFear		= EVA:SmaugHelpMe
	VoiceGuard		= SmaugVoxMoveMS
	VoiceMove		= SmaugVoxMoveMS
	VoicePriority		= 95
	VoiceSelect		= SmaugVoxSelect

	VoiceEnterStateAttack		= SmaugVoxEnterStateAttack
	VoiceEnterStateAttackCharge	= SmaugVoxEnterStateAttackCharge
	VoiceEnterStateAttackStructure	= SmaugVoxEnterStateAttackBuilding

	SoundAmbient			= DrogothVoxAmbientLoop
	SoundImpact			= ImpactHorse
	SoundMoveStart			= FellBeastMoveStart


    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

	EvaEventDieOwner	= SmaugDie

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
		ModelCondition = Required:SPECIAL_WEAPON_TWO	Excluded:DYING Sound:DrogothIncinerateMS
		ModelCondition = Required:SPECIAL_WEAPON_THREE	Excluded:DYING Sound:DrogothWingBlastLoop
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: FellBeastWingFlaps			Animation:WUDrogoth_SKL.WUDrogoth_FLYA 	Frames: 1
		AnimationSound = Sound: FellBeastWingFlaps			Animation:WUDrogoth_SKL.WUDrogoth_FLYB 	Frames: 1
		AnimationSound = Sound: FellBeastWingFlaps			Animation:WUDrogoth_SKL.WUDrogoth_FLYC 	Frames: 1 43 91
		AnimationSound = Sound: FellBeastWingFlapsShort			Animation:WUDrogoth_SKL.WUDrogoth_HITA 	Frames: 11
		AnimationSound = Sound: FellBeastWingFlaps			Animation:WUDrogoth_SKL.WUDrogoth_LVLA 	Frames: 1 42
		AnimationSound = Sound: DrogothVoxVeterancy			Animation:WUDrogoth_SKL.WUDrogoth_LVLA 	Frames: 15
		AnimationSound = Sound: FellBeastWingFlapsShort			Animation:WUDrogoth_SKL.WUDrogoth_SPC1 	Frames: 1 22
		AnimationSound = Sound: DrogothWingBlastWingFlaps		Animation:WUDrogoth_SKL.WUDrogoth_SPC1 	Frames: 56
		AnimationSound = Sound: DrogothWingBlastWingFlaps		Animation:WUDrogoth_SKL.WUDrogoth_SPC2 	Frames: 0
		AnimationSound = Sound: FellBeastWingFlapsShort			Animation:WUDrogoth_SKL.WUDrogoth_SPC3 	Frames: 1
		AnimationSound = Sound: FellBeastWingFlaps			Animation:WUDrogoth_SKL.WUDrogoth_SPCA 	Frames: 1 41
		AnimationSound = Sound: FellBeastWingFlaps			Animation:WUDrogoth_SKL.WUDrogoth_SPCB 	Frames: 1 37 71 106
		AnimationSound = Sound: FellBeastWingFlaps			Animation:WUDrogoth_SKL.WUDrogoth_SPCF 	Frames: 1
		AnimationSound = Sound: DrogothWingBlastWingFlaps		Animation:WUDrogoth_SKL.WUDrogoth_SPCF 	Frames: 28
	End

	RadarPriority = UNIT
	KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS SCORE NO_FREEWILL_ENTER SCARY MONSTER CANNOT_RETALIATE ARMY_SUMMARY GIANT_BIRD

	Body = RespawnBody ModuleTag_02
		CheerRadius 	  	= EMOTION_CHEER_RADIUS
		MaxHealth         	= 13500
		HealingBuffFx     	= None
		DodgePercent        = HERO_DODGE_PERCENT
	End

    	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        	DeathAnim                   = DYING
        	DeathAnimationTime          = 4000
        	RespawnAnim                 = LEVELED
        	RespawnAnimationTime        = 4000
        	AutoRespawnAtObjectFilter   = NONE +CASTLE_KEEP
        	ButtonImage                 = UIMMSmaug

        	RespawnRules =    AutoSpawn:No           Cost:4000      Time:SILMARIL_HERO_RESPAWNTIME        Health:100%
    	End

	Behavior = AutoHealBehavior ModuleTag_FellbeastHealing
		StartsActive		= Yes
		HealingAmount		= DROGOTH_HEAL_AMOUNT
		HealingDelay		= 1000
		StartHealingDelay	= 15000
		HealOnlyIfNotInCombat	= Yes
	End

	Behavior = StancesBehavior ModuleTag_StancesBehavior
        	StanceTemplate = Hero
    	End

	Behavior = GiantBirdAIUpdate ModuleTag_GiantBirdAI
	    AutoAcquireEnemiesWhenIdle		= Yes ATTACK_BUILDINGS
	    MoodAttackCheckRate			= 500
	    AILuaEventsList			= FellBeastFunctions
		FollowThroughDistance		= 200
		FollowThroughCheckStep		= 50
		FollowThroughGradient		= 1.0
		GrabTossTimeTrigger		= 2.5
		GrabTossHeightTrigger		= 100.0
		TossFX				= FX_DiebyFalling
		SpecialContactPoints		= Swoop
		AttackPriority 			= AttackPriority_FellBeast
	End

	LocomotorSet
		Locomotor = SmaugLocomotor
		Condition = SET_NORMAL
		Speed     = 150
	End
	LocomotorSet
		Locomotor = SmaugLocomotor
		Condition = SET_SUPERSONIC
		Speed     = 165
	End
	LocomotorSet
		Locomotor = SmaugLocomotor
		Condition = SET_WANDER
		Speed     = 150
	End
	LocomotorSet
		Locomotor = SmaugLocomotor
		Condition = SET_PANIC
		Speed     = 160
	End

	Behavior = PhysicsBehavior ModuleTag_04
	End

	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
        TriggeredBy         = Upgrade_Level_5
        ArmorSetFlag        = PLAYER_UPGRADE
    End

    	Behavior = MonitorConditionUpdate ModuleTag_CommandSetSwapper1
        	WeaponSetFlags            = WEAPONSET_TOGGLE_1
        	WeaponToggleCommandSet    = WildSmaugMod2CommandSet
    	End

    	Behavior = MonitorConditionUpdate ModuleTag_CommandSetSwapper2
        	WeaponSetFlags            = WEAPONSET_TOGGLE_2
        	WeaponToggleCommandSet    = WildSmaugModCommandSet
    	End



    Behavior = SpecialPowerModule ModuleTag_DismountStarter
         SpecialPowerTemplate        	= SpecialAbilityToggleMountSmaug
         UpdateModuleStartsAttack    	= Yes
         StartsPaused                	= No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Dismount
         SpecialPowerTemplate    	= SpecialAbilityToggleMountSmaug
         StartAbilityRange       	= 50.0
         MountedTemplate         	= WildSmaugGround_mod
         SynchronizeTimerOnSpecialPower = SpecialAbilityToggleMountSmaug SpecialAbilityMouthOfSauronDissent SpecialAbilityDrogothFireflight SpecialAbilityWingBlast SpecialAbilityDrogothIncinerate SpecialAbilityLurtzCripple
         UnpackTime              	= 0
         PreparationTime         	= 1
         PackTime                	= 0
         OpacityTarget           	= 1
         AwardXPForTriggering    	= 0
         IgnoreFacingCheck       	= Yes
    End


	Behavior = SpecialPowerModule ModuleTag_FireballStarter
		SpecialPowerTemplate		= SpecialAbilityDrogothFireball
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= No
		InitiateSound			= DrogothVoxAttack
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_FireballUpdate
		SpecialPowerTemplate    = SpecialAbilityDrogothFireball
		WhichSpecialWeapon	= 1
		UnpackTime             	= 1800
		PreparationTime		= 10
		PackTime		= 950
		AwardXPForTriggering    = 0
		StartAbilityRange	= DROGOTH_FIREBALL_RANGE
		MustFinishAbility	= Yes
		SpecialWeapon		= DrogothFireball
	End

	Behavior = AutoAbilityBehavior ModuleTag_FireBallAutoAbility
		SpecialAbility	= SpecialAbilityDrogothFireball
		MaxScanRange	= 300
		Query		= 1 ANY ENEMIES +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir +GondorGwaihir_Summoned +ElvenFortressEagle +KhamulFellBeast +MorgomirFellBeast -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
		Query		= 1 ALL ENEMIES -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End



	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WingBlastUnpause
		SpecialPowerTemplate		= SpecialAbilityWingBlast
	End
	Behavior = SpecialPowerModule ModuleTag_WingBlastStarter
		SpecialPowerTemplate		= SpecialAbilityWingBlast
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= No
		InitiateSound			= DrogothVoxWingBlast
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WingBlastUpdate
		SpecialPowerTemplate    = SpecialAbilityWingBlast
		UnpackTime              = 2000
		PreparationTime		= 1
		PackTime                = 1000
		PersistentPrepTime	= 900
		PersistentCount		= 20
		AwardXPForTriggering    = 0
		StartAbilityRange	= 1.0
		SpecialWeapon		= DrogothWingBlast
		WhichSpecialWeapon	= 3
	End



	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CrippleEnabler
		SpecialPowerTemplate	= SpecialAbilityLurtzCripple2
		TriggeredBy		= Upgrade_Level_3
	End
	Behavior = SpecialPowerModule ModuleTag_CrippleStarter
		SpecialPowerTemplate		= SpecialAbilityLurtzCripple2
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= Yes
		InitiateSound			= SmaugVoiceGaze
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_CrippleUpdate
		SpecialPowerTemplate    = SpecialAbilityLurtzCripple2
		SkipContinue		= Yes
		UnpackTime		= 1100
		PreparationTime		= 1
		PersistentPrepTime	= 500
		PackTime		= 500
		MustFinishAbility	= Yes
		AwardXPForTriggering	= 0
		StartAbilityRange	= LURTZ_CRIPPLE_RANGE_ABILTY_START
		SpecialWeapon		= SmaugStun
		WhichSpecialWeapon	= 1
	End

	Behavior = AutoAbilityBehavior ModuleTag_CrippleStrikeAutoAbility
		SpecialAbility	= SpecialAbilityLurtzCripple2
		MaxScanRange	= 300
		Query		= 1 CRIPPLE_STRIKE_OBJECT_FILTER ENEMIES
	End



	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FireflightUnpause
		SpecialPowerTemplate		= SpecialAbilityDrogothFireflight
		TriggeredBy			= Upgrade_Level_6
	End
	Behavior = SpecialPowerModule ModuleTag_FireflightStarter
		SpecialPowerTemplate		= SpecialAbilityDrogothFireflight
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= Yes
		InitiateSound			= SmaugVoiceSpirit
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_FireflightUpdate
		SpecialPowerTemplate    = SpecialAbilityDrogothFireflight
		CustomAnimAndDuration	= AnimState:USER_1	AnimTime:2000
		SkipContinue		= Yes
		UnpackTime             	= 1100
		PreparationTime		= 1
		PackTime		= 900
		AwardXPForTriggering    = 0
		StartAbilityRange	= DROGOTH_FIREFLIGHT_RANGE
		MustFinishAbility	= Yes
		SpecialWeapon		= SmaugFireflight
		TriggerSound		= DrogothFireflightMS
	End

	Behavior = AutoAbilityBehavior ModuleTag_FireflightAutoAbility
		SpecialAbility	= SpecialAbilityDrogothFireflight
		MaxScanRange	= 300
		Query		= 20 ALL ENEMIES -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End




	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MouthOfSauronDissentEnabler
		SpecialPowerTemplate 	= SpecialAbilityMouthOfSauronDissent
		TriggeredBy 		= Upgrade_Level_8
	End
	Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentStarter
		SpecialPowerTemplate		= SpecialAbilityMouthOfSauronDissent
		StartsPaused			= Yes
 		UpdateModuleStartsAttack	= Yes
	End
	Behavior = ActivateModuleSpecialPower ModuleTag_MouthOfSauronDissentMover
		SpecialPowerTemplate		= SpecialAbilityMouthOfSauronDissent
		StartAbilityRange		= 300
		TriggerSpecialPower		= ModuleTag_MouthOfSauronDissentTrigger TARGETPOS
	End
	Behavior = SpecialPowerModule ModuleTag_MouthOfSauronDissentTrigger
		SpecialPowerTemplate		= SpecialAbilityMouthOfSauronDissent
		AttributeModifier		= MouthOfSauronDissentModifier
		AttributeModifierRange		= MOUTH_OF_SAURON_DISSENT_RADIUS
		AttributeModifierAffects	= ANY +INFANTRY +CAVALRY +MONSTER -HERO
		TriggerFX			= FX_DragonSickness
		UpdateModuleStartsAttack	= No
		StartsPaused			= Yes
		TargetAllSides			= Yes
	End
	Behavior = AutoAbilityBehavior ModuleTag_StarlightAutoAbilityBehavior2
		SpecialAbility	= SpecialAbilityMouthOfSauronDissent
		ForbiddenStatus = INSIDE_GARRISON
		MaxScanRange	= 300
		Query		= 25 ANY +INFANTRY +CAVALRY +MONSTER -HERO -ARMY_OF_DEAD -NeutralWarg -AngmarDireWolf_Creep -BarrowWight_Slaved -FireDrake_Slaved -MordorGoblinSwordsman_Slaved -MordorGoblinArcher_Slaved -MinorSpider_Slaved -CaveTroll_Slaved -MordorBlackRider -MordorBlackRiderHorde -DwarvenZerker -DwarvenZerkerHorde -NoldorWarrior -NoldorWarriorHorde -GondorKnightsofDol -GondorKnightsofDolHorde -WildBabyDrake -WildBabyDrakeHorde -IsengardFanatic -IsengardBerserkerHorde -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE ENEMIES
	End



	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_IncinerateUnpause
		SpecialPowerTemplate		= SpecialAbilityDrogothIncinerate
		TriggeredBy			= Upgrade_Level_10
	End
	Behavior = SpecialPowerModule ModuleTag_IncinerateStarter
		SpecialPowerTemplate		= SpecialAbilityDrogothIncinerate
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= Yes
		InitiateSound			= SmaugVoiceInferno
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_IncinerateUpdate
		SpecialPowerTemplate    = SpecialAbilityDrogothIncinerate
		UnpackTime              = 1300
		PackTime                = 3700
		AwardXPForTriggering    = 0
		StartAbilityRange	= 40.0
		SpecialWeapon		= DrogothIncinerate
		WhichSpecialWeapon	= 2
	End
	Behavior = AutoAbilityBehavior ModuleTag_IncinerateAutoAbility
		SpecialAbility	= SpecialAbilityDrogothIncinerate
		MaxScanRange	= 300
		Query		= 30 ALL ENEMIES -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End




	Behavior = SpecialPowerModule ModuleTag_FellbeastLevelAttack
		SpecialPowerTemplate      = SpecialAbilityLevelAttack
		UpdateModuleStartsAttack  = Yes
	End
	Behavior = FellBeastSwoopPower ModuleTag_FellBeastSwoopPower
		SpecialPowerTemplate		= SpecialAbilityLevelAttack
		UnpackTime			= 1
		AwardXPForTriggering		= 0
		StartAbilityRange		= 1000.0
	End

	Behavior = SlowDeathBehavior ModuleTag_SlowDeath
		DeathTypes			= ALL
		DestructionDelay		= 500
		ShadowWhenDead			= No
		Sound				= INITIAL DrogothVoxDie
        	FX				= INITIAL FX_DrogothDeath
   	End

	Behavior = SquishCollide ModuleTag_06
	End

	Behavior = NotifyTargetsOfImminentProbableCrushingUpdate ModuleTag_NotifyCrushScan
	End

	Behavior = AttributeModifierAuraUpdate ModuleTag_FearMe
		StartsActive	= Yes
		BonusName	= SauronFear
		RefreshDelay	= 5000
		Range		= 250.0
		ObjectFilter	= ANY +INFANTRY +CAVALRY
		TargetEnemy	= Yes
		MaxActiveRank	= 10
	End

	FormationPreviewDecal
        	Texture = FPflyingUnitDecal
        	Width   = 128
        	Height  = 128
    End


	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
		CommandButtonName = Command_SetStanceBattle
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
	End

	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
		CommandButtonName = Command_AttackMove
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
	End

	Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
		CommandButtonName = Command_SetStanceHoldGround
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
	End


	Behavior = AISpecialPowerUpdate SmaugLandAI
		CommandButtonName = Command_SmaugGround
		SpecialPowerAIType = AI_SPECIAL_POWER_TOGGLE_MOUNTED
	End

	Behavior = AISpecialPowerUpdate SmaugStunAI
		CommandButtonName = Command_SmaugStunNew
		SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER_RANGED
	End

	Behavior = AISpecialPowerUpdate SmaugDissentAI
		CommandButtonName = Command_SmaugDissentNew
		SpecialPowerAIType = AI_SPELLBOOK_ASSIST_BATTLE_DEBUFF
		SpecialPowerRadius = 150
	End

	Behavior = AISpecialPowerUpdate SmaugWingBlastAI
		CommandButtonName = Command_SmaugWingBlastNew
		SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
		SpecialPowerRadius = 50
	End

	Behavior = AISpecialPowerUpdate SmaugFireflightAI
		CommandButtonName = Command_SmaugFireflightNew
		SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
		SpecialPowerAIType = AI_SPECIAL_POWER_MORGUL_BLADE
		SpecialPowerRadius = 150
	End

	Behavior = AISpecialPowerUpdate SmaugIncinerateAI
		CommandButtonName = Command_SmaugIncinerateNew
		SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
		SpecialPowerAIType = AI_SPELLBOOK_ARMY_BREAKER
		SpecialPowerAIType = AI_SPELLBOOK_STRUCTURE_BREAKER
		SpecialPowerRadius = 150
	End

    	Scale = 1.9
	Geometry		= CYLINDER
	GeometryMinorRadius 	= 59.0
	GeometryMajorRadius 	= 59.0
	GeometryHeight		= 70.0
	GeometryOffset		= X:0 Y:0 Z:-10
	GeometryIsSmall		= No
	Shadow			= SHADOW_VOLUME_NON_SELF_3
	ShadowSunAngle		= 89
End


Object WildSmaugGround_mod

	ButtonImage    = UIMMSmaug
	SelectPortrait = UPMMSmaug

	Draw = W3DScriptedModelDraw ModuleTag_01
	StaticModelLODMode = No

		DefaultModelConditionState
			Model = wusmaug_ddg
			Skeleton = JHDrag_SKL
			ParticleSysBone = B_MAINBONE SummonedDragonWaves      FollowBone:Yes
			ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves FollowBone:Yes
		End

		IdleAnimationState
			StateName = STATE_Idle
			Animation = Breathe
				AnimationName = JHDrag_IDLA
				AnimationMode = ONCE
				AnimationPriority = 20
			End

			ParticleSysBone = BAT_HEAD SummonedDragonFireSnort	FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonSnortEmbers	FollowBone:Yes
			ParticleSysBone = B_MAINBONE SummonedDragonWaves	FollowBone:Yes
			ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves FollowBone:Yes

			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected"	then
				CurDrawableSetTransitionAnimState("TRANS_Selected_to_Idle") return end
			EndScript
			AllowRepeatInRandomPick = Yes
		End

		AnimationState		= EATING
			Animation
				AnimationName	= JHDrag_ATKA
				AnimationMode	= ONCE
			End
			ParticleSysBone = BAT_HEAD SummonedDragonFireRoar	FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonSmokeRoar	FollowBone:Yes
			ParticleSysBone = NONE SummonedDragonDust	 FollowBone:Yes
		End

		AnimationState	= USER_2
			StateName = State_JustBuilt
			Animation
				AnimationName = JHDrag_LNDA
				AnimationMode = ONCE
				AnimationBlendTime = 0
			End
			ParticleSysBone = NONE SummonedDragonDust	 FollowBone:Yes
		End

		AnimationState	= USER_3
			Animation
				AnimationName	= JHDrag_RORA
				AnimationMode	= ONCE
			End
			End

		AnimationState = USER_4
			Animation
				AnimationName	= JHDrag_DECL
				AnimationMode	= ONCE
				AnimationSpeedFactorRange = 0.9 0.9
			End
		End

		AnimationState	= USER_6
			Animation
				AnimationName	= JHDrag_RORA
				AnimationMode	= ONCE
			End
			ParticleSysBone = BAT_HEAD SummonedDragonEmbers	FollowBone:Yes
			End

		AnimationState = USER_7
			Animation	= Burninate
				AnimationName	= JHDrag_ATKA
				AnimationMode	= ONCE
				AnimationSpeedFactorRange = 0.83 0.83
			End
			ParticleSysBone = BAT_HEAD SummonedDragonFireBreath	FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonHeat		FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonEmbers		FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonSmoke		FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonFireProxy	FollowBone:Yes
			ParticleSysBone = B_MAINBONE SummonedDragonWaves	FollowBone:Yes
			ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves   FollowBone:Yes
		End

		AnimationState = USER_8
			StateName	= STATE_Land
			Animation
				AnimationName	= JHDrag_LNDA
				AnimationMode	= ONCE
			End
		End

		AnimationState		= SPECIAL_WEAPON_ONE
			Animation	= Throwing Fireball
			AnimationName	= JHDrag_HITA
			AnimationMode	= ONCE
			End
			FrameForPristineBonePositions = 27
			ParticleSysBone = BAT_HEAD SummonedDragonEmbers	FollowBone:Yes
			ParticleSysBone = B_HEAD DrakeBreathProxy FOLLOWBONE:Yes
			ParticleSysBone = B_HEAD DrakeBreathSlave FOLLOWBONE:Yes
			ParticleSysBone = B_HEAD DrakeFireBreathSmoke FOLLOWBONE:Yes
			ParticleSysBone = B_HEAD DrakeBreathWarmup FOLLOWBONE:Yes
		End

        AnimationState  = UNPACKING SPECIAL_WEAPON_ONE
            	Animation
                	AnimationName    = JHDrag_RORA
                	AnimationMode    = ONCE
            	End
		ParticleSysBone = BAT_HEAD SummonedDragonFireRoar	FollowBone:Yes
		ParticleSysBone = BAT_HEAD SummonedDragonSmokeRoar	FollowBone:Yes
	End

        AnimationState            = UNPACKING SPECIAL_WEAPON_TWO
            	Animation
                	AnimationName    = JHDrag_RORA
                	AnimationMode    = ONCE
            	End
		ParticleSysBone = BAT_HEAD SummonedDragonFireRoar	FollowBone:Yes
		ParticleSysBone = BAT_HEAD SummonedDragonSmokeRoar	FollowBone:Yes
	End

		AnimationState		= SPECIAL_WEAPON_THREE
			Animation
				AnimationName	= JHDrag_RORA
				AnimationMode	= ONCE
			End
			ParticleSysBone = BAT_HEAD SummonedDragonFireRoar	FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonSmokeRoar	FollowBone:Yes
		End

        	AnimationState		= SPECIAL_WEAPON_FOUR
			Animation	= Burninate
				AnimationName	= JHDrag_ATKA
				AnimationMode	= ONCE
				AnimationSpeedFactorRange = 0.83 0.83
			End
			ParticleSysBone = BAT_HEAD SummonedDragonFireBreath	FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonHeat		FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonEmbers		FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonSmoke		FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonFireProxy	FollowBone:Yes
			ParticleSysBone = B_MAINBONE SummonedDragonWaves	FollowBone:Yes
			ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves   FollowBone:Yes
		End

		AnimationState		= SPECIAL_WEAPON_FIVE
			Animation		= ATKA
				AnimationName	= JHDrag_ATKA
				AnimationMode	= ONCE
			End
			ParticleSysBone = B_HEAD DrakeBreathProxy FOLLOWBONE:Yes
			ParticleSysBone = B_HEAD DrakeBreathSlave FOLLOWBONE:Yes
			ParticleSysBone = B_HEAD DrakeFireBreathSmoke FOLLOWBONE:Yes
			ParticleSysBone = B_HEAD DrakeBreathWarmup FOLLOWBONE:Yes
		End


		AnimationState		= SPECIAL_WEAPON_SIX
			Animation	= Throwing Fireball
			AnimationName	= JHDrag_HITA
			AnimationMode	= ONCE
			End
			FrameForPristineBonePositions = 27
			ParticleSysBone = BAT_HEAD SummonedDragonEmbers	FollowBone:Yes
			ParticleSysBone = B_HEAD DrakeBreathProxy FOLLOWBONE:Yes
			ParticleSysBone = B_HEAD DrakeBreathSlave FOLLOWBONE:Yes
			ParticleSysBone = B_HEAD DrakeFireBreathSmoke FOLLOWBONE:Yes
			ParticleSysBone = B_HEAD DrakeBreathWarmup FOLLOWBONE:Yes
		End

		AnimationState		=	DYING DEATH_1
			Animation			=	Dying
				AnimationName		=	JHDrag_DIEA
				AnimationMode		=	ONCE
				AnimationBlendTime	=	15
			End
			ParticleSysBone = BAT_HEAD SummonedDragonDeathEmbers	FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonDeathSmoke	FollowBone:Yes
			ParticleSysBone = NONE SummonedDragonDeathDust
		End

		AnimationState			=	DYING DEATH_2
			Animation			=	JumpingAwayAtTimeUp
				AnimationName		=	JHDrag_JMPA
				AnimationMode		=	ONCE
				AnimationBlendTime	=	15
			End
			ParticleSysBone = BAT_HEAD SummonedDragonDeathEmbers	FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonDeathSmoke	FollowBone:Yes
		End


		AnimationState = FIRING_OR_PREATTACK_A MOVING
			Animation
				AnimationName	= JHDrag_WLKA
				AnimationMode	= LOOP
				AnimationSpeedFactorRange	= 1.3 1.3
			End
			ParticleSysBone = B_MAINBONE SummonedDragonWaves      FollowBone:Yes
			ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves FollowBone:Yes
		End

		AnimationState = FIRING_OR_PREATTACK_A
			Animation			= Burninate
				AnimationName	= JHDrag_ATKA
				AnimationMode	= ONCE
				AnimationSpeedFactorRange = 0.83 0.83
			End
			ParticleSysBone = BAT_HEAD SummonedDragonFireBreath	FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonHeat		FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonEmbers		FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonSmoke		FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonFireProxy	FollowBone:Yes
			ParticleSysBone = B_MAINBONE SummonedDragonWaves	FollowBone:Yes
			ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves   FollowBone:Yes
		End

		AnimationState = FIRING_OR_PREATTACK_A WEAPONSET_HERO_MODE
			Animation			= Burninate
				AnimationName	= JHDrag_ATKA
				AnimationMode	= ONCE
				AnimationSpeedFactorRange = 0.83 0.83
			End
			ParticleSysBone = BAT_HEAD SummonedDragonFireBreath	FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonHeat		FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonEmbers		FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonSmoke		FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonFireProxy	FollowBone:Yes
			ParticleSysBone = B_MAINBONE SummonedDragonWaves	FollowBone:Yes
			ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves   FollowBone:Yes
		End

		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation
				AnimationName	= JHDrag_HITA
				AnimationMode	= ONCE
			End
		End

		AnimationState = TURN_LEFT_HIGH_SPEED MOVING
			Animation			= Left
				AnimationName	= JHDrag_WLKA
				AnimationMode	= LOOP
				AnimationBlendTime		=	15
			End
			FXEvent	= Frame:0 Name:FX_SmaugLeftFootStep
			FXEvent	= Frame:26 Name:FX_SmaugRightFootStep
		End

		AnimationState = TURN_RIGHT_HIGH_SPEED MOVING
			Animation			= YourOtherLeft
				AnimationName	= JHDrag_WLKA
				AnimationMode	= LOOP
				AnimationBlendTime		=	15
			End
			FXEvent	= Frame:0 Name:FX_SmaugLeftFootStep
			FXEvent	= Frame:26 Name:FX_SmaugRightFootStep
		End

		AnimationState = TURN_LEFT
			Animation			= Left
				AnimationName	= JHDrag_TRNL
				AnimationMode	= LOOP
				AnimationSpeedFactorRange = 2.0 2.0
				AnimationBlendTime		=	15
			End
			FXEvent	= Frame:0 Name:FX_SmaugLeftFootStep
			FXEvent	= Frame:26 Name:FX_SmaugRightFootStep
		End

		AnimationState = TURN_RIGHT
			Animation			= YourOtherLeft
				AnimationName	= JHDrag_TRNR
				AnimationMode	= LOOP
				AnimationSpeedFactorRange = 2.0 2.0
				AnimationBlendTime		=	15
			End
			FXEvent	= Frame:0 Name:FX_SmaugLeftFootStep
			FXEvent	= Frame:26 Name:FX_SmaugRightFootStep
		End

		AnimationState = MOVING DECELERATE
			Animation
				AnimationName	= JHDrag_DECL
				AnimationMode	= ONCE
				AnimationSpeedFactorRange = 0.76 0.76
			End
			FXEvent	= Frame:0 Name:FX_SmaugLeftFootStep
			FXEvent	= Frame:26 Name:FX_SmaugRightFootStep
		End

		AnimationState = MOVING DECELERATE
			Animation
				AnimationName	= JHDrag_DECL
				AnimationMode	= ONCE
				AnimationSpeedFactorRange = 0.9 0.9
			End
			FXEvent	= Frame:0 Name:FX_SmaugLeftFootStep
			FXEvent	= Frame:26 Name:FX_SmaugRightFootStep
		End

		AnimationState = MOVING
			Animation
				AnimationName	= JHDrag_WLKA
				AnimationMode	= LOOP
				AnimationSpeedFactorRange = 1.2 1.2
			End
			FXEvent	= Frame:0 Name:FX_SmaugLeftFootStep
			FXEvent	= Frame:26 Name:FX_SmaugRightFootStep
		End

		AnimationState = PREPARING
			Animation
				AnimationName		= JHDrag_JMPA
				AnimationMode		= ONCE
			End
	        Flags = START_FRAME_LAST
		End

		AnimationState = UNPACKING
			StateName			= STATE_TakeOff
			Animation
				AnimationName	= JHDrag_JMPA
				AnimationMode	= ONCE
			End
		End

		AnimationState = PACKING
			StateName			= STATE_Land
			Animation
				AnimationName		= JHDrag_LNDA
				AnimationMode		= ONCE
			End
		End

		AnimationState = SELECTED
			StateName = STATE_Selected
			Animation
				AnimationName	= JHDrag_IDLA
				AnimationMode	= LOOP
				AnimationSpeedFactorRange = 1.3 1.3
			End

			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle"	then
					CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected")
					return
				end
			EndScript
		End

		TransitionState = TRANS_Idle_to_Selected
			Animation			= Salute
				AnimationName	= JHDrag_RORA
				AnimationMode	= ONCE
			End
			ParticleSysBone = BAT_HEAD SummonedDragonFireRoar	FollowBone:Yes
			ParticleSysBone = BAT_HEAD SummonedDragonSmokeRoar	FollowBone:Yes
		End

        AnimationState = FREEFALL
            StateName = JHDrag_IDLA
            Animation = LOOP
                AnimationName = WUDrogoth_SKL.WUDrogoth_FLYA
                AnimationMode = LOOP
            End
        End
End

    Side                  = Wild
    EditorSorting         = UNIT
    CommandSet            = WildSmaugModGroundCommandSet
    CommandPoints         = 0
    BuildCost             = 3000
    BuildTime             = SILMARIL_HERO_BUILDTIME
    MaxSimultaneousOfType = 1
    ShockwaveResistance   = SHOCKWAVE_RESISTANCE_ALWAYS
    ShroudClearingRange   = SHROUD_CLEAR_GIANT
    VisionRange           = 200
    TransportSlotCount    = TRANSPORTSLOTCOUNT_HERO
    ThreatLevel           = SUMMONEDDRAGON_THREAT_LEVEL
    RadarPriority         = UNIT
    DisplayName           = OBJECT:Smaug
    DisplayMeleeDamage 	  = VERY_STRONG_HERO_DAMAGE
    RecruitText           = CONTROLBAR:WildSmaugRecruit
    ReviveText            = CONTROLBAR:WildSmaugRevive
    Hotkey                = CONTROLBAR:WildSmaugHotkey
    BountyValue           = 2000

    WeaponSet
        Conditions = None
        Weapon     = PRIMARY   DrogothGroundFireBreath
    End
	
	ArmorSet
        Conditions      = None
        Armor           = SmaugGroundArmor
        DamageFX        = FellBeastDamageFX
    End

    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_DrogothBody

    AutoResolveArmor
        Armor = AutoResolve_DrogothArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_DrogothWeapon
    End

	VoiceAttack		= SmaugVoxAttack
	VoiceAttackCharge	= SmaugVoxAttackCharge
	VoiceFear		= EVA:SmaugHelpMe
	VoiceGuard		= SmaugVoxMoveMS
	VoiceMove		= SmaugVoxMoveMS
	VoicePriority		= 95
	VoiceSelect		= SmaugVoxSelect

	VoiceEnterStateAttack		= SmaugVoxEnterStateAttack
	VoiceEnterStateAttackCharge	= SmaugVoxEnterStateAttackCharge
	VoiceEnterStateAttackStructure	= SmaugVoxEnterStateAttackBuilding

    	SoundAmbient	= DrogothVoxAmbientLoop
    	SoundImpact	= ImpactHorse
    	SoundMoveStart	= FellBeastMoveStart

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

	EvaEventDieOwner	= SmaugDie

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:FIRING_OR_PREATTACK_A        Excluded:DYING    Sound:DragonAllyFirebreathMS
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: DragonAllyFootstep        Animation:SumnDrag_SKL.SumnDrag_WLKA     Frames: 19 40
        AnimationSound = Sound: BalrogLand                Animation:SumnDrag_SKL.SumnDrag_LNDA     Frames: 27
        AnimationSound = Sound: FellBeastWingFlaps        Animation:SumnDrag_SKL.SumnDrag_LNDA     Frames: 27
        AnimationSound = Sound: FellBeastWingFlaps        Animation:SumnDrag_SKL.SumnDrag_JMPA     Frames: 24 51 83
        AnimationSound = Sound: DragonAllyFootstep        Animation:SumnDrag_SKL.SumnDrag_JMPA     Frames: 10
        AnimationSound = Sound: DragonAllyVoxRoar         Animation:SumnDrag_SKL.SumnDrag_JMPA     Frames: 28
        AnimationSound = Sound: DragonAllyVoxHurt         Animation:SumnDrag_SKL.SumnDrag_HITA     Frames: 14
        AnimationSound = Sound: DragonAllyFootstep        Animation:SumnDrag_SKL.SumnDrag_TRNL     Frames: 11 22 33 44
        AnimationSound = Sound: DragonAllyFootstep        Animation:SumnDrag_SKL.SumnDrag_TRNR     Frames: 11 22 33 44
        AnimationSound = Sound: DragonAllyFootstep        Animation:SumnDrag_SKL.SumnDrag_ACCL     Frames: 18 23
        AnimationSound = Sound: DragonAllyFootstep        Animation:SumnDrag_SKL.SumnDrag_DECL     Frames: 17 25
        AnimationSound = Sound: DragonAllyFootstep        Animation:SumnDrag_SKL.SumnDrag_JMPA     Frames: 11 21
        AnimationSound = Sound: FellBeastWingFlaps        Animation:SumnDrag_SKL.SumnDrag_JMPA     Frames: 19 55 85
        AnimationSound = Sound: DragonAllyVoxRoar         Animation:SumnDrag_SKL.SumnDrag_JMPA     Frames: 31
        AnimationSound = Sound: FellBeastWingFlaps        Animation:SumnDrag_SKL.SumnDrag_LNDA     Frames: 1
        AnimationSound = Sound: BalrogLand                Animation:SumnDrag_SKL.SumnDrag_LNDA     Frames: 26
        AnimationSound = Sound: DragonAllyVoxRoarBig      Animation:SumnDrag_SKL.SumnDrag_RORA     Frames: 14
    End

    EvaEnemyObjectSightedEvent = DiscoveredEnemyDragon

    ClientUpdate = EvaAnnounceClientCreate ModuleTag_CreateAnnounce
        AnnouncementEventEnemy 		= DiscoveredEnemyDragon
        AnnouncementEventAlly  		= None
        AnnouncementEventOwner 		= None

        OnlyIfVisible                   = Yes
        CountAsFirstSightedAnnoucement  = Yes
        UseObjectsPosition              = No
        CreateFakeRadarEvent            = Yes
    End

    KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS SCORE NO_FREEWILL_ENTER SCARY MONSTER CANNOT_RETALIATE ARMY_SUMMARY HEAVY_MELEE_HITTER CAN_ATTACK PATH_THROUGH_EACH_OTHER

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

    Behavior = CitadelSlaughterHordeContain ModuleTag_SlaughterMe
        PassengerFilter              = NONE +TheDroppedRing
        ObjectStatusOfContained      = UNSELECTABLE ENCLOSED
        ContainMax                   = 1
        AllowEnemiesInside           = No
        AllowAlliesInside            = Yes
        AllowNeutralInside           = No
        AllowOwnPlayerInsideOverride = Yes

        EntryOffset                  = X:0.0 Y:0.0 Z:0.0
        EntryPosition                = X:0.0 Y:0.0 Z:0.0
        ExitOffset                   = X:0.0 Y:0.0 Z:0.0
        StatusForRingEntry           = HOLDING_THE_RING
        UpgradeForRingEntry          = Upgrade_RingHero Upgrade_FortressRingHero
        ObjectToDestroyForRingEntry  = NONE +TheDroppedRing
        FXForRingEntry               = FX_OneRingFlare
    End

    Behavior = ModelConditionUpgrade ModulTag_RingHeroMC
        TriggeredBy         = Upgrade_RingHero Upgrade_FortressRingHero
        RequiresAllTriggers = Yes
        AddConditionFlags   = ONE_RING
    End

    Behavior = PickupStuffUpdate ModuleTag_PickupStuffUpdate
        SkirmishAIOnly = Yes
        StuffToPickUp = NONE +TheDroppedRing
        ScanRange = 3000
        ScanIntervalSeconds = 0.5
    End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SauronEnabler
        SpecialPowerTemplate         = SpecialAbilityGandalfVerfuhrte
    End

    Behavior = SpecialPowerModule ModuleTag_SauronToggleStarter
         SpecialPowerTemplate        = SpecialAbilityGandalfVerfuhrte
         UpdateModuleStartsAttack    = Yes
         StartsPaused                = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate SauronToggle
         SpecialPowerTemplate        	= SpecialAbilityGandalfVerfuhrte
         MountedTemplate             	= Smaug
         SynchronizeTimerOnSpecialPower = SpecialAbilityDrogothFireball SpecialAbilitySummonedDragonReposition SpecialAbilityDrogothFireflight SpecialAbilityDrogothIncinerate SpecialAbilitySchatzedesNebelgebirges SpecialAbilitySmaugHuricane SpecialAbilitySmaugBreath SpecialAbilityWormtongueCorrodeAllegiance SpecialAbilitySmaugBreathCreate SpecialAbilitySmaugAirBlast
         UnpackTime                  	= OBJECT_TOGGLE_TIME
         PreparationTime             	= 0
         PackTime                    	= 0
         OpacityTarget               	= .0
         AwardXPForTriggering        	= 0
         IgnoreFacingCheck           	= Yes
    End

    Behavior = DoCommandUpgrade Module_DoCommandUpgradeSauron
        TriggeredBy                  = Upgrade_RingHero
        GetUpgradeCommandButtonName  = Command_SpecialAbilityGandalfVerfuhrte
    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 2000
        HitReactionThreshold1 = 200
    End


    Body = RespawnBody ModuleTag_02
        CheerRadius       = EMOTION_CHEER_RADIUS
        MaxHealth         = 13500
        HealingBuffFx     = None
		DodgePercent        = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                   = DYING
        DeathAnimationTime          = 4000
        RespawnAnim                 = LEVELED
        RespawnAnimationTime        = 4000
        AutoRespawnAtObjectFilter   = NONE +CASTLE_KEEP
        ButtonImage                 = UIMMSmaug

        RespawnRules =    AutoSpawn:No           Cost:4000      Time:SILMARIL_HERO_RESPAWNTIME        Health:100%
    End

    Behavior = SlowDeathBehavior ModuleTag_NormalDeath
        DeathTypes           = ALL -FADED
        DestructionDelay     = 20000
        DecayBeginTime       = 3000
        SinkDelay            = 5000
        SinkRate             = 2.0
        DeathFlags           = DEATH_1
        Sound                = INITIAL DragonAllyVoxDie
    End

      Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes           = NONE +FADED
        DeathFlags           = DEATH_2
        FadeDelay            = 0
        FadeTime             = 5000
        DestructionDelay     = 5000
        Sound                = INITIAL DragonAllyUnsummon
    End

    Behavior = AutoHealBehavior ModuleTag_FellbeastHealing
        StartsActive          = Yes
        HealingAmount         = DROGOTH_HEAL_AMOUNT
        HealingDelay          = 1000
        StartHealingDelay     = 15000
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = AIUpdateInterface ModuleTag_AI
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        AILuaEventsList            = SmaugFunctions
    End

    Behavior = PhysicsBehavior ModuleTag_PhysicsBehavior
        GravityMult = 1.0
    End


    Behavior = SpecialPowerModule ModuleTag_TeleportStarter
        SpecialPowerTemplate     = SpecialAbilitySmaugReposition
        UpdateModuleStartsAttack = Yes
        InitiateSound            = DragonAllyVoxTeleport
    End

    Behavior = TeleportSpecialAbilityUpdate ModuleTag_TeleportUpdate
        SpecialPowerTemplate     = SpecialAbilitySmaugReposition
        UnpackTime               = 3800
        PreparationTime          = 1
        PackTime                 = 1666
        ApproachRequiresLOS      = No
        BusyForDuration          = 5000
        DestinationWeaponName    = SummonDragonBlowBack
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FireballEnabler
        SpecialPowerTemplate = SpecialAbilityDrogothFireball
        TriggeredBy          = Upgrade_Level_1
        ObeyRechageOnTrigger = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_FireballStarter
        SpecialPowerTemplate     = SpecialAbilityDrogothFireball
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
        InitiateSound            = DrogothVoxAttack
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_FireballUpdate
        SpecialPowerTemplate     = SpecialAbilityDrogothFireball
        WhichSpecialWeapon       = 6
        UnpackTime               = 1800
        PreparationTime          = 10
        PackTime                 = 950
        AwardXPForTriggering     = 0
        StartAbilityRange        = DROGOTH_FIREBALL_RANGE
        MustFinishAbility        = Yes
        SpecialWeapon            = DrogothFireball
    End


	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FireflightUnpause
		SpecialPowerTemplate		= SpecialAbilityDrogothFireflight
		TriggeredBy			= Upgrade_Level_10
	End

	Behavior = SpecialPowerModule ModuleTag_FireflightStarter
		SpecialPowerTemplate		= SpecialAbilityDrogothFireflight
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= Yes
		InitiateSound			= SmaugVoiceSpirit
	End

	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_FireflightUpdate
		SpecialPowerTemplate    = SpecialAbilityDrogothFireflight
		CustomAnimAndDuration	= AnimState:USER_1	AnimTime:2000
		SkipContinue		= Yes
		UnpackTime             	= 1100
		PreparationTime		= 1
		PackTime		= 900
		AwardXPForTriggering    = 0
		StartAbilityRange	= DROGOTH_FIREFLIGHT_RANGE
		MustFinishAbility	= Yes
		SpecialWeapon		= SmaugFireflight
		TriggerSound		= DrogothFireflightMS
	End

	Behavior = AutoAbilityBehavior ModuleTag_FireflightAutoAbility
		SpecialAbility	= SpecialAbilityDrogothFireflight
		MaxScanRange	= 300
		Query		= 20 ALL ENEMIES -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DominateEnabler
        SpecialPowerTemplate          = SpecialAbilityWormtongueCorrodeAllegiance
        TriggeredBy                   = Upgrade_Level_7
        ObeyRechageOnTrigger          = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_DominateEnemySpecialPowerModule
        SpecialPowerTemplate          = SpecialAbilityWormtongueCorrodeAllegiance
        StartsPaused                  = Yes
        UpdateModuleStartsAttack      = Yes
    End

     Behavior = DominateEnemySpecialPower ModuleTag_DominateEnemySpecialPower
        SpecialPowerTemplate          = SpecialAbilityWormtongueCorrodeAllegiance
        UnpackingVariation            = 2
        StartAbilityRange             = 200.0
        AttributeModifierAffects      = FIRST_AGE_VALARS_OBJECTFILTER
        DominateRadius                = 60
        DominatedFX                   = FX_WormtongueCorrodeAllegiance
        TriggerFX                     = FX_SarumanDominateTrigger
        UnpackTime                    = 200
        PreparationTime               = 2
        FreezeAfterTriggerDuration    = 500
    End

    Behavior = AutoAbilityBehavior ModuleTag_DominateEnemyAutoAbility
	SpecialAbility	= SpecialAbilityWormtongueCorrodeAllegiance
	ForbiddenStatus = INSIDE_GARRISON
	MaxScanRange	= 200
	Query		= 1 FIRST_AGE_VALARS_OBJECTFILTER ENEMIES
    End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TerrorEnabler
        SpecialPowerTemplate     = SpecialAbilityTerrordesNebelgebirges
        TriggeredBy              = Upgrade_Level_3
        ObeyRechageOnTrigger     = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_TerrorStarter
        SpecialPowerTemplate      = SpecialAbilityTerrordesNebelgebirges
        UpdateModuleStartsAttack  = Yes
        StartsPaused              = Yes
        InitiateSound             = SmaugBrullen
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_TerrorWeaponFireUpdate
        SpecialPowerTemplate      = SpecialAbilityTerrordesNebelgebirges
        SpecialWeapon             = TerrordesNebelgebirgesWeapon
        WhichSpecialWeapon        = 1
        StartAbilityRange         = 10.0
        SkipContinue              = Yes
        UnpackTime                = 1000
        PackTime                  = 2000
        MustFinishAbility         = Yes
    End

    Behavior = AutoAbilityBehavior ModuleTag_TerrorAutoAbility
        SpecialAbility            = SpecialAbilityTerrordesNebelgebirges
        MaxScanRange              = 55
        Query                     = 1 ALL -STRUCTURE ENEMIES
    End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_IncinerateUnpause
        SpecialPowerTemplate       = SpecialAbilityDrogothIncinerate
        TriggeredBy                = Upgrade_Level_10
        ObeyRechageOnTrigger       = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_IncinerateStarter
        SpecialPowerTemplate        = SpecialAbilityDrogothIncinerate
        UpdateModuleStartsAttack    = Yes
        StartsPaused                = Yes
        InitiateSound               = DrogothVoxAttack
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_IncinerateUpdate
        SpecialPowerTemplate    	= SpecialAbilityDrogothIncinerate
        UnpackTime              	= 1300
        PackTime                	= 3700
        AwardXPForTriggering    	= 0
        StartAbilityRange       	= 40.0
        SpecialWeapon           	= DrogothIncinerate
        WhichSpecialWeapon      	= 2
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SchatzeEnabler
        SpecialPowerTemplate       = SpecialAbilitySchatzedesNebelgebirges
        TriggeredBy                = Upgrade_Level_4
        ObeyRechageOnTrigger       = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_SchatzeStarter
        SpecialPowerTemplate       = SpecialAbilitySchatzedesNebelgebirges
        StartsPaused               = Yes
        UpdateModuleStartsAttack   = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_SchatzeUpdate
        SpecialPowerTemplate       = SpecialAbilitySchatzedesNebelgebirges
        WhichSpecialWeapon         = 1
        SkipContinue               = Yes
        FreezeAfterTriggerDuration = 100
        UnpackTime                 = 700
        PreparationTime            = 1

        PackTime                   = 100
        AwardXPForTriggering       = 0
        StartAbilityRange          = 80
        SpecialWeapon              = SchatzedesNebelgebirgesBonusWeapon
    End



     Behavior = SpecialPowerModule ModuleTag_HorseToggleStarter
         SpecialPowerTemplate        	= SpecialAbilityToggleMountSmaug
         UpdateModuleStartsAttack    	= Yes
         StartsPaused                	= No
     End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle
         SpecialPowerTemplate    	= SpecialAbilityToggleMountSmaug
         MountedTemplate         	= WildSmaug_mod
         SynchronizeTimerOnSpecialPower = SpecialAbilityToggleMountSmaug SpecialAbilityMouthOfSauronDissent SpecialAbilityDrogothFireflight SpecialAbilityWingBlast SpecialAbilityDrogothIncinerate SpecialAbilityLurtzCripple
         UnpackTime              	= 1000
         PreparationTime         	= 0
         PackTime                	= 0
         OpacityTarget           	= .0
         AwardXPForTriggering    	= 0
         IgnoreFacingCheck       	= Yes
    End


    Behavior = GrantUpgradeCreate ModuleTag_BuildHackUpgrade
           UpgradeToGrant                = Upgrade_TestBuilding
           GiveOnBuildComplete           = Yes
    End

    Behavior = ModelConditionUpgrade ModuleTag_BuildHackUserFlag
           TriggeredBy                   = Upgrade_TestBuilding
           RequiresAllTriggers           = Yes
           AddTempConditionFlag          = ModelConditionState:USER_2
           TempConditionTime             = 4.0
    End

    LocomotorSet
        Locomotor     	= SummonedDragonLocomotor
        Condition     	= SET_NORMAL
        Speed         	= 60
    End

    Behavior = AttributeModifierUpgrade ModuleTag_InvurnableFire
        TriggeredBy           = Upgrade_AllFactionUpgrade
        AttributeModifier     = RingRustungSmaug
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
	CommandButtonName = Command_SetStanceBattle
	SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
	CommandButtonName = Command_AttackMove
	SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
	CommandButtonName = Command_SetStanceHoldGround
	SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End


    Behavior = AISpecialPowerUpdate SmaugFlyAI
	CommandButtonName = Command_SmaugFly
	SpecialPowerAIType = AI_SPECIAL_POWER_TOGGLE_MOUNTED
    End

    Behavior = AISpecialPowerUpdate SmaugFireflightAI
	CommandButtonName = Command_SmaugFeuerflug
	SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
	SpecialPowerAIType = AI_SPECIAL_POWER_MORGUL_BLADE
	SpecialPowerRadius = 150
    End

    Behavior = AISpecialPowerUpdate SchatzedesNebelgebirgesAI
        CommandButtonName = Command_SpecialAbilitySchatzedesNebelgebirges
        SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
        SpecialPowerRadius = 100
    End

    Scale                 = 1.9
    Geometry              = CYLINDER
    GeometryMajorRadius   = 75
    GeometryHeight        = 40.0
    GeometryOffset        = X:-10 Y:0 Z:0
    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME
End

Object WildSmaugGround_mod_old

	ButtonImage    = UIMMSmaug
	SelectPortrait = UPMMSmaug

    Draw = W3DScriptedModelDraw ModuleTag_01
        StaticModelLODMode = No

        DefaultModelConditionState
            Model           = wusmaug_ddg	
            Skeleton        = WUDrogoth_SKL
            ParticleSysBone = B_MAINBONE SummonedDragonWaves    FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves FollowBone:Yes
        End

        IdleAnimationState
            StateName = STATE_Idle
            Animation = Breathe
                AnimationName = WUDrgrd_IDLA
                AnimationMode = ONCE
                AnimationPriority = 5
            End
            ParticleSysBone = BAT_HEAD SummonedDragonFireSnort    FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonSnortEmbers    FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonWaves    FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves FollowBone:Yes

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected"    then
                CurDrawableSetTransitionAnimState("TRANS_Selected_to_Idle") return end
            EndScript
        End

        AnimationState = USER_2
            StateName = State_JustBuilt
            Animation
                AnimationName = WUDrgrd_LNDA
                AnimationMode = ONCE
                AnimationBlendTime = 0
                AnimationSpeedFactorRange    =    0.5 0.5
            End
            ParticleSysBone = NONE SummonedDragonDust    FollowBone:Yes
        End

        AnimationState                    =    DYING DEATH_1
            Animation                    =    Dying
                AnimationName            =    WUDrgrd_DIEA
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            ParticleSysBone = BAT_HEAD SummonedDragonDeathEmbers        FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonDeathSmoke            FollowBone:Yes
            ParticleSysBone = NONE SummonedDragonDeathDust        FollowBone:Yes

        End

        AnimationState                    =    DYING DEATH_2
            Animation                    =    JumpingAwayAtTimeUp
                AnimationName            =    WUDrgrd_JMPB
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            ParticleSysBone = BAT_HEAD SummonedDragonDeathEmbers        FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonDeathSmoke            FollowBone:Yes
        End

        AnimationState = FIRING_OR_PREATTACK_A MOVING
            Animation
                AnimationName                = WUDrgrd_WLKA
                AnimationMode                = LOOP
                AnimationSpeedFactorRange    = 1.3 1.3
            End
            ParticleSysBone = B_MAINBONE SummonedDragonWaves    FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves FollowBone:Yes
        End

        AnimationState = FIRING_OR_PREATTACK_A
            Animation            = Burninate
                AnimationName    = WUDrgrd_ATKA
                AnimationMode    = ONCE
            End
            ParticleSysBone = BAT_HEAD SummonedDragonFireBreath2    FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonHeat    FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonEmbers        FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonSmoke            FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonFireProxy2            FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonWaves    FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves FollowBone:Yes
        End

        AnimationState = HIT_REACTION HIT_LEVEL_1
            Animation
                AnimationName    = WUDrgrd_HITA
                AnimationMode    = ONCE
            End
        End

        AnimationState = MOVING TURN_RIGHT_HIGH_SPEED
            Animation
                AnimationName    = WUDrgrd_WLKA
                AnimationMode    = LOOP
                AnimationSpeedFactorRange = 1.8 1.8
                AnimationBlendTime        =    15
            End
        End

        AnimationState = MOVING TURN_LEFT_HIGH_SPEED
            Animation
                AnimationName    = WUDrgrd_WLKA
                AnimationMode    = LOOP
                AnimationSpeedFactorRange = 1.8 1.8
                AnimationBlendTime        =    15
            End
        End

        AnimationState = TURN_LEFT
            Animation            = Left
                AnimationName    = WUDrgrd_TRNL
                AnimationMode    = LOOP
                AnimationSpeedFactorRange = 0.85 0.85
                AnimationBlendTime        =    15
            End
        End

        AnimationState = TURN_RIGHT
            Animation            = YourOtherLeft
                AnimationName    = WUDrgrd_TRNR
                AnimationMode    = LOOP
                AnimationSpeedFactorRange = 0.85 0.85
                AnimationBlendTime        =    15
            End
        End

        AnimationState = MOVING ACCELERATE
            Animation
                AnimationName    = WUDrgrd_ACCL
                AnimationMode    = ONCE
                AnimationSpeedFactorRange = 2.0 2.0
                AnimationBlendTime        =    15
            End
        End

        AnimationState = MOVING DECELERATE
            Animation
                AnimationName    = WUDrgrd_DECL
                AnimationMode    = ONCE
                AnimationSpeedFactorRange = 0.9 0.9
            End

        End

        AnimationState = UNPACKING
            StateName            = STATE_TakeOff
            Animation
                AnimationName    = WUDrgrd_JMPA
                AnimationMode    = ONCE
            End
            ParticleSysBone = NONE SummonedDragonDust    FollowBone:Yes
        End

        AnimationState = PREPARING
            Animation
                AnimationName        = WUDrgrd_JMPA
                AnimationMode        = ONCE
            End
            Flags = START_FRAME_LAST
        End


        AnimationState = PACKING
            StateName                = STATE_Land
            Animation
                AnimationName        = WUDrgrd_LNDA
                AnimationMode        = ONCE
                AnimationBlendTime    = 0
                AnimationSpeedFactorRange = 0.5 0.5
            End
            ParticleSysBone = NONE SummonedDragonDust    FollowBone:Yes
        End

        AnimationState = MOVING
            Animation
                AnimationName    = WUDrgrd_WLKA
                AnimationMode    = LOOP
                AnimationSpeedFactorRange = 1.4 1.4
            End
        End

        AnimationState = SELECTED
            Animation
                AnimationName    = WUDrgrd_IDLA
                AnimationMode    = LOOP
                AnimationSpeedFactorRange = 1.3 1.3
            End

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle"    then
                    CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected")
                    return
                end
            EndScript
        End

        AnimationState = USER_1
            Animation
                AnimationName    = WUDrgrd_RORA
                AnimationMode    = ONCE
            End
            ParticleSysBone = BAT_HEAD SummonedDragonFireRoar    FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonSmokeRoar    FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonWaves    FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves FollowBone:Yes
        End

        AnimationState = SPECIAL_WEAPON_ONE
            Animation            = Salute
                AnimationName    = WUDrgrd_RORA
                AnimationMode    = ONCE
            End
            ParticleSysBone = BAT_HEAD SummonedDragonFireRoar    FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonSmokeRoar    FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonWaves    FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves FollowBone:Yes
        End

        AnimationState = SPECIAL_WEAPON_THREE
            Animation
                AnimationName      = WUDrgrd_RORA
                AnimationMode      = ONCE
                AnimationBlendTime = 20
            End
        End

        TransitionState = TRANS_Idle_to_Selected
            Animation            = Salute
                AnimationName    = WUDrgrd_RORA
                AnimationMode    = ONCE
            End
            ParticleSysBone = BAT_HEAD SummonedDragonFireRoar    FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonSmokeRoar    FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonWaves    FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves FollowBone:Yes
        End

        TransitionState = TRANS_Selected_to_Idle
            Animation            = ATNC
                AnimationName    = WUDrgrd_IDLA
                AnimationMode    = ONCE
            End
        End

        TransitionState = TRANS_JustBuilt_To_Idle
            Animation = BeingSummoned
                AnimationName = WUDrgrd_LNDA
                AnimationMode = ONCE
            End
        End
    End

    Side                  = Wild
    EditorSorting         = UNIT
    CommandSet            = WildSmaugModGroundCommandSet
    CommandPoints         = 0
    BuildCost             = 3000
    BuildTime             = SILMARIL_HERO_BUILDTIME
    MaxSimultaneousOfType = 1
    ShockwaveResistance   = SHOCKWAVE_RESISTANCE_ALWAYS
    ShroudClearingRange   = SHROUD_CLEAR_GIANT
    VisionRange           = 200
    TransportSlotCount    = TRANSPORTSLOTCOUNT_HERO
    ThreatLevel           = SUMMONEDDRAGON_THREAT_LEVEL
    RadarPriority         = UNIT
    DisplayName           = OBJECT:Smaug
    DisplayMeleeDamage 	  = VERY_STRONG_HERO_DAMAGE
    RecruitText           = CONTROLBAR:WildSmaugRecruit
    ReviveText            = CONTROLBAR:WildSmaugRevive
    Hotkey                = CONTROLBAR:WildSmaugHotkey
    BountyValue           = 2000

    WeaponSet
        Conditions = None
        Weapon     = PRIMARY   DrogothGroundFireBreath
    End

    AutoResolveUnitType = AutoResolveUnit_Hero
    AutoResolveCombatChain = AutoResolve_HeroCombatChain

    AutoResolveBody = AutoResolve_DrogothBody

    AutoResolveArmor
        Armor = AutoResolve_DrogothArmor
    End

    AutoResolveWeapon
        Weapon = AutoResolve_DrogothWeapon
    End

	VoiceAttack		= SmaugVoxAttack
	VoiceAttackCharge	= SmaugVoxAttackCharge
	VoiceFear		= EVA:SmaugHelpMe
	VoiceGuard		= SmaugVoxMoveMS
	VoiceMove		= SmaugVoxMoveMS
	VoicePriority		= 95
	VoiceSelect		= SmaugVoxSelect

	VoiceEnterStateAttack		= SmaugVoxEnterStateAttack
	VoiceEnterStateAttackCharge	= SmaugVoxEnterStateAttackCharge
	VoiceEnterStateAttackStructure	= SmaugVoxEnterStateAttackBuilding

    	SoundAmbient	= DrogothVoxAmbientLoop
    	SoundImpact	= ImpactHorse
    	SoundMoveStart	= FellBeastMoveStart

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

	EvaEventDieOwner	= SmaugDie

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:FIRING_OR_PREATTACK_A        Excluded:DYING    Sound:DragonAllyFirebreathMS
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: DragonAllyFootstep        Animation:SumnDrag_SKL.SumnDrag_WLKA     Frames: 19 40
        AnimationSound = Sound: BalrogLand                Animation:SumnDrag_SKL.SumnDrag_LNDA     Frames: 27
        AnimationSound = Sound: FellBeastWingFlaps        Animation:SumnDrag_SKL.SumnDrag_LNDA     Frames: 27
        AnimationSound = Sound: FellBeastWingFlaps        Animation:SumnDrag_SKL.SumnDrag_JMPA     Frames: 24 51 83
        AnimationSound = Sound: DragonAllyFootstep        Animation:SumnDrag_SKL.SumnDrag_JMPA     Frames: 10
        AnimationSound = Sound: DragonAllyVoxRoar         Animation:SumnDrag_SKL.SumnDrag_JMPA     Frames: 28
        AnimationSound = Sound: DragonAllyVoxHurt         Animation:SumnDrag_SKL.SumnDrag_HITA     Frames: 14
        AnimationSound = Sound: DragonAllyFootstep        Animation:SumnDrag_SKL.SumnDrag_TRNL     Frames: 11 22 33 44
        AnimationSound = Sound: DragonAllyFootstep        Animation:SumnDrag_SKL.SumnDrag_TRNR     Frames: 11 22 33 44
        AnimationSound = Sound: DragonAllyFootstep        Animation:SumnDrag_SKL.SumnDrag_ACCL     Frames: 18 23
        AnimationSound = Sound: DragonAllyFootstep        Animation:SumnDrag_SKL.SumnDrag_DECL     Frames: 17 25
        AnimationSound = Sound: DragonAllyFootstep        Animation:SumnDrag_SKL.SumnDrag_JMPA     Frames: 11 21
        AnimationSound = Sound: FellBeastWingFlaps        Animation:SumnDrag_SKL.SumnDrag_JMPA     Frames: 19 55 85
        AnimationSound = Sound: DragonAllyVoxRoar         Animation:SumnDrag_SKL.SumnDrag_JMPA     Frames: 31
        AnimationSound = Sound: FellBeastWingFlaps        Animation:SumnDrag_SKL.SumnDrag_LNDA     Frames: 1
        AnimationSound = Sound: BalrogLand                Animation:SumnDrag_SKL.SumnDrag_LNDA     Frames: 26
        AnimationSound = Sound: DragonAllyVoxRoarBig      Animation:SumnDrag_SKL.SumnDrag_RORA     Frames: 14
    End

    EvaEnemyObjectSightedEvent = DiscoveredEnemyDragon

    ClientUpdate = EvaAnnounceClientCreate ModuleTag_CreateAnnounce
        AnnouncementEventEnemy 		= DiscoveredEnemyDragon
        AnnouncementEventAlly  		= None
        AnnouncementEventOwner 		= None

        OnlyIfVisible                   = Yes
        CountAsFirstSightedAnnoucement  = Yes
        UseObjectsPosition              = No
        CreateFakeRadarEvent            = Yes
    End

    KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS SCORE NO_FREEWILL_ENTER SCARY MONSTER CANNOT_RETALIATE ARMY_SUMMARY HEAVY_MELEE_HITTER CAN_ATTACK PATH_THROUGH_EACH_OTHER

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

    Behavior = CitadelSlaughterHordeContain ModuleTag_SlaughterMe
        PassengerFilter              = NONE +TheDroppedRing
        ObjectStatusOfContained      = UNSELECTABLE ENCLOSED
        ContainMax                   = 1
        AllowEnemiesInside           = No
        AllowAlliesInside            = Yes
        AllowNeutralInside           = No
        AllowOwnPlayerInsideOverride = Yes

        EntryOffset                  = X:0.0 Y:0.0 Z:0.0
        EntryPosition                = X:0.0 Y:0.0 Z:0.0
        ExitOffset                   = X:0.0 Y:0.0 Z:0.0
        StatusForRingEntry           = HOLDING_THE_RING
        UpgradeForRingEntry          = Upgrade_RingHero Upgrade_FortressRingHero
        ObjectToDestroyForRingEntry  = NONE +TheDroppedRing
        FXForRingEntry               = FX_OneRingFlare
    End

    Behavior = ModelConditionUpgrade ModulTag_RingHeroMC
        TriggeredBy         = Upgrade_RingHero Upgrade_FortressRingHero
        RequiresAllTriggers = Yes
        AddConditionFlags   = ONE_RING
    End

    Behavior = PickupStuffUpdate ModuleTag_PickupStuffUpdate
        SkirmishAIOnly = Yes
        StuffToPickUp = NONE +TheDroppedRing
        ScanRange = 3000
        ScanIntervalSeconds = 0.5
    End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SauronEnabler
        SpecialPowerTemplate         = SpecialAbilityGandalfVerfuhrte
    End

    Behavior = SpecialPowerModule ModuleTag_SauronToggleStarter
         SpecialPowerTemplate        = SpecialAbilityGandalfVerfuhrte
         UpdateModuleStartsAttack    = Yes
         StartsPaused                = No
    End

    Behavior = ToggleMountedSpecialAbilityUpdate SauronToggle
         SpecialPowerTemplate        	= SpecialAbilityGandalfVerfuhrte
         MountedTemplate             	= Smaug
         SynchronizeTimerOnSpecialPower = SpecialAbilityDrogothFireball SpecialAbilitySummonedDragonReposition SpecialAbilityDrogothFireflight SpecialAbilityDrogothIncinerate SpecialAbilitySchatzedesNebelgebirges SpecialAbilitySmaugHuricane SpecialAbilitySmaugBreath SpecialAbilityWormtongueCorrodeAllegiance SpecialAbilitySmaugBreathCreate SpecialAbilitySmaugAirBlast
         UnpackTime                  	= OBJECT_TOGGLE_TIME
         PreparationTime             	= 0
         PackTime                    	= 0
         OpacityTarget               	= .0
         AwardXPForTriggering        	= 0
         IgnoreFacingCheck           	= Yes
    End

    Behavior = DoCommandUpgrade Module_DoCommandUpgradeSauron
        TriggeredBy                  = Upgrade_RingHero
        GetUpgradeCommandButtonName  = Command_SpecialAbilityGandalfVerfuhrte
    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 2000
        HitReactionThreshold1 = 200
    End

    ArmorSet
        Conditions      = None
        Armor           = SmaugGroundArmor
        DamageFX        = FellBeastDamageFX
    End

    Body = RespawnBody ModuleTag_02
        CheerRadius       = EMOTION_CHEER_RADIUS
        MaxHealth         = SILMARIL_HERO_HEALTH
        HealingBuffFx     = None
		DodgePercent        = HERO_DODGE_PERCENT
    End

    Behavior = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                   = DYING
        DeathAnimationTime          = 4000
        RespawnAnim                 = LEVELED
        RespawnAnimationTime        = 4000
        AutoRespawnAtObjectFilter   = NONE +CASTLE_KEEP
        ButtonImage                 = UIMMSmaug

        RespawnRules =    AutoSpawn:No           Cost:4000       Time:SILMARIL_HERO_RESPAWNTIME        Health:100%
    End

    Behavior = SlowDeathBehavior ModuleTag_NormalDeath
        DeathTypes           = ALL -FADED
        DestructionDelay     = 20000
        DecayBeginTime       = 3000
        SinkDelay            = 5000
        SinkRate             = 2.0
        DeathFlags           = DEATH_1
        Sound                = INITIAL DragonAllyVoxDie
    End

      Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes           = NONE +FADED
        DeathFlags           = DEATH_2
        FadeDelay            = 0
        FadeTime             = 5000
        DestructionDelay     = 5000
        Sound                = INITIAL DragonAllyUnsummon
    End

    Behavior = AutoHealBehavior ModuleTag_FellbeastHealing
        StartsActive          = Yes
        HealingAmount         = DROGOTH_HEAL_AMOUNT
        HealingDelay          = 1000
        StartHealingDelay     = 15000
        HealOnlyIfNotInCombat = Yes
    End

    Behavior = AIUpdateInterface ModuleTag_AI
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        AILuaEventsList            = SmaugFunctions
    End

    Behavior = PhysicsBehavior ModuleTag_PhysicsBehavior
        GravityMult = 1.0
    End


    Behavior = SpecialPowerModule ModuleTag_TeleportStarter
        SpecialPowerTemplate     = SpecialAbilitySmaugReposition
        UpdateModuleStartsAttack = Yes
        InitiateSound            = DragonAllyVoxTeleport
    End

    Behavior = TeleportSpecialAbilityUpdate ModuleTag_TeleportUpdate
        SpecialPowerTemplate     = SpecialAbilitySmaugReposition
        UnpackTime               = 3800
        PreparationTime          = 1
        PackTime                 = 1666
        ApproachRequiresLOS      = No
        BusyForDuration          = 5000
        DestinationWeaponName    = SummonDragonBlowBack
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FireballEnabler
        SpecialPowerTemplate = SpecialAbilityDrogothFireball
        TriggeredBy          = Upgrade_Level_1
        ObeyRechageOnTrigger = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_FireballStarter
        SpecialPowerTemplate     = SpecialAbilityDrogothFireball
        UpdateModuleStartsAttack = Yes
        StartsPaused             = Yes
        InitiateSound            = DrogothVoxAttack
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_FireballUpdate
        SpecialPowerTemplate     = SpecialAbilityDrogothFireball
        WhichSpecialWeapon       = 1
        UnpackTime               = 1800
        PreparationTime          = 10
        PackTime                 = 950
        AwardXPForTriggering     = 0
        StartAbilityRange        = DROGOTH_FIREBALL_RANGE
        MustFinishAbility        = Yes
        SpecialWeapon            = DrogothFireball
    End


	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FireflightUnpause
		SpecialPowerTemplate		= SpecialAbilityDrogothFireflight
		TriggeredBy			= Upgrade_Level_10
	End

	Behavior = SpecialPowerModule ModuleTag_FireflightStarter
		SpecialPowerTemplate		= SpecialAbilityDrogothFireflight
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= Yes
		InitiateSound			= SmaugVoiceSpirit
	End

	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_FireflightUpdate
		SpecialPowerTemplate    = SpecialAbilityDrogothFireflight
		CustomAnimAndDuration	= AnimState:USER_1	AnimTime:2000
		SkipContinue		= Yes
		UnpackTime             	= 1100
		PreparationTime		= 1
		PackTime		= 900
		AwardXPForTriggering    = 0
		StartAbilityRange	= DROGOTH_FIREFLIGHT_RANGE
		MustFinishAbility	= Yes
		SpecialWeapon		= SmaugFireflight
		TriggerSound		= DrogothFireflightMS
	End

	Behavior = AutoAbilityBehavior ModuleTag_FireflightAutoAbility
		SpecialAbility	= SpecialAbilityDrogothFireflight
		MaxScanRange	= 300
		Query		= 20 ALL ENEMIES -STRUCTURE -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL -FS_BASE_DEFENSE
	End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DominateEnabler
        SpecialPowerTemplate          = SpecialAbilityWormtongueCorrodeAllegiance
        TriggeredBy                   = Upgrade_Level_7
        ObeyRechageOnTrigger          = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_DominateEnemySpecialPowerModule
        SpecialPowerTemplate          = SpecialAbilityWormtongueCorrodeAllegiance
        StartsPaused                  = Yes
        UpdateModuleStartsAttack      = Yes
    End

     Behavior = DominateEnemySpecialPower ModuleTag_DominateEnemySpecialPower
        SpecialPowerTemplate          = SpecialAbilityWormtongueCorrodeAllegiance
        UnpackingVariation            = 2
        StartAbilityRange             = 200.0
        AttributeModifierAffects      = FIRST_AGE_VALARS_OBJECTFILTER
        DominateRadius                = 60
        DominatedFX                   = FX_WormtongueCorrodeAllegiance
        TriggerFX                     = FX_SarumanDominateTrigger
        UnpackTime                    = 200
        PreparationTime               = 2
        FreezeAfterTriggerDuration    = 500
    End

    Behavior = AutoAbilityBehavior ModuleTag_DominateEnemyAutoAbility
	SpecialAbility	= SpecialAbilityWormtongueCorrodeAllegiance
	ForbiddenStatus = INSIDE_GARRISON
	MaxScanRange	= 200
	Query		= 1 FIRST_AGE_VALARS_OBJECTFILTER ENEMIES
    End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TerrorEnabler
        SpecialPowerTemplate     = SpecialAbilityTerrordesNebelgebirges
        TriggeredBy              = Upgrade_Level_3
        ObeyRechageOnTrigger     = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_TerrorStarter
        SpecialPowerTemplate      = SpecialAbilityTerrordesNebelgebirges
        UpdateModuleStartsAttack  = Yes
        StartsPaused              = Yes
        InitiateSound             = SmaugBrullen
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_TerrorWeaponFireUpdate
        SpecialPowerTemplate      = SpecialAbilityTerrordesNebelgebirges
        SpecialWeapon             = TerrordesNebelgebirgesWeapon
        WhichSpecialWeapon        = 1
        StartAbilityRange         = 10.0
        SkipContinue              = Yes
        UnpackTime                = 1000
        PackTime                  = 2000
        MustFinishAbility         = Yes
    End

    Behavior = AutoAbilityBehavior ModuleTag_TerrorAutoAbility
        SpecialAbility            = SpecialAbilityTerrordesNebelgebirges
        MaxScanRange              = 55
        Query                     = 1 ALL -STRUCTURE ENEMIES
    End


    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_IncinerateUnpause
        SpecialPowerTemplate       = SpecialAbilityDrogothIncinerate
        TriggeredBy                = Upgrade_Level_10
        ObeyRechageOnTrigger       = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_IncinerateStarter
        SpecialPowerTemplate        = SpecialAbilityDrogothIncinerate
        UpdateModuleStartsAttack    = Yes
        StartsPaused                = Yes
        InitiateSound               = DrogothVoxAttack
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_IncinerateUpdate
        SpecialPowerTemplate    	= SpecialAbilityDrogothIncinerate
        UnpackTime              	= 1300
        PackTime                	= 3700
        AwardXPForTriggering    	= 0
        StartAbilityRange       	= 30.0
        SpecialWeapon           	= DrogothIncinerate
        WhichSpecialWeapon      	= 2
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SchatzeEnabler
        SpecialPowerTemplate       = SpecialAbilitySchatzedesNebelgebirges
        TriggeredBy                = Upgrade_Level_4
        ObeyRechageOnTrigger       = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_SchatzeStarter
        SpecialPowerTemplate       = SpecialAbilitySchatzedesNebelgebirges
        StartsPaused               = Yes
        UpdateModuleStartsAttack   = Yes
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_SchatzeUpdate
        SpecialPowerTemplate       = SpecialAbilitySchatzedesNebelgebirges
        WhichSpecialWeapon         = 1
        SkipContinue               = Yes
        FreezeAfterTriggerDuration = 100
        UnpackTime                 = 700
        PreparationTime            = 1

        PackTime                   = 100
        AwardXPForTriggering       = 0
        StartAbilityRange          = 80
        SpecialWeapon              = SchatzedesNebelgebirgesBonusWeapon
    End



     Behavior = SpecialPowerModule ModuleTag_HorseToggleStarter
         SpecialPowerTemplate        	= SpecialAbilityToggleMountSmaug
         UpdateModuleStartsAttack    	= Yes
         StartsPaused                	= No
     End

    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle
         SpecialPowerTemplate    	= SpecialAbilityToggleMountSmaug
         MountedTemplate         	= WildSmaug_mod
         SynchronizeTimerOnSpecialPower = SpecialAbilityToggleMountSmaug SpecialAbilityMouthOfSauronDissent SpecialAbilityDrogothFireflight SpecialAbilityWingBlast SpecialAbilityDrogothIncinerate SpecialAbilityLurtzCripple
         UnpackTime              	= 1000
         PreparationTime         	= 0
         PackTime                	= 0
         OpacityTarget           	= .0
         AwardXPForTriggering    	= 0
         IgnoreFacingCheck       	= Yes
    End


    Behavior = GrantUpgradeCreate ModuleTag_BuildHackUpgrade
           UpgradeToGrant                = Upgrade_TestBuilding
           GiveOnBuildComplete           = Yes
    End

    Behavior = ModelConditionUpgrade ModuleTag_BuildHackUserFlag
           TriggeredBy                   = Upgrade_TestBuilding
           RequiresAllTriggers           = Yes
           AddTempConditionFlag          = ModelConditionState:USER_2
           TempConditionTime             = 4.0
    End

    LocomotorSet
        Locomotor     	= SummonedDragonLocomotor
        Condition     	= SET_NORMAL
        Speed         	= 60
    End

    Behavior = AttributeModifierUpgrade ModuleTag_InvurnableFire
        TriggeredBy           = Upgrade_AllFactionUpgrade
        AttributeModifier     = RingRustungSmaug
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
	CommandButtonName = Command_SetStanceBattle
	SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
	CommandButtonName = Command_AttackMove
	SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
    End

    Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
	CommandButtonName = Command_SetStanceHoldGround
	SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
    End

    Behavior = AISpecialPowerUpdate SmaugFlyAI
	CommandButtonName = Command_SmaugFly
	SpecialPowerAIType = AI_SPECIAL_POWER_TOGGLE_MOUNTED
    End

    Behavior = AISpecialPowerUpdate SmaugFireflightAI
	CommandButtonName = Command_SmaugFeuerflug
	SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
	SpecialPowerAIType = AI_SPECIAL_POWER_MORGUL_BLADE
	SpecialPowerRadius = 150
    End

    Behavior = AISpecialPowerUpdate SchatzedesNebelgebirgesAI
        CommandButtonName = Command_SpecialAbilitySchatzedesNebelgebirges
        SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
        SpecialPowerRadius = 100
    End

    Scale                 = 1.9
    Geometry              = CYLINDER
    GeometryMajorRadius   = 75
    GeometryHeight        = 40.0
    GeometryOffset        = X:-10 Y:0 Z:0
    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME
End

