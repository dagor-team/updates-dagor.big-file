Object FlamethrowerProjectileStream

    Draw = W3DProjectileStreamDraw ModuleTag_01
        Texture = EXFireProjectile03.tga
        Width = 1.5
        TileFactor = 3.0
        ScrollRate = 2.0
        MaxSegments = 4
    End

    KindOf = INERT
    Behavior = ProjectileStreamUpdate ModuleTag_02
    End
End

Object WildFireDrake

    SelectPortrait    = HPFireDrake

    Draw = W3DScriptedModelDraw ModuleTag_01
        DefaultModelConditionState
            Model            = WUFireDrk_SKN
            Skeleton         = WUFireDrk_SKL
            WeaponLaunchBone = PRIMARY B_JAW
        End
    End

    Side            = Wild
    EditorSorting   = UNIT
    BuildTime       = STRONG_BUILDTIME
    BuildCost       = WILD_FIREDRAKE_BUILDCOST
    BuildVariations = WildFireDrake1 WildFireDrake2
    KindOf          = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT SCORE
End



Object WildFireDrake1

    SelectPortrait   = HPFireDrake
    ButtonImage      = HIFireDrake

    EquivalentTo    = WildFireDrake

    Draw = W3DScriptedModelDraw ModuleTag_01
        OkToChangeModelColor = Yes

        StaticModelLODMode = Yes

        ParticlesAttachedToAnimatedBones = Yes

        DefaultModelConditionState
            Model                        =    WUFireDrk_SKN
            Skeleton                    =   WUFireDrk_SKL
            WeaponLaunchBone            =    PRIMARY B_JAW
        End


        IdleAnimationState
            Animation                = IDLA
                AnimationName        = WUFireDrk_IDLA
                AnimationMode        = ONCE
                AnimationPriority   = 1
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState          = DYING DEATH_2
            Animation
                AnimationName   = WUFireDrk_IDLA
                AnimationMode   = LOOP
            End
        End

        AnimationState                        = DYING
            Animation                        = DIEA
                AnimationName                = WUFireDrk_DIEA
                AnimationMode                = ONCE
            End
        End





        AnimationState                        = STUNNED_FLAILING
            Animation                        = Falling
                AnimationName                = WUFireDrk_FLYA
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART
        End

        AnimationState                        = PASSENGER
            Animation                        = Grabbed
                AnimationName                = WUFireDrk_FLYA
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART
        End

        AnimationState                        = THROWN_PROJECTILE
            Animation                       = FlyA
                AnimationName                   = WUFireDrk_FLYA
                AnimationMode               = LOOP
            End
            Flags                           = RANDOMSTART
        End

        AnimationState                        = FREEFALL
            Animation                        = Falling
                AnimationName                = WUFireDrk_FLYA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End

        AnimationState                        = STUNNED_STANDING_UP
            Animation                        = StandUp
                AnimationName                = WUFireDrk_GTPA
                AnimationMode                = ONCE
            End
        End

        AnimationState                        = STUNNED
            Animation                        = LNDA
                AnimationName                = WUFireDrk_LNDA
                AnimationMode                = ONCE
            End
        End

        AnimationState                        = SPECIAL_WEAPON_ONE
            Animation                        = ATKA
                AnimationName                = WUFireDrk_ATKA
                AnimationMode                = ONCE

            End
            ParticleSysBone = B_HEAD DrakeBreathProxy FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeBreathSlave FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeFireBreathSmoke FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeBreathWarmup FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD FireTest
        End

        AnimationState                        = SPECIAL_POWER_1
            Animation                        = ATKA
                AnimationName                = WUFireDrk_ATKA
                AnimationMode                = ONCE

            End
        End


        AnimationState                        = MOVING ATTACKING
            Animation                        = ATA1
                AnimationName                = WUFireDrk_ATRA
                AnimationMode                = LOOP

                AnimationSpeedFactorRange    = 0.87 0.87
            End
        End

        AnimationState                        = ATTACKING
            Animation                        = ATKB
                AnimationName                = WUFireDrk_ATKB
                AnimationMode                = ONCE

            End






            Flags                            = RESTART_ANIM_WHEN_COMPLETE
            ParticleSysBone = B_HEAD DrakeBreathProxy FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeBreathSlave FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeFireBreathSmoke FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeBreathWarmup FOLLOWBONE:Yes
        End

        AnimationState = MOVING TURN_LEFT_HIGH_SPEED
            Animation = Moving
                AnimationName                = WUFireDrk_RUNA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState = MOVING TURN_RIGHT_HIGH_SPEED
            Animation = Moving
                AnimationName                = WUFireDrk_RUNA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState = TURN_LEFT
            Animation = Moving
                AnimationName                = WUFireDrk_TRNL
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
                AnimationSpeedFactorRange = 2.5 2.5
            End
        End

        AnimationState = TURN_RIGHT
            Animation = Moving
                AnimationName                = WUFireDrk_TRNR
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
                AnimationSpeedFactorRange = 2.5 2.5
            End
        End


        AnimationState = MOVING ACCELERATE
            Animation = Moving
                AnimationName = WUFireDrk_ACCL
                AnimationMode = LOOP
                AnimationSpeedFactorRange    =  1.0 1.0
                AnimationBlendTime            = 10
            End


            FXEvent    = Frame:17 FireWhenSkipped Name:FX_DrakeRightFootStep
            FXEvent    = Frame:6 FireWhenSkipped Name:FX_DrakeLeftFootStep
        End























        AnimationState = MOVING
            Animation = Moving
                AnimationName = WUFireDrk_RUNA
                AnimationMode = LOOP
                AnimationSpeedFactorRange    = 1.0 1.0
            End


            FXEvent    = Frame:17 FireWhenSkipped Name:FX_DrakeRightFootStep
            FXEvent    = Frame:6 FireWhenSkipped Name:FX_DrakeLeftFootStep
        End

    End


    Side                = Wild
    EditorSorting       = UNIT
    ThreatLevel         = FIRE_DRAKE_THREAT_LEVEL
    ThingClass          = MEDIUM_MONSTER
    CommandPoints       = 30
    BountyValue         = FIREDRAKE_BOUNTY_VALUE
    TransportSlotCount  = TRANSPORTSLOTCOUNT_UNIT
    ShockwaveResistance = 1
    BuildTime           = STRONG_BUILDTIME
    BuildCost           = 1500

    WeaponSet
        Conditions      = None
        Weapon          = PRIMARY    FireDrakeFlameEdain
    End

    ArmorSet
        Conditions      = None
        Armor           = EdainMediumDragonArmor
        DamageFX        = NormalDamageFX
    End

    ArmorSet
        Conditions      = PLAYER_UPGRADE
        Armor           = EdainLargeDragonArmor
        DamageFX        = NormalDamageFX
    End



    VisionRange            = 200
    ShroudClearingRange = 300

    DisplayName            = OBJECT:WildFireDrake
    CrushableLevel        = 2
    CrusherLevel        = 2
    CrushDecelerationPercent = 50%
    CrushRevengeWeapon    = RangedInfantryCrushRevenge
    CommandSet            = WildFireDrakeModCommandSet



    VoiceAttack                            = FireDrakeVoxAttack
    VoiceAttackAir                        = FireDrakeVoxAttack
    VoiceAttackCharge                    = FireDrakeVoxAttack
    VoiceAttackMachine                    = FireDrakeVoxAttack
    VoiceAttackStructure                = FireDrakeVoxAttack
    VoiceCreated                        = EVA:FireDrakeCreated
    VoiceCreated                        = +SOUND:FireDrakeVoxCreated
    VoiceFullyCreated                    = EVA:FireDrakeCreated
    VoiceFullyCreated                    = +SOUND:FireDrakeVoxCreated
    VoiceGuard                            = FireDrakeVoxMove
    VoiceMove                            = FireDrakeVoxMove
    VoiceMoveToCamp                        = FireDrakeVoxMove
    VoiceMoveWhileAttacking                = FireDrakeVoxMove
    VoicePriority                        = 55
    VoiceRetreatToCastle                = FireDrakeVoxMove
    VoiceSelect                            = FireDrakeVoxSelectMS
    VoiceSelectBattle                     = FireDrakeVoxSelectMS










    SoundImpact                    = ImpactHorse
    SoundAmbient                = FireDrakeVoxAmbientLoop

    UnitSpecificSounds
        VoiceEnterUnitEvilMenTransportShip    = FireDrakeVoxMove
        VoiceEnterUnitMordorMumakil            = FireDrakeVoxMove
        VoiceEnterUnitSlaughterHouse        = FireDrakeVoxMove
        VoiceGarrison                        = FireDrakeVoxMove
        VoiceInitiateCaptureBuilding        = FireDrakeVoxMove
    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"




    ClientUpdate = EvaAnnounceClientCreate ModuleTag_CreateAnnounce
        AnnouncementEventEnemy = DiscoveredEnemyDrake
        AnnouncementEventAlly = None
        AnnouncementEventOwner = None

        OnlyIfVisible = Yes
        CountAsFirstSightedAnnoucement = Yes
        UseObjectsPosition = No
        CreateFakeRadarEvent = Yes
    End





    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: FireDrakeInfernoMS        Animation: WUFireDrk_SKL.WUFireDrk_ATKA        Frames: 22
        AnimationSound = Sound: FireDrakeFireExhale        Animation: WUFireDrk_SKL.WUFireDrk_ATKB        Frames: 20
        AnimationSound = Sound: TrollBodyfall            Animation: WUFireDrk_SKL.WUFireDrk_DIEA        Frames: 20
        AnimationSound = Sound: TrollBodyfall            Animation: WUFireDrk_SKL.WUFireDrk_LNDA        Frames: 1
        AnimationSound = Sound: FireDrakeFootstep        Animation: WUFireDrk_SKL.WUFireDrk_GTPA        Frames: 9 16



        AnimationSound = Sound: FireDrakeFootstep        Animation: WUFireDrk_SKL.WUFireDrk_ACCL        Frames: 12

        AnimationSound = Sound: FireDrakeFootstep    Animation:WUFIREDRK_SKL.WUFIREDRK_ATRA    Frames:8 11 18 20
        AnimationSound = Sound: FireDrakeFootstep    Animation:WUFIREDRK_SKL.WUFIREDRK_RUNA    Frames:8 11 18 20
        AnimationSound = Sound: FireDrakeFootstep    Animation:WUFIREDRK_SKL.WUFIREDRK_TRNL    Frames:14 29
        AnimationSound = Sound: FireDrakeFootstep    Animation:WUFIREDRK_SKL.WUFIREDRK_TRNR    Frames:14 29
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT SCORE

    Body = ActiveBody ModuleTag_02
        CheerRadius       = EMOTION_CHEER_RADIUS
        MaxHealth         = FIREDRAKE_HEALTH
        RecoveryTime      = FIREDRAKE_HEALTH_RECOVERY_TIME
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
            StanceTemplate = Hero
        End

      Behavior = BezierProjectileBehavior ModuleTag_08

        FirstHeight = 24
        SecondHeight = 24
        FirstPercentIndent = 30%
        SecondPercentIndent = 70%
        TumbleRandomly = Yes

        CrushStyle = Yes
        DieOnImpact = Yes
        BounceCount = 1
        BounceDistance = 40
        BounceFirstHeight = 24
        BounceSecondHeight = 24
        BounceFirstPercentIndent = 20%
        BounceSecondPercentIndent = 80%

        GroundHitFX       = FX_ThrownRockGroundHit
        GroundBounceFX    = FX_ThrownRockBounceHit
    End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        StopChaseDistance            = 642
        CanAttackWhileContained        = Yes

        MinCowerTime                = 8000
        MaxCowerTime                = 10000

    End

    LocomotorSet
        Locomotor = FiredrakeLocomotor
        Condition = SET_NORMAL
        Speed     = 90
    End

    LocomotorSet
        Locomotor = HumanWanderLocomotor
        Condition = SET_WANDER
        Speed     = 90
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -FADED
        SinkDelay = 3000
        SinkRate = 0.600
        DestructionDelay = 12000
        Sound = INITIAL FireDrakeVoxDieMS
    End

    Behavior = SlowDeathBehavior ModuleTag_ConstructionDeath
        DeathTypes            = NONE +FADED
        DeathFlags            = DEATH_2
        FadeDelay            = 500
        FadeTime            = 3500
        DestructionDelay    = 4000
        Sound = INITIAL SpellGenericUnsummonFasterMS
    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 1993
        HitReactionLifeTimer2 = 1993
        HitReactionLifeTimer3 = 1993

        HitReactionThreshold1 = 0.0
        HitReactionThreshold2 = 25.0
        HitReactionThreshold3 = 50.0

        FastHitsResetReaction = No
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        AddEmotion            =    Terror_Base
        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
        AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base
        AddEmotion            =    HeroCheerIdle_Base
        AddEmotion            =    HeroCheerBusy_Base
        AddEmotion            =    Alert_Base
    End



    Behavior = SpecialPowerModule ModuleTag_InfernoStarter
        SpecialPowerTemplate        = SpecialAbilityFireDrakeInferno
        UpdateModuleStartsAttack    = Yes
        InitiateSound            = FireDrakeVoxInferno
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_InfernoUpdate
        SpecialPowerTemplate    = SpecialAbilityFireDrakeInferno

        UnpackTime              = 1300


        PackTime                = 3700





        AwardXPForTriggering    = 0

        StartAbilityRange = 90.0

        SpecialWeapon = FireDrakeInferno
        WhichSpecialWeapon = 1
    End



    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP          = Yes
    End




    Behavior = AutoHealBehavior ModuleTag_MumakilHealing
       StartsActive          = Yes
       HealingAmount         = MONSTER_HEAL_AMOUNT
       HealingDelay          = 1000
       StartHealingDelay     = MONSTER_HEAL_DELAY
       HealOnlyIfNotInCombat = Yes
    End


    Geometry = BOX
    GeometryMajorRadius = 30.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

    Shadow = SHADOW_VOLUME



End


ChildObject WildFireDrake_Summoned WildFireDrake

    IsTrainable     = No
    CommandPoints   = 0
    EquivalentTo    = WildFireDrake

    Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate

        MinLifetime      = 60000
        MaxLifetime      = 60000
        DeathType        = FADED
    End
End


ChildObject WildFireDrake2 WildFireDrake1

    SelectPortrait  =  HPFireDrake



    ButtonImage        = HIFireDrake

    EquivalentTo    = WildFireDrake

    Draw = W3DScriptedModelDraw ModuleTag_01

        StaticModelLODMode = Yes
        OkToChangeModelColor = Yes

        DefaultModelConditionState
            Model                       = wudrake_skn
            Skeleton                    = wudrake_skl
            WeaponLaunchBone            = PRIMARY B_JAW
        End


        IdleAnimationState
            Animation                = IDLA
                AnimationName        = wudrake_idla
                AnimationMode        = ONCE
                AnimationPriority   = 10
            End
            Animation                = IDLC
                AnimationName        = wudrake_idlc
                AnimationMode        = ONCE
                AnimationPriority   = 2
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState          = DYING DEATH_2
            Animation
                AnimationName   = wudrake_idla
                AnimationMode   = LOOP
            End
        End

        AnimationState                        = DYING
            Animation                        = DIEA
                AnimationName                = wudrake_diea
                AnimationMode                = ONCE
            End
        End





        AnimationState                        = STUNNED_FLAILING
            Animation                        = Falling
                AnimationName                = wudrake_flya
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART
        End

        AnimationState                        = PASSENGER
            Animation                        = Grabbed
                AnimationName                = wudrake_flya
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART
        End

        AnimationState                        = THROWN_PROJECTILE
            Animation                       = FlyA
                AnimationName                   = wudrake_flya
                AnimationMode               = LOOP
            End
            Flags                           = RANDOMSTART
        End

        AnimationState                        = FREEFALL
            Animation                        = Falling
                AnimationName                = wudrake_flya
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End

        AnimationState                        = STUNNED_STANDING_UP
            Animation                        = StandUp
                AnimationName                = wudrake_gtpa
                AnimationMode                = ONCE
            End
        End

        AnimationState                        = STUNNED
            Animation                        = LNDA
                AnimationName                = wudrake_lnda
                AnimationMode                = ONCE
            End
        End

        AnimationState                        = SPECIAL_WEAPON_ONE
            Animation                        = ATKA
                AnimationName                = wudrake_atka
                AnimationMode                = ONCE

            End
            ParticleSysBone = B_HEAD DrakeBreathProxy FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeBreathSlave FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeFireBreathSmoke FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeBreathWarmup FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD FireTest
        End


        AnimationState                        = SPECIAL_POWER_1
            Animation                        = ATKA
                AnimationName                = wudrake_atka
                AnimationMode                = ONCE

            End
        End


        AnimationState                        = MOVING ATTACKING
            Animation                        = ATA1
                AnimationName                = wudrake_atra
                AnimationMode                = LOOP

                AnimationSpeedFactorRange    = 0.87 0.87
            End
        End

        AnimationState                        = ATTACKING
            Animation                        = ATKB
                AnimationName                = wudrake_atkb
                AnimationMode                = ONCE

            End

            Flags                            = RESTART_ANIM_WHEN_COMPLETE
            ParticleSysBone = B_HEAD DrakeBreathProxy FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeBreathSlave FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeFireBreathSmoke FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeBreathWarmup FOLLOWBONE:Yes
        End

        AnimationState = MOVING TURN_LEFT_HIGH_SPEED
            Animation = Moving
                AnimationName                = wudrake_runa
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState = MOVING TURN_RIGHT_HIGH_SPEED
            Animation = Moving
                AnimationName                = wudrake_runa
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End


        AnimationState                        = MOVING PANICKING
            Animation
                AnimationName                = wudrake_mfda
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART
        End

        AnimationState = MOVING
            Animation = Moving
                AnimationName = wudrake_runa
                AnimationMode = LOOP
                AnimationSpeedFactorRange    = 1.0 1.0
            End


            FXEvent    = Frame:17 FireWhenSkipped Name:FX_DrakeRightFootStep
            FXEvent    = Frame:6 FireWhenSkipped Name:FX_DrakeLeftFootStep
        End









        AnimationState                        = EMOTION_CELEBRATING
            Animation                        = CHRA
                AnimationName                = wudrake_chra
                AnimationMode                = Once
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End

    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: FireDrakeInfernoMS       Animation: wudrake_skl.wudrake_ATKA        Frames: 22
        AnimationSound = Sound: FireDrakeFireExhale      Animation: wudrake_skl.wudrake_ATKB        Frames: 20
        AnimationSound = Sound: TrollBodyfall            Animation: wudrake_skl.wudrake_DIEA        Frames: 20
        AnimationSound = Sound: TrollBodyfall            Animation: wudrake_skl.wudrake_LNDA        Frames: 1
        AnimationSound = Sound: FireDrakeFootstep        Animation: wudrake_skl.wudrake_GTPA        Frames: 9 16



        AnimationSound = Sound: FireDrakeFootstep        Animation: wudrake_skl.wudrake_ACCL        Frames: 12

        AnimationSound = Sound: FireDrakeFootstep    Animation:wudrake_ATRA    Frames:8 11 18 20
        AnimationSound = Sound: FireDrakeFootstep    Animation:wudrake_RUNA    Frames:8 11 18 20
    End


    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP          = Yes
    End




End



ChildObject FireDrake_Slaved WildFireDrake1

      EvaEnemyObjectSightedEvent = DiscoveredEnemyDrake
      EvaEnemyObjectSightedAfterRespawnEvent = DiscoveredEnemyDrake

    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT SCORE CREEP

    VisionRange = CREEP_VISION
    DisplayName = OBJECT:GenericFireDrake
    Behavior = SlavedUpdate ModuleTag_Slave
        GuardMaxRange        = 300
        GuardWanderRange    = 100
        UseSlaverAsControlForEvaObjectSightedEvents = Yes
    End

End



ChildObject WildFortressFireDrake WildFireDrake1


    SelectPortrait = HPBlueSummonedDragon
    ButtonImage    = HISummonedDragonBlue


    Draw = W3DScriptedModelDraw ModuleTag_01

        StaticModelLODMode = Yes
        RandomTextureFixedRandomIndex    = Yes

        RandomTexture                    = JHDragon_Dark.tga        0 JHDragon_Dark.tga
        RandomTexture                    = JHDragon_Light.tga    0 JHDragon_Dark.tga

        RandomTexture                    = JHDragonWings.tga        0 JHDragonWings.tga
        RandomTexture                    = JHDragonWingsBlue.tga    0 JHDragonWings.tga

        DefaultModelConditionState
            Model = JHDrag_SKN
            Skeleton = JHDrag_SKL
        End

        IdleAnimationState
            StateName = STATE_Idle
            Animation = Breathe
                AnimationName = JHDrag_IDLA
                AnimationMode = ONCE
                AnimationPriority = 20
            End

            ParticleSysBone = BAT_HEAD SummonedDragonFireSnort    FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonSnortEmbers    FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonWaves    FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves FollowBone:Yes

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected"    then
                CurDrawableSetTransitionAnimState("TRANS_Selected_to_Idle") return end
            EndScript
            AllowRepeatInRandomPick = Yes
        End

        AnimationState            = USER_2
            StateName = State_JustBuilt
            Animation
                AnimationName = JHDrag_LNDA
                AnimationMode = ONCE
                AnimationBlendTime = 0
            End
            ParticleSysBone = NONE SummonedDragonDust    FollowBone:Yes
        End

        AnimationState                    =    DYING DEATH_1
            Animation                    =    Dying
                AnimationName            =    JHDrag_DIEA
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            ParticleSysBone = BAT_HEAD SummonedDragonDeathEmbers        FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonDeathSmoke            FollowBone:Yes
            ParticleSysBone = NONE SummonedDragonDeathDust
        End

        AnimationState                    =    DYING DEATH_2
            Animation                    =    JumpingAwayAtTimeUp
                AnimationName            =    JHDrag_JMPA
                AnimationMode            =    ONCE
                AnimationBlendTime        =    15
            End
            ParticleSysBone = BAT_HEAD SummonedDragonDeathEmbers        FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonDeathSmoke            FollowBone:Yes
        End


        AnimationState = FIRING_OR_PREATTACK_A MOVING
            Animation
                AnimationName                = JHDrag_WLKA
                AnimationMode                = LOOP
                AnimationSpeedFactorRange    = 1.3 1.3
            End
            ParticleSysBone = B_MAINBONE SummonedDragonWaves    FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves FollowBone:Yes
        End

        AnimationState = FIRING_OR_PREATTACK_A
            Animation            = Burninate
                AnimationName    = JHDrag_ATKA
                AnimationMode    = ONCE
                AnimationSpeedFactorRange = 0.83 0.83
            End
            ParticleSysBone = BAT_HEAD SummonedDragonFireBreath    FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonHeat    FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonEmbers        FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonSmoke            FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonFireProxy            FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonWaves    FollowBone:Yes
            ParticleSysBone = B_MAINBONE SummonedDragonSmokeWaves FollowBone:Yes
        End

        AnimationState = HIT_REACTION HIT_LEVEL_1
            Animation
                AnimationName            = JHDrag_HITA
                AnimationMode            = ONCE
            End
        End

        AnimationState = TURN_LEFT_HIGH_SPEED MOVING
            Animation            = Left
                AnimationName    = JHDrag_WLKA
                AnimationMode    = LOOP
                AnimationBlendTime        =    15
            End
        End

        AnimationState = TURN_RIGHT_HIGH_SPEED MOVING
            Animation            = YourOtherLeft
                AnimationName    = JHDrag_WLKA
                AnimationMode    = LOOP
                AnimationBlendTime        =    15
            End
        End

        AnimationState = TURN_LEFT
            Animation            = Left
                AnimationName    = JHDrag_TRNL
                AnimationMode    = LOOP
                AnimationSpeedFactorRange = 2.0 2.0
                AnimationBlendTime        =    15
            End
        End

        AnimationState = TURN_RIGHT
            Animation            = YourOtherLeft
                AnimationName    = JHDrag_TRNR
                AnimationMode    = LOOP
                AnimationSpeedFactorRange = 2.0 2.0
                AnimationBlendTime        =    15
            End
        End

        AnimationState = MOVING DECELERATE
            Animation
                AnimationName    = JHDrag_DECL
                AnimationMode    = ONCE
                AnimationSpeedFactorRange = 0.76 0.76
            End
        End

        AnimationState = MOVING DECELERATE
            Animation
                AnimationName    = JHDrag_DECL
                AnimationMode    = ONCE
                AnimationSpeedFactorRange = 0.9 0.9
            End
        End

        AnimationState = MOVING
            Animation
                AnimationName    = JHDrag_WLKA
                AnimationMode    = LOOP
                AnimationSpeedFactorRange = 1.2 1.2
            End
        End

        AnimationState = UNPACKING
            StateName            = STATE_TakeOff
            Animation
                AnimationName    = JHDrag_JMPA
                AnimationMode    = ONCE
            End
        End

        AnimationState = PACKING
            StateName                = STATE_Land
            Animation
                AnimationName        = JHDrag_LNDA
                AnimationMode        = ONCE

            End
        End




        AnimationState = PREPARING
            Animation
                AnimationName        = JHDrag_JMPA
                AnimationMode        = ONCE
            End
            Flags = START_FRAME_LAST
        End

        AnimationState = SELECTED
            StateName = STATE_Selected
            Animation
                AnimationName    = JHDrag_IDLA
                AnimationMode    = LOOP
                AnimationSpeedFactorRange = 1.3 1.3
            End

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle"    then
                    CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected")
                    return
                end
            EndScript
        End

        TransitionState = TRANS_Idle_to_Selected
            Animation            = Salute
                AnimationName    = JHDrag_RORA
                AnimationMode    = ONCE
            End
            ParticleSysBone = BAT_HEAD SummonedDragonFireRoar    FollowBone:Yes
            ParticleSysBone = BAT_HEAD SummonedDragonSmokeRoar    FollowBone:Yes
        End
    End


    Side                 = Wild
    EditorSorting        = UNIT
    ThreatLevel          = FIRE_DRAKE_THREAT_LEVEL
    CommandSet           = SummonedDragonCommandSet
    ShockwaveResistance  = SHOCKWAVE_RESISTANCE_ALWAYS
    ShroudClearingRange  = SHROUD_CLEAR_GIANT
    VisionRange          = 200
    TransportSlotCount   = TRANSPORTSLOTCOUNT_MONSTER
    KindOf               = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT SCORE SCARY HERO
    ThreatLevel          = SUMMONEDDRAGON_THREAT_LEVEL
    RadarPriority        = UNIT
    CommandPoints        = 0
    BuildTime            = 0
    BuildCost            = 0
    MaxSimultaneousOfType = 1

    WeaponSet
        Conditions = None
        Weapon     = PRIMARY    FortressDragonFireBreath
    End

    ArmorSet
        Conditions = None
        Armor      = FireDrakeFortressEdainArmor
        DamageFX   = NormalDamageFX
    End

    Body = ActiveBody ModuleTag_Body
        MaxHealth  = 12000
    End





    VoiceAttack                  = DragonAllyVoxAttack
    VoiceMove                    = DragonAllyVoxMove
    VoicePriority                = 70
    VoiceSelect                  = DragonAllyVoxSelect


    SoundImpact                  = ImpactHorse

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:FIRING_OR_PREATTACK_A        Excluded:DYING    Sound:DragonAllyFirebreathMS
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: DragonAllyVoxRoarBig    Animation:JHDrag_SKL.JHDrag_RORA     Frames: 9
        AnimationSound = Sound: DragonAllyFireExhale    Animation:JHDrag_SKL.JHDrag_RORA     Frames: 10
        AnimationSound = Sound: DragonAllyLand            Animation:JHDrag_SKL.JHDrag_LNDA     Frames: 50
        AnimationSound = Sound: FellBeastWingFlaps        Animation:JHDrag_SKL.JHDrag_LNDA     Frames: 8 33 60
        AnimationSound = Sound: FellBeastWingFlaps        Animation:JHDrag_SKL.JHDrag_ATKA     Frames: 20
        AnimationSound = Sound: DragonAllyVoxRoarBig    Animation:JHDrag_SKL.JHDrag_LNDA     Frames: 74
        AnimationSound = Sound: DragonAllyBodyfall        Animation:JHDrag_SKL.JHDrag_DIEA     Frames: 35
        AnimationSound = Sound: FellBeastWingFlaps        Animation:JHDrag_SKL.JHDrag_DIEA     Frames: 12
        AnimationSound = Sound: DragonAllyFootstep        Animation:JHDrag_SKL.JHDrag_JMPA     Frames: 11
        AnimationSound = Sound: BalrogJump_Part2        Animation:JHDrag_SKL.JHDrag_JMPA     Frames: 29
        AnimationSound = Sound: FellBeastWingFlaps        Animation:JHDrag_SKL.JHDrag_JMPA     Frames: 35 62 89
        AnimationSound = Sound: DragonAllyVoxHurt        Animation:JHDrag_SKL.JHDrag_HITA     Frames: 1
        AnimationSound = Sound: DragonAllyFootstep        Animation:JHDrag_SKL.JHDrag_HITA     Frames: 21 24
        AnimationSound = Sound: DragonAllyFootstep        Animation:JHDrag_SKL.JHDrag_WLKA     Frames: 19 40
        AnimationSound = Sound: DragonAllyFootstep        Animation:JHDrag_SKL.JHDrag_TRNL     Frames: 20 43
        AnimationSound = Sound: DragonAllyFootstep        Animation:JHDrag_SKL.JHDrag_TRNR     Frames: 20 43
        AnimationSound = Sound: DragonAllyFootstep        Animation:JHDrag_SKL.JHDrag_DECL     Frames: 7 28
        AnimationSound = Sound: DragonAllyVoxRoarSmall    Animation:JHDrag_SKL.JHDrag_DECL     Frames: 2
    End


    EvaEnemyObjectSightedEvent = DiscoveredEnemyDragon

    ClientUpdate = EvaAnnounceClientCreate ModuleTag_CreateAnnounce
        AnnouncementEventEnemy = DiscoveredEnemyDragon
        AnnouncementEventAlly = None
        AnnouncementEventOwner = None

        OnlyIfVisible = Yes
        CountAsFirstSightedAnnoucement = Yes
        UseObjectsPosition = No
        CreateFakeRadarEvent = Yes
    End



    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

      Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 2000
        HitReactionThreshold1 = 200
    End

    ArmorSet
        Conditions      = None
        Armor           = SummonedDragonArmor
        DamageFX        = FellBeastDamageFX
    End


    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes          = ALL -FADED
        DestructionDelay    = 20000
        DecayBeginTime      = 3000
        SinkDelay           = 5000
        SinkRate            = 2.0
        DeathFlags          = DEATH_1
        Sound               = INITIAL DragonAllyVoxDie
        OCL                 = INITIAL OCL_SummonedDragonDeathCrush
    End

    Behavior = SlowDeathBehavior ModuleTag_ConstructionDeath
        DeathTypes          = NONE +FADED
        DeathFlags          = DEATH_2
        FadeDelay           = 0
        FadeTime            = 5000
        DestructionDelay    = 5000
        Sound               = INITIAL DragonAllyUnsummon
    End

    Behavior = AIUpdateInterface ModuleTag_AI
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
    End

    Behavior = PhysicsBehavior ModuleTag_PhysicsBehavior
        GravityMult = 1.0
    End

    Behavior = SpecialPowerModule ModuleTag_TeleportStarter
        SpecialPowerTemplate        = SpecialAbilitySummonedDragonReposition
        UpdateModuleStartsAttack    = Yes
        InitiateSound               = DragonAllyVoxTeleport
    End

    Behavior = TeleportSpecialAbilityUpdate ModuleTag_TeleportUpdate
        SpecialPowerTemplate    = SpecialAbilitySummonedDragonReposition
        UnpackTime              = 3800
        PackTime                = 3500
        PreparationTime         = 1
        ApproachRequiresLOS     = No
        BusyForDuration         = 5000
        DestinationWeaponName   = SummonDragonBlowBack
    End

    Behavior = GrantUpgradeCreate ModuleTag_BuildHackUpgrade
           UpgradeToGrant       = Upgrade_TestBuilding
           GiveOnBuildComplete  = Yes
     End

    Behavior = ModelConditionUpgrade ModuleTag_BuildHackUserFlag
           TriggeredBy          = Upgrade_TestBuilding
           RequiresAllTriggers  = Yes

           AddTempConditionFlag = ModelConditionState:USER_2
           TempConditionTime    = 4.0

     End


    Behavior = AutoHealBehavior ModuleTag_MumakilHealing
       StartsActive          = Yes
       HealingAmount         = MONSTER_HEAL_AMOUNT
       HealingDelay          = 1000
       StartHealingDelay     = MONSTER_HEAL_DELAY
       HealOnlyIfNotInCombat = Yes
    End


    LocomotorSet
        Locomotor     = SummonedDragonLocomotor
        Condition     = SET_NORMAL
        Speed         = 60
    End

    Geometry            = CYLINDER
    GeometryMajorRadius = 50
    GeometryHeight        = 25.0
    GeometryOffset        = X:-10 Y:0 Z:0
    GeometryIsSmall        = No
    Shadow                = SHADOW_VOLUME
End


Object WildBabyDrake


    SelectPortrait  =  HIFireDrakeBrood



    ButtonImage        = HIFireDrake

    Draw = W3DScriptedModelDraw ModuleTag_01
        OkToChangeModelColor = Yes

        StaticModelLODMode = Yes

        ParticlesAttachedToAnimatedBones = Yes

        DefaultModelConditionState
            Model                        =    WUFDrkSml_SKN
            Skeleton                    =   WUFireDrk_SKL
            WeaponLaunchBone            =    PRIMARY B_JAW
        End


        IdleAnimationState
            Animation                = IDLA
                AnimationName        = WUFireDrk_IDLA
                AnimationMode        = ONCE
                AnimationPriority   = 1
            End
            Flags                =    RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState          = DYING DEATH_2
            Animation
                AnimationName   = WUFireDrk_SKL.WUFireDrk_IDLA
                AnimationMode   = LOOP
            End
        End

        AnimationState                        = DYING
            Animation                        = DIEA
                AnimationName                = WUFireDrk_DIEA
                AnimationMode                = ONCE
            End
        End





        AnimationState                        = STUNNED_FLAILING
            Animation                        = Falling
                AnimationName                = WUFireDrk_FLYA
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART
        End

        AnimationState                        = PASSENGER
            Animation                        = Grabbed
                AnimationName                = WUFireDrk_FLYA
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART
        End

        AnimationState                        = THROWN_PROJECTILE
            Animation                       = FlyA
                AnimationName                   = WUFireDrk_FLYA
                AnimationMode               = LOOP
            End
            Flags                           = RANDOMSTART
        End

        AnimationState                        = FREEFALL
            Animation                        = Falling
                AnimationName                = WUFireDrk_FLYA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End

        AnimationState                        = STUNNED_STANDING_UP
            Animation                        = StandUp
                AnimationName                = WUFireDrk_GTPA
                AnimationMode                = ONCE
            End
        End

        AnimationState                        = STUNNED
            Animation                        = LNDA
                AnimationName                = WUFireDrk_LNDA
                AnimationMode                = ONCE
            End
        End

        AnimationState                        = SPECIAL_WEAPON_ONE
            Animation                        = ATKA
                AnimationName                = WUFireDrk_ATKA
                AnimationMode                = ONCE

            End
            ParticleSysBone = B_HEAD DrakeBreathProxy FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeBreathSlave FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeFireBreathSmoke FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeBreathWarmup FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD FireTest
        End

        AnimationState                        = SPECIAL_POWER_1
            Animation                        = ATKA
                AnimationName                = WUFireDrk_ATKA
                AnimationMode                = ONCE

            End
        End


        AnimationState                        = MOVING ATTACKING
            Animation                        = ATA1
                AnimationName                = WUFireDrk_ATRA
                AnimationMode                = LOOP

                AnimationSpeedFactorRange    = 0.87 0.87
            End
        End

        AnimationState                        = ATTACKING
            Animation                        = ATKB
                AnimationName                = WUFireDrk_ATKB
                AnimationMode                = ONCE

            End






            Flags                            = RESTART_ANIM_WHEN_COMPLETE
            ParticleSysBone = B_HEAD DrakeBreathProxy FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeBreathSlave FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeFireBreathSmoke FOLLOWBONE:Yes
            ParticleSysBone = B_HEAD DrakeBreathWarmup FOLLOWBONE:Yes
        End

        AnimationState = MOVING TURN_LEFT_HIGH_SPEED
            Animation = Moving
                AnimationName                = WUFireDrk_RUNA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState = MOVING TURN_RIGHT_HIGH_SPEED
            Animation = Moving
                AnimationName                = WUFireDrk_RUNA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState = TURN_LEFT
            Animation = Moving
                AnimationName                = WUFireDrk_TRNL
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
                AnimationSpeedFactorRange = 2.5 2.5
            End
        End

        AnimationState = TURN_RIGHT
            Animation = Moving
                AnimationName                = WUFireDrk_TRNR
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
                AnimationSpeedFactorRange = 2.5 2.5
            End
        End


        AnimationState = MOVING ACCELERATE
            Animation = Moving
                AnimationName = WUFireDrk_ACCL
                AnimationMode = LOOP
                AnimationSpeedFactorRange    =  1.0 1.0
                AnimationBlendTime            = 10
            End


            FXEvent    = Frame:17 FireWhenSkipped Name:FX_DrakeRightFootStep
            FXEvent    = Frame:6 FireWhenSkipped Name:FX_DrakeLeftFootStep
        End























        AnimationState = MOVING
            Animation = Moving
                AnimationName = WUFireDrk_RUNA
                AnimationMode = LOOP
                AnimationSpeedFactorRange    = 1.0 1.0
            End


            FXEvent    = Frame:17 FireWhenSkipped Name:FX_DrakeRightFootStep
            FXEvent    = Frame:6 FireWhenSkipped Name:FX_DrakeLeftFootStep
        End

    End


    Side                = Wild
    EditorSorting        = UNIT
    ThreatLevel            = FIRE_DRAKE_THREAT_LEVEL
    ThingClass    = HORDE_UNIT
    CommandPoints    = 20
    BountyValue            = FIREDRAKE_BOUNTY_VALUE
    TransportSlotCount    = TRANSPORTSLOTCOUNT_UNIT
    ShockwaveResistance = 1
    BuildTime    = STRONG_BUILDTIME
    BuildCost    = BABYDRAKE_BUILDCOST

    WeaponSet
        Conditions    = None
        Weapon        = PRIMARY    BabyDrakeFlame
    End

    ArmorSet
        Conditions      = None
        Armor           = EdainSmallDragonArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange            = 200
    ShroudClearingRange = 300

    DisplayName    = OBJECT:BabyFireDrake
    CrushableLevel        = 2
    CrusherLevel        = 1
    CrushDecelerationPercent = 50%
    CrushRevengeWeapon    = RangedInfantryCrushRevenge
    CommandSet    = WildBabyDrakeSlavedCommandSet



    VoiceAttack                            = FireDrakeVoxAttack
    VoiceAttackAir                        = FireDrakeVoxAttack
    VoiceAttackCharge                    = FireDrakeVoxAttack
    VoiceAttackMachine                    = FireDrakeVoxAttack
    VoiceAttackStructure                = FireDrakeVoxAttack
    VoiceCreated                        = EVA:FireDrakeCreated
    VoiceCreated                        = +SOUND:FireDrakeVoxCreated
    VoiceFullyCreated                    = EVA:FireDrakeCreated
    VoiceFullyCreated                    = +SOUND:FireDrakeVoxCreated
    VoiceGuard                            = FireDrakeVoxMove
    VoiceMove                            = FireDrakeVoxMove
    VoiceMoveToCamp                        = FireDrakeVoxMove
    VoiceMoveWhileAttacking                = FireDrakeVoxMove
    VoicePriority                        = 55
    VoiceRetreatToCastle                = FireDrakeVoxMove
    VoiceSelect                            = FireDrakeVoxSelectMS
    VoiceSelectBattle                     = FireDrakeVoxSelectMS










    SoundImpact                    = ImpactHorse
    SoundAmbient                = FireDrakeVoxAmbientLoop

    UnitSpecificSounds
        VoiceEnterUnitEvilMenTransportShip    = FireDrakeVoxMove
        VoiceEnterUnitMordorMumakil            = FireDrakeVoxMove
        VoiceEnterUnitSlaughterHouse        = FireDrakeVoxMove
        VoiceGarrison                        = FireDrakeVoxMove
        VoiceInitiateCaptureBuilding        = FireDrakeVoxMove
    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"




    ClientUpdate = EvaAnnounceClientCreate ModuleTag_CreateAnnounce
        AnnouncementEventEnemy = DiscoveredEnemyDrake
        AnnouncementEventAlly = None
        AnnouncementEventOwner = None

        OnlyIfVisible = Yes
        CountAsFirstSightedAnnoucement = Yes
        UseObjectsPosition = No
        CreateFakeRadarEvent = Yes
    End





    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: FireDrakeInfernoMS        Animation: WUFireDrk_SKL.WUFireDrk_ATKA        Frames: 22
        AnimationSound = Sound: FireDrakeFireExhale        Animation: WUFireDrk_SKL.WUFireDrk_ATKB        Frames: 20
        AnimationSound = Sound: TrollBodyfall            Animation: WUFireDrk_SKL.WUFireDrk_DIEA        Frames: 20
        AnimationSound = Sound: TrollBodyfall            Animation: WUFireDrk_SKL.WUFireDrk_LNDA        Frames: 1
        AnimationSound = Sound: FireDrakeFootstep        Animation: WUFireDrk_SKL.WUFireDrk_GTPA        Frames: 9 16



        AnimationSound = Sound: FireDrakeFootstep        Animation: WUFireDrk_SKL.WUFireDrk_ACCL        Frames: 12

        AnimationSound = Sound: FireDrakeFootstep    Animation:WUFIREDRK_SKL.WUFIREDRK_ATRA    Frames:8 11 18 20
        AnimationSound = Sound: FireDrakeFootstep    Animation:WUFIREDRK_SKL.WUFIREDRK_RUNA    Frames:8 11 18 20
        AnimationSound = Sound: FireDrakeFootstep    Animation:WUFIREDRK_SKL.WUFIREDRK_TRNL    Frames:14 29
        AnimationSound = Sound: FireDrakeFootstep    Animation:WUFIREDRK_SKL.WUFIREDRK_TRNR    Frames:14 29
    End



    RadarPriority = UNIT
    KindOf         = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER ATTACK_NEEDS_LINE_OF_SIGHT SCORE CAVALRY HORDE_MONSTER

    Body = ActiveBody ModuleTag_02
        CheerRadius       = EMOTION_CHEER_RADIUS
        MaxHealth         = BABYDRAKE_HEALTH
        RecoveryTime      = BABYDRAKE_HEALTH_RECOVERY_TIME
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
            StanceTemplate = FighterHorde
        End

      Behavior = BezierProjectileBehavior ModuleTag_08

        FirstHeight = 24
        SecondHeight = 24
        FirstPercentIndent = 30%
        SecondPercentIndent = 70%
        TumbleRandomly = Yes

        CrushStyle = Yes
        DieOnImpact = Yes
        BounceCount = 1
        BounceDistance = 40
        BounceFirstHeight = 24
        BounceSecondHeight = 24
        BounceFirstPercentIndent = 20%
        BounceSecondPercentIndent = 80%

        GroundHitFX       = FX_ThrownRockGroundHit
        GroundBounceFX    = FX_ThrownRockBounceHit
    End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    = Yes ATTACK_BUILDINGS
        StopChaseDistance            = 642
        CanAttackWhileContained        = Yes

        MinCowerTime                = 8000
        MaxCowerTime                = 10000

    End

    LocomotorSet
        Locomotor = FiredrakeLocomotor
        Condition = SET_NORMAL
        Speed     = 90
    End

    LocomotorSet
        Locomotor = HumanWanderLocomotor
        Condition = SET_WANDER
        Speed     = 90
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -FADED
        SinkDelay = 3000
        SinkRate = 0.600
        DestructionDelay = 12000
        Sound = INITIAL FireDrakeVoxDieMS
    End

    Behavior = SlowDeathBehavior ModuleTag_ConstructionDeath
        DeathTypes            = NONE +FADED
        DeathFlags            = DEATH_2
        FadeDelay            = 500
        FadeTime            = 3500
        DestructionDelay    = 4000
        Sound = INITIAL SpellGenericUnsummonFasterMS
    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 1993
        HitReactionLifeTimer2 = 1993
        HitReactionLifeTimer3 = 1993

        HitReactionThreshold1 = 0.0
        HitReactionThreshold2 = 25.0
        HitReactionThreshold3 = 50.0

        FastHitsResetReaction = No
    End

    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        AddEmotion            =    Terror_Base
        AddEmotion            =    Point_Base
        AddEmotion            =    Taunt_Base
        AddEmotion            =    CheerIdle_Base
        AddEmotion            =    CheerBusy_Base
        AddEmotion            =    HeroCheerIdle_Base
        AddEmotion            =    HeroCheerBusy_Base
        AddEmotion            =    Alert_Base
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_InfernoEnabler
        SpecialPowerTemplate = SpecialAbilityFireDrakeInferno
        TriggeredBy = Upgrade_MiniHordeLvl7
    End


    Behavior = SpecialPowerModule ModuleTag_InfernoStarter
        SpecialPowerTemplate        = SpecialAbilityFireDrakeInferno
        UpdateModuleStartsAttack    = Yes
        StartsPaused            = Yes
        InitiateSound            = FireDrakeVoxInferno
    End

    Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_InfernoUpdate
        SpecialPowerTemplate    = SpecialAbilityFireDrakeInferno

        UnpackTime              = 1300
        PackTime                = 3700

        AwardXPForTriggering    = 0

        StartAbilityRange = 90.0

        SpecialWeapon = BabyDrakeInferno
        WhichSpecialWeapon = 1
    End


    Behavior = HordeMemberCollide ModuleTag_HMC

    End

    Behavior = AutoHealBehavior ModuleTag_RogashHealing
        StartsActive = Yes
        HealingAmount = HERO_HEAL_AMOUNT
        HealingDelay = 5000
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End

    Geometry = BOX
    GeometryMajorRadius = 12.0
    GeometryMinorRadius = 5.0
    GeometryHeight = 12.2
    GeometryIsSmall = Yes

    Shadow = SHADOW_VOLUME
End

ChildObject WildBabyDrake_Slaved WildBabyDrake

      EvaEnemyObjectSightedEvent = DiscoveredEnemyDrake
      EvaEnemyObjectSightedAfterRespawnEvent = DiscoveredEnemyDrake


    KindOf = +CREEP

    CommandPoints    = 0

    VisionRange = CREEP_VISION

    Behavior = SlavedUpdate ModuleTag_Slave
        GuardMaxRange       = 300
        GuardWanderRange    = 100
        UseSlaverAsControlForEvaObjectSightedEvents = Yes
    End

End

