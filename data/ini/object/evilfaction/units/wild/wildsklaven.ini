Object WildSklaven


     SelectPortrait = UPWildSklaven

    Draw = W3DHordeModelDraw ModuleTag_01
        DefaultModelConditionState
            Model               = GUHbtShfA_SKN
            Skeleton            = GUHbtShf_SKL
            WeaponLaunchBone    = PRIMARY B_HANDR
            WeaponLaunchBone    = SECONDARY B_HANDR
        End
    End

    Side = Isengard
    EditorSorting = UNIT
	CommandPoints = 0
    BuildVariations = WildSklaveBauer1 WildSklaveHobbit WildSklaveZwerg WildSklaveBauer2
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT HOBBIT HOBBIT ATTACK_NEEDS_LINE_OF_SIGHT
End

Object WildSklaveHobbit



     SelectPortrait = UPWildSklaven

     EquivalentTo = WildSklaven

    Draw = W3DScriptedModelDraw ModuleTag_01

        OkToChangeModelColor = Yes
        StaticModelLODMode = Yes

        RandomTexture           = wuhobbitsklave.tga    0    GUHbtShfA.tga
        RandomTexture           = wuhobbitsklave2.tga    0    GUHbtShfA.tga

        DefaultModelConditionState
            Model               = GUHbtShfA_SKN
            Skeleton            = GUHbtShf_SKL
            WeaponLaunchBone    = PRIMARY B_HANDR
            WeaponLaunchBone    = SECONDARY B_HANDR
        End




        AnimationState                    = STUNNED_FLAILING WEAPONSET_TOGGLE_1
            StateName                    = STATE_Bored_Rocks
            Animation                    = FLYA
                AnimationName            = GUHbtShfB_FLYA
                AnimationMode            = LOOP
                AnimationBlendTime        = 0
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            Flags                        = RANDOMSTART
        End
        AnimationState                    = STUNNED_FLAILING
            StateName                    = STATE_Bored_Sword
            Animation                    = FLYA
                AnimationName            = GUHbtShfS_FLYA
                AnimationMode            = LOOP
                AnimationBlendTime        = 0
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            Flags                        = RANDOMSTART
        End

        AnimationState                    = PASSENGER FREEFALL
            Animation
                AnimationName            = GUHbtShfB_FLLA
                AnimationMode            = LOOP
            End
        End

        AnimationState                        = DYING DEATH_2 WEAPONSET_TOGGLE_1
            Animation
                AnimationName                = GUHbtShfB_IDLB
                AnimationMode                = LOOP
            End
        End
        AnimationState                        = DYING DEATH_2
            Animation
                AnimationName                = GUHbtShfS_IDLB
                AnimationMode                = LOOP
            End
        End

        AnimationState                    = DYING BURNINGDEATH
            Animation
                AnimationName            = GUHbtShfB_DIEA
                AnimationMode            = ONCE
                AnimationBlendTime        = 10
            End
            Animation
                AnimationName            = GUHbtShfB_DIEB
                AnimationMode            = ONCE
                AnimationBlendTime        = 10
            End
            Animation
                AnimationName            = GUHbtShfB_DIEC
                AnimationMode            = ONCE
                AnimationBlendTime        = 10
            End
        End

        AnimationState                    = DYING SPLATTED WEAPONSET_TOGGLE_1
            Animation                    = LNDA
                AnimationName            = GUHbtShfB_LNDA
                AnimationMode            = ONCE
            End
        End
        AnimationState                    = DYING SPLATTED
            Animation
                AnimationName            = GUHbtShfS_LNDA
                AnimationMode            = ONCE
            End
        End
        AnimationState                    = DYING WEAPONSET_TOGGLE_1 DEATH_1
            StateName                    = STATE_Bored_Rocks
            Animation                    = DIEA
                AnimationName            = GUHbtShfB_DIEA
                AnimationMode            = ONCE
            End
            Animation                    = DIEA
                AnimationName            = GUHbtShfB_DIEB
                AnimationMode            = ONCE
            End
            Animation                    = DIEA
                AnimationName            = GUHbtShfB_DIEC
                AnimationMode            = ONCE
            End
        End

        AnimationState                    = DYING DEATH_1
            Animation
                AnimationName            = GUHbtShfS_DIEA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfS_DIEB
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfS_DIEC
                AnimationMode            = ONCE
            End
        End

        AnimationState                        = BURNINGDEATH
            Animation
                AnimationName                = GUHbtShfB_MFDA
                AnimationMode                = LOOP
                Distance                    = 80
            End
        End

        AnimationState                        = PARALYZED WEAPONSET_TOGGLE_1
            Animation
                AnimationName                = GUHbtShfB_IDLB
                AnimationMode                = LOOP
            End
        End
        AnimationState                        = PARALYZED
            Animation
                AnimationName                = GUHbtShfS_IDLB
                AnimationMode                = LOOP
            End
        End



        AnimationState                    = STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
            StateName                    = STATE_Ready_Rocks
            Animation                    = GTPA
                AnimationName            = GUHbtShfB_GTPA
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End
        AnimationState                    = STUNNED_STANDING_UP
            StateName                    = STATE_Ready_Sword
            Animation
                AnimationName            = GUHbtShfS_GTPA
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState                    = STUNNED WEAPONSET_TOGGLE_1
            StateName                    = STATE_Bored_Rocks
            Animation                    = LNDA
                AnimationName            = GUHbtShfB_LNDA
                AnimationMode            = ONCE
            End
        End
        AnimationState                    = STUNNED
            StateName                    = STATE_Bored_Sword
            Animation                    = LNDA
                AnimationName            = GUHbtShfS_LNDA
                AnimationMode            = ONCE
            End
        End






        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation
                AnimationName       = GUHbtShfS_RUNC
                AnimationMode       = ONCE
            End
            Animation
                AnimationName       = GUHbtShfS_RUND
                AnimationMode       = ONCE
            End
            Flags               = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState            = MOVING EMOTION_TERROR WEAPONSET_TOGGLE_1
            Animation
                AnimationName            = GUHbtShfB_RUNC
                AnimationMode            = LOOP
            End
        End
        AnimationState            = MOVING EMOTION_TERROR
            Animation
                AnimationName            = GUHbtShfS_RUNE
                AnimationMode            = LOOP
            End
        End


        AnimationState                    = BETWEEN_FIRING_SHOTS_A WEAPONSET_TOGGLE_1
            StateName                    = STATE_Ready_Rocks
            Animation                    = IDLA
                AnimationName            = GUHbtShfB_IDLA
                AnimationMode            = LOOP
                AnimationBlendTime        = 20
            End
            BeginScript
                CurDrawableAllowToContinue()
            EndScript
        End


        AnimationState                    = BETWEEN_FIRING_SHOTS_A
            StateName                    = STATE_Ready_Sword
            Animation                    = IDLB
                AnimationName            = GUHbtShfS_IDLA
                AnimationMode            = LOOP
                AnimationBlendTime        = 10
            End
            BeginScript
                CurDrawableAllowToContinue()
            EndScript
        End



        AnimationState                    = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
            StateName                    = STATE_Ready_Rocks
            Animation                    = THRA
                AnimationName            = GUHbtShfB_ATKA
                AnimationMode            = ONCE
                UseWeaponTiming            = Yes
            End
            FrameForPristineBonePositions = 21
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
            EndScript
        End

        AnimationState                    = FIRING_OR_PREATTACK_A
            StateName                    = STATE_Ready_Sword
            Animation                    = ATKA
                AnimationName            = GUHbtShfS_ATKA
                AnimationMode            = ONCE
                UseWeaponTiming            = Yes
                AnimationBlendTime        = 10
            End
            Animation                    = ATKB
                AnimationName            = GUHbtShfS_ATKB
                AnimationMode            = ONCE
                UseWeaponTiming            = Yes
                AnimationBlendTime        = 10
            End
            Animation                    = ATKB
                AnimationName            = GUHbtShfS_ATKB
                AnimationMode            = ONCE
                UseWeaponTiming            = Yes
                AnimationBlendTime        = 10
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
            EndScript
        End




        AnimationState                    = MOVING WEAPONSET_TOGGLE_1
            StateName                    = STATE_Running_Rocks
            Animation                    = RUNA
                AnimationName            = GUHbtShfB_RUNA
                AnimationMode            = ONCE
            End
            Animation                    = RUNA
                AnimationName            = GUHbtShfB_RUNB
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
            EndScript
        End

        AnimationState                    = MOVING ATTACKING
            StateName                    = STATE_Running_Sword
            Animation                    = RUNA
                AnimationName            = GUHbtShfS_RUNC
                AnimationMode            = ONCE
            End
            Animation                    = RUNA
                AnimationName            = GUHbtShfS_RUND
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
            EndScript
        End

        AnimationState                    = MOVING BACKING_UP WEAPONSET_TOGGLE_1
            StateName                    = STATE_Running_Rocks
            Animation
                AnimationName            = GUHbtShfB_BAKA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfB_BAKB
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                    = MOVING BACKING_UP
            StateName                    = STATE_Running_Sword
            Animation
                AnimationName            = GUHbtShfS_BAKA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfS_BAKB
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                    = MOVING
            StateName                    = STATE_Running_Sword
            Animation                    = RUNA
                AnimationName            = GUHbtShfS_RUNB
                AnimationMode            = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
            EndScript
        End


















        AnimationState                    = EMOTION_POINTING WEAPONSET_TOGGLE_1
            StateName                    = STATE_Ready_Rocks
            Animation                    = IDLA
                AnimationName            = GUHbtShfB_PNTA
                AnimationMode            = ONCE
            End
            Animation                    = IDLA
                AnimationName            = GUHbtShfB_PNTB
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
            EndScript
        End
        AnimationState                    = EMOTION_POINTING
            StateName                    = STATE_Ready_Sword
            Animation
                AnimationName            = GUHbtShfS_PNTA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfS_PNTB
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
            EndScript
        End




        AnimationState                    = EMOTION_TAUNTING WEAPONSET_TOGGLE_1
            StateName                    = STATE_Ready_Rocks
            Animation
                AnimationName            = GUHbtShfB_TNTA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfB_TNTB
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfB_TNTC
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
            EndScript
        End
        AnimationState                    = EMOTION_TAUNTING
            StateName                    = STATE_Ready_Sword
            Animation
                AnimationName            = GUHbtShfS_TNTA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfS_TNTB
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfS_TNTC
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
            EndScript
        End

        AnimationState                    = EMOTION_AFRAID
            Animation
                AnimationName            = GUHbtShfB_FERA
                AnimationMode            = LOOP
            End
        End

        AnimationState                    = EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
            StateName                    = STATE_Ready_Rocks
            Animation
                AnimationName            = GUHbtShfB_CHRA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfB_CHRB
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfB_CHRC
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
            EndScript
        End

        AnimationState                    = EMOTION_CELEBRATING
            StateName                    = STATE_Ready_Sword
            Animation
                AnimationName            = GUHbtShfS_CHRA
                AnimationMode            = ONCE
            End
            Animation
                AnimationName            = GUHbtShfS_CHRB
                AnimationMode            = ONCE
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
            EndScript
        End


        AnimationState                    = RAISING_FLAG WEAPONSET_TOGGLE_1
            StateName                    = STATE_Ready_Rocks
            Animation
                AnimationName            = GUHbtShfB_CHRA
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Animation
                AnimationName            = GUHbtShfB_CHRB
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Animation
                AnimationName            = GUHbtShfB_CHRC
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState                    = SELECTED WEAPONSET_TOGGLE_1
            StateName                    = STATE_Attention_Rocks
            Animation                    = IDLA
                AnimationName            = GUHbtShfB_ATNB
                AnimationMode            = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_BoredToAttention_Rocks") end
            EndScript
        End

        AnimationState                    = RAISING_FLAG
            StateName                    = STATE_Ready_Sword
            Animation
                AnimationName            = GUHbtShfS_CHRA
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Animation
                AnimationName            = GUHbtShfS_CHRB
                AnimationMode            = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
        End

        AnimationState                    = SELECTED
            StateName                    = STATE_Attention_Sword
            Animation                    = IDLA
                AnimationName            = GUHbtShfS_ATNB
                AnimationMode            = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_BoredToAttention_Sword") end
            EndScript
        End


        AnimationState                    = WEAPONSET_TOGGLE_1
            StateName                    = STATE_Bored_Rocks
            Animation
                AnimationName            = GUHbtShfB_IDLA
                AnimationMode            = ONCE
                AnimationPriority        = 10
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_AttentionToBored_Rocks") end
            EndScript
        End

        IdleAnimationState
            StateName                    = STATE_Bored_Sword
            Animation                    = IDLA
                AnimationName            = GUHbtShfB_IDLA
                AnimationMode            = ONCE
                AnimationPriority        = 10
            End
            Flags                        = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
                if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_AttentionToBored_Sword") end
            EndScript
        End




        TransitionState                    = TRANS_RocksToSword
            Animation                    = STHA
                AnimationName            = GUHbtShfB_STHB
                AnimationMode            = ONCE
            End
        End
        TransitionState                    = TRANS_Running_RocksToSword
            Animation                    = STHA
                AnimationName            = GUHbtShfB_STHD
                AnimationMode            = ONCE
            End
        End

        TransitionState                    = TRANS_SwordToRocks
            Animation                    = STHA
                AnimationName            = GUHbtShfB_STHA
                AnimationMode            = ONCE
            End
        End
        TransitionState                    = TRANS_Running_SwordToRocks
            Animation                    = STHA
                AnimationName            = GUHbtShfB_STHC
                AnimationMode            = ONCE
            End
        End
        TransitionState                    = TRANS_BoredToAttention_Rocks
            Animation                    = ATNA
                AnimationName            = GUHbtShfB_ATNA
                AnimationMode            = ONCE
            End
        End
        TransitionState                    = TRANS_AttentionToBored_Rocks
            Animation                    = ATNC
                AnimationName            = GUHbtShfB_ATNC
                AnimationMode            = ONCE
            End
        End

        TransitionState                    = TRANS_BoredToAttention_Sword
            Animation                    = ATNA
                AnimationName            = GUHbtShfS_ATNA
                AnimationMode            = ONCE
            End
        End
        TransitionState                    = TRANS_AttentionToBored_Sword
            Animation                    = ATNC
                AnimationName            = GUHbtShfBS_ATNC
                AnimationMode            = ONCE
            End
        End



    AnimationState = EMOTION_QUARRELSOME
        SimilarRestart = Yes
        StateName = Quarrel
          Animation = Chant
            AnimationName = GUHbtShfB_CHRA
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Animation = Chant1
            AnimationName = GUHbtShfB_CHRB
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Animation = BIG_BLEND_QUARREL
            AnimationName = GUHbtShfS_TNTA
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Flags = RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev ~= "Quarrel"
            then
                return "BIG_BLEND_QUARREL"
            end
        EndScript

    End


    AnimationState = QUARRELSOME_FIGHTING
        StateName = SomeState
        Animation
            AnimationName     = GUHbtShfS_ATKA
            AnimationMode     = ONCE
        End
        Animation
            AnimationName     = GUHbtShfS_ATKB
            AnimationMode     = ONCE
        End
        Flags            = RESTART_ANIM_WHEN_COMPLETE
    End



    AnimationState = QUARRELSOME_FIGHTING WEAPONSET_TOGGLE_1
        StateName = SomeState
        Animation
            AnimationName     = GUHbtShfS_ATKA
            AnimationMode     = ONCE
        End
        Animation
            AnimationName     = GUHbtShfS_ATKB
            AnimationMode     = ONCE
        End
        Flags            = RESTART_ANIM_WHEN_COMPLETE
    End


    AnimationState = EMOTION_QUARRELSOME WEAPONSET_TOGGLE_1
        SimilarRestart = Yes
        StateName = Quarrel
          Animation = Chant
            AnimationName = GUHbtShfB_CHRA
            AnimationMode = ONCE
            AnimationPriority = 3
        End
        Animation = Chant1
            AnimationName = GUHbtShfB_CHRB
            AnimationMode = ONCE
            AnimationPriority = 2
        End
        Animation = BIG_BLEND_QUARREL
            AnimationName = GUHbtShfS_TNTA
            AnimationMode = ONCE
            AnimationPriority = 1
        End
        Flags = RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev ~= "Quarrel"
            then
                return "BIG_BLEND_QUARREL"
            end
        EndScript

    End


    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"


    Side = Isengard
    EditorSorting = UNIT
    ThreatLevel        = 4.0
    ThingClass        = CHARACTER_UNIT
    BuildCost          = 400
    BuildTime          = WEAK_BUILDTIME
    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT




    WeaponSet
        Conditions = None
        Weapon = PRIMARY    HobbitSwordMod
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions = WEAPONSET_TOGGLE_1
        Weapon = PRIMARY    HobbitModRockThrow
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    ArmorSet
        Conditions      = None
        Armor           = EdainLightInfantryArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_HOBBIT
    ShroudClearingRange = SHROUD_CLEAR_STANDARD

    BountyValue = 1
    DisplayName = OBJECT:RohanHobbitSklave
    CrushableLevel = 0

    CommandSet = WildSklavenHordeCommandSet
    CommandPoints = 1




    VoiceAttack                                = HobbitShirriffVoiceAttack
    VoiceAttackCharge                        = HobbitShirriffVoiceAttack
    VoiceAttackMachine                        = HobbitShirriffVoiceAttack
    VoiceAttackStructure                    = HobbitShirriffVoiceAttack
    VoiceGuard                                = HobbitShirriffVoiceMove
    VoiceMove                                = HobbitShirriffVoiceMove
    VoiceMoveToCamp                            = HobbitShirriffVoiceMove
    VoiceMoveWhileAttacking                    = HobbitShirriffVoiceMove
    VoicePriority                            = 35
    VoiceRetreatToCastle                    = HobbitShirriffVoiceRetreat
    VoiceSelect                                = HobbitShirriffVoiceSelectMS
    VoiceSelectBattle                         = HobbitShirriffVoiceSelectBattle










    SoundImpact                                = ImpactHorse

    UnitSpecificSounds
        VoiceCreatedFromInn                    = HobbitShirriffVoiceSaluteInn
        VoiceEnterUnitElvenTransportShip    = HobbitShirriffVoiceMove
        VoiceFullyCreatedFromInn             = HobbitShirriffVoiceSaluteInn
        VoiceGarrison                        = HobbitShirriffVoiceMove
        VoiceInitiateCaptureBuilding        = HobbitShirriffVoiceCaptureBuilding

    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    CrowdResponseKey = Hobbit

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Hobbit Unit Infantry
    End

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:EMOTION_CELEBRATING    Excluded:DYING ENGAGED    Sound:EmotionHobbitVoxCheerLoop
        ModelCondition = Required:EMOTION_POINTING        Excluded:DYING ENGAGED    Sound:EmotionHobbitVoxTauntLoop
        ModelCondition = Required:EMOTION_TAUNTING        Excluded:DYING ENGAGED    Sound:EmotionHobbitVoxTauntLoop
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionHobbitVoxCheerLoop
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:FootstepDirtA             Animation:GUHbtShf_SKL.RUMerry_RUNA Frames:10 20
        AnimationSound = Sound:FootstepDirtA             Animation:GUHbtShf_SKL.RUMerry_RUNC Frames:10 20
        AnimationSound = Sound:FootstepDirtA             Animation:GUHbtShf_SKL.RUMerry_STHC    Frames:10 20
        AnimationSound = Sound:FootstepDirtA            Animation:GUHbtShf_SKL.RUMerry_STHD    Frames:10 20

        AnimationSound = Sound:SwordShingClean2         Animation:GUHbtShf_SKL.RUMerry_STHA    Frames:18
        AnimationSound = Sound:SwordIntoScabbard2        Animation:GUHbtShf_SKL.RUMerry_STHB    Frames:21
        AnimationSound = Sound:SwordIntoScabbard2        Animation:GUHbtShf_SKL.RUMerry_STHC    Frames:2
        AnimationSound = Sound:SwordShingClean2            Animation:GUHbtShf_SKL.RUMerry_STHD    Frames:8

        AnimationSound = Sound:BodyFallGenericNoArmor     Animation:GUHbtShf_SKL.RUMerry_LNDA    Frames:0
        AnimationSound = Sound:BodyFallGenericNoArmor     Animation:GUHbtShf_SKL.RUMerry_DIEA    Frames:44
        AnimationSound = Sound:BodyFallGenericNoArmor     Animation:GUHbtShf_SKL.RUMerry_DIEB    Frames:33

        AnimationSound = Sound:BodyFallGeneric1            Animation:GUHBTSHF_SKL.GUHBTSHF_LNDA    Frames:6
        AnimationSound = Sound:BodyFallGeneric1            Animation:GUHBTSHF_SKL.GUHBTSHF_DIEA    Frames:48
        AnimationSound = Sound:BodyFallGeneric1            Animation:GUHBTSHF_SKL.GUHBTSHF_DIEB    Frames:67
        AnimationSound = Sound:BodyFallGeneric1            Animation:GUHBTSHF_SKL.GUHBTSHF_DIEC    Frames:25
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT HOBBIT HOBBIT ATTACK_NEEDS_LINE_OF_SIGHT

    BuildCost = HOBBIT_BUILDCOST
    BuildTime = WEAK_BUILDTIME

    Body = ActiveBody ModuleTag_02
        CheerRadius = EMOTION_CHEER_RADIUS

        MaxHealth            = 150
        MaxHealthDamaged     = 40
        RecoveryTime         = HOBBIT_HEALTH_RECOVERY_TIME
        BurningDeathBehavior = Yes
        BurningDeathFX       = FX_InfantryBurningFlame
    End

    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = AIUpdateInterface ModuleTag_AIUpdateInterface
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate        = 500
        HoldGroundCloseRangeDistance = 40
        BurningDeathTime            =    BURNINGDEATH_DURATION_INFANTRY
    End

    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = 40
    End

    LocomotorSet
        Locomotor = HumanContainedLocomotor
        Condition = SET_CONTAINED
        Speed     = 0.0
    End

    LocomotorSet
        Locomotor = BurningDeathLocomotorInfantry
        Condition = SET_BURNINGDEATH
        Speed      = BURNINGDEATH_WANDERSPEED_INFANTRY
    End







    Behavior = SpecialPowerModule ModuleTag_TunnelDummy
        SpecialPowerTemplate            = SpecialAbilityTunnelbesetzen
        StartsPaused                    = No
        UpdateModuleStartsAttack        = Yes
    End

    Behavior = ActivateModuleSpecialPower ModuleTag_CloseTheGap
        SpecialPowerTemplate            = SpecialAbilityTunnelbesetzen
        StartAbilityRange               = 30
        TriggerSpecialPower             = ModuleTag_TunnelSpecialPower    TARGETPOS
        TriggerSpecialPower             = ModuleTag_SpecialAbilityTunnel  TARGETPOS
    End

    Behavior                            = OCLSpecialPower ModuleTag_TunnelSpecialPower
        SpecialPowerTemplate            = SpecialAbilityActivateeDummy
        OCL                             = OCL_SklavenTunnelbesetzen
        TriggerFX                       = FX_Tunnelbesetzen
        CreateLocation                  = CREATE_AT_LOCATION
        StartsPaused                    = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_SpecialAbilityTunnel
        SpecialPowerTemplate            = SpecialAbilityActivateeDummy
        AttributeModifier               = SklavenTunnelbesetzenModifier
        AttributeModifierRange          = 55
        TriggerFX                       = FX_Industry
        AttributeModifierAffects        = INDUSTRY_TYPE_SPELL_OBJECT_FILTER
    End




    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
        ShockStandingTime = 1300
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -KNOCKBACK -EXTRA_8 -FADED
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL HobbitShirriffVoiceDie
        DeathFlags = DEATH_1
    End

    Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes = NONE +FADED
        FadeDelay = 0
        FadeTime = 2500
        DestructionDelay = 2500
        DeathFlags = DEATH_2
    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = SlowDeathBehavior ModuleTag_07

        DeathTypes = NONE +KNOCKBACK
        SinkDelay = 3000
        SinkRate = 0.40
        DestructionDelay = 8000
    End




    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End











    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes
    Shadow = SHADOW_DECAL
    ShadowSizeX = 18
    ShadowSizeY = 18
    ShadowTexture = ShadowI
End



Object WildSklaveZwerg


    SelectPortrait     = UPWildSklaven

     EquivalentTo = WildSklaven

    Draw = W3DHordeModelDraw ModuleTag_01
        OkToChangeModelColor = Yes
        StaticModelLODMode = Yes


        LodOptions                            = LOW
            AllowMultipleModels                = ALLOW_MULTIPLE_MODELS_LOW
            MaxRandomTextures                = MAX_RANDOM_TEXTURES_LOW
            MaxRandomAnimations                = MAX_RANDOM_ANIMATIONS_LOW
            MaxAnimFrameDelta                = MAX_ANIM_FRAME_DELTA_LOW
        End

        LodOptions                            = MEDIUM
            AllowMultipleModels                = ALLOW_MULTIPLE_MODELS_MED
            MaxRandomTextures                = MAX_RANDOM_TEXTURES_MED
            MaxRandomAnimations                = MAX_RANDOM_ANIMATIONS_MED
            MaxAnimFrameDelta                = MAX_ANIM_FRAME_DELTA_MED
        End

        LodOptions                            = HIGH
            AllowMultipleModels                = ALLOW_MULTIPLE_MODELS_HIGH
            MaxRandomTextures                = MAX_RANDOM_TEXTURES_HIGH
            MaxRandomAnimations                = MAX_RANDOM_ANIMATIONS_HIGH
            MaxAnimFrameDelta                = MAX_ANIM_FRAME_DELTA_HIGH
        End

        WadingParticleSys = WaterRipplesTrail

        RandomTexture           = wudwarfsklave.tga    0    wudwarfsklave.tga
        RandomTexture           = wudwarfsklave2.tga    0    wudwarfsklave.tga



        DefaultModelConditionState
            Model               = wudwsklave
            Skeleton            = EUDwarfMin_SKL
        End













        AnimationState                        = THROWN_PROJECTILE
            Animation                       = FlyA
                AnimationName                   = EUDwarfMin_FLYA
                AnimationMode               = LOOP
            End
            Flags                           = RANDOMSTART
        End

        AnimationState                        = FREEFALL
            Animation                        = Falling
                AnimationName                = EUDwarfMin_FLYA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End



        AnimationState                        = STUNNED_FLAILING
            Animation                       = FlyA
                AnimationName               = EUDwarfMin_FLYA
                AnimationMode               = LOOP
            End
            Flags                           = RANDOMSTART
        End

        AnimationState                         = DYING SPLATTED DEATH_1
            Animation                         = Splatted_On_Ground
                AnimationName                 = EUDwarfMin_LNDA
                AnimationMode                 = ONCE
            End
            EnteringStateFX                    = FX_OrcHitGround
        End

        AnimationState                        = DYING DEATH_1
            Animation                        = DIEB
                AnimationName                = EUDwarfMin_DIEB
                AnimationMode                = ONCE
            End
            Animation                        = DIEC
                AnimationName                = EUDwarfMin_DIEB
                AnimationMode                = ONCE
            End
        End

        AnimationState                        = DYING DEATH_2
            Animation                        = DIEB
                AnimationName                = EUDwarfMin_IDLA
                AnimationMode                = LOOP
            End
        End



        AnimationState                        = STUNNED_STANDING_UP
            Animation                        = GTPA
                AnimationName                = EUDwarfMin_GTPA
                AnimationMode                = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End



        AnimationState            =     STUNNED
            Animation            =     Slatted_On_Ground
            AnimationName                 = EUDwarfMin_LNDA
                AnimationMode                 = ONCE
            End
            EnteringStateFX                    = FX_OrcHitGround

       End


        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = EUDwarfMin_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End



        AnimationState                        = MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY

            Animation                    = TerrorFromTheSky
                AnimationName            = EUDwarfMin_RUNA
                AnimationMode            = LOOP
            End
            Animation                    = TerrorFromTheSky
                AnimationName            = EUDwarfMin_RUNA
                AnimationMode            = LOOP
            End
            Flags = RANDOMSTART
        End
        AnimationState                        = MOVING EMOTION_TERROR

            Animation                        = TerrorFromTheSky
                AnimationName                = EUDwarfMin_RUNA
                AnimationMode                = ONCE
            End
            Animation                        = TerrorFromTheSky
                AnimationName                = EUDwarfMin_RUNA
                AnimationMode                = ONCE
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState                        = MOVING BACKING_UP

            Animation                        = BAKA
                AnimationName                = EUDwarfMin_BAKA
                AnimationMode                = LOOP
            End
            Flags = RANDOMSTART
        End

        AnimationState                        = MOVING ATTACKING
            ShareAnimation                    = Yes
            Animation                        = RUNA
                AnimationName                = EUDwarfMin_RUNA
                AnimationMode                = LOOP
                Distance                    = 25
            End
            Flags                            = RANDOMSTART

        End

        AnimationState                        = MOVING CHARGING
            ShareAnimation                    = Yes
            Animation                        = RUNB
                AnimationName                = EUDwarfMin_RUNA
                AnimationMode                = LOOP
                Distance                    = 30

            End
            Flags                            = RANDOMSTART

        End

        AnimationState                        = MOVING

            ShareAnimation                    = Yes
            Animation                        = RUNB
                AnimationName                = EUDwarfMin_RUNA
                AnimationMode                = LOOP
                Distance                    = 30
            End
            Flags                            = RANDOMSTART

        End


        AnimationState                        = EMOTION_UNCONTROLLABLY_AFRAID
            Animation                        = FERA
                AnimationName                = EUDwarfMin_FERA
                AnimationMode                = LOOP
            End
        End

        AnimationState                        = FIRING_OR_PREATTACK_A
            Animation                        = ATK1
                AnimationName                = EUDwarfMin_ATKA
                AnimationMode                = ONCE
                UseWeaponTiming                = Yes
            End

        End

        AnimationState                        = ATTACKING
            Animation                        = ALERT_1
                AnimationName                = EUDwarfMin_IDLA
                AnimationMode                = LOOP
            End
        End






        AnimationState                        = EMOTION_ALERT EMOTION_AFRAID
            Animation                        = FERA
                AnimationName                = EUDwarfMin_FERA
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState                        = EMOTION_AFRAID
            Animation                        = FERA
                AnimationName                = EUDwarfMin_FERA
                AnimationMode                = LOOP
            End
        End



        AnimationState                        = EMOTION_POINTING
            Animation                        = Pointing1
                AnimationName                = EUDwarfMin_PNTA
                AnimationMode                = LOOP
            End
        End



        AnimationState                        = EMOTION_TAUNTING
            Animation                        = Taunting1
                AnimationName                = EUDwarfMin_PNTA
                AnimationMode                = ONCE
            End
            Flags                            = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End





















        AnimationState                        = EMOTION_ALERT
            Animation                        = ALERT_1
                AnimationName                = EUDwarfMin_IDLA
                AnimationMode                = LOOP
                AnimationPriority            = 10
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState        = SELECTED
            StateName           = STATE_Selected
            Animation           = ATNB
                AnimationName     = EUDwarfMin_ATNB
                AnimationMode     = LOOP
            End

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle"
                then
                    CurDrawableSetTransitionAnimState("TRANS_IdleToSelected")
                end
                if CurDrawableModelcondition("ATTACKING")
                then
                    return "IDLA"
                else
                    return "ATNA"
                end
            EndScript

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
            EndScript
        End


        AnimationState                = WEAPONSET_PLAYER_UPGRADE
            StateName                = STATE_Idle
            Animation                = IDLB
                AnimationName       = EUDwarfMin_IDLB
                AnimationMode       = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Animation                = IDLC
                AnimationName       = EUDwarfMin_IDLC
                AnimationMode       = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Animation                = IDLD
                AnimationName       = EUDwarfMin_IDLD
                AnimationMode       = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
            EndScript
        End
        AnimationState                = USER_3
            StateName                = STATE_User_3
            Animation                = GUARD_STANCE
                AnimationName        = GUManMocap_IDLA
                AnimationMode        = LOOP
            End
        End
        IdleAnimationState


            StateName                = STATE_Idle
            Animation                = IDLA
                AnimationName       = EUDwarfMin_IDLA
                AnimationMode       = ONCE
                AnimationPriority   = 20
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLB
                AnimationName       = EUDwarfMin_IDLB
                AnimationMode       = ONCE
                AnimationPriority   = 10
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLC
                AnimationName       = EUDwarfMin_IDLC
                AnimationMode       = ONCE
                AnimationPriority   = 5
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLD
                AnimationName       = EUDwarfMin_IDLD
                AnimationMode       = ONCE
                AnimationPriority   = 7
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
            EndScript
        End

        TransitionState       = TRANS_IdleToSelected
            Animation           = ATNA
                AnimationName     = EUDwarfMin_ATNA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.9 1.0

            End
        End
        TransitionState        = TRANS_SelectedToIdle
            Animation            = ATNC
                AnimationName    = EUDwarfMin_ATNC
                AnimationMode    = ONCE
                AnimationSpeedFactorRange = 0.9 1.0
            End
        End


    AnimationState = EMOTION_QUARRELSOME
        SimilarRestart = Yes
        StateName = Quarrel
          Animation = Chant
            AnimationName = EUDwarfMin_IDLA
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Animation = Chant1
            AnimationName = EUDwarfMin_IDLB
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Animation = BIG_BLEND_QUARREL
            AnimationName = EUDwarfMin_IDLC
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Flags = RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev ~= "Quarrel"
            then
                return "BIG_BLEND_QUARREL"
            end
        EndScript

    End


    AnimationState = QUARRELSOME_FIGHTING
        StateName = SomeState
            Animation                        = ATK1
                AnimationName                = EUDwarfMin_ATKA
                AnimationMode                = ONCE
            End
        Flags            = RESTART_ANIM_WHEN_COMPLETE
    End


    End



    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End


    #include "..\..\..\includes\StunDrawModuleSmall.inc"


    Side            = Isengard
    EditorSorting        = UNIT
    ThreatLevel        = 1.0
    Scale             = 0.88
    ThingClass        = HORDE_UNIT
    CommandPoints        = 1
    BountyValue        = DWARVEN_GUARDIAN_BOUNTY_VALUE



    TransportSlotCount     = TRANSPORTSLOTCOUNT_UNIT


    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    DwarvenSlaveAxeEdain
        AutoChooseSources    = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End



    ArmorSet
        Conditions      = None
        Armor           = EdainInfantryArmor
        DamageFX        = NormalDamageFX
    End
    ArmorSet
        Conditions      = PLAYER_UPGRADE
        Armor           = EdainInfantryArmor

    End

    VisionRange = DWARVEN_GUARDIAN_VISION_RANGE
    VisionSide = 35%
    VisionRear = 25%
    VisionBonusPercentPerFoot = 2.0%
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    ShroudClearingRange = SHROUD_CLEAR_STANDARD

    DisplayName                    = OBJECT:DwarvenSklave
    CrushableLevel                = 0
    CrusherLevel                = 0

    CrushRevengeWeapon            = BasicInfantryCrushRevenge

    CommandSet = WildSklavenHordeCommandSet





    VoiceAttack                                = DwarfGuardianVoiceAttack
    VoiceAttackCharge                        = DwarfGuardianVoiceAttackCharge
    VoiceAttackMachine                        = DwarfGuardianVoiceAttack
    VoiceAttackStructure                    = DwarfGuardianVoiceAttackBuilding
    VoiceGuard                                = DwarfGuardianVoiceMove
    VoiceMove                                = DwarfGuardianVoiceMove
    VoiceMoveToCamp                            = DwarfGuardianVoiceMoveCamp
    VoiceMoveWhileAttacking                    = DwarfGuardianVoiceDisengage
    VoicePriority                            = 47
    VoiceRetreatToCastle                    = DwarfGuardianVoiceRetreat
    VoiceSelect                                = DwarfGuardianVoiceSelectMS
    VoiceSelectBattle                         = DwarfGuardianVoiceSelectBattle

    VoiceEnterStateAttack                    = DwarfGuardianVoiceEnterStateAttack
    VoiceEnterStateAttackCharge                = DwarfGuardianVoiceEnterStateAttackCharge
    VoiceEnterStateAttackMachine            = DwarfGuardianVoiceEnterStateAttackBuilding
    VoiceEnterStateAttackStructure            = DwarfGuardianVoiceEnterStateAttackBuilding
    VoiceEnterStateMove                        = DwarfGuardianVoiceEnterStateMove
    VoiceEnterStateMoveToCamp                = DwarfGuardianVoiceEnterStateMoveCamp
    VoiceEnterStateMoveWhileAttacking        = DwarfGuardianVoiceEnterStateDisengage
    VoiceEnterStateRetreatToCastle            = DwarfGuardianVoiceEnterStateRetreat

    SoundImpact                                = ImpactHorse

    UnitSpecificSounds
        VoiceGarrison                        = DwarfGuardianVoiceMoveGarrison
        VoiceEnterUnitElvenTransportShip    = DwarfGuardianVoiceMoveShip
        VoiceInitiateCaptureBuilding        = DwarfGuardianVoiceCaptureBuilding

    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    CrowdResponseKey = Dwarf

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Dwarf Dwarf_Male Dwarf_Guardian
    End

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:EMOTION_CELEBRATING    Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxCheerSinglesLoop
        ModelCondition = Required:EMOTION_POINTING        Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxTauntSinglesLoop
        ModelCondition = Required:EMOTION_TAUNTING        Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxTauntSinglesLoop
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxTauntSinglesLoop
    End


    ClientBehavior = UpgradeSoundSelectorClientBehavior ModuleTag_UpgradeSoundSelector
        SoundUpgrade        = Upgrade_DwarvenSiegeHammer

            VoiceAttack        = DwarfGuardianVoiceAttackHammer
            VoiceAttack        = DwarfGuardianVoiceEnterStateAttackHammer
        End
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800

        AnimationSound = Sound:BodyFallOrc            Animation:EUDWARFGUA_SKL.EUDWARFGUA_LNDA    Frames:4

        AnimationSound = Sound:BodyFallGeneric2        Animation:EUDWARFGUA_SKL.EUDWARFGUA_DIEA    Frames:45

        AnimationSound = Sound:BodyFallGeneric2        Animation:EUDWARFGUA_SKL.EUDWARFGUA_DIEB    Frames:28
        AnimationSound = Sound:BodyFallGeneric2        Animation:EUDWARFGUA_SKL.EUDWARFGUA_DIEC    Frames:45
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK GRAB_AND_DROP

    Body = ActiveBody ModuleTag_02
        CheerRadius          = EMOTION_CHEER_RADIUS
        MaxHealth            = 250
        MaxHealthDamaged     = 125
        BurningDeathBehavior = Yes
        BurningDeathFX       = FX_InfantryBurningFlame
    End


    Behavior = SubObjectsUpgrade ModuleTag_Making
        TriggeredBy       = Upgrade_AllFactionUpgrade
        HideSubObjects    = HAMMER1
    End


    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    =    Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =    500
        AILuaEventsList                =    DwarvenGuardianFunctions
        MinCowerTime                =    3000
        MaxCowerTime                =    5000
        AttackPriority                =     AttackPriority_Cavalry
        BurningDeathTime            =    BURNINGDEATH_DURATION_INFANTRY
    End

    LocomotorSet
        Locomotor = HumanSpecialChargeLocomotor
        Condition = SET_NORMAL
        Speed     = 40
    End

    LocomotorSet
        Locomotor = BurningDeathLocomotorInfantry
        Condition = SET_BURNINGDEATH
        Speed     = 40
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult                = 1.0
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 666
    End

    Behavior = AttributeModifierUpgrade ModuleTag_AMU
        TriggeredBy            = Upgrade_GondorFighterFearless
        AttributeModifier    = FearlessForever
    End







    Behavior = SpecialPowerModule ModuleTag_TunnelDummy
        SpecialPowerTemplate            = SpecialAbilityTunnelbesetzen
        StartsPaused                    = No
        UpdateModuleStartsAttack        = Yes
    End

    Behavior = ActivateModuleSpecialPower ModuleTag_CloseTheGap
        SpecialPowerTemplate            = SpecialAbilityTunnelbesetzen
        StartAbilityRange               = 30
        TriggerSpecialPower             = ModuleTag_TunnelSpecialPower    TARGETPOS
        TriggerSpecialPower             = ModuleTag_SpecialAbilityTunnel  TARGETPOS
    End

    Behavior                            = OCLSpecialPower ModuleTag_TunnelSpecialPower
        SpecialPowerTemplate            = SpecialAbilityActivateeDummy
        OCL                             = OCL_SklavenTunnelbesetzen
        TriggerFX                       = FX_Tunnelbesetzen
        CreateLocation                  = CREATE_AT_LOCATION
        StartsPaused                    = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_SpecialAbilityTunnel
        SpecialPowerTemplate            = SpecialAbilityActivateeDummy
        AttributeModifier               = SklavenTunnelbesetzenModifier
        AttributeModifierRange          = 55
        TriggerFX                       = FX_Industry
        AttributeModifierAffects        = INDUSTRY_TYPE_SPELL_OBJECT_FILTER
    End



    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End













    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes            = ALL -KNOCKBACK -FADED -EXTRA_8
        SinkDelay            = 3000
        SinkRate            = 0.90
        DestructionDelay    = 15000
        Sound                = INITIAL DwarfGenericVoiceDie
        DeathFlags            = DEATH_1
    End

    Behavior = SlowDeathBehavior ModuleTag_07

        DeathTypes            = NONE +KNOCKBACK
        SinkDelay            = 3000
        SinkRate            = 0.60
        DestructionDelay    = 10000
    End

    Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes            = NONE +FADED
        FadeDelay            = 0
        FadeTime            = 2500
        DestructionDelay    = 2500
        DeathFlags            = DEATH_2

    End



    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End


    Geometry            = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight        = 19.2
    GeometryIsSmall        = No

    Shadow            = SHADOW_DECAL
    ShadowSizeX            = 19
    ShadowSizeY            = 19
    ShadowTexture        = ShadowI
End




Object WildSklaveBauer1


    SelectPortrait    = UPWildSklaven

     EquivalentTo = WildSklaven

    Draw = W3DScriptedModelDraw ModuleTag_01

        StaticModelLODMode = Yes

          OkToChangeModelColor = Yes


        DefaultModelConditionState
            Model               = wusklave_ska
            Model               = wusklave_skb  ExtraMesh:Yes
            Model               = wusklave_skc  ExtraMesh:Yes
            Model               = wusklave_skd  ExtraMesh:Yes
            Skeleton            = RUPsnt_1_SKL
        End





        AnimationState                        = PASSENGER
            Animation                        = FLLA
                AnimationName                = RUPsnt_1_FLLA
                AnimationMode                = LOOP
            End
        End

        AnimationState        = THROWN_PROJECTILE
            Animation           = FLYA
                AnimationName     = RUPsnt_1_FLYA
                AnimationMode     = LOOP
            End
        End

        AnimationState                        = FREEFALL
            Animation                        = FLYA
                AnimationName                = RUPsnt_1_FLYA
                AnimationMode                = LOOP
                AnimationSpeedFactorRange    = 0.7    0.7
                AnimationBlendTime            = 10
            End
        End

        AnimationState        = STUNNED_FLAILING
            Animation           = FLYA
                AnimationName     = RUPsnt_1_FLYA
                AnimationMode      = LOOP
            End
            Flags               = RANDOMSTART
        End

        AnimationState                        = DYING SPLATTED DEATH_1
            Animation                        = LNDA
                AnimationName                = RUPsnt_1_LNDA
                AnimationMode                = ONCE
            End
        End

        AnimationState        = DYING DEATH_1
            Animation           = DIEA
                AnimationName     = RUPsnt_1_DIEA
                AnimationMode     = ONCE
            End
            Animation           = DIEB
                AnimationName     = RUPsnt_1_DIEB
                AnimationMode     = ONCE
            End
        End

        AnimationState        = DYING DEATH_2
            Animation           = DIEA
                AnimationName     = RUPsnt_1_IDLA
                AnimationMode     = LOOP
            End
        End


        AnimationState          = DYING DEATH_5
            Animation           = DIEA
                AnimationName     = RUPsnt_1_DIEA
                AnimationMode     = ONCE
            End
            Animation           = DIEB
                AnimationName     = RUPsnt_1_DIEB
                AnimationMode     = ONCE
            End
            EnteringStateFX                  = FX_UndeadModule
        End


        AnimationState        = STUNNED_STANDING_UP
            Animation           = GTPA
                AnimationName     = RUPsnt_1_GTPA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End





        End

        AnimationState        = STUNNED
            Animation           = LNDA
                AnimationName     = RUPsnt_1_LNDA
                AnimationMode     = ONCE
            End
        End

        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = RUPsnt_1_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End




        AnimationState                =    FIRING_OR_PREATTACK_A
            Animation
                AnimationName        =    RUPsnt_1_ATKA
                AnimationMode        =    LOOP

            End
            Animation
                AnimationName        =    RUPsnt_1_ATKB
                AnimationMode        =    LOOP

            End
        End




        AnimationState                = MOVING BACKING_UP
            Animation                = BAKA
                AnimationName        = RUPsnt_1_BAKA
                AnimationMode        = LOOP
            End








        End











        AnimationState                = MOVING WANDER
            Animation                = WLKA
                AnimationName        = RUPsnt_1_WLKA
                AnimationMode        = LOOP
            End






        End

        AnimationState                = MOVING
            Animation                = RUNA
                AnimationName        = RUPsnt_1_RUNA
                AnimationMode        = LOOP

            End
            Animation                = RUNC
                AnimationName        = RUPsnt_1_RUNC
                AnimationMode        = LOOP

            End
            Flags                    = RANDOMSTART
            ParticleSysBone            = None InfantryDustTrails
        End


        AnimationState = ACTIVELY_CONSTRUCTING DEPLOYED
            Animation                =    Stand
                AnimationName        =    RUPsnt_1_IDLA
                AnimationMode        =    LOOP
            End
        End


        AnimationState                = ACTIVELY_CONSTRUCTING
            Animation                = WRKA
                AnimationName        = RUPsnt_1_WRKA
                AnimationMode        = ONCE
            End
            Animation                = WRKD
                AnimationName        = RUPsnt_1_WRKD
                AnimationMode        = ONCE
            End
            Flags                    = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState = HIT_REACTION
            Animation = Hit_Level_1_a
                AnimationName = RUPsnt_1_HITA
                AnimationMode = ONCE
            End
        End







        AnimationState                = EMOTION_POINTING
            Animation                = Pointing1
                AnimationName        = RUPsnt_1_PNTA
                AnimationMode        = LOOP
                AnimationSpeedFactorRange = 0.75 1.25
            End
        End


        AnimationState                = EMOTION_AFRAID
            Animation                = &&FEAR&&
                AnimationName        = RUPsnt_1_FERA
                AnimationMode        = LOOP
            End
        End

        AnimationState                = EMOTION_TAUNTING
            Animation                = TNTA
                AnimationName        = RUPsnt_1_TNTA
                AnimationMode        = ONCE
            End
            Animation                = TNTB
                AnimationName        = RUPsnt_1_TNTB
                AnimationMode        = ONCE
            End
            Flags                    = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End


            AnimationState                = EMOTION_CELEBRATING
                Animation                = CHRA
                    AnimationName        = RUPsnt_1_CHRA
                    AnimationMode        = ONCE
                End
                Animation                = CHRB
                    AnimationName        = RUPsnt_1_CHRB
                    AnimationMode        = ONCE
                End
                Flags                    = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
            End

            AnimationState                = EMOTION_ALERT
                StateName                = STATE_Alert
                Animation                = &&ALERT&&
                    AnimationName        = RUPsnt_1_IDLA
                    AnimationMode        = LOOP
                End
            End



        AnimationState                =    SELECTED
            StateName                =    STATE_Selected
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =    RUPsnt_1_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
            EndScript
        End


        IdleAnimationState
            StateName            =    STATE_Idle
            Animation           = IDLA
                AnimationName     = RUPsnt_1_IDLA
                AnimationMode     = ONCE
                AnimationPriority = 20
            End

            Animation           = IDLC
                AnimationName     = RUPsnt_1_IDLC
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            Animation           = IDLD
                AnimationName     = RUPsnt_1_IDLD
                AnimationMode     = ONCE
                AnimationPriority = 2
            End

            Animation           = IDLE
                AnimationName     = RUPsnt_1_IDLE
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            Animation           = IDLF
                AnimationName     = RUPsnt_1_IDLF
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            Animation           = IDLG
                AnimationName     = RUPsnt_1_IDLG
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
            EndScript
        End



        TransitionState       = TRANS_SelectedToIdle
            Animation           = ATNC
                AnimationName     = RUPsnt_1_ATNC
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.7 1.2
            End
        End

        TransitionState                =    TRANS_IdleToSelected
            Animation                =    ATNA
                AnimationName        =    RUPsnt_1_ATNA
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.7 1.2
            End
        End


    AnimationState = EMOTION_QUARRELSOME
        SimilarRestart = Yes
        StateName = Quarrel
          Animation = Chant
            AnimationName = RUPsnt_1_CHRA
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Animation = Chant1
            AnimationName = RUPsnt_1_CHRB
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Animation = BIG_BLEND_QUARREL
            AnimationName = RUPsnt_1_TNTA
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Animation = BIG_BLEND_QUARREL
            AnimationName = RUPsnt_1_TNTB
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Flags = RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev ~= "Quarrel"
            then
                return "BIG_BLEND_QUARREL"
            end
        EndScript

    End


    AnimationState = QUARRELSOME_FIGHTING
        StateName = SomeState
            Animation
                AnimationName        =    RUPsnt_1_ATKA
                AnimationMode        =    LOOP
            End
        Flags            = RESTART_ANIM_WHEN_COMPLETE
    End


    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"


    Side = Isengard
    EditorSorting = UNIT
    ThreatLevel = 1.0
    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

    CommandPoints = 1

    CommandSet = WildSklavenHordeCommandSet

    BountyValue = 1


    WeaponSet
        Conditions          = None
        Weapon              = PRIMARY        RohanBauernSword
    End



    ArmorSet
        Conditions      = None
        Armor           = EdainLightInfantryArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_STANDARD_MELEE
    ShroudClearingRange = SHROUD_CLEAR_STANDARD

    DisplayName = OBJECT:RohanPeasantSklave
    CrushableLevel = 0
    CrushRevengeWeapon = BasicInfantryCrushRevenge




    VoiceAttack                 = PeasantMaleVoiceAttack
    VoiceAttackCharge             = PeasantMaleVoiceAttackCharge
    VoiceAttackStructure             = PeasantMaleVoiceAttackBuilding
    VoiceAttackMachine             = PeasantMaleVoiceAttack
    VoiceGuard                    = PeasantMaleVoiceMove
    VoiceMove                     = PeasantMaleVoiceMove
    VoiceMoveToCamp                 = PeasantMaleVoiceMoveCamp
    VoiceMoveWhileAttacking         = PeasantMaleVoiceDisengage
    VoicePriority                = 30
    VoiceRetreatToCastle             = PeasantMaleVoiceRetreat
    VoiceSelect                 = PeasantMaleVoiceSelectMS
    VoiceSelectBattle              = PeasantMaleVoiceSelectBattle

    VoiceEnterStateAttack             = PeasantMaleVoiceEnterStateAttack
    VoiceEnterStateAttackCharge         = PeasantMaleVoiceEnterStateAttackCharge
    VoiceEnterStateAttackStructure     = PeasantMaleVoiceEnterStateAttackBuilding
    VoiceEnterStateAttackMachine         = PeasantMaleVoiceEnterStateAttackBuilding
    VoiceEnterStateMove             = PeasantMaleVoiceEnterStateMove
    VoiceEnterStateMoveToCamp         = PeasantMaleVoiceEnterStateMoveCamp
    VoiceEnterStateMoveWhileAttacking     = PeasantMaleVoiceEnterStateDisengage
    VoiceEnterStateRetreatToCastle    = PeasantMaleVoiceEnterStateRetreat

    SoundImpact                    = ImpactHorse

    UnitSpecificSounds
        VoiceGarrison            = PeasantMaleVoiceGarrison
    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"


    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallGeneric1        Animation:RUPsnt_1_SKL.RUPsnt_1_DIEA    Frames:45
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:RUPsnt_1_SKL.RUPsnt_1_DIEB    Frames:44
        AnimationSound = Sound:BodyFallGeneric1        Animation:RUPsnt_1_SKL.RUPsnt_1_LNDA    Frames:4
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP


    Body = ActiveBody ModuleTag_02
        CheerRadius       = EMOTION_CHEER_RADIUS
        MaxHealth         = 130
        MaxHealthDamaged  = 50

    End

    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = WorkerAIUpdate ModuleTag_10
        AutoAcquireEnemiesWhenIdle        = Yes ATTACK_BUILDINGS
        AILuaEventsList                    = StandardPeasantFunctions
        AttackPriority                =     AttackPriority_Infantry
    End



    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor = HumanWanderLocomotor
        Condition = SET_WANDER
        Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -FADED -EXTRA_8
        SinkDelay = 3000
        SinkRate = 1.0
        DestructionDelay = 8000
            Sound = INITIAL PeasantMaleVoiceDie
        DeathFlags = DEATH_1
    End

      Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes = NONE +FADED
        FadeDelay = 0
        FadeTime = 2500
        DestructionDelay = 2500
        DeathFlags = DEATH_2
    End


    Behavior = SubObjectsUpgrade ModuleTag_Making
        TriggeredBy       = Upgrade_AllFactionUpgrade
        HideSubObjects    = LANCE
    End






    Behavior = SpecialPowerModule ModuleTag_TunnelDummy
        SpecialPowerTemplate            = SpecialAbilityTunnelbesetzen
        StartsPaused                    = No
        UpdateModuleStartsAttack        = Yes
    End

    Behavior = ActivateModuleSpecialPower ModuleTag_CloseTheGap
        SpecialPowerTemplate            = SpecialAbilityTunnelbesetzen
        StartAbilityRange               = 30
        TriggerSpecialPower             = ModuleTag_TunnelSpecialPower    TARGETPOS
        TriggerSpecialPower             = ModuleTag_SpecialAbilityTunnel  TARGETPOS
    End

    Behavior                            = OCLSpecialPower ModuleTag_TunnelSpecialPower
        SpecialPowerTemplate            = SpecialAbilityActivateeDummy
        OCL                             = OCL_SklavenTunnelbesetzen
        TriggerFX                       = FX_Tunnelbesetzen
        CreateLocation                  = CREATE_AT_LOCATION
        StartsPaused                    = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_SpecialAbilityTunnel
        SpecialPowerTemplate            = SpecialAbilityActivateeDummy
        AttributeModifier               = SklavenTunnelbesetzenModifier
        AttributeModifierRange          = 55
        TriggerFX                       = FX_Industry
        AttributeModifierAffects        = INDUSTRY_TYPE_SPELL_OBJECT_FILTER
    End



    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End



    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End


    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 2333
        HitReactionLifeTimer2 = 2333
        HitReactionLifeTimer3 = 2333

        HitReactionThreshold1 = 5.0
        HitReactionThreshold2 = 25.0
        HitReactionThreshold3 = 50.0

        FastHitsResetReaction = Yes
    End


    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Human Unit Peasant Peasant_Male
    End

    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 19
  ShadowSizeY = 19
  ShadowTexture = ShadowI

End



Object WildSklaveBauer2


    SelectPortrait    = UPWildSklaven

     EquivalentTo = WildSklaven

    Draw = W3DScriptedModelDraw ModuleTag_01

        StaticModelLODMode = Yes

          OkToChangeModelColor = Yes


        DefaultModelConditionState
            Model               = wusklave_ska
            Model               = wusklave_skb  ExtraMesh:Yes
            Model               = wusklave_skc  ExtraMesh:Yes
            Model               = wusklave_skd  ExtraMesh:Yes
            Skeleton            = RUPsnt_1_SKL
        End





        AnimationState                        = PASSENGER
            Animation                        = FLLA
                AnimationName                = RUPsnt_1_FLLA
                AnimationMode                = LOOP
            End
        End

        AnimationState        = THROWN_PROJECTILE
            Animation           = FLYA
                AnimationName     = RUPsnt_1_FLYA
                AnimationMode     = LOOP
            End
        End

        AnimationState                        = FREEFALL
            Animation                        = FLYA
                AnimationName                = RUPsnt_1_FLYA
                AnimationMode                = LOOP
                AnimationSpeedFactorRange    = 0.7    0.7
                AnimationBlendTime            = 10
            End
        End

        AnimationState        = STUNNED_FLAILING
            Animation           = FLYA
                AnimationName     = RUPsnt_1_FLYA
                AnimationMode      = LOOP
            End
            Flags               = RANDOMSTART
        End

        AnimationState                        = DYING SPLATTED DEATH_1
            Animation                        = LNDA
                AnimationName                = RUPsnt_1_LNDA
                AnimationMode                = ONCE
            End
        End

        AnimationState        = DYING DEATH_1
            Animation           = DIEA
                AnimationName     = RUPsnt_1_DIEA
                AnimationMode     = ONCE
            End
            Animation           = DIEB
                AnimationName     = RUPsnt_1_DIEB
                AnimationMode     = ONCE
            End
        End

        AnimationState        = DYING DEATH_2
            Animation           = DIEA
                AnimationName     = RUPsnt_1_IDLA
                AnimationMode     = LOOP
            End
        End


        AnimationState          = DYING DEATH_5
            Animation           = DIEA
                AnimationName     = RUPsnt_1_DIEA
                AnimationMode     = ONCE
            End
            Animation           = DIEB
                AnimationName     = RUPsnt_1_DIEB
                AnimationMode     = ONCE
            End
            EnteringStateFX                  = FX_UndeadModule
        End


        AnimationState        = STUNNED_STANDING_UP
            Animation           = GTPA
                AnimationName     = RUPsnt_1_GTPA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End





        End

        AnimationState        = STUNNED
            Animation           = LNDA
                AnimationName     = RUPsnt_1_LNDA
                AnimationMode     = ONCE
            End
        End

        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = RUPsnt_1_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End




        AnimationState                =    FIRING_OR_PREATTACK_A
            Animation
                AnimationName        =    RUPsnt_1_ATKA
                AnimationMode        =    LOOP

            End
            Animation
                AnimationName        =    RUPsnt_1_ATKB
                AnimationMode        =    LOOP

            End
        End




        AnimationState                = MOVING BACKING_UP
            Animation                = BAKA
                AnimationName        = RUPsnt_1_BAKA
                AnimationMode        = LOOP
            End








        End











        AnimationState                = MOVING WANDER
            Animation                = WLKA
                AnimationName        = RUPsnt_1_WLKA
                AnimationMode        = LOOP
            End






        End

        AnimationState                = MOVING
            Animation                = RUNA
                AnimationName        = RUPsnt_1_RUNA
                AnimationMode        = LOOP

            End
            Animation                = RUNC
                AnimationName        = RUPsnt_1_RUNC
                AnimationMode        = LOOP

            End
            Flags                    = RANDOMSTART
            ParticleSysBone            = None InfantryDustTrails
        End


        AnimationState = ACTIVELY_CONSTRUCTING DEPLOYED
            Animation                =    Stand
                AnimationName        =    RUPsnt_1_IDLA
                AnimationMode        =    LOOP
            End
        End


        AnimationState                = ACTIVELY_CONSTRUCTING
            Animation                = WRKA
                AnimationName        = RUPsnt_1_WRKA
                AnimationMode        = ONCE
            End
            Animation                = WRKD
                AnimationName        = RUPsnt_1_WRKD
                AnimationMode        = ONCE
            End
            Flags                    = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState = HIT_REACTION
            Animation = Hit_Level_1_a
                AnimationName = RUPsnt_1_HITA
                AnimationMode = ONCE
            End
        End







        AnimationState                = EMOTION_POINTING
            Animation                = Pointing1
                AnimationName        = RUPsnt_1_PNTA
                AnimationMode        = LOOP
                AnimationSpeedFactorRange = 0.75 1.25
            End
        End


        AnimationState                = EMOTION_AFRAID
            Animation                = &&FEAR&&
                AnimationName        = RUPsnt_1_FERA
                AnimationMode        = LOOP
            End
        End

        AnimationState                = EMOTION_TAUNTING
            Animation                = TNTA
                AnimationName        = RUPsnt_1_TNTA
                AnimationMode        = ONCE
            End
            Animation                = TNTB
                AnimationName        = RUPsnt_1_TNTB
                AnimationMode        = ONCE
            End
            Flags                    = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End


            AnimationState                = EMOTION_CELEBRATING
                Animation                = CHRA
                    AnimationName        = RUPsnt_1_CHRA
                    AnimationMode        = ONCE
                End
                Animation                = CHRB
                    AnimationName        = RUPsnt_1_CHRB
                    AnimationMode        = ONCE
                End
                Flags                    = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
            End

            AnimationState                = EMOTION_ALERT
                StateName                = STATE_Alert
                Animation                = &&ALERT&&
                    AnimationName        = RUPsnt_1_IDLA
                    AnimationMode        = LOOP
                End
            End



        AnimationState                =    SELECTED
            StateName                =    STATE_Selected
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =    RUPsnt_1_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
            EndScript
        End


        IdleAnimationState
            StateName            =    STATE_Idle
            Animation           = IDLA
                AnimationName     = RUPsnt_1_IDLA
                AnimationMode     = ONCE
                AnimationPriority = 20
            End

            Animation           = IDLC
                AnimationName     = RUPsnt_1_IDLC
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            Animation           = IDLD
                AnimationName     = RUPsnt_1_IDLD
                AnimationMode     = ONCE
                AnimationPriority = 2
            End

            Animation           = IDLE
                AnimationName     = RUPsnt_1_IDLE
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            Animation           = IDLF
                AnimationName     = RUPsnt_1_IDLF
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            Animation           = IDLG
                AnimationName     = RUPsnt_1_IDLG
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
            EndScript
        End



        TransitionState       = TRANS_SelectedToIdle
            Animation           = ATNC
                AnimationName     = RUPsnt_1_ATNC
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.7 1.2
            End
        End

        TransitionState                =    TRANS_IdleToSelected
            Animation                =    ATNA
                AnimationName        =    RUPsnt_1_ATNA
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.7 1.2
            End
        End


    AnimationState = EMOTION_QUARRELSOME
        SimilarRestart = Yes
        StateName = Quarrel
          Animation = Chant
            AnimationName = RUPsnt_1_CHRA
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Animation = Chant1
            AnimationName = RUPsnt_1_CHRB
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Animation = BIG_BLEND_QUARREL
            AnimationName = RUPsnt_1_TNTA
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Animation = BIG_BLEND_QUARREL
            AnimationName = RUPsnt_1_TNTB
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Flags = RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev ~= "Quarrel"
            then
                return "BIG_BLEND_QUARREL"
            end
        EndScript

    End


    AnimationState = QUARRELSOME_FIGHTING
        StateName = SomeState
            Animation
                AnimationName        =    RUPsnt_1_ATKA
                AnimationMode        =    LOOP
            End
        Flags            = RESTART_ANIM_WHEN_COMPLETE
    End


    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"


    Side = Isengard
    EditorSorting = UNIT
    ThreatLevel = 1.0
    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

    CommandPoints = 1

    CommandSet = WildSklavenHordeCommandSet

    BountyValue = 1


    WeaponSet
        Conditions          = None
        Weapon              = PRIMARY        RohanBauernSword
    End



    ArmorSet
        Conditions      = None
        Armor           = EdainLightInfantryArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_STANDARD_MELEE
    ShroudClearingRange = SHROUD_CLEAR_STANDARD

    DisplayName = OBJECT:RohanPeasantSklave
    CrushableLevel = 0
    CrushRevengeWeapon = BasicInfantryCrushRevenge




    VoiceAttack                 = PeasantMaleVoiceAttack
    VoiceAttackCharge             = PeasantMaleVoiceAttackCharge
    VoiceAttackStructure             = PeasantMaleVoiceAttackBuilding
    VoiceAttackMachine             = PeasantMaleVoiceAttack
    VoiceGuard                    = PeasantMaleVoiceMove
    VoiceMove                     = PeasantMaleVoiceMove
    VoiceMoveToCamp                 = PeasantMaleVoiceMoveCamp
    VoiceMoveWhileAttacking         = PeasantMaleVoiceDisengage
    VoicePriority                = 30
    VoiceRetreatToCastle             = PeasantMaleVoiceRetreat
    VoiceSelect                 = PeasantMaleVoiceSelectMS
    VoiceSelectBattle              = PeasantMaleVoiceSelectBattle

    VoiceEnterStateAttack             = PeasantMaleVoiceEnterStateAttack
    VoiceEnterStateAttackCharge         = PeasantMaleVoiceEnterStateAttackCharge
    VoiceEnterStateAttackStructure     = PeasantMaleVoiceEnterStateAttackBuilding
    VoiceEnterStateAttackMachine         = PeasantMaleVoiceEnterStateAttackBuilding
    VoiceEnterStateMove             = PeasantMaleVoiceEnterStateMove
    VoiceEnterStateMoveToCamp         = PeasantMaleVoiceEnterStateMoveCamp
    VoiceEnterStateMoveWhileAttacking     = PeasantMaleVoiceEnterStateDisengage
    VoiceEnterStateRetreatToCastle    = PeasantMaleVoiceEnterStateRetreat

    SoundImpact                    = ImpactHorse

    UnitSpecificSounds
        VoiceGarrison            = PeasantMaleVoiceGarrison
    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"


    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallGeneric1        Animation:RUPsnt_1_SKL.RUPsnt_1_DIEA    Frames:45
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:RUPsnt_1_SKL.RUPsnt_1_DIEB    Frames:44
        AnimationSound = Sound:BodyFallGeneric1        Animation:RUPsnt_1_SKL.RUPsnt_1_LNDA    Frames:4
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP


    Body = ActiveBody ModuleTag_02
        CheerRadius       = EMOTION_CHEER_RADIUS
        MaxHealth         = 150
        MaxHealthDamaged  = 55

    End

    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = WorkerAIUpdate ModuleTag_10
        AutoAcquireEnemiesWhenIdle        = Yes ATTACK_BUILDINGS
        AILuaEventsList                    = StandardPeasantFunctions
        AttackPriority                =     AttackPriority_Infantry
    End



    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor = HumanWanderLocomotor
        Condition = SET_WANDER
        Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -FADED -EXTRA_8
        SinkDelay = 3000
        SinkRate = 1.0
        DestructionDelay = 8000
            Sound = INITIAL PeasantMaleVoiceDie
        DeathFlags = DEATH_1
    End

      Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes = NONE +FADED
        FadeDelay = 0
        FadeTime = 2500
        DestructionDelay = 2500
        DeathFlags = DEATH_2
    End


    Behavior = SubObjectsUpgrade ModuleTag_Making
        TriggeredBy       = Upgrade_AllFactionUpgrade
        HideSubObjects    = HOE
    End






    Behavior = SpecialPowerModule ModuleTag_TunnelDummy
        SpecialPowerTemplate            = SpecialAbilityTunnelbesetzen
        StartsPaused                    = No
        UpdateModuleStartsAttack        = Yes
    End

    Behavior = ActivateModuleSpecialPower ModuleTag_CloseTheGap
        SpecialPowerTemplate            = SpecialAbilityTunnelbesetzen
        StartAbilityRange               = 30
        TriggerSpecialPower             = ModuleTag_TunnelSpecialPower    TARGETPOS
        TriggerSpecialPower             = ModuleTag_SpecialAbilityTunnel  TARGETPOS
    End

    Behavior                            = OCLSpecialPower ModuleTag_TunnelSpecialPower
        SpecialPowerTemplate            = SpecialAbilityActivateeDummy
        OCL                             = OCL_SklavenTunnelbesetzen
        TriggerFX                       = FX_Tunnelbesetzen
        CreateLocation                  = CREATE_AT_LOCATION
        StartsPaused                    = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_SpecialAbilityTunnel
        SpecialPowerTemplate            = SpecialAbilityActivateeDummy
        AttributeModifier               = SklavenTunnelbesetzenModifier
        AttributeModifierRange          = 55
        TriggerFX                       = FX_Industry
        AttributeModifierAffects        = INDUSTRY_TYPE_SPELL_OBJECT_FILTER
    End



    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End



    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End


    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 2333
        HitReactionLifeTimer2 = 2333
        HitReactionLifeTimer3 = 2333

        HitReactionThreshold1 = 5.0
        HitReactionThreshold2 = 25.0
        HitReactionThreshold3 = 50.0

        FastHitsResetReaction = Yes
    End


    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Human Unit Peasant Peasant_Male
    End

    Scale = 1.05
    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 19
  ShadowSizeY = 19
  ShadowTexture = ShadowI

End

Object WildSklaveZwerg_Slaved


    SelectPortrait     = UPWildSklaven

    Draw = W3DHordeModelDraw ModuleTag_01
        OkToChangeModelColor = Yes
        StaticModelLODMode = Yes


        LodOptions                            = LOW
            AllowMultipleModels                = ALLOW_MULTIPLE_MODELS_LOW
            MaxRandomTextures                = MAX_RANDOM_TEXTURES_LOW
            MaxRandomAnimations                = MAX_RANDOM_ANIMATIONS_LOW
            MaxAnimFrameDelta                = MAX_ANIM_FRAME_DELTA_LOW
        End

        LodOptions                            = MEDIUM
            AllowMultipleModels                = ALLOW_MULTIPLE_MODELS_MED
            MaxRandomTextures                = MAX_RANDOM_TEXTURES_MED
            MaxRandomAnimations                = MAX_RANDOM_ANIMATIONS_MED
            MaxAnimFrameDelta                = MAX_ANIM_FRAME_DELTA_MED
        End

        LodOptions                            = HIGH
            AllowMultipleModels                = ALLOW_MULTIPLE_MODELS_HIGH
            MaxRandomTextures                = MAX_RANDOM_TEXTURES_HIGH
            MaxRandomAnimations                = MAX_RANDOM_ANIMATIONS_HIGH
            MaxAnimFrameDelta                = MAX_ANIM_FRAME_DELTA_HIGH
        End

        WadingParticleSys = WaterRipplesTrail

        RandomTexture           = wudwarfsklave.tga    0    wudwarfsklave.tga
        RandomTexture           = wudwarfsklave2.tga    0    wudwarfsklave.tga



        DefaultModelConditionState
            Model               = wudwsklave
            Skeleton            = EUDwarfMin_SKL
        End













        AnimationState                        = THROWN_PROJECTILE
            Animation                       = FlyA
                AnimationName                   = EUDwarfMin_FLYA
                AnimationMode               = LOOP
            End
            Flags                           = RANDOMSTART
        End

        AnimationState                        = FREEFALL
            Animation                        = Falling
                AnimationName                = EUDwarfMin_FLYA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End



        AnimationState                        = STUNNED_FLAILING
            Animation                       = FlyA
                AnimationName               = EUDwarfMin_FLYA
                AnimationMode               = LOOP
            End
            Flags                           = RANDOMSTART
        End

        AnimationState                         = DYING SPLATTED DEATH_1
            Animation                         = Splatted_On_Ground
                AnimationName                 = EUDwarfMin_LNDA
                AnimationMode                 = ONCE
            End
            EnteringStateFX                    = FX_OrcHitGround
        End

        AnimationState                        = DYING DEATH_1
            Animation                        = DIEB
                AnimationName                = EUDwarfMin_DIEB
                AnimationMode                = ONCE
            End
            Animation                        = DIEC
                AnimationName                = EUDwarfMin_DIEB
                AnimationMode                = ONCE
            End
        End

        AnimationState                        = DYING DEATH_2
            Animation                        = DIEB
                AnimationName                = EUDwarfMin_IDLA
                AnimationMode                = LOOP
            End
        End



        AnimationState                        = STUNNED_STANDING_UP
            Animation                        = GTPA
                AnimationName                = EUDwarfMin_GTPA
                AnimationMode                = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End



        AnimationState            =     STUNNED
            Animation            =     Slatted_On_Ground
            AnimationName                 = EUDwarfMin_LNDA
                AnimationMode                 = ONCE
            End
            EnteringStateFX                    = FX_OrcHitGround

       End


        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = EUDwarfMin_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End



        AnimationState                        = MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY

            Animation                    = TerrorFromTheSky
                AnimationName            = EUDwarfMin_RUNA
                AnimationMode            = LOOP
            End
            Animation                    = TerrorFromTheSky
                AnimationName            = EUDwarfMin_RUNA
                AnimationMode            = LOOP
            End
            Flags = RANDOMSTART
        End
        AnimationState                        = MOVING EMOTION_TERROR

            Animation                        = TerrorFromTheSky
                AnimationName                = EUDwarfMin_RUNA
                AnimationMode                = ONCE
            End
            Animation                        = TerrorFromTheSky
                AnimationName                = EUDwarfMin_RUNA
                AnimationMode                = ONCE
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState                        = MOVING BACKING_UP

            Animation                        = BAKA
                AnimationName                = EUDwarfMin_BAKA
                AnimationMode                = LOOP
            End
            Flags = RANDOMSTART
        End

        AnimationState                        = MOVING ATTACKING
            ShareAnimation                    = Yes
            Animation                        = RUNA
                AnimationName                = EUDwarfMin_RUNA
                AnimationMode                = LOOP
                Distance                    = 25
            End
            Flags                            = RANDOMSTART

        End

        AnimationState                        = MOVING CHARGING
            ShareAnimation                    = Yes
            Animation                        = RUNB
                AnimationName                = EUDwarfMin_RUNA
                AnimationMode                = LOOP
                Distance                    = 30

            End
            Flags                            = RANDOMSTART

        End

        AnimationState                        = MOVING

            ShareAnimation                    = Yes
            Animation                        = RUNB
                AnimationName                = EUDwarfMin_RUNA
                AnimationMode                = LOOP
                Distance                    = 30
            End
            Flags                            = RANDOMSTART

        End


        AnimationState                        = EMOTION_UNCONTROLLABLY_AFRAID
            Animation                        = FERA
                AnimationName                = EUDwarfMin_FERA
                AnimationMode                = LOOP
            End
        End

        AnimationState                        = FIRING_OR_PREATTACK_A
            Animation                        = ATK1
                AnimationName                = EUDwarfMin_ATKA
                AnimationMode                = ONCE
                UseWeaponTiming                = Yes
            End

        End

        AnimationState                        = ATTACKING
            Animation                        = ALERT_1
                AnimationName                = EUDwarfMin_IDLA
                AnimationMode                = LOOP
            End
        End






        AnimationState                        = EMOTION_ALERT EMOTION_AFRAID
            Animation                        = FERA
                AnimationName                = EUDwarfMin_FERA
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState                        = EMOTION_AFRAID
            Animation                        = FERA
                AnimationName                = EUDwarfMin_FERA
                AnimationMode                = LOOP
            End
        End



        AnimationState                        = EMOTION_POINTING
            Animation                        = Pointing1
                AnimationName                = EUDwarfMin_PNTA
                AnimationMode                = LOOP
            End
        End



        AnimationState                        = EMOTION_TAUNTING
            Animation                        = Taunting1
                AnimationName                = EUDwarfMin_PNTA
                AnimationMode                = ONCE
            End
            Flags                            = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End





















        AnimationState                        = EMOTION_ALERT
            Animation                        = ALERT_1
                AnimationName                = EUDwarfMin_IDLA
                AnimationMode                = LOOP
                AnimationPriority            = 10
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End


        AnimationState        = SELECTED
            StateName           = STATE_Selected
            Animation           = ATNB
                AnimationName     = EUDwarfMin_ATNB
                AnimationMode     = LOOP
            End

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle"
                then
                    CurDrawableSetTransitionAnimState("TRANS_IdleToSelected")
                end
                if CurDrawableModelcondition("ATTACKING")
                then
                    return "IDLA"
                else
                    return "ATNA"
                end
            EndScript

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
            EndScript
        End


        AnimationState                = WEAPONSET_PLAYER_UPGRADE
            StateName                = STATE_Idle
            Animation                = IDLB
                AnimationName       = EUDwarfMin_IDLB
                AnimationMode       = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Animation                = IDLC
                AnimationName       = EUDwarfMin_IDLC
                AnimationMode       = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Animation                = IDLD
                AnimationName       = EUDwarfMin_IDLD
                AnimationMode       = ONCE
                AnimationSpeedFactorRange = 0.9 1.1
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
            EndScript
        End
        AnimationState                = USER_3
            StateName                = STATE_User_3
            Animation                = GUARD_STANCE
                AnimationName        = GUManMocap_IDLA
                AnimationMode        = LOOP
            End
        End
        IdleAnimationState


            StateName                = STATE_Idle
            Animation                = IDLA
                AnimationName       = EUDwarfMin_IDLA
                AnimationMode       = ONCE
                AnimationPriority   = 20
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLB
                AnimationName       = EUDwarfMin_IDLB
                AnimationMode       = ONCE
                AnimationPriority   = 10
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLC
                AnimationName       = EUDwarfMin_IDLC
                AnimationMode       = ONCE
                AnimationPriority   = 5
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLD
                AnimationName       = EUDwarfMin_IDLD
                AnimationMode       = ONCE
                AnimationPriority   = 7
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
            EndScript
        End

        TransitionState       = TRANS_IdleToSelected
            Animation           = ATNA
                AnimationName     = EUDwarfMin_ATNA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.9 1.0

            End
        End
        TransitionState        = TRANS_SelectedToIdle
            Animation            = ATNC
                AnimationName    = EUDwarfMin_ATNC
                AnimationMode    = ONCE
                AnimationSpeedFactorRange = 0.9 1.0
            End
        End


    AnimationState = EMOTION_QUARRELSOME
        SimilarRestart = Yes
        StateName = Quarrel
          Animation = Chant
            AnimationName = EUDwarfMin_IDLA
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Animation = Chant1
            AnimationName = EUDwarfMin_IDLB
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Animation = BIG_BLEND_QUARREL
            AnimationName = EUDwarfMin_IDLC
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Flags = RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev ~= "Quarrel"
            then
                return "BIG_BLEND_QUARREL"
            end
        EndScript

    End


    AnimationState = QUARRELSOME_FIGHTING
        StateName = SomeState
            Animation                        = ATK1
                AnimationName                = EUDwarfMin_ATKA
                AnimationMode                = ONCE
            End
        Flags            = RESTART_ANIM_WHEN_COMPLETE
    End


    End



    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End


    #include "..\..\..\includes\StunDrawModuleSmall.inc"


    Side            = Isengard
    EditorSorting        = UNIT
    ThreatLevel        = 1.0
    Scale             = 0.88
    ThingClass        = HORDE_UNIT
    CommandPoints        = 1
    BountyValue        = DWARVEN_GUARDIAN_BOUNTY_VALUE



    TransportSlotCount     = TRANSPORTSLOTCOUNT_UNIT


    WeaponSet
        Conditions        = None
        Weapon            = PRIMARY    DwarvenSlaveAxeEdain
        AutoChooseSources    = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End



    ArmorSet
        Conditions      = None
        Armor           = EdainInfantryArmor
        DamageFX        = NormalDamageFX
    End
    ArmorSet
        Conditions      = PLAYER_UPGRADE
        Armor           = EdainInfantryArmor

    End

    VisionRange = DWARVEN_GUARDIAN_VISION_RANGE
    VisionSide = 35%
    VisionRear = 25%
    VisionBonusPercentPerFoot = 2.0%
    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    ShroudClearingRange = SHROUD_CLEAR_STANDARD

    DisplayName                    = OBJECT:DwarvenSklave
    CrushableLevel                = 0
    CrusherLevel                = 0

    CrushRevengeWeapon            = BasicInfantryCrushRevenge


    ThreatBreakdown MordorGoblinSwordsmanSlaved_ThreatBreakdown
        AIKindOf = CREEP
    End

    Behavior = SlavedUpdate ModuleTag_Slave
        GuardMaxRange        = 300
        GuardWanderRange    = 50
        UseSlaverAsControlForEvaObjectSightedEvents = Yes
    End


    CommandSet = WildSklavenHordeCommandSet





    VoiceAttack                                = DwarfGuardianVoiceAttack
    VoiceAttackCharge                        = DwarfGuardianVoiceAttackCharge
    VoiceAttackMachine                        = DwarfGuardianVoiceAttack
    VoiceAttackStructure                    = DwarfGuardianVoiceAttackBuilding
    VoiceGuard                                = DwarfGuardianVoiceMove
    VoiceMove                                = DwarfGuardianVoiceMove
    VoiceMoveToCamp                            = DwarfGuardianVoiceMoveCamp
    VoiceMoveWhileAttacking                    = DwarfGuardianVoiceDisengage
    VoicePriority                            = 47
    VoiceRetreatToCastle                    = DwarfGuardianVoiceRetreat
    VoiceSelect                                = DwarfGuardianVoiceSelectMS
    VoiceSelectBattle                         = DwarfGuardianVoiceSelectBattle

    VoiceEnterStateAttack                    = DwarfGuardianVoiceEnterStateAttack
    VoiceEnterStateAttackCharge                = DwarfGuardianVoiceEnterStateAttackCharge
    VoiceEnterStateAttackMachine            = DwarfGuardianVoiceEnterStateAttackBuilding
    VoiceEnterStateAttackStructure            = DwarfGuardianVoiceEnterStateAttackBuilding
    VoiceEnterStateMove                        = DwarfGuardianVoiceEnterStateMove
    VoiceEnterStateMoveToCamp                = DwarfGuardianVoiceEnterStateMoveCamp
    VoiceEnterStateMoveWhileAttacking        = DwarfGuardianVoiceEnterStateDisengage
    VoiceEnterStateRetreatToCastle            = DwarfGuardianVoiceEnterStateRetreat

    SoundImpact                                = ImpactHorse

    UnitSpecificSounds
        VoiceGarrison                        = DwarfGuardianVoiceMoveGarrison
        VoiceEnterUnitElvenTransportShip    = DwarfGuardianVoiceMoveShip
        VoiceInitiateCaptureBuilding        = DwarfGuardianVoiceCaptureBuilding

    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    CrowdResponseKey = Dwarf

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Humanoid_Male Dwarf Dwarf_Male Dwarf_Guardian
    End

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:EMOTION_CELEBRATING    Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxCheerSinglesLoop
        ModelCondition = Required:EMOTION_POINTING        Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxTauntSinglesLoop
        ModelCondition = Required:EMOTION_TAUNTING        Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxTauntSinglesLoop
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionDwarfCompilationVoxTauntSinglesLoop
    End


    ClientBehavior = UpgradeSoundSelectorClientBehavior ModuleTag_UpgradeSoundSelector
        SoundUpgrade        = Upgrade_DwarvenSiegeHammer

            VoiceAttack        = DwarfGuardianVoiceAttackHammer
            VoiceAttack        = DwarfGuardianVoiceEnterStateAttackHammer
        End
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800

        AnimationSound = Sound:BodyFallOrc            Animation:EUDWARFGUA_SKL.EUDWARFGUA_LNDA    Frames:4

        AnimationSound = Sound:BodyFallGeneric2        Animation:EUDWARFGUA_SKL.EUDWARFGUA_DIEA    Frames:45

        AnimationSound = Sound:BodyFallGeneric2        Animation:EUDWARFGUA_SKL.EUDWARFGUA_DIEB    Frames:28
        AnimationSound = Sound:BodyFallGeneric2        Animation:EUDWARFGUA_SKL.EUDWARFGUA_DIEC    Frames:45
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK GRAB_AND_DROP CREEP

    Body = ActiveBody ModuleTag_02
        CheerRadius          = EMOTION_CHEER_RADIUS
        MaxHealth            = 150
        MaxHealthDamaged     = 75
        BurningDeathBehavior = Yes
        BurningDeathFX       = FX_InfantryBurningFlame
    End


    Behavior = SubObjectsUpgrade ModuleTag_Making
        TriggeredBy       = Upgrade_AllFactionUpgrade
        HideSubObjects    = HAMMER1
    End


    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle    =    Yes ATTACK_BUILDINGS
        MoodAttackCheckRate            =    500
        AILuaEventsList                =    DwarvenGuardianFunctions
        MinCowerTime                =    3000
        MaxCowerTime                =    5000
        AttackPriority                =     AttackPriority_Cavalry
        BurningDeathTime            =    BURNINGDEATH_DURATION_INFANTRY
    End

    LocomotorSet
        Locomotor = HumanSpecialChargeLocomotor
        Condition = SET_NORMAL
        Speed     = 40
    End

    LocomotorSet
        Locomotor = BurningDeathLocomotorInfantry
        Condition = SET_BURNINGDEATH
        Speed     = 40
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult                = 1.0
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 666
    End

    Behavior = AttributeModifierUpgrade ModuleTag_AMU
        TriggeredBy            = Upgrade_GondorFighterFearless
        AttributeModifier    = FearlessForever
    End







    Behavior = SpecialPowerModule ModuleTag_TunnelDummy
        SpecialPowerTemplate            = SpecialAbilityTunnelbesetzen
        StartsPaused                    = No
        UpdateModuleStartsAttack        = Yes
    End

    Behavior = ActivateModuleSpecialPower ModuleTag_CloseTheGap
        SpecialPowerTemplate            = SpecialAbilityTunnelbesetzen
        StartAbilityRange               = 30
        TriggerSpecialPower             = ModuleTag_TunnelSpecialPower    TARGETPOS
        TriggerSpecialPower             = ModuleTag_SpecialAbilityTunnel  TARGETPOS
    End

    Behavior                            = OCLSpecialPower ModuleTag_TunnelSpecialPower
        SpecialPowerTemplate            = SpecialAbilityActivateeDummy
        OCL                             = OCL_SklavenTunnelbesetzen
        TriggerFX                       = FX_Tunnelbesetzen
        CreateLocation                  = CREATE_AT_LOCATION
        StartsPaused                    = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_SpecialAbilityTunnel
        SpecialPowerTemplate            = SpecialAbilityActivateeDummy
        AttributeModifier               = SklavenTunnelbesetzenModifier
        AttributeModifierRange          = 55
        TriggerFX                       = FX_Industry
        AttributeModifierAffects        = INDUSTRY_TYPE_SPELL_OBJECT_FILTER
    End



    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End













    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes            = ALL -KNOCKBACK -FADED -EXTRA_8
        SinkDelay            = 3000
        SinkRate            = 0.90
        DestructionDelay    = 15000
        Sound                = INITIAL DwarfGenericVoiceDie
        DeathFlags            = DEATH_1
    End

    Behavior = SlowDeathBehavior ModuleTag_07

        DeathTypes            = NONE +KNOCKBACK
        SinkDelay            = 3000
        SinkRate            = 0.60
        DestructionDelay    = 10000
    End

    Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes            = NONE +FADED
        FadeDelay            = 0
        FadeTime            = 2500
        DestructionDelay    = 2500
        DeathFlags            = DEATH_2

    End



    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End


    Geometry            = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight        = 19.2
    GeometryIsSmall        = No

    Shadow            = SHADOW_DECAL
    ShadowSizeX            = 19
    ShadowSizeY            = 19
    ShadowTexture        = ShadowI
End



Object WildSklaveBauer1_Slaved


    SelectPortrait    = UPWildSklaven

    Draw = W3DScriptedModelDraw ModuleTag_01

        StaticModelLODMode = Yes

          OkToChangeModelColor = Yes


        DefaultModelConditionState
            Model               = wusklave_ska
            Model               = wusklave_skb  ExtraMesh:Yes
            Model               = wusklave_skc  ExtraMesh:Yes
            Model               = wusklave_skd  ExtraMesh:Yes
            Skeleton            = RUPsnt_1_SKL
        End





        AnimationState                        = PASSENGER
            Animation                        = FLLA
                AnimationName                = RUPsnt_1_FLLA
                AnimationMode                = LOOP
            End
        End

        AnimationState        = THROWN_PROJECTILE
            Animation           = FLYA
                AnimationName     = RUPsnt_1_FLYA
                AnimationMode     = LOOP
            End
        End

        AnimationState                        = FREEFALL
            Animation                        = FLYA
                AnimationName                = RUPsnt_1_FLYA
                AnimationMode                = LOOP
                AnimationSpeedFactorRange    = 0.7    0.7
                AnimationBlendTime            = 10
            End
        End

        AnimationState        = STUNNED_FLAILING
            Animation           = FLYA
                AnimationName     = RUPsnt_1_FLYA
                AnimationMode      = LOOP
            End
            Flags               = RANDOMSTART
        End

        AnimationState                        = DYING SPLATTED DEATH_1
            Animation                        = LNDA
                AnimationName                = RUPsnt_1_LNDA
                AnimationMode                = ONCE
            End
        End

        AnimationState        = DYING DEATH_1
            Animation           = DIEA
                AnimationName     = RUPsnt_1_DIEA
                AnimationMode     = ONCE
            End
            Animation           = DIEB
                AnimationName     = RUPsnt_1_DIEB
                AnimationMode     = ONCE
            End
        End

        AnimationState        = DYING DEATH_2
            Animation           = DIEA
                AnimationName     = RUPsnt_1_IDLA
                AnimationMode     = LOOP
            End
        End


        AnimationState          = DYING DEATH_5
            Animation           = DIEA
                AnimationName     = RUPsnt_1_DIEA
                AnimationMode     = ONCE
            End
            Animation           = DIEB
                AnimationName     = RUPsnt_1_DIEB
                AnimationMode     = ONCE
            End
            EnteringStateFX                  = FX_UndeadModule
        End


        AnimationState        = STUNNED_STANDING_UP
            Animation           = GTPA
                AnimationName     = RUPsnt_1_GTPA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End





        End

        AnimationState        = STUNNED
            Animation           = LNDA
                AnimationName     = RUPsnt_1_LNDA
                AnimationMode     = ONCE
            End
        End

        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = RUPsnt_1_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART
        End




        AnimationState                =    FIRING_OR_PREATTACK_A
            Animation
                AnimationName        =    RUPsnt_1_ATKA
                AnimationMode        =    LOOP

            End
            Animation
                AnimationName        =    RUPsnt_1_ATKB
                AnimationMode        =    LOOP

            End
        End




        AnimationState                = MOVING BACKING_UP
            Animation                = BAKA
                AnimationName        = RUPsnt_1_BAKA
                AnimationMode        = LOOP
            End








        End











        AnimationState                = MOVING WANDER
            Animation                = WLKA
                AnimationName        = RUPsnt_1_WLKA
                AnimationMode        = LOOP
            End






        End

        AnimationState                = MOVING
            Animation                = RUNA
                AnimationName        = RUPsnt_1_RUNA
                AnimationMode        = LOOP

            End
            Animation                = RUNC
                AnimationName        = RUPsnt_1_RUNC
                AnimationMode        = LOOP

            End
            Flags                    = RANDOMSTART
            ParticleSysBone            = None InfantryDustTrails
        End


        AnimationState = ACTIVELY_CONSTRUCTING DEPLOYED
            Animation                =    Stand
                AnimationName        =    RUPsnt_1_IDLA
                AnimationMode        =    LOOP
            End
        End


        AnimationState                = ACTIVELY_CONSTRUCTING
            Animation                = WRKA
                AnimationName        = RUPsnt_1_WRKA
                AnimationMode        = ONCE
            End
            Animation                = WRKD
                AnimationName        = RUPsnt_1_WRKD
                AnimationMode        = ONCE
            End
            Flags                    = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End



        AnimationState = HIT_REACTION
            Animation = Hit_Level_1_a
                AnimationName = RUPsnt_1_HITA
                AnimationMode = ONCE
            End
        End







        AnimationState                = EMOTION_POINTING
            Animation                = Pointing1
                AnimationName        = RUPsnt_1_PNTA
                AnimationMode        = LOOP
                AnimationSpeedFactorRange = 0.75 1.25
            End
        End


        AnimationState                = EMOTION_AFRAID
            Animation                = &&FEAR&&
                AnimationName        = RUPsnt_1_FERA
                AnimationMode        = LOOP
            End
        End

        AnimationState                = EMOTION_TAUNTING
            Animation                = TNTA
                AnimationName        = RUPsnt_1_TNTA
                AnimationMode        = ONCE
            End
            Animation                = TNTB
                AnimationName        = RUPsnt_1_TNTB
                AnimationMode        = ONCE
            End
            Flags                    = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End


            AnimationState                = EMOTION_CELEBRATING
                Animation                = CHRA
                    AnimationName        = RUPsnt_1_CHRA
                    AnimationMode        = ONCE
                End
                Animation                = CHRB
                    AnimationName        = RUPsnt_1_CHRB
                    AnimationMode        = ONCE
                End
                Flags                    = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
            End

            AnimationState                = EMOTION_ALERT
                StateName                = STATE_Alert
                Animation                = &&ALERT&&
                    AnimationName        = RUPsnt_1_IDLA
                    AnimationMode        = LOOP
                End
            End



        AnimationState                =    SELECTED
            StateName                =    STATE_Selected
            SimilarRestart            =   Yes
            Animation                =    ATNB
                AnimationName        =    RUPsnt_1_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
            EndScript
        End


        IdleAnimationState
            StateName            =    STATE_Idle
            Animation           = IDLA
                AnimationName     = RUPsnt_1_IDLA
                AnimationMode     = ONCE
                AnimationPriority = 20
            End

            Animation           = IDLC
                AnimationName     = RUPsnt_1_IDLC
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            Animation           = IDLD
                AnimationName     = RUPsnt_1_IDLD
                AnimationMode     = ONCE
                AnimationPriority = 2
            End

            Animation           = IDLE
                AnimationName     = RUPsnt_1_IDLE
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            Animation           = IDLF
                AnimationName     = RUPsnt_1_IDLF
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            Animation           = IDLG
                AnimationName     = RUPsnt_1_IDLG
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
            EndScript
        End



        TransitionState       = TRANS_SelectedToIdle
            Animation           = ATNC
                AnimationName     = RUPsnt_1_ATNC
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.7 1.2
            End
        End

        TransitionState                =    TRANS_IdleToSelected
            Animation                =    ATNA
                AnimationName        =    RUPsnt_1_ATNA
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.7 1.2
            End
        End


    AnimationState = EMOTION_QUARRELSOME
        SimilarRestart = Yes
        StateName = Quarrel
          Animation = Chant
            AnimationName = RUPsnt_1_CHRA
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Animation = Chant1
            AnimationName = RUPsnt_1_CHRB
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Animation = BIG_BLEND_QUARREL
            AnimationName = RUPsnt_1_TNTA
            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Animation = BIG_BLEND_QUARREL
            AnimationName = RUPsnt_1_TNTB

            AnimationMode = ONCE
            AnimationPriority = 500
        End
        Flags = RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev ~= "Quarrel"
            then
                return "BIG_BLEND_QUARREL"
            end
        EndScript

    End


    AnimationState = QUARRELSOME_FIGHTING
        StateName = SomeState
            Animation
                AnimationName        =    RUPsnt_1_ATKA
                AnimationMode        =    LOOP
            End
        Flags            = RESTART_ANIM_WHEN_COMPLETE
    End


    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"


    Side = Isengard
    EditorSorting = UNIT
    ThreatLevel = 1.0
    TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

    CommandPoints = 1

    CommandSet = WildSklavenHordeCommandSet

    BountyValue = 1


    WeaponSet
        Conditions          = None
        Weapon              = PRIMARY        RohanBauernSword
    End



    ArmorSet
        Conditions      = None
        Armor           = EdainLightInfantryArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = VISION_STANDARD_MELEE
    ShroudClearingRange = SHROUD_CLEAR_STANDARD

    DisplayName = OBJECT:RohanPeasantSklave
    CrushableLevel = 0
    CrushRevengeWeapon = BasicInfantryCrushRevenge




    VoiceAttack                 = PeasantMaleVoiceAttack
    VoiceAttackCharge             = PeasantMaleVoiceAttackCharge
    VoiceAttackStructure             = PeasantMaleVoiceAttackBuilding
    VoiceAttackMachine             = PeasantMaleVoiceAttack
    VoiceGuard                    = PeasantMaleVoiceMove
    VoiceMove                     = PeasantMaleVoiceMove
    VoiceMoveToCamp                 = PeasantMaleVoiceMoveCamp
    VoiceMoveWhileAttacking         = PeasantMaleVoiceDisengage
    VoicePriority                = 30
    VoiceRetreatToCastle             = PeasantMaleVoiceRetreat
    VoiceSelect                 = PeasantMaleVoiceSelectMS
    VoiceSelectBattle              = PeasantMaleVoiceSelectBattle

    VoiceEnterStateAttack             = PeasantMaleVoiceEnterStateAttack
    VoiceEnterStateAttackCharge         = PeasantMaleVoiceEnterStateAttackCharge
    VoiceEnterStateAttackStructure     = PeasantMaleVoiceEnterStateAttackBuilding
    VoiceEnterStateAttackMachine         = PeasantMaleVoiceEnterStateAttackBuilding
    VoiceEnterStateMove             = PeasantMaleVoiceEnterStateMove
    VoiceEnterStateMoveToCamp         = PeasantMaleVoiceEnterStateMoveCamp
    VoiceEnterStateMoveWhileAttacking     = PeasantMaleVoiceEnterStateDisengage
    VoiceEnterStateRetreatToCastle    = PeasantMaleVoiceEnterStateRetreat

    SoundImpact                    = ImpactHorse

    UnitSpecificSounds
        VoiceGarrison            = PeasantMaleVoiceGarrison
    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"


    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallGeneric1        Animation:RUPsnt_1_SKL.RUPsnt_1_DIEA    Frames:45
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:RUPsnt_1_SKL.RUPsnt_1_DIEB    Frames:44
        AnimationSound = Sound:BodyFallGeneric1        Animation:RUPsnt_1_SKL.RUPsnt_1_LNDA    Frames:4
    End



    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP CREEP


    Body = ActiveBody ModuleTag_02
        CheerRadius       = EMOTION_CHEER_RADIUS
        MaxHealth         = 100
        MaxHealthDamaged  = 50

    End

    #include "..\..\..\includes\CaptureBuilding.inc"

    Behavior = WorkerAIUpdate ModuleTag_10
        AutoAcquireEnemiesWhenIdle        = Yes ATTACK_BUILDINGS
        AILuaEventsList                    = StandardPeasantFunctions
        AttackPriority                =     AttackPriority_Infantry
    End



    LocomotorSet
        Locomotor = HumanLocomotor
        Condition = SET_NORMAL
        Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor = HumanWanderLocomotor
        Condition = SET_WANDER
        Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End

    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL -FADED -EXTRA_8
        SinkDelay = 3000
        SinkRate = 1.0
        DestructionDelay = 8000
            Sound = INITIAL PeasantMaleVoiceDie
        DeathFlags = DEATH_1
    End

      Behavior = SlowDeathBehavior ModuleTag_FadeDeath
        DeathTypes = NONE +FADED
        FadeDelay = 0
        FadeTime = 2500
        DestructionDelay = 2500
        DeathFlags = DEATH_2
    End


    Behavior = SubObjectsUpgrade ModuleTag_Making
        TriggeredBy       = Upgrade_AllFactionUpgrade
        HideSubObjects    = LANCE
    End






    Behavior = SpecialPowerModule ModuleTag_TunnelDummy
        SpecialPowerTemplate            = SpecialAbilityTunnelbesetzen
        StartsPaused                    = No
        UpdateModuleStartsAttack        = Yes
    End

    Behavior = ActivateModuleSpecialPower ModuleTag_CloseTheGap
        SpecialPowerTemplate            = SpecialAbilityTunnelbesetzen
        StartAbilityRange               = 30
        TriggerSpecialPower             = ModuleTag_TunnelSpecialPower    TARGETPOS
        TriggerSpecialPower             = ModuleTag_SpecialAbilityTunnel  TARGETPOS
    End

    Behavior                            = OCLSpecialPower ModuleTag_TunnelSpecialPower
        SpecialPowerTemplate            = SpecialAbilityActivateeDummy
        OCL                             = OCL_SklavenTunnelbesetzen
        TriggerFX                       = FX_Tunnelbesetzen
        CreateLocation                  = CREATE_AT_LOCATION
        StartsPaused                    = Yes
    End

    Behavior = SpecialPowerModule ModuleTag_SpecialAbilityTunnel
        SpecialPowerTemplate            = SpecialAbilityActivateeDummy
        AttributeModifier               = SklavenTunnelbesetzenModifier
        AttributeModifierRange          = 55
        TriggerFX                       = FX_Industry
        AttributeModifierAffects        = INDUSTRY_TYPE_SPELL_OBJECT_FILTER
    End


    ThreatBreakdown MordorGoblinSwordsmanSlaved_ThreatBreakdown
        AIKindOf = CREEP
    End

    Behavior = SlavedUpdate ModuleTag_Slave
        GuardMaxRange        = 300
        GuardWanderRange    = 50
        UseSlaverAsControlForEvaObjectSightedEvents = Yes
    End




    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = HordeMemberCollide ModuleTag_HMC

    End



    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End


    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
        HitReactionLifeTimer1 = 2333
        HitReactionLifeTimer2 = 2333
        HitReactionLifeTimer3 = 2333

        HitReactionThreshold1 = 5.0
        HitReactionThreshold2 = 25.0
        HitReactionThreshold3 = 50.0

        FastHitsResetReaction = Yes
    End


    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Human Unit Peasant Peasant_Male
    End

    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 19
  ShadowSizeY = 19
  ShadowTexture = ShadowI

End



