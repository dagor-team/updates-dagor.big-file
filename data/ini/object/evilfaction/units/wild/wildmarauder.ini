Object WildMarauder

    ButtonImage       = UPWild_HalfTrollMarauders
    SelectPortrait    =   UPWild_HalfTrollMarauders

    Draw = W3DHordeModelDraw ModuleTag_01

        OkToChangeModelColor = Yes

        StaticModelLODMode = Yes


        LodOptions    = LOW
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_LOW
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_LOW
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_LOW
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_LOW
        End

        LodOptions    = MEDIUM
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_MED
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_MED
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_MED
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_MED
        End

        LodOptions    = HIGH
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_HIGH
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_HIGH
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_HIGH
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_HIGH
        End

        RandomTexture = exlnzflar2_poison.tga  0 exlnzflar2.tga

        DefaultModelConditionState
            Model = WUMaraud_SKN
        End

        ModelConditionState = USER_1
            ParticleSysBone FORGED_BLADE GiftKlingenFX02 FollowBone:Yes
            ParticleSysBone FORGED_BLADE GiftKlingenFX02 FollowBone:Yes
        End

        ModelConditionState = COMING_OUT_OF_FACTORY
            Model = WUMaraud_SKN
        End


        IdleAnimationState
            Flags = RANDOMSTART
            StateName                = STATE_Idle
            Animation = IDLB
                AnimationName        = WUMaraud_SKL.WUMaraud_IDLB
                AnimationMode        = LOOP

                AnimationPriority            = 8
            End
            Animation = IDLC
                AnimationName        = WUMaraud_SKL.WUMaraud_IDLC
                AnimationMode        = LOOP

                AnimationPriority            = 2
            End
            Animation = IDLC
                AnimationName        = WUMaraud_SKL.WUMaraud_TNTA
                AnimationMode        = LOOP

                AnimationPriority            = 2
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Planted"    then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end

                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
            EndScript
        End


        AnimationState                        = PASSENGER
            Animation                        = Grabbed
                AnimationName                = WUMaraud_SKL.WUMaraud_FLYA
                AnimationMode                = LOOP
            End
        End

        AnimationState                        = FREEFALL
            StateName                        = STATE_Falling
            Animation                        = Falling
                AnimationName                = WUMaraud_SKL.WUMaraud_FLYA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End



        AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A
             Animation = ATKC
                AnimationName        = WUMaraud_SKL.WUMaraud_ATKA
                AnimationMode        = LOOP
                UseWeaponTiming        = Yes
            End
        End

        AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
            Animation = ATKC
                AnimationName        = WUMaraud_SKL.WUMaraud_ATKA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            StateName = PikeUp
        End

        AnimationState = ALTERNATE_FORMATION MOVING BACKING_UP
            Animation = Moving_Back
                AnimationName = WUMaraud_SKL.WUMaraud_BAKA
                AnimationMode = LOOP
            End
        End

        AnimationState = ALTERNATE_FORMATION MOVING
             Animation = ATKC
                AnimationName        = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode        = LOOP
            End
        End










        AnimationState                        = DYING BURNINGDEATH
            Animation
                AnimationName                = WUMaraud_SKL.WUMaraud_DIEA
                AnimationMode                = ONCE
                AnimationBlendTime            = 10
            End
        End

        AnimationState                        = ALTERNATE_FORMATION DYING SPLATTED
             Animation                        = Splat
                AnimationName                = WUMaraud_SKL.WUMaraud_LNDA
                AnimationMode                = ONCE
            End
        End

        AnimationState = ALTERNATE_FORMATION DYING AFLAME
            Animation = Flaming_Death
                AnimationName = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode = ONCE
            End
        End

        AnimationState =  ALTERNATE_FORMATION DYING
            Animation = Dying_1
                AnimationName = WUMaraud_SKL.WUMaraud_DIEA
                AnimationMode = ONCE
            End
        End


        AnimationState = ALTERNATE_FORMATION STUNNED_STANDING_UP
             Animation = Standing_Back_Up
                AnimationName = WUMaraud_SKL.WUMaraud_GTPA
                AnimationMode = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState = ALTERNATE_FORMATION STUNNED
             Animation = Splattered_On_Ground
                AnimationName = WUMaraud_SKL.WUMaraud_LNDA
                AnimationMode = ONCE
            End
        End

        AnimationState = ALTERNATE_FORMATION PORCUPINE
             Animation
                AnimationName        = WUMaraud_SKL.WUMaraud_PLTB
                AnimationMode        = LOOP
            End
            StateName = STATE_Planted
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev ~= "STATE_Planted"    and Prev ~= "Trans_Up_To_Down" then CurDrawableSetTransitionAnimState("Trans_Up_To_Down") return end
            EndScript
        End




        AnimationState = STUNNED_FLAILING
            Animation = Flying_1
                AnimationName = WUMaraud_SKL.WUMaraud_FLYA
                AnimationMode = LOOP
            End
            Flags                            = MAINTAIN_FRAME_ACROSS_STATES2
        End

        AnimationState = DYING SPLATTED
             Animation = Splat
                AnimationName = WUMaraud_SKL.WUMaraud_LNDA
                AnimationMode = ONCE
            End
        End




        AnimationState = DYING AFLAME
            Animation = Flaming_Death
                AnimationName = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode = ONCE
            End
        End

        AnimationState = DYING
            Animation = Dying_2
                AnimationName = WUMaraud_SKL.WUMaraud_DIEA
                AnimationMode = ONCE
            End
        End













        AnimationState = STUNNED_STANDING_UP
            Animation = Standing_Back_Up
                AnimationName = WUMaraud_SKL.WUMaraud_GTPA
                AnimationMode = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState                        = STUNNED
            StateName                        = STATE_Stunned
            Animation                        = Splattered_On_Ground
                AnimationName                = WUMaraud_SKL.WUMaraud_LNDA
                AnimationMode                = ONCE
            End
        End


        AnimationState                        = BURNINGDEATH
            Animation
                AnimationName                = WUMaraud_SKL.WUMaraud_MFDA
                AnimationMode                = LOOP
                Distance                    = 120
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = WUMaraud_SKL.WUMaraud_IDLA
                AnimationMode                = LOOP
            End
        End

        AnimationState  = COMING_OUT_OF_FACTORY
            Animation = Being_Built
                AnimationName        = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode        = LOOP
                AnimationBlendTime    = 0
            End
        End












        AnimationState = MOVING BACKING_UP
            Animation = Moving_Back
                AnimationName = WUMaraud_SKL.WUMaraud_BAKA
                AnimationMode = LOOP
            End
        End

        AnimationState = MOVING EMOTION_AFRAID
            Animation = Moving_1
                AnimationName = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode = LOOP
            End
            Flags = MAINTAIN_FRAME_ACROSS_STATES
            ParticleSysBone = None InfantryDustTrails
        End

        AnimationState = MOVING EMOTION_ALERT
            Animation = Moving_1
                AnimationName = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode = LOOP
            End
            Flags = MAINTAIN_FRAME_ACROSS_STATES
            ParticleSysBone = None InfantryDustTrails
        End

        AnimationState = MOVING ATTACKING
            Animation = Moving_1
                AnimationName = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode = LOOP
            End
            Flags = MAINTAIN_FRAME_ACROSS_STATES
            ParticleSysBone = None InfantryDustTrails
        End

        AnimationState = MOVING ENGAGED
            Animation = Moving_1
                AnimationName = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode = LOOP
            End
            Flags = MAINTAIN_FRAME_ACROSS_STATES
            ParticleSysBone = None InfantryDustTrails
        End

        AnimationState = MOVING
            Flags = RANDOMSTART
            Animation = Moving_1
                AnimationName = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode = LOOP
            End
            ParticleSysBone = None InfantryDustTrails
        End




        AnimationState =  FIRING_OR_PREATTACK_A
            Animation = KickSinceWeAreMelee
                AnimationName        = WUMaraud_SKL.WUMaraud_ATKA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
        End



        AnimationState                            = WAR_CHANT
            Animation                            = Chant
                AnimationName                    = WUMaraud_SKL.WUMaraud_IDLA
                AnimationMode                    = LOOP
            End
        End

        AnimationState                            = EMOTION_AFRAID
            Animation                            = FERA
                AnimationName                    = WUMaraud_SKL.WUMaraud_FERA
                AnimationMode                    = LOOP
            End
            Flags                                = RANDOMSTART
        End

        AnimationState                            = EMOTION_CELEBRATING
            Animation                            = CHRA
                AnimationName                    = WUMaraud_SKL.WUMaraud_CHRA
                AnimationMode                    = LOOP
            End
            Flags                                = RANDOMSTART
        End

        AnimationState                            = EMOTION_TAUNTING
            Animation
                AnimationName                    = WUMaraud_SKL.WUMaraud_TNTA
                AnimationMode                    = LOOP
            End
            Animation
                AnimationName                    = WUMaraud_SKL.WUMaraud_TNTB
                AnimationMode                    = LOOP
            End
            Flags                                = RANDOMSTART
        End

        AnimationState                            = EMOTION_POINTING
            Animation                            = Pointing1
                AnimationName                    = WUMaraud_SKL.WUMaraud_PNTA
                AnimationMode                    = LOOP
            End
            Flags                                = RANDOMSTART
        End













































        AnimationState                            = RAISING_FLAG
            Animation                            = CHRA
                AnimationName                    = WUMaraud_SKL.WUMaraud_CHRA
                AnimationMode                    = LOOP
            End
        End

        AnimationState = SELECTED
            StateName           = STATE_Selected
            Animation                = Selected_Loop
                AnimationName        = WUMaraud_SKL.WUMaraud_ATNB
                AnimationMode        = LOOP
                AnimationBlendTime    = 10
            End
            StateName                = Selected
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Planted"    then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end
                if Prev == "Bored" then CurDrawableSetTransitionAnimState("TRANS_BS_Normal") end
                if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
            EndScript
            Flags = RESTART_ANIM_WHEN_COMPLETE
        End




        TransitionState = Trans_Down_To_Up
            Animation = Transition
                AnimationName = WUMaraud_SKL.WUMaraud_PLTC
                AnimationMode = ONCE
            End
        End

        TransitionState = Trans_Up_To_Down
            Animation = Transition
                AnimationName = WUMaraud_SKL.WUMaraud_PLTA
                AnimationMode = ONCE
            End
        End























        TransitionState = TRANS_BS_Normal
            Animation = Transition
                AnimationName                = WUMaraud_SKL.WUMaraud_ATNA
                AnimationMode                = ONCE
                AnimationBlendTime            = 20
                AnimationMustCompleteBlend    = Yes
            End
        End

        TransitionState = TRANS_SB_Normal
            Animation = Transition
                AnimationName                = WUMaraud_SKL.WUMaraud_IDLA
                AnimationMode                = ONCE
                AnimationBlendTime            = 10
                AnimationMustCompleteBlend    = Yes
            End
        End
















        TransitionState       = TRANS_IdleToSelected
            Animation           = ATNA
                AnimationName     = WUMaraud_SKL.WUMaraud_ATNA
                AnimationMode     = ONCE
                AnimationBlendTime            = 10
                AnimationMustCompleteBlend    = Yes
            End
        End

        TransitionState        = TRANS_SelectedToIdle
            Animation            = ATNC
                AnimationName    = WUMaraud_SKL.WUMaraud_ATNC
                AnimationMode    = ONCE
                AnimationBlendTime            = 10
                AnimationMustCompleteBlend    = Yes
            End
        End

        TransitionState = TRANS_SR_Alt
        End

        TransitionState = TRANS_RS_Alt
        End

        TransitionState = TRANS_BS_Alt
        End

        TransitionState = TRANS_SB_Alt
        End

        TransitionState = TRANS_BR_Alt
        End

        TransitionState = TRANS_RB_Alt
        End

    End


    #include "..\..\..\includes\StunDrawModuleLarge.inc"



    Side                 = Wild
    EditorSorting        = UNIT
    ThreatLevel          = 1.0
    ThingClass           = HORDE_UNIT
    CommandPoints        = 5
    Scale = 1.00
    TransportSlotCount   = TRANSPORTSLOTCOUNT_UNIT
    ShockwaveResistance = 30

    WeaponSet
        Conditions     = None
        Weapon         = PRIMARY    WildMarauderPikeMod
    End

    WeaponSet
        Conditions = PLAYER_UPGRADE
        Weapon = PRIMARY    WildMarauderPikeMod
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    ArmorSet
        Conditions      = None
        Armor           = EVIL_REGULAR_SPEARS
        DamageFX        = NormalDamageFX
    End
    ArmorSet
        Conditions      = PLAYER_UPGRADE
        Armor           = EVIL_REGULAR_SPEARS_HEAVY_ARMOR
        DamageFX        = NormalDamageFX
    End

    Behavior = StatusBitsUpgrade Level5_UpgradeDetection
        TriggeredBy        = Upgrade_ObjectLevel5
    End

    BuildFadeInOnCreateTime        = 0

    ShroudClearingRange         = 350
    VisionRange = 250

    VisionSide = 35%
    VisionRear = 25%

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 2.0%


    BountyValue                    = 15
    DisplayName                    = OBJECT:WildMarauder
    CrushableLevel                = 3
    CrusherLevel                = 0
    CrushRevengeWeapon            = AntiCavalryInfantryCrushRevenge

    CommandSet                    = WildMarauderCommandSet



    VoiceAttack                           = MarauderVoiceAttack
    VoiceAttackCharge                     = MarauderVoiceAttackCharge
    VoiceAttackMachine                    = MarauderVoiceAttack
    VoiceAttackStructure                  = MarauderVoiceAttackBuilding
    VoiceCreated                          = EVA:Half-TrollsCreated
    VoiceFullyCreated                     = EVA:Half-TrollsCreated
    VoiceGuard                            = MarauderVoiceMove
    VoiceMove                             = MarauderVoiceMove
    VoiceMoveToCamp                       = MarauderVoiceMoveCamp
    VoiceMoveWhileAttacking               = MarauderVoiceDisengage
    VoicePriority                         = 61
    VoiceRetreatToCastle                  = MarauderVoiceRetreat
    VoiceSelect                           = MarauderVoiceSelectEdain
    VoiceSelectBattle                     = MarauderVoiceSelectBattle

    VoiceEnterStateAttack                 = MarauderVoiceEnterStateAttack
    VoiceEnterStateAttackCharge           = MarauderVoiceEnterStateAttackCharge
    VoiceEnterStateAttackMachine          = MarauderVoiceEnterStateAttack
    VoiceEnterStateAttackStructure        = MarauderVoiceEnterStateAttackBuilding
    VoiceEnterStateMove                   = MarauderVoiceEnterStateMove
    VoiceEnterStateMoveToCamp             = MarauderVoiceEnterStateMoveCamp
    VoiceEnterStateMoveWhileAttacking     = MarauderVoiceEnterStateDisengage
    VoiceEnterStateRetreatToCastle        = MarauderVoiceEnterStateRetreat

    SoundImpact                           = ImpactHorse

    UnitSpecificSounds
        VoiceEnterUnitEvilMenTransportShip    = MarauderVoiceMoveShip
        VoiceEnterUnitMordorMumakil           = MarauderVoiceMoveGarrison
        VoiceEnterUnitSlaughterHouse          = MarauderVoiceMoveGarrison
        VoiceGarrison                         = MarauderVoiceMoveGarrison
        VoiceInitiateCaptureBuilding          = MarauderVoiceCaptureBuilding
    End

    CrowdResponseKey = Uruk

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallOrc            Animation:WUMARAUD_SKL.WUMARAUD_DIEA    Frames:72
        AnimationSound = Sound:BodyFallOrc            Animation:WUMARAUD_SKL.WUMARAUD_LNDA    Frames:7
    End

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:EMOTION_CELEBRATING    Excluded:DYING ENGAGED    Sound:EmotionMarauderCompilationVoxCheerSinglesLoop
        ModelCondition = Required:EMOTION_TAUNTING        Excluded:DYING ENGAGED    Sound:EmotionMarauderCompilationVoxTauntSinglesLoop
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionMarauderCompilationVoxTauntSinglesLoop
    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"



    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Marauder
    End



    RadarPriority    = UNIT
    KindOf        = ORC PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP ATTACK_NEEDS_LINE_OF_SIGHT

    Body                            = PorcupineFormationBodyModule ModuleTag_porcupineFormation
        CheerRadius                 = EMOTION_CHEER_RADIUS
        MaxHealth                    = 800
        MaxHealthDamaged            = 400
        DamageWeaponTemplate        = PikemenPorcupineDamage
        CrushDamageWeaponTemplate    = PikemenPorcupineCrushDamage
        CrusherLevelResisted        = 1
        BurningDeathBehavior         = Yes
        BurningDeathFX               = FX_InfantryBurningFlame
    End


    Behavior = ArmorUpgrade ArmorUpgradeModuleTag
        TriggeredBy        = Upgrade_HeavyArmor
        ArmorSetFlag    = PLAYER_UPGRADE
    End

    Behavior = SubObjectsUpgrade Armor_Upgrade
        TriggeredBy         = Upgrade_HeavyArmor
        UpgradeTexture      = WUMaraud_C.tga 0 WUMaraud_HA.tga
        UpgradeTexture      = exlnzflar2.tga  0 exlnzflar2_poison.tga

        ExcludeSubobjects   = Forged_Blade
    End

    Behavior = SubObjectsUpgrade Sword_Upgrade1
        TriggeredBy = Upgrade_AllFactionUpgrade
        HideSubObjects    = Forged_Blade
    END


    Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
        TriggeredBy = Upgrade_WildSpiderVenomSacks
        CustomAnimAndDuration = AnimState:USER_1 AnimTime:0
    End

    Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTagPlundern
        TriggeredBy = Upgrade_WildSpiderVenomSacks
    End

   ReplaceModule ModuleTag_DefaultShareExp
       Behavior = ShareExperienceBehavior ModuleTag_DefaultShareExp_Nekromant
          Radius            = 300.0
          ObjectFilter      = ANY +WildBeutewagen +WildBeutewagenFleisch +WildBeutewagenGold +WildBeutewagenBeute ALLIES
          DropOff           = 1.0
       End
    End

    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle         = Yes ATTACK_BUILDINGS
        AILuaEventsList                       = IsengardFighterFunctions
        MoodAttackCheckRate                = 500
        HoldGroundCloseRangeDistance    = 80
        AttackPriority                    = AttackPriority_Spearman
        BurningDeathTime                = BURNINGDEATH_DURATION_INFANTRY
    End

    LocomotorSet
        Locomotor     = HumanLocomotor
        Condition     = SET_NORMAL
        Speed         = NORMAL_FOOT_FAST_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor = BurningDeathLocomotorInfantry
        Condition = SET_BURNINGDEATH
        Speed      = 75
    End


    Behavior = AutoHealBehavior ModuleTag_RogashHealing
        StartsActive = No
        TriggeredBy  = Upgrade_ObjectLevel2
        HealingAmount = HERO_HEAL_AMOUNT
        HealingDelay = 5000
        StartHealingDelay = HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End


    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult                = 1.0
        ShockStunnedTimeLow        = 1400
        ShockStunnedTimeHigh    = 2400
        ShockStandingTime        = 2133
    End






    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes            = ALL -KNOCKBACK -EXTRA_8
        SinkDelay            = 3000
        SinkRate            = 4.0
        DestructionDelay    = 8000
        Sound                = INITIAL MarauderVoxDieMS
    End

    Behavior = SquishCollide ModuleTag_06

    End

    Behavior = SlowDeathBehavior ModuleTag_07

        DeathTypes            = NONE +KNOCKBACK
        SinkDelay            = 3000
        SinkRate            = 0.40
        DestructionDelay    = 8000
        Sound                = INITIAL MarauderVoxDieMS
    End



  Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.5
        DestructionDelay = 8000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus = DEATH_4
        StartsActive   = Yes
        DelayTime      = 0
        DeathWeapon    = GrabandDropHorsesImpactWarhead
        WeaponOffset   = X:0 Y:0 Z:0
  End

  Behavior = BezierProjectileBehavior ModuleTag_BodyHitHorse
        FirstHeight               = 24
        SecondHeight              = 24
        FirstPercentIndent        = 30%
        SecondPercentIndent       = 70%
        TumbleRandomly            = Yes
        CrushStyle                = Yes
        DieOnImpact               = Yes
        BounceCount               = 1
        BounceDistance            = 40
        BounceFirstHeight         = 24
        BounceSecondHeight        = 24
        BounceFirstPercentIndent  = 20%
        BounceSecondPercentIndent = 80%
        GroundHitFX               = FX_GrabandDropHorsesGroundHit
        GroundBounceFX            = FX_GrabandDropHorsesGroundHit
  End


    Behavior = HordeMemberCollide ModuleTag_HMC

    End






    Geometry            = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight        = 19.2
    GeometryIsSmall        = Yes

    Shadow                = SHADOW_DECAL
    ShadowSizeX            = 21
    ShadowSizeY            = 21
    ShadowTexture        = ShadowI
End



ChildObject WildMarauder_Slaved WildMarauder

      EvaEnemyObjectSightedEvent = GoblinCreepSighted
      EvaEnemyObjectSightedAfterRespawnEvent = GoblinCreepSighted

    KindOf = +CREEP

    VisionRange = CREEP_VISION

    ThreatBreakdown MordorGoblinSwordsmanSlaved_ThreatBreakdown
        AIKindOf = CREEP
    End

    CommandPoints           = 0

    Behavior = SlavedUpdate ModuleTag_Slave
        GuardMaxRange       = 300
        GuardWanderRange    = 75
        UseSlaverAsControlForEvaObjectSightedEvents = Yes
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = FighterHorde
    End

End


ChildObject WildMarauderLeibgarde WildMarauder

    SelectPortrait = HPDurbutz
    ButtonImage    = HIDurbutz

    Draw = W3DHordeModelDraw ModuleTag_01

        OkToChangeModelColor = Yes

        StaticModelLODMode = Yes


        LodOptions    = LOW
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_LOW
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_LOW
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_LOW
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_LOW
        End

        LodOptions    = MEDIUM
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_MED
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_MED
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_MED
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_MED
        End

        LodOptions    = HIGH
            AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_HIGH
            MaxRandomTextures        =    MAX_RANDOM_TEXTURES_HIGH
            MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_HIGH
            MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_HIGH
        End

        RandomTexture = exlnzflar2_poison.tga  0 exlnzflar2.tga
        RandomTexture = wumaraud_durburz.tga  0 wumaraud.tga
        RandomTexture = wumaraud_durburz.tga  0 wumaraud_c.tga

        DefaultModelConditionState
            Model = WUMaraud_SKN
        End

        ModelConditionState = COMING_OUT_OF_FACTORY
            Model = WUMaraud_SKN
        End

        ModelConditionState = USER_1
            ParticleSysBone FORGED_BLADE GiftKlingenFX02 FollowBone:Yes
            ParticleSysBone FORGED_BLADE GiftKlingenFX02 FollowBone:Yes
        End


        IdleAnimationState
            Flags = RANDOMSTART
            StateName = Bored
            Animation = IDLA
                AnimationName        = WUMaraud_SKL.WUMaraud_IDLA
                AnimationMode        = LOOP
                AnimationBlendTime    = 15
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Planted"    then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end

            EndScript
        End


        AnimationState                        = PASSENGER
            Animation                        = Grabbed
                AnimationName                = WUMaraud_SKL.WUMaraud_FLYA
                AnimationMode                = LOOP
            End
        End

        AnimationState                        = FREEFALL
            StateName                        = STATE_Falling
            Animation                        = Falling
                AnimationName                = WUMaraud_SKL.WUMaraud_FLYA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End



        AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A
             Animation = ATKC
                AnimationName        = WUMaraud_SKL.WUMaraud_ATKA
                AnimationMode        = LOOP
                UseWeaponTiming        = Yes
            End
        End

        AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
            Animation = ATKC
                AnimationName        = WUMaraud_SKL.WUMaraud_ATKA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
            StateName = PikeUp
        End

        AnimationState = ALTERNATE_FORMATION MOVING BACKING_UP
            Animation = Moving_Back
                AnimationName = WUMaraud_SKL.WUMaraud_BAKA
                AnimationMode = LOOP
            End
        End

        AnimationState = ALTERNATE_FORMATION MOVING
             Animation = ATKC
                AnimationName        = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode        = LOOP
            End
        End


        AnimationState                        = DYING BURNINGDEATH
            Animation
                AnimationName                = WUMaraud_SKL.WUMaraud_DIEA
                AnimationMode                = ONCE
                AnimationBlendTime            = 10
            End
        End

        AnimationState                        = ALTERNATE_FORMATION DYING SPLATTED
             Animation                        = Splat
                AnimationName                = WUMaraud_SKL.WUMaraud_LNDA
                AnimationMode                = ONCE
            End
        End

        AnimationState = ALTERNATE_FORMATION DYING AFLAME
            Animation = Flaming_Death
                AnimationName = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode = ONCE
            End
        End

        AnimationState =  ALTERNATE_FORMATION DYING
            Animation = Dying_1
                AnimationName = WUMaraud_SKL.WUMaraud_DIEA
                AnimationMode = ONCE
            End
        End


        AnimationState = ALTERNATE_FORMATION STUNNED_STANDING_UP
             Animation = Standing_Back_Up
                AnimationName = WUMaraud_SKL.WUMaraud_GTPA
                AnimationMode = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState = ALTERNATE_FORMATION STUNNED
             Animation = Splattered_On_Ground
                AnimationName = WUMaraud_SKL.WUMaraud_LNDA
                AnimationMode = ONCE
            End
        End

        AnimationState = ALTERNATE_FORMATION PORCUPINE
             Animation
                AnimationName        = WUMaraud_SKL.WUMaraud_PLTB
                AnimationMode        = LOOP
            End
            StateName = STATE_Planted
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev ~= "STATE_Planted"    and Prev ~= "Trans_Up_To_Down" then CurDrawableSetTransitionAnimState("Trans_Up_To_Down") return end
            EndScript
        End




        AnimationState = STUNNED_FLAILING
            Animation = Flying_1
                AnimationName = WUMaraud_SKL.WUMaraud_FLYA
                AnimationMode = LOOP
            End
            Flags                            = MAINTAIN_FRAME_ACROSS_STATES2
        End

        AnimationState = DYING SPLATTED
             Animation = Splat
                AnimationName = WUMaraud_SKL.WUMaraud_LNDA
                AnimationMode = ONCE
            End
        End




        AnimationState = DYING AFLAME
            Animation = Flaming_Death
                AnimationName = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode = ONCE
            End
        End

        AnimationState = DYING
            Animation = Dying_2
                AnimationName = WUMaraud_SKL.WUMaraud_DIEA
                AnimationMode = ONCE
            End
        End

        AnimationState = STUNNED_STANDING_UP
            Animation = Standing_Back_Up
                AnimationName = WUMaraud_SKL.WUMaraud_GTPA
                AnimationMode = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End

        AnimationState                        = STUNNED
            StateName                        = STATE_Stunned
            Animation                        = Splattered_On_Ground
                AnimationName                = WUMaraud_SKL.WUMaraud_LNDA
                AnimationMode                = ONCE
            End
        End


        AnimationState                        = BURNINGDEATH
            Animation
                AnimationName                = WUMaraud_SKL.WUMaraud_MFDA
                AnimationMode                = LOOP
                Distance                    = 120
            End
        End

        AnimationState                        = PARALYZED
            Animation
                AnimationName                = WUMaraud_SKL.WUMaraud_IDLA
                AnimationMode                = LOOP
            End
        End

        AnimationState  = COMING_OUT_OF_FACTORY
            Animation = Being_Built
                AnimationName        = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode        = LOOP
                AnimationBlendTime    = 0
            End
        End


        AnimationState = MOVING BACKING_UP
            Animation = Moving_Back
                AnimationName = WUMaraud_SKL.WUMaraud_BAKA
                AnimationMode = LOOP
            End
        End

        AnimationState = MOVING EMOTION_AFRAID
            Animation = Moving_1
                AnimationName = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode = LOOP
            End
            Flags = MAINTAIN_FRAME_ACROSS_STATES
            ParticleSysBone = None InfantryDustTrails
        End

        AnimationState = MOVING EMOTION_ALERT
            Animation = Moving_1
                AnimationName = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode = LOOP
            End
            Flags = MAINTAIN_FRAME_ACROSS_STATES
            ParticleSysBone = None InfantryDustTrails
        End

        AnimationState = MOVING ATTACKING
            Animation = Moving_1
                AnimationName = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode = LOOP
            End
            Flags = MAINTAIN_FRAME_ACROSS_STATES
            ParticleSysBone = None InfantryDustTrails
        End

        AnimationState = MOVING ENGAGED
            Animation = Moving_1
                AnimationName = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode = LOOP
            End
            Flags = MAINTAIN_FRAME_ACROSS_STATES
            ParticleSysBone = None InfantryDustTrails
        End

        AnimationState = MOVING
            Flags = RANDOMSTART
            Animation = Moving_1
                AnimationName = WUMaraud_SKL.WUMaraud_RUNB
                AnimationMode = LOOP
            End
            ParticleSysBone = None InfantryDustTrails
        End




        AnimationState =  FIRING_OR_PREATTACK_A
            Animation = KickSinceWeAreMelee
                AnimationName        = WUMaraud_SKL.WUMaraud_ATKA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
        End

        AnimationState =  FIRING_OR_PREATTACK_C
            Animation = KickSinceWeAreMelee
                AnimationName        = WUMaraud_SKL.WUMaraud_ATKA
                AnimationMode        = ONCE
                UseWeaponTiming        = Yes
            End
        End



        AnimationState                            = WAR_CHANT
            Animation                            = Chant
                AnimationName                    = WUMaraud_SKL.WUMaraud_IDLA
                AnimationMode                    = LOOP
            End
        End

        AnimationState                            = EMOTION_AFRAID
            Animation                            = FERA
                AnimationName                    = WUMaraud_SKL.WUMaraud_FERA
                AnimationMode                    = LOOP
            End
            Flags                                = RANDOMSTART
        End

        AnimationState                            = EMOTION_CELEBRATING
            Animation                            = CHRA
                AnimationName                    = WUMaraud_SKL.WUMaraud_CHRA
                AnimationMode                    = LOOP
            End
            Flags                                = RANDOMSTART
        End

        AnimationState                            = EMOTION_TAUNTING
            Animation
                AnimationName                    = WUMaraud_SKL.WUMaraud_TNTA
                AnimationMode                    = LOOP
            End
            Animation
                AnimationName                    = WUMaraud_SKL.WUMaraud_TNTB
                AnimationMode                    = LOOP
            End
            Flags                                = RANDOMSTART
        End

        AnimationState                            = EMOTION_POINTING
            Animation                            = Pointing1
                AnimationName                    = WUMaraud_SKL.WUMaraud_PNTA
                AnimationMode                    = LOOP
            End
            Flags                                = RANDOMSTART
        End

        AnimationState                            = RAISING_FLAG
            Animation                            = CHRA
                AnimationName                    = WUMaraud_SKL.WUMaraud_CHRA
                AnimationMode                    = LOOP
            End
        End

        AnimationState = SELECTED
            Animation                = Selected_Loop
                AnimationName        = WUMaraud_SKL.WUMaraud_ATNB
                AnimationMode        = LOOP
                AnimationBlendTime    = 10
            End
            StateName                = Selected
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Planted"    then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end
                if Prev == "Bored" then CurDrawableSetTransitionAnimState("TRANS_BS_Normal") end
            EndScript
            Flags = RESTART_ANIM_WHEN_COMPLETE
        End




        TransitionState = Trans_Down_To_Up
            Animation = Transition
                AnimationName = WUMaraud_SKL.WUMaraud_PLTC
                AnimationMode = ONCE
            End
        End

        TransitionState = Trans_Up_To_Down
            Animation = Transition
                AnimationName = WUMaraud_SKL.WUMaraud_PLTA
                AnimationMode = ONCE
            End
        End

        TransitionState = TRANS_BS_Normal
            Animation = Transition
                AnimationName                = WUMaraud_SKL.WUMaraud_ATNA
                AnimationMode                = ONCE
                AnimationBlendTime            = 20
                AnimationMustCompleteBlend    = Yes
            End
        End

        TransitionState = TRANS_SB_Normal
            Animation = Transition
                AnimationName                = WUMaraud_SKL.WUMaraud_IDLA
                AnimationMode                = ONCE
                AnimationBlendTime            = 10
                AnimationMustCompleteBlend    = Yes
            End
        End

        TransitionState = TRANS_SR_Alt
        End

        TransitionState = TRANS_RS_Alt
        End

        TransitionState = TRANS_BS_Alt
        End

        TransitionState = TRANS_SB_Alt
        End

        TransitionState = TRANS_BR_Alt
        End

        TransitionState = TRANS_RB_Alt
        End
    End


    DisplayName          = OBJECT:WildMarauderLeibgarde
    CommandPoints        = 0

    WeaponSet
        Conditions     = None
        Weapon         = PRIMARY    WildMarauderGardePikeMod
    End

    WeaponSet
        Conditions        = WEAPONSET_HERO_MODE
        Weapon            = PRIMARY    WildMarauderGardePikeMod
        Weapon            = TERTIARY   WildMarauderGardePikeMod
        OnlyInCondition   = TERTIARY   MOVING
    End

    ArmorSet
        Conditions      = None
        Armor           = EdainHeavyPikemanHeavyArmor
        DamageFX        = NormalDamageFX
    End

    Body                            = PorcupineFormationBodyModule ModuleTag_porcupineFormation
        CheerRadius                 = EMOTION_CHEER_RADIUS
        MaxHealth                   = 1200
        MaxHealthDamaged            = 600
        DamageWeaponTemplate        = PikemenPorcupineDamage
        CrushDamageWeaponTemplate   = PikemenPorcupineCrushDamage
        CrusherLevelResisted        = 1
        BurningDeathBehavior        = Yes
        BurningDeathFX              = FX_InfantryBurningFlame
    End

    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL
        Speed     = 52
    End

    LocomotorSet
        Locomotor = BurningDeathLocomotorInfantry
        Condition = SET_BURNINGDEATH
        Speed     = BURNINGDEATH_WANDERSPEED_INFANTRY
    End

    Behavior = SlavedUpdate ModuleTag_Slave
        LeashRange                                  = 150
        GuardMaxRange                               = 0
        GuardWanderRange                            = 0
        AttackRange                                 = 200
        UseSlaverAsControlForEvaObjectSightedEvents = No
        GuardPositionOffset                         = X:0.0 Y:35 Z:0
        DieOnMastersDeath                           = No
    End
End

ChildObject WildMarauderLeibgarde2 WildMarauderLeibgarde

    Behavior = SlavedUpdate ModuleTag_Slave
        LeashRange                                  = 150
        GuardMaxRange                               = 0
        GuardWanderRange                            = 0
        AttackRange                                 = 200
        UseSlaverAsControlForEvaObjectSightedEvents = No
        GuardPositionOffset                         = X:0.0 Y:-35 Z:0
        DieOnMastersDeath                           = No
    End
End

ChildObject WildMarauderLeibgarde3 WildMarauderLeibgarde

    Behavior = SlavedUpdate ModuleTag_Slave
        LeashRange                                  = 150
        GuardMaxRange                               = 0
        GuardWanderRange                            = 0
        AttackRange                                 = 200
        UseSlaverAsControlForEvaObjectSightedEvents = No
        GuardPositionOffset                         = X:-30.0 Y:35 Z:0
        DieOnMastersDeath                           = No
    End
End

ChildObject WildMarauderLeibgarde4 WildMarauderLeibgarde

    Behavior = SlavedUpdate ModuleTag_Slave
        LeashRange                                  = 150
        GuardMaxRange                               = 0
        GuardWanderRange                            = 0
        AttackRange                                 = 200
        UseSlaverAsControlForEvaObjectSightedEvents = No
        GuardPositionOffset                         = X:-30.0 Y:-35 Z:0
        DieOnMastersDeath                           = No
    End
End

ChildObject WildMarauderLeibgarde5 WildMarauderLeibgarde

    Behavior = SlavedUpdate ModuleTag_Slave
        LeashRange                                  = 150
        GuardMaxRange                               = 0
        GuardWanderRange                            = 0
        AttackRange                                 = 200
        UseSlaverAsControlForEvaObjectSightedEvents = No
        GuardPositionOffset                         = X:-50.0 Y:15 Z:0
        DieOnMastersDeath                           = No
    End
End

ChildObject WildMarauderLeibgarde6 WildMarauderLeibgarde

    Behavior = SlavedUpdate ModuleTag_Slave
        LeashRange                                  = 150
        GuardMaxRange                               = 0
        GuardWanderRange                            = 0
        AttackRange                                 = 200
        UseSlaverAsControlForEvaObjectSightedEvents = No
        GuardPositionOffset                         = X:-50.0 Y:-15 Z:0
        DieOnMastersDeath                           = No
    End
End

