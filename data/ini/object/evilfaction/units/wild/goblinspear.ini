Object GoblinSpear

  ButtonImage    = HIGoblinSpear_Wotr
  SelectPortrait = UPGoblinSpear

  Draw = W3DHordeModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    StaticModelLODMode   = Yes

    LodOptions    = LOW
        AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_LOW
        MaxRandomTextures        =    MAX_RANDOM_TEXTURES_LOW
        MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_LOW
        MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_LOW
    End

    LodOptions    = MEDIUM
        AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_MED
        MaxRandomTextures        =    MAX_RANDOM_TEXTURES_MED
        MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_MED
        MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_MED
    End

    LodOptions    = HIGH
        AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_HIGH
        MaxRandomTextures        =    MAX_RANDOM_TEXTURES_HIGH
        MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_HIGH
        MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_HIGH
    End

        RandomTexture = exlnzflar2_poison.tga  0 exlnzflar2.tga


    DefaultModelConditionState
       Model    = wugobspr_ska
       Model    = wugobspr_skb  ExtraMesh:Yes
       Model    = wugobspr_skc  ExtraMesh:Yes
       Model    = wugobspr_skd  ExtraMesh:Yes
       Model    = wugobspr_ske  ExtraMesh:Yes
       Model    = wugobspr_skf  ExtraMesh:Yes
       Skeleton = MUGblnSwrd_SKL
    End

    ModelConditionState = USER_1
       Model    = wugobspr_ska
       Model    = wugobspr_skb  ExtraMesh:Yes
       Model    = wugobspr_skc  ExtraMesh:Yes
       Model    = wugobspr_skd  ExtraMesh:Yes
       Model    = wugobspr_ske  ExtraMesh:Yes
       Model    = wugobspr_skf  ExtraMesh:Yes
       Skeleton = MUGblnSwrd_SKL
       ParticleSysBone = FORGED_BLADE GoblinPoisonSword FollowBone:Yes
    End

        #include "goblinspearanims.inc"	
End


    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"

  Side = Wild
  EditorSorting = UNIT
  ThreatLevel = 1.0
  ThingClass = HORDE_UNIT
  CommandPoints = 2
    ShockwaveResistance          = 5

  TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

    WeaponSet
        Conditions = None
        Weapon = PRIMARY    GoblinPikemanPike
    End

  ArmorSet
    Conditions      = None
    Armor           = GoblinPikemenArmor
    DamageFX        = NormalDamageFX
  End

  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = GoblinPikemanScavengedArmor
    DamageFX        = NormalDamageFX
  End

    BuildFadeInOnCreateTime = 0

      VisionRange = 200
     ShroudClearingRange = 200

      VisionSide = 35%
    VisionRear = 25%

    MaxVisionBonusPercent = 200%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 2.0%

  BountyValue = 2
  DisplayName = OBJECT:GoblinPikeman
  CrushableLevel = 0
  CrusherLevel = 0
     CrushRevengeWeapon = OrcPikemanCrushRevenge

  CommandSet = IsengardPikemanCommandSet

    VoiceAttack                                = GoblinWarriorVoiceAttack
    VoiceAttackCharge                        = GoblinWarriorVoiceAttackCharge
    VoiceAttackMachine                        = GoblinWarriorVoiceAttack
    VoiceAttackStructure                    = GoblinWarriorVoiceAttackBuilding
    VoiceCreated                            = EVA:GoblinWarriorCreated
    VoiceFullyCreated                        = EVA:GoblinWarriorCreated
    VoiceGuard                                = GoblinWarriorVoiceGuard
    VoiceMove                                = GoblinWarriorVoiceMove
    VoiceMoveOverWalls                        = GoblinWarriorVoiceMoveWalls
    VoiceMoveToCamp                            = GoblinWarriorVoiceMoveCamp
    VoiceMoveWhileAttacking                    = GoblinWarriorVoiceDisengage
    VoicePriority                            = 30
    VoiceRetreatToCastle                    = GoblinWarriorVoiceRetreat
    VoiceSelect                                = GoblinWarriorVoiceSelectMS
    VoiceSelectBattle                         = GoblinWarriorVoiceSelectBattle

    VoiceEnterStateAttack                    = GoblinWarriorVoiceEnterStateAttack
    VoiceEnterStateAttackCharge                = GoblinWarriorVoiceEnterStateAttackCharge
    VoiceEnterStateAttackMachine            = GoblinWarriorVoiceEnterStateAttack
    VoiceEnterStateAttackStructure            = GoblinWarriorVoiceEnterStateAttackBuilding
    VoiceEnterStateMove                        = GoblinWarriorVoiceEnterStateMove
    VoiceEnterStateMoveOverWalls            = GoblinWarriorVoiceEnterStateMoveWalls
    VoiceEnterStateMoveToCamp                = GoblinWarriorVoiceEnterStateMoveCamp
    VoiceEnterStateMoveWhileAttacking        = GoblinWarriorVoiceEnterStateDisengage
    VoiceEnterStateRetreatToCastle            = GoblinWarriorVoiceEnterStateRetreat

    SoundImpact                                = ImpactHorse

    UnitSpecificSounds
        VoiceEnterUnitEvilMenTransportShip    = GoblinWarriorVoiceMoveShip
        VoiceEnterUnitMordorMumakil            = GoblinWarriorVoiceMoveGarrison
        VoiceEnterUnitSlaughterHouse        = GoblinWarriorVoiceMoveGarrison
        VoiceGarrison                        = GoblinWarriorVoiceMoveGarrison
        VoiceInitiateCaptureBuilding        = GoblinWarriorVoiceCaptureBuilding
    End

    CrowdResponseKey = Uruk

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionUrukCompilationVoxTauntSinglesLoop
    End

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Orc_Infantry UrukHai_Pikeman
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
          MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallGeneric2    Animation:MUGblnSwrd_SKL.MUGblnSwrd_DIEA    Frames:10
        AnimationSound = Sound:BodyFallGeneric2    Animation:MUGblnSwrd_SKL.MUGblnSwrd_DIEB    Frames:7
        AnimationSound = Sound:BodyFallOrc        Animation:MUGblnSwrd_SKL.MUGblnSwrd_LNDB    Frames:6
        AnimationSound = Sound:BodyFallOrc        Animation:MUGblnSwrd_SKL.MUGblnSwrd_LNDC    Frames:3
    End

  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP ORC ATTACK_NEEDS_LINE_OF_SIGHT CAN_USE_SIEGE_TOWER PIKE

    Body            =    PorcupineFormationBodyModule ModuleTag_porcupineFormation
        CheerRadius             = EMOTION_CHEER_RADIUS
        MaxHealth               = LOW_TIER_HEALTH_2
        MaxHealthDamaged        = LOW_TIER_HEALTH_2_DAMAGED
        DamageWeaponTemplate    = PikemenPorcupineDamage
        CrushDamageWeaponTemplate    = PikemenPorcupineCrushDamage
        CrusherLevelResisted        = 1
        BurningDeathBehavior = Yes
        BurningDeathFX       = FX_InfantryBurningFlame
        CheerRadius = EMOTION_CHEER_RADIUS
    End

    Behavior = ArmorUpgrade WildModuleArmorUpgrade
        TriggeredBy       =    Upgrade_HeavyArmor
        ArmorSetFlag      =    PLAYER_UPGRADE
    End

    Behavior = SubObjectsUpgrade ModuleTag_Making2
        TriggeredBy       = Upgrade_HeavyArmor
        HideSubObjects    = HEAD03 HEAD02
        ShowSubObjects    = SHOULDER ARM HEAD01 SHIELD
    End

    Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
        TriggeredBy = Upgrade_WildOrcVenomSacks
        CustomAnimAndDuration = AnimState:USER_1 AnimTime:0
    End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle   = Yes ATTACK_BUILDINGS
    AILuaEventsList              = GoblinFighterFunctions
    MoodAttackCheckRate          = 500
    HoldGroundCloseRangeDistance = 80
    AttackPriority               = AttackPriority_Spearman
    BurningDeathTime             = BURNINGDEATH_DURATION_INFANTRY
  End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = NORMAL_WILD_FAST_MEMBER_SPEED
  End

  LocomotorSet
    Locomotor = BurningDeathLocomotorInfantry
    Condition = SET_BURNINGDEATH
    Speed      = BURNINGDEATH_WANDERSPEED_INFANTRY
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult                = 1.0
    ShockStunnedTimeLow        = 1400
    ShockStunnedTimeHigh    = 2400
    ShockStandingTime        = 2133
  End


  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -KNOCKBACK -EXTRA_8
    SinkDelay = 3000
    SinkRate = 0.40
    DestructionDelay = 8000
    Sound = INITIAL GoblinCreepVoxDie
  End

  Behavior = SquishCollide ModuleTag_06

  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = NONE +KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40
    DestructionDelay = 8000
    Sound = INITIAL GoblinCreepVoxDie
  End

    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End

  Behavior = HordeMemberCollide ModuleTag_HMC
  End

  Scale = 0.95
  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 21
  ShadowSizeY = 21
  ShadowTexture = ShadowI
End


Object GoblinSpear_Slaved

  ButtonImage    = HSGoblinSpear
  SelectPortrait = UPGoblinSpear

  Draw = W3DHordeModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    StaticModelLODMode = Yes


    LodOptions    = LOW
        AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_LOW
        MaxRandomTextures        =    MAX_RANDOM_TEXTURES_LOW
        MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_LOW
        MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_LOW
    End

    LodOptions    = MEDIUM
        AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_MED
        MaxRandomTextures        =    MAX_RANDOM_TEXTURES_MED
        MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_MED
        MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_MED
    End

    LodOptions    = HIGH
        AllowMultipleModels        =    ALLOW_MULTIPLE_MODELS_HIGH
        MaxRandomTextures        =    MAX_RANDOM_TEXTURES_HIGH
        MaxRandomAnimations        =    MAX_RANDOM_ANIMATIONS_HIGH
        MaxAnimFrameDelta        =    MAX_ANIM_FRAME_DELTA_HIGH
    End

    DefaultModelConditionState
       Model    = wugobspr_ska
       Model    = wugobspr_skb  ExtraMesh:Yes
       Model    = wugobspr_skc  ExtraMesh:Yes
       Model    = wugobspr_skd  ExtraMesh:Yes
       Model    = wugobspr_ske  ExtraMesh:Yes
       Model    = wugobspr_skf  ExtraMesh:Yes
       Skeleton = MUGblnSwrd_SKL
    End

    ModelConditionState = USER_1
       Model    = wugobspr_ska
       Model    = wugobspr_skb  ExtraMesh:Yes
       Model    = wugobspr_skc  ExtraMesh:Yes
       Model    = wugobspr_skd  ExtraMesh:Yes
       Model    = wugobspr_ske  ExtraMesh:Yes
       Model    = wugobspr_skf  ExtraMesh:Yes
       Skeleton = MUGblnSwrd_SKL
       ParticleSysBone = FORGED_BLADE GoblinPoisonSword FollowBone:Yes
    End


        #include "goblinspearanims.inc"	
End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"

  Side = Wild
  EditorSorting = UNIT
  ThreatLevel = 1.0
  ThingClass = HORDE_UNIT
    VisionRange = CREEP_VISION
    DisplayName = OBJECT:GenericGoblinSpear

    ThreatBreakdown MordorGoblinSwordsmanSlaved_ThreatBreakdown
        AIKindOf = CREEP
    End
  TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

    WeaponSet
        Conditions = None
        Weapon = PRIMARY    GoblinPikemanPike
    End

    WeaponSet
        Conditions 	  = PLAYER_UPGRADE
        Weapon 		  = PRIMARY    GoblinPikemanPike
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

  ArmorSet
    Conditions      = None
    Armor           = EdainPikemanArmor
    DamageFX        = NormalDamageFX
  End

  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = EdainPikemanScavengedArmor
    DamageFX        = NormalDamageFX
  End

  BuildFadeInOnCreateTime = 0

  ShroudClearingRange = 250

  VisionSide = 35%
  VisionRear = 25%

  MaxVisionBonusPercent = 300%
  VisionBonusTestRadius = 200
  VisionBonusPercentPerFoot = 2.0%

  BountyValue = 0
  CrushableLevel = 0
  CrusherLevel = 0
  CrushRevengeWeapon = OrcPikemanCrushRevenge

  CommandSet = IsengardPikemanCommandSet

    VoiceAttack                             = GoblinCreepVoxAttack
    VoiceAttackAir                            = GoblinCreepVoxAttack
    VoiceAttackStructure                    = GoblinCreepVoxAttack
    VoiceAttackCharge                        = GoblinCreepVoxAttack
    VoiceMove                                 = GoblinCreepVoxMove
    VoiceMoveWhileAttacking                    = GoblinCreepVoxMove
    VoicePriority                            = 3
    VoiceRetreatToCastle                    = GoblinCreepVoxMove
    VoiceSelect                             = GoblinCreepVoxSelectMS
    VoiceSelectBattle                        = GoblinCreepVoxSelectMS

    SoundImpact                             = ImpactHorse

    UnitSpecificSounds
        VoiceGarrison                        = GoblinCreepVoxMove
        VoiceEnterUnitSlaughterHouse        = GoblinCreepVoxMove
        VoiceEnterUnitMordorMumakil            = GoblinCreepVoxMove
        VoiceEnterUnitEvilMenTransportShip    = GoblinCreepVoxMove
        VoiceEnterUnitTransportShip            = GoblinCreepVoxMove
        VoiceInitiateCaptureBuilding        = GoblinCreepVoxMove
    End

    CrowdResponseKey = Uruk

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionUrukCompilationVoxTauntSinglesLoop
    End

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Orc_Infantry UrukHai_Pikeman
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallGeneric2   Animation:MUGblnSwrd_SKL.MUGblnSwrd_DIEA    Frames:10
        AnimationSound = Sound:BodyFallGeneric2   Animation:MUGblnSwrd_SKL.MUGblnSwrd_DIEB    Frames:7
        AnimationSound = Sound:BodyFallOrc        Animation:MUGblnSwrd_SKL.MUGblnSwrd_LNDB    Frames:6
        AnimationSound = Sound:BodyFallOrc        Animation:MUGblnSwrd_SKL.MUGblnSwrd_LNDC    Frames:3
    End

  RadarPriority = UNIT
      CommandPoints = 0

      EvaEnemyObjectSightedEvent = GoblinCreepSighted
      EvaEnemyObjectSightedAfterRespawnEvent = GoblinCreepSighted


    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER CAN_USE_SIEGE_TOWER THROWN_OBJECT ORC GRAB_AND_DROP CREEP SCORE CAN_ATTACK

    Body                    =    PorcupineFormationBodyModule ModuleTag_porcupineFormation
        CheerRadius             = EMOTION_CHEER_RADIUS
        MaxHealth            =    LOW_TIER_HEALTH_2
        MaxHealthDamaged        =    LOW_TIER_HEALTH_2_DAMAGED
        DamageWeaponTemplate        =    PikemenPorcupineDamage
        CrushDamageWeaponTemplate    =    PikemenPorcupineCrushDamage
        CrusherLevelResisted        =    1
        BurningDeathBehavior = Yes
        BurningDeathFX       = FX_InfantryBurningFlame
        CheerRadius = EMOTION_CHEER_RADIUS
    End

    Behavior = ArmorUpgrade WildModuleArmorUpgrade
        TriggeredBy       =    Upgrade_HeavyArmor
        ArmorSetFlag      =    PLAYER_UPGRADE
    End

    Behavior = SubObjectsUpgrade ModuleTag_Making
        TriggeredBy       = Upgrade_ObjectLevel1
        HideSubObjects    = FEET SHOULDER SHIELD ARM HEAD01 HEAD03 WEAPON02 WEAPON03 WEAPON04 WEAPON05
        ShowSubObjects    = HEAD02
    End

    Behavior = SubObjectsUpgrade ModuleTag_Making2
        TriggeredBy       = Upgrade_HeavyArmor
        HideSubObjects    = HEAD03 HEAD02
        ShowSubObjects    = FEET SHOULDER ARM HEAD01 SHIELD
    End


    Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
        TriggeredBy = Upgrade_WildOrcVenomSacks
        CustomAnimAndDuration = AnimState:USER_1 AnimTime:0
    End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle   = Yes ATTACK_BUILDINGS
    AILuaEventsList              = GoblinFighterFunctions
    MoodAttackCheckRate          = 500
    HoldGroundCloseRangeDistance = 80
    AttackPriority               = AttackPriority_Spearman
    BurningDeathTime             = BURNINGDEATH_DURATION_INFANTRY
  End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = NORMAL_WILD_FAST_MEMBER_SPEED
  End

    Behavior = SlavedUpdate ModuleTag_Slave
        GuardMaxRange        = 300
        GuardWanderRange    = 50
        UseSlaverAsControlForEvaObjectSightedEvents = Yes
    End

    Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = FighterHorde
    End

     Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance        =    350
        TauntAndPointUpdateDelay    =    1000
        TauntAndPointExcluded        =    NONE
        AfraidOf                    =    EMOTION_AFRAIDOF_OBJECTFILTER_LANCERS
        AlwaysAfraidOf                =    EMOTION_ALWAYS_AFRAIDOF_OBJECTFILTER_LANCERS
        PointAt                        =    EMOTION_POINTAT_OBJECTFILTER_LANCERS
        HeroScanDistance            =    150
        FearScanDistance            =    250

        AddEmotion    =    Terror_Base
        AddEmotion    =    Doom_Base
        AddEmotion    =    BraceForBeingCrushed_Base
        AddEmotion    =    UncontrollableFear_Base_Evil
        AddEmotion    =    FearIdle_Base
        AddEmotion    =    FearBusy_Base
        AddEmotion    =    Point_Base
        AddEmotion    =    Taunt_Base
        AddEmotion    =    CheerIdle_Base
        AddEmotion    =    CheerBusy_Base
        AddEmotion    =    HeroCheerIdle_Base
        AddEmotion    =    HeroCheerBusy_Base
        AddEmotion    =    Alert_Base
    End

  LocomotorSet
    Locomotor = BurningDeathLocomotorInfantry
    Condition = SET_BURNINGDEATH
    Speed      = BURNINGDEATH_WANDERSPEED_INFANTRY
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult                = 1.0
    ShockStunnedTimeLow        = 1400
    ShockStunnedTimeHigh    = 2400
    ShockStandingTime        = 2133
  End


  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -KNOCKBACK -EXTRA_8
    SinkDelay = 3000
    SinkRate = 0.40
    DestructionDelay = 8000
    Sound = INITIAL GoblinCreepVoxDie
  End

     Behavior = AttributeModifierUpgrade ModuleTag_CrushDecelerateBonus
        TriggeredBy       = Upgrade_AllFactionUpgrade
        AttributeModifier = Crushed_Decelerate_Pikes
    End

  Behavior = SquishCollide ModuleTag_06
  End

  Behavior = SlowDeathBehavior ModuleTag_07

    DeathTypes = NONE +KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40
    DestructionDelay = 8000
    Sound = INITIAL UrukVoiceDie
  End

    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8
        SinkDelay        = 3000
        SinkRate         = 0.60
        DestructionDelay = 10000
        DeathFlags       = DEATH_4
        ShadowWhenDead   = Yes
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End

    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End

  Behavior = HordeMemberCollide ModuleTag_HMC
  End

  Scale = 0.95
  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 21
  ShadowSizeY = 21
  ShadowTexture = ShadowI
End


Object GoblinSpearUpgraded

    ButtonImage    = BIDurbagashWarriorSpear
    SelectPortrait = UPDurbagashWarriorSpear

  Draw = W3DHordeModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    StaticModelLODMode   = Yes

        LodOptions                            = LOW
            AllowMultipleModels                = ALLOW_MULTIPLE_MODELS_LOW
            MaxRandomTextures                = MAX_RANDOM_TEXTURES_LOW
            MaxRandomAnimations                = MAX_RANDOM_ANIMATIONS_LOW
            MaxAnimFrameDelta                = MAX_ANIM_FRAME_DELTA_LOW
        End

        LodOptions                            = MEDIUM
            AllowMultipleModels                = ALLOW_MULTIPLE_MODELS_MED
            MaxRandomTextures                = MAX_RANDOM_TEXTURES_MED
            MaxRandomAnimations                = MAX_RANDOM_ANIMATIONS_MED
            MaxAnimFrameDelta                = MAX_ANIM_FRAME_DELTA_MED
        End

        LodOptions                            = HIGH
            AllowMultipleModels                = ALLOW_MULTIPLE_MODELS_HIGH
            MaxRandomTextures                = MAX_RANDOM_TEXTURES_HIGH
            MaxRandomAnimations                = MAX_RANDOM_ANIMATIONS_HIGH
            MaxAnimFrameDelta                = MAX_ANIM_FRAME_DELTA_HIGH
        End

        WadingParticleSys = WaterRipplesTrail

	DefaultModelConditionState
		Model 	 = mugblnspear_dd1
		Model 	 = mugblnspear_dd2 ExtraMesh:Yes
		Model 	 = mugblnspear_dd3 ExtraMesh:Yes
	End

    	ModelConditionState = WEAPONSET_TOGGLE_1
		Model 	 = mugblnspear_dd1
		Model 	 = mugblnspear_dd2 ExtraMesh:Yes
		Model 	 = mugblnspear_dd3 ExtraMesh:Yes
       		ParticleSysBone = B_HATCHET GoblinPoisonSword FollowBone:Yes
    	End

	RandomTexture  = mugobarch_dd07.tga 0 mugobarch_dd.tga
	RandomTexture  = mugobarch_dd08.tga 0 mugobarch_dd.tga

	RandomTexture  = mbblackgt1.tga 0 mbblackgt1.tga
	RandomTexture  = mugblnswrd_dd.tga 0 mugblnswrd_dd.tga
	RandomTexture  = mugobweap.tga 0 mugobweap.tga

	RandomTexture  = wugobsword.tga 0 wugobsword.tga

	RandomTexture  = wuhob_armor_04.tga 0 wuhob_armor.tga

	RandomTexture  = wuhob_armor2.tga 0 wuhob_armor2.tga
	
	RandomTexture  = wuhob_helm_05.tga 0 wuhob_helm.tga

	RandomTexture  = wumorgob_stuff.tga 0 wumorgob_stuff.tga

	RandomTexture  = wuhob_axe_02.tga 0 wuhob_axe.tga
	
	RandomTexture  = mugobarch_dd11.tga 0 mugobarch_dd.tga
	RandomTexture  = mugobarch_dd12.tga 0 mugobarch_dd.tga

	IdleAnimationState
		Flags = RANDOMSTART
		StateName = Bored
		Animation = IDLA
			AnimationName		= WUMaraud_SKL.WUMaraud_IDLA
			AnimationMode		= LOOP
			AnimationBlendTime	= 15
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Planted"	then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end
		EndScript
	End


	AnimationState	= PASSENGER
		Animation	= Grabbed
			AnimationName	= WUMaraud_SKL.WUMaraud_FLYA
			AnimationMode	= LOOP
		End
	End

	AnimationState	= FREEFALL
		StateName	= STATE_Falling
		Animation	= Falling
			AnimationName	= WUMaraud_SKL.WUMaraud_FLYA
			AnimationMode	= LOOP
			AnimationBlendTime	= 10
		End
	End

	AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A
	 	Animation = ATKC
			AnimationName	= WUMaraud_SKL.WUMaraud_ATKA
			AnimationMode	= LOOP
			UseWeaponTiming	= Yes
		End
	End

	AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
		Animation = ATKC
			AnimationName	= WUMaraud_SKL.WUMaraud_ATKA
			AnimationMode	= ONCE
			UseWeaponTiming	= Yes
		End
		StateName = PikeUp
	End

	AnimationState = ALTERNATE_FORMATION MOVING BACKING_UP
		Animation = Moving_Back
			AnimationName = WUMaraud_SKL.WUMaraud_BAKA
			AnimationMode = LOOP
		End
	End

	AnimationState = ALTERNATE_FORMATION MOVING
	 	Animation = ATKC
			AnimationName	= WUMaraud_SKL.WUMaraud_RUNA
			AnimationMode	= LOOP
		End
	 	Animation = ATKC
			AnimationName	= WUMaraud_SKL.WUMaraud_RUNA
			AnimationMode	= LOOP
		End
	End

	AnimationState	= DYING BURNINGDEATH
		Animation
			AnimationName	= WUMaraud_SKL.WUMaraud_DIEA
			AnimationMode	= ONCE
			AnimationBlendTime	= 10
		End
	End

	AnimationState	= ALTERNATE_FORMATION DYING SPLATTED
 		Animation	= Splat
			AnimationName	= WUMaraud_SKL.WUMaraud_LNDA
			AnimationMode	= ONCE
		End
	End

	AnimationState = ALTERNATE_FORMATION DYING AFLAME
		Animation = Flaming_Death
			AnimationName = WUMaraud_SKL.WUMaraud_RUNA
			AnimationMode = ONCE
		End
		Animation = Flaming_Death
			AnimationName = WUMaraud_SKL.WUMaraud_RUNA
			AnimationMode = ONCE
		End
	End

	AnimationState =  ALTERNATE_FORMATION DYING
		Animation = Dying_1
			AnimationName = WUMaraud_SKL.WUMaraud_DIEA
			AnimationMode = ONCE
		End
	End

	AnimationState = ALTERNATE_FORMATION STUNNED_STANDING_UP
 		Animation = Standing_Back_Up
			AnimationName = WUMaraud_SKL.WUMaraud_GTPA
			AnimationMode = ONCE
			AnimationSpeedFactorRange = 1.5 1.5
		End
	End

	AnimationState = ALTERNATE_FORMATION STUNNED
 		Animation = Splattered_On_Ground
			AnimationName = WUMaraud_SKL.WUMaraud_LNDA
			AnimationMode = ONCE
		End
	End

	AnimationState = ALTERNATE_FORMATION PORCUPINE
	 	Animation
			AnimationName	= WUMaraud_SKL.WUMaraud_PLTB
			AnimationMode	= LOOP
		End
		StateName = STATE_Planted
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev ~= "STATE_Planted"	and Prev ~= "Trans_Up_To_Down" then CurDrawableSetTransitionAnimState("Trans_Up_To_Down") return end
		EndScript
	End

	AnimationState = STUNNED_FLAILING
		Animation = Flying_1
			AnimationName = WUMaraud_SKL.WUMaraud_FLYA
			AnimationMode = LOOP
		End
		Flags	= MAINTAIN_FRAME_ACROSS_STATES2
	End

	AnimationState = DYING SPLATTED
 		Animation = Splat
			AnimationName = WUMaraud_SKL.WUMaraud_LNDA
			AnimationMode = ONCE
		End
	End

	AnimationState = DYING AFLAME
		Animation = Flaming_Death
			AnimationName = WUMaraud_SKL.WUMaraud_RUNA
			AnimationMode = ONCE
		End
		Animation = Flaming_Death
			AnimationName = WUMaraud_SKL.WUMaraud_RUNA
			AnimationMode = ONCE
		End
	End

	AnimationState = DYING
		Animation = Dying_2
			AnimationName = WUMaraud_SKL.WUMaraud_DIEA
			AnimationMode = ONCE
		End
	End

	AnimationState = DYING
		Animation = Dying_2
			AnimationName = WUMaraud_SKL.WUMaraud_DTHA
			AnimationMode = ONCE
		End
		Animation = Dying_2
			AnimationName = WUMaraud_SKL.WUMaraud_DTHB
			AnimationMode = ONCE
		End
	End

	AnimationState = STUNNED_STANDING_UP
		Animation = Standing_Back_Up
			AnimationName = WUMaraud_SKL.WUMaraud_GTPA
			AnimationMode = ONCE
			AnimationSpeedFactorRange = 1.5 1.5
		End
	End

	AnimationState	= STUNNED
		StateName		= STATE_Stunned
		Animation		= Splattered_On_Ground
			AnimationName	= WUMaraud_SKL.WUMaraud_LNDA
			AnimationMode	= ONCE
		End
	End

	AnimationState	= BURNINGDEATH
		Animation
			AnimationName	= WUMaraud_SKL.WUMaraud_MFDA
			AnimationMode	= LOOP
			Distance	= 120
		End
	End

	AnimationState	= PARALYZED
		Animation
			AnimationName	= WUMaraud_SKL.WUMaraud_IDLA
			AnimationMode	= LOOP
		End
	End

	AnimationState  = COMING_OUT_OF_FACTORY
		Animation = Being_Built
			AnimationName		= WUMaraud_SKL.WUMaraud_RUNA
			AnimationMode		= LOOP
			AnimationBlendTime	= 0
		End
	End


	AnimationState = MOVING FIRING_OR_PREATTACK_A
		Animation = TrotAndFire
			AnimationName = WUMaraud_SKL.WUMaraud_ATRA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
	End

	AnimationState = MOVING BACKING_UP
		Animation = Moving_Back
			AnimationName = WUMaraud_SKL.WUMaraud_BAKA
			AnimationMode = LOOP
		End
	End

	AnimationState = MOVING EMOTION_AFRAID
		Animation = Moving_1
			AnimationName = WUMaraud_SKL.WUMaraud_RUNA
			AnimationMode = LOOP
		End
		Flags = MAINTAIN_FRAME_ACROSS_STATES
		ParticleSysBone = None InfantryDustTrails
	End

	AnimationState = MOVING EMOTION_ALERT
		Animation = Moving_1
			AnimationName = WUMaraud_SKL.WUMaraud_RUNA
			AnimationMode = LOOP
		End
		Flags = MAINTAIN_FRAME_ACROSS_STATES
		ParticleSysBone = None InfantryDustTrails
	End

	AnimationState = MOVING ATTACKING
		Animation = Moving_1
			AnimationName = WUMaraud_SKL.WUMaraud_RUNA
			AnimationMode = LOOP
		End
		Flags = MAINTAIN_FRAME_ACROSS_STATES
		ParticleSysBone = None InfantryDustTrails
	End

	AnimationState = MOVING ENGAGED
		Animation = Moving_1
			AnimationName = WUMaraud_SKL.WUMaraud_RUNA
			AnimationMode = LOOP
		End
		Flags = MAINTAIN_FRAME_ACROSS_STATES
		ParticleSysBone = None InfantryDustTrails
	End

	AnimationState = MOVING
		Flags = RANDOMSTART
		Animation = Moving_1
			AnimationName = WUMaraud_SKL.WUMaraud_RUNA
			AnimationMode = LOOP
		End
		Animation = Moving_1
			AnimationName = WUMaraud_SKL.WUMaraud_RUNA
			AnimationMode = LOOP
		End
		ParticleSysBone = None InfantryDustTrails
	End

	AnimationState =  FIRING_OR_PREATTACK_A
		Animation = KickSinceWeAreMelee
			AnimationName	= WUMaraud_SKL.WUMaraud_ATKA
			AnimationMode	= ONCE
			UseWeaponTiming	= Yes
		End
	End

	AnimationState	= WAR_CHANT
		Animation		= Chant
			AnimationName	= WUMaraud_SKL.WUMaraud_IDLA
			AnimationMode	= LOOP
		End
	End

	AnimationState	= EMOTION_AFRAID
		Animation	= FERA
			AnimationName	= WUMaraud_SKL.WUMaraud_FERA
			AnimationMode	= LOOP
		End
		Flags	= RANDOMSTART
	End

	AnimationState	= EMOTION_CELEBRATING
		Animation	= CHRA
			AnimationName	= WUMaraud_SKL.WUMaraud_CHRA
			AnimationMode	= LOOP
		End
		Flags	= RANDOMSTART
	End

	AnimationState	= EMOTION_TAUNTING
		Animation
			AnimationName	= WUMaraud_SKL.WUMaraud_TNTA
			AnimationMode	= LOOP
		End
		Animation
			AnimationName	= WUMaraud_SKL.WUMaraud_TNTB
			AnimationMode	= LOOP
		End
		Flags	= RANDOMSTART
	End

	AnimationState	= EMOTION_POINTING
		Animation	= Pointing1
			AnimationName	= WUMaraud_SKL.WUMaraud_PNTA
			AnimationMode	= LOOP
		End
		Flags	= RANDOMSTART
	End

	AnimationState	= RAISING_FLAG
		Animation	= CHRA
			AnimationName	= WUMaraud_SKL.WUMaraud_CHRA
			AnimationMode	= LOOP
		End
	End

	AnimationState = SELECTED
		Animation	= Selected_Loop
			AnimationName		= WUMaraud_SKL.WUMaraud_ATNB
			AnimationMode		= LOOP
			AnimationBlendTime	= 10
		End
		StateName				= Selected
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Planted"	then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end
			if Prev == "Bored" then CurDrawableSetTransitionAnimState("TRANS_BS_Normal") end
		EndScript
		Flags = RESTART_ANIM_WHEN_COMPLETE
	End

	TransitionState = Trans_Down_To_Up
		Animation = Transition
			AnimationName = WUMaraud_SKL.WUMaraud_PLTC
			AnimationMode = ONCE
		End
	End

	TransitionState = Trans_Up_To_Down
		Animation = Transition
			AnimationName = WUMaraud_SKL.WUMaraud_PLTA
			AnimationMode = ONCE
		End
	End

	TransitionState = TRANS_BS_Normal
		Animation = Transition
			AnimationName	= WUMaraud_SKL.WUMaraud_ATNA
			AnimationMode	= ONCE
			AnimationBlendTime	= 20
			AnimationMustCompleteBlend	= Yes
		End
	End

	TransitionState = TRANS_SB_Normal
		Animation = Transition
			AnimationName	= WUMaraud_SKL.WUMaraud_IDLA
			AnimationMode	= ONCE
			AnimationBlendTime	= 10
			AnimationMustCompleteBlend	= Yes
		End
	End

	TransitionState = TRANS_SR_Alt
	End

	TransitionState = TRANS_RS_Alt
	End

	TransitionState = TRANS_BS_Alt
	End

	TransitionState = TRANS_SB_Alt
	End

	TransitionState = TRANS_BR_Alt
	End

	TransitionState = TRANS_RB_Alt
	End
End

    Draw = W3DScriptedModelDraw Icon
        ModelConditionState = NONE
            Model           = bbox
        End
    End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"

    Side                  = Wild
    IsTrainable           = Yes
    EditorSorting         = UNIT
    ThreatLevel           = 1.0
    ThingClass            = HORDE_UNIT
    CommandPoints         = 2
    TransportSlotCount    = TRANSPORTSLOTCOUNT_UNIT
    ShockwaveResistance   = 10

    WeaponSet
        Conditions  	  = None
        Weapon 		  = PRIMARY    GoblinPikemanPikeUpgraded
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    WeaponSet
        Conditions 	  = WEAPONSET_TOGGLE_1
        Weapon 		  = PRIMARY    GoblinPikemanPikeUpgradedVenom
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    ArmorSet
        Conditions        = None
        Armor             = EdainOrcScavengedArmorSpear
        DamageFX          = NormalDamageFX
    End

    VisionRange = 200
    ShroudClearingRange = 250

    VisionSide = 35%
    VisionRear = 25%

    MaxVisionBonusPercent = 300%
    VisionBonusTestRadius = 200
    VisionBonusPercentPerFoot = 2.0%

    DisplayName           = OBJECT:GoblinFighterBolgSpear
    CrushableLevel        = 0
    CrusherLevel          = 0
    BountyValue 	  = 2
    CrushRevengeWeapon    = BasicInfantryCrushRevenge
    CommandSet            = GoblinFighterModCommandSet_Summoned

    VoiceAttack                              = GoblinWarriorVoiceAttack
    VoiceAttackCharge                        = GoblinWarriorVoiceAttackCharge
    VoiceAttackMachine                       = GoblinWarriorVoiceAttack
    VoiceAttackStructure                     = GoblinWarriorVoiceAttackBuilding
    VoiceCreated                             = EVA:GoblinWarriorCreated
    VoiceFullyCreated                        = EVA:GoblinWarriorCreated
    VoiceGuard                               = GoblinWarriorVoiceGuard
    VoiceMove                                = GoblinWarriorVoiceMove
    VoiceMoveOverWalls                       = GoblinWarriorVoiceMoveWalls
    VoiceMoveToCamp                          = GoblinWarriorVoiceMoveCamp
    VoiceMoveWhileAttacking                  = GoblinWarriorVoiceDisengage
    VoicePriority                            = 30
    VoiceRetreatToCastle                     = GoblinWarriorVoiceRetreat
    VoiceSelect                              = GoblinWarriorVoiceSelectMS
    VoiceSelectBattle                        = GoblinWarriorVoiceSelectBattle

    VoiceEnterStateAttack                    = GoblinWarriorVoiceEnterStateAttack
    VoiceEnterStateAttackCharge              = GoblinWarriorVoiceEnterStateAttackCharge
    VoiceEnterStateAttackMachine             = GoblinWarriorVoiceEnterStateAttack
    VoiceEnterStateAttackStructure           = GoblinWarriorVoiceEnterStateAttackBuilding
    VoiceEnterStateMove                      = GoblinWarriorVoiceEnterStateMove
    VoiceEnterStateMoveOverWalls             = GoblinWarriorVoiceEnterStateMoveWalls
    VoiceEnterStateMoveToCamp                = GoblinWarriorVoiceEnterStateMoveCamp
    VoiceEnterStateMoveWhileAttacking        = GoblinWarriorVoiceEnterStateDisengage
    VoiceEnterStateRetreatToCastle           = GoblinWarriorVoiceEnterStateRetreat

    SoundImpact                              = ImpactHorse

    UnitSpecificSounds
        VoiceEnterUnitEvilMenTransportShip   = GoblinWarriorVoiceMoveShip
        VoiceEnterUnitMordorMumakil          = GoblinWarriorVoiceMoveGarrison
        VoiceEnterUnitSlaughterHouse         = GoblinWarriorVoiceMoveGarrison
        VoiceGarrison                        = GoblinWarriorVoiceMoveGarrison
        VoiceInitiateCaptureBuilding         = GoblinWarriorVoiceCaptureBuilding
    End

    CrowdResponseKey = Goblin

    ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
        ModelCondition = Required:RAISING_FLAG            Excluded:DYING ENGAGED    Sound:EmotionGoblinCompilationVoxTauntSinglesLoop
    End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:BodyFallGeneric2    Animation:MUGblnSwrd_SKL.MUGblnSwrd_DIEA    Frames:10
        AnimationSound = Sound:BodyFallGeneric2    Animation:MUGblnSwrd_SKL.MUGblnSwrd_DIEB    Frames:7
        AnimationSound = Sound:BodyFallOrc         Animation:MUGblnSwrd_SKL.MUGblnSwrd_LNDB    Frames:6
        AnimationSound = Sound:BodyFallOrc         Animation:MUGblnSwrd_SKL.MUGblnSwrd_LNDC    Frames:3
    End

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
        Key = Goblin
    End



  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP ORC

  Body = ActiveBody ModuleTag_02
    MaxHealth            = LOW_TIER_HEALTH_2
    MaxHealthDamaged     = LOW_TIER_HEALTH_2_DAMAGED
    BurningDeathBehavior = Yes
    BurningDeathFX       = FX_InfantryBurningFlame
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle  = Yes ATTACK_BUILDINGS
    MoodAttackCheckRate         = 500
    AILuaEventsList             = GoblinFighterFunctions
    AttackPriority              = AttackPriority_Infantry
    BurningDeathTime            = BURNINGDEATH_DURATION_INFANTRY
  End

    Behavior = AttributeModifierUpgrade ModuleTag_CrushDecelerateBonus
        TriggeredBy       = Upgrade_AllFactionUpgrade
        AttributeModifier = Crushed_Decelerate_Pikes
    End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = NORMAL_WILD_FAST_MEMBER_SPEED
  End

  LocomotorSet
    Locomotor     = HumanWanderLocomotor
    Condition     = SET_WANDER
    Speed         = NORMAL_WILD_FAST_MEMBER_SPEED
  End

    LocomotorSet
        Locomotor = BurningDeathLocomotorInfantry
        Condition = SET_BURNINGDEATH
        Speed     = BURNINGDEATH_WANDERSPEED_INFANTRY
    End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult             = 1.0
    ShockStunnedTimeLow     = 800
    ShockStunnedTimeHigh    = 1000
    ShockStandingTime       = 2133
  End

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes          = ALL -KNOCKBACK -EXTRA_8
    SinkDelay           = 3000
    SinkRate            = 0.40
    DestructionDelay    = 8000
    Sound               = INITIAL GoblinVoxDieMS
  End

  Behavior = SquishCollide ModuleTag_06
  End

  Behavior = HordeMemberCollide ModuleTag_HMC
  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes          = NONE +KNOCKBACK
    SinkDelay           = 3000
    SinkRate            = 0.40
    DestructionDelay    = 8000
    Sound               = INITIAL GoblinVoxDieMS
  End

  Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
      DeathTypes       = NONE +EXTRA_8
      SinkDelay        = 3000
      SinkRate         = 0.60
      DestructionDelay = 10000
      DeathFlags       = DEATH_4
      ShadowWhenDead   = Yes
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
  End

  Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman
       FirstHeight               = 24
       SecondHeight              = 24
       FirstPercentIndent        = 30%
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes
       DieOnImpact               = Yes
       BounceCount               = 1
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%
       GroundHitFX               = FX_GrabandDropInfantryGroundHit
       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
  End

  Behavior = SpecialPowerModule ModuleTag_PoisonedBladeSpecialPower
        SpecialPowerTemplate        = SpecialAbilityGoblinFighterPoisonedBlades
        StartsPaused                = No
  End

  Behavior = WeaponModeSpecialPowerUpdate ModuleTag_PoisonedBladeUpdate
        SpecialPowerTemplate        = SpecialAbilityGoblinFighterPoisonedBlades
        Duration                    = 20000
        WeaponSetFlags              = WEAPONSET_TOGGLE_1
        StartsPaused                = No
  End

  Behavior = SubObjectsUpgrade Armor_Upgrade
	TriggeredBy	= Upgrade_AllFactionUpgrade
	ShowSubObjects	= GAUNTLETS01 GAUNTLETS02 GAUNTLETS03
	ShowSubObjects	= GREAVES01 GREAVES02 GREAVES03
	ShowSubObjects	= HELMET01 HELMET02 HELMET04
	ShowSubObjects	= SHOULDER01 SHOULDER02 SHOULDER03
	ShowSubObjects	= PBACKARMOR01 PBACKARMOR02 PBACKARMOR03
	RecolorHouse    = No
	ExcludeSubobjects = Forged_Blade
  End

  Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
        TriggeredBy 	      = Upgrade_WildOrcVenomSacks
        CustomAnimAndDuration = AnimState:USER_1 AnimTime:0
  End

  Scale			 = 0.55
  Geometry               = CYLINDER
  GeometryMajorRadius    = 8.0
  GeometryMinorRadius    = 8.0
  GeometryHeight         = 19.2
  GeometryIsSmall        = Yes

  Shadow                 = SHADOW_DECAL
  ShadowSizeX            = 11
  ShadowSizeY            = 11
  ShadowTexture          = ShadowI
End

ChildObject GoblinSpearUpgraded_Slaved GoblinSpearUpgraded

    EquivalentTo = GoblinSpearUpgraded
  	
	VisionSide	= 100%
	VisionRear	= 100%

    CommandPoints = 0

	Behavior = SlavedUpdate ModuleTag_Slave
		GuardMaxRange					= 350	
		GuardWanderRange				= 100
		AttackRange					= 2000
		UseSlaverAsControlForEvaObjectSightedEvents	= Yes		
		GuardPositionOffset				= X:0 Y:0 Z:0
		DieOnMastersDeath				= Yes
	End
End
