Object MorgulFortress

    SelectPortrait = SPMorgulFortress

    Draw = W3DScriptedModelDraw ModuleTag_Draw
        ExtraPublicBone = ARROW_01
        ExtraPublicBone = ARROW_02
        ExtraPublicBone = ARROW_03
        ExtraPublicBone = ARROW_04
		ExtraPublicBone = BONEW01
		ExtraPublicBone = BONEW02
		ExtraPublicBone = BONEW03
		ExtraPublicBone = BONEW04
		ExtraPublicBone = BONEWK

        OkToChangeModelColor    = No
        UseStandardModelNames   = Yes
        StaticModelLODMode      = Yes

        DefaultModelConditionState
		Model  = morgulfort_m1
		WeaponLaunchBone = PRIMARY ARROW_
		WeaponLaunchBone = TERTIARY BONEW01
		WeaponLaunchBone = TERTIARY BONEW02
		WeaponLaunchBone = TERTIARY BONEW03
		WeaponLaunchBone = TERTIARY BONEW04
        End

    IdleAnimationState
        StateName           = STATE_Idle
        Animation           = mbmmfestunga
            AnimationName   = mbmmfestunga.mbmmfestunga
            AnimationMode   = LOOP
            AnimationSpeedFactorRange = 0.7 0.7
        End
        Flags = RESTART_ANIM_WHEN_COMPLETE
    End


    ModelConditionState = AWAITING_CONSTRUCTION SNOW
            Model            = morgulfort_A
    End

    ModelConditionState      = AWAITING_CONSTRUCTION
            Model            = morgulfort_A
    End

    AnimationState        = AWAITING_CONSTRUCTION
      Animation           =  morgulfort_A
        AnimationName     =  morgulfort_A.morgulfort_A
        AnimationMode     = MANUAL
        AnimationBlendTime = 0
      End
      Flags            = START_FRAME_FIRST
    End

    ModelConditionState = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED SNOW
            Model            = morgulfort_A
    End

    ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
            Model            = morgulfort_A
    End

    AnimationState        = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
        Animation           = morgulfort_A
            AnimationName     = morgulfort_A.morgulfort_A
            AnimationMode     = MANUAL
            AnimationBlendTime = 0
        End
        Flags                  = START_FRAME_FIRST
        StateName              = BeingConstructed
            BeginScript
                CurDrawablePlaySound("GondorBarracksBeginConstruction")
            EndScript
       ParticleSysBone = NONE BuildingContructDustCastles FollowBone:Yes
    End

		AnimationState	= SPECIAL_WEAPON_ONE
			Animation
				AnimationName	= mbmmfestunga.mbmmfestunga
				AnimationMode	= ONCE
			End
				ParticleSysBone = BONEW01 MorgulduinFloodTrail FollowBone:Yes
				ParticleSysBone = BONEW01 MorgulduinFloodTrail2 FollowBone:Yes
				ParticleSysBone = BONEW01 MorgulduinFloodTrail3 FollowBone:Yes
				ParticleSysBone = BONEW01 MorgulduinFloodSplash FollowBone:Yes
				ParticleSysBone = BONEW01 MorgulduinFloodTrail
				ParticleSysBone = BONEW01 MorgulduinFloodTrail2
				ParticleSysBone = BONEW01 MorgulduinFloodTrail3
				ParticleSysBone = BONEW01 MorgulduinFloodSplash
				ParticleSysBone = BONEW02 MorgulduinFloodTrail FollowBone:Yes
				ParticleSysBone = BONEW02 MorgulduinFloodTrail2 FollowBone:Yes
				ParticleSysBone = BONEW02 MorgulduinFloodTrail3 FollowBone:Yes
				ParticleSysBone = BONEW02 MorgulduinFloodSplash FollowBone:Yes
				ParticleSysBone = BONEW02 WaterPokeLand FollowBone:Yes
				ParticleSysBone = BONEW03 MorgulduinFloodTrail FollowBone:Yes
				ParticleSysBone = BONEW03 MorgulduinFloodTrail2 FollowBone:Yes
				ParticleSysBone = BONEW03 MorgulduinFloodTrail3 FollowBone:Yes
				ParticleSysBone = BONEW03 MorgulduinFloodSplash FollowBone:Yes
				ParticleSysBone = BONEW04 MorgulduinFloodTrail FollowBone:Yes
				ParticleSysBone = BONEW04 MorgulduinFloodTrail2 FollowBone:Yes
				ParticleSysBone = BONEW04 MorgulduinFloodTrail3 FollowBone:Yes
				ParticleSysBone = BONEW04 MorgulduinFloodSplash FollowBone:Yes
				ParticleSysBone = BONEW05 MorgulduinWaterWallRight FollowBone:Yes
		End

        ModelConditionState  = DAMAGED
            Model          = morgulfort_m1
            Texture        = mmorgulwalls.tga mmorgulwalls_d1.tga
            Texture          = morgulcliff01.tga morgulcliff01.tga
            Texture          = minasmorgulfx.tga minasmorgulfx.tga
            Texture          = morgulcliff02.tga morgulcliff02.tga
            Texture          = twwatercreek24.tga twwatercreek24.tga
            Texture          = morgulfloor.tga morgulfloor.tga
            Texture          = exmorgulpulse01.tga exmorgulpulse01.tga
        End

        AnimationState = DAMAGED
            Animation    = ReallyDamagedAnimation
                AnimationName        =    mbmmfestunga.mbmmfestunga
                AnimationMode        =    ONCE
            End
            EnteringStateFX    = FX_FortressDamaged
        End

        ModelConditionState  = REALLYDAMAGED
            Model            = morgulfort_m1
            Texture          = mmorgulwalls.tga mmorgulwalls_d2.tga
            Texture          = morgulcliff01.tga morgulcliff01.tga
            Texture          = minasmorgulfx.tga minasmorgulfx.tga
            Texture          = morgulcliff02.tga morgulcliff02.tga
            Texture          = twwatercreek24.tga twwatercreek24.tga
            Texture          = morgulfloor.tga morgulfloor.tga
            Texture          = exmorgulpulse01.tga exmorgulpulse01.tga
        End

        AnimationState = REALLYDAMAGED
            Animation    = ReallyDamagedAnimation
                AnimationName        =    mbmmfestunga.mbmmfestunga
                AnimationMode        =    ONCE
            End
            EnteringStateFX    = FX_FortressReallyDamaged
        End

        ModelConditionState  = RUBBLE
            Model            = morgulfort_m1
            Texture          = mmorgulwalls.tga mmorgulwalls_d2.tga
            Texture          = morgulcliff01.tga morgulcliff01.tga
            Texture          = minasmorgulfx.tga minasmorgulfx.tga
            Texture          = morgulcliff02.tga morgulcliff02.tga
            Texture          = twwatercreek24.tga twwatercreek24.tga
            Texture          = morgulfloor.tga morgulfloor.tga
            Texture          = exmorgulpulse01.tga exmorgulpulse01.tga
            ParticleSysBone SmokeLarge01 SmokeBuildingLarge
        End

        AnimationState = RUBBLE
            Animation    = RubbleAnimation
                AnimationName        =    mbmmfestunga.mbmmfestunga
                AnimationMode        =    ONCE
            End
            EnteringStateFX    = FX_FortressCollapse
        End

        ModelConditionState  = POST_RUBBLE
            Model         = None
            ParticleSysBone NONE SmokeBuildingMediumRubble
        End

        AnimationState = POST_RUBBLE
        End

        ModelConditionState  = POST_COLLAPSE
            Model         = None
            ParticleSysBone NONE SmokeBuildingMediumRubble
        End
        AnimationState = POST_COLLAPSE
        End

        ModelConditionState = SNOW
            Model      = morgulfort_m1

        End
    End


	Draw = W3DScriptedModelDraw ModuleTag_DrawMorgulSorcery
		OkToChangeModelColor	= No

		DefaultModelConditionState
			Model	= None
		End

		ModelConditionState	= FORTRESS_IMPROVEMENT_1
			Model = morgulfort_ds
		End
	End


	Draw = W3DScriptedModelDraw Draw_Barracks
		OkToChangeModelColor	= No
		StaticModelLODMode	= Yes

    DefaultModelConditionState
      Model = none
    End

		ModelConditionState	  = FORTRESS_IMPROVEMENT_2 USER_2 DAMAGED
			Model		= morgulfort_brA
			Texture		= mmorgulwalls.tga mmorgulwalls_d1.tga
		End

		ModelConditionState	  = FORTRESS_IMPROVEMENT_2 USER_2 REALLYDAMAGED
			Model		= morgulfort_brA
			Texture		= mmorgulwalls.tga mmorgulwalls_d2.tga
		End


		ModelConditionState = FORTRESS_IMPROVEMENT_2 USER_2 SNOW
			Model           = morgulfort_brA

		End

		ModelConditionState = FORTRESS_IMPROVEMENT_2 USER_2
			Model           = morgulfort_brA
		End

		AnimationState = FORTRESS_IMPROVEMENT_2	USER_2
			Animation		= morgulfort_brA
				AnimationName	= morgulfort_brA.morgulfort_brA
				AnimationMode	= ONCE

			End
			BeginScript
			EndScript
		End


		ModelConditionState = FORTRESS_IMPROVEMENT_2 DAMAGED
			Model = morgulfort_br
			Texture		= mmorgulwalls.tga mmorgulwalls_d1.tga
		End

		ModelConditionState = FORTRESS_IMPROVEMENT_2 REALLYDAMAGED
			Model = morgulfort_br
			Texture		= mmorgulwalls.tga mmorgulwalls_d2.tga
		End

		ModelConditionState = FORTRESS_IMPROVEMENT_2 RUBBLE
			Model = morgulfort_br
			Texture		= mmorgulwalls.tga mmorgulwalls_d2.tga
		End


		ModelConditionState	= FORTRESS_IMPROVEMENT_1 FORTRESS_IMPROVEMENT_2
			Model = morgulfort_brs
		End

		ModelConditionState	= FORTRESS_IMPROVEMENT_1 FORTRESS_IMPROVEMENT_2 SNOW
			Model = morgulfort_brs
		End

		ModelConditionState	= FORTRESS_IMPROVEMENT_1 FORTRESS_IMPROVEMENT_2 DAMAGED
			Model = morgulfort_brs
			Texture		= mmorgulwalls.tga mmorgulwalls_d1.tga
		End

		ModelConditionState	= FORTRESS_IMPROVEMENT_1 FORTRESS_IMPROVEMENT_2 REALLYDAMAGED
			Model = morgulfort_brs
			Texture		= mmorgulwalls.tga mmorgulwalls_d2.tga
		End

		ModelConditionState	= FORTRESS_IMPROVEMENT_1 FORTRESS_IMPROVEMENT_2 RUBBLE
			Model = morgulfort_brs
			Texture		= mmorgulwalls.tga mmorgulwalls_d2.tga
		End


		ModelConditionState = FORTRESS_IMPROVEMENT_2 SNOW
			Model = morgulfort_br
		End


		ModelConditionState = FORTRESS_IMPROVEMENT_2
			Model = morgulfort_br
		End
  End

	Draw = W3DScriptedModelDraw Draw_pondAnims

	ExtraPublicBone = BONEW01
	ExtraPublicBone = BONEW02
	ExtraPublicBone = BONEW03
	ExtraPublicBone = BONEW04
	ExtraPublicBone = BONEW05

    DefaultModelConditionState
      Model = none
    End

		ModelConditionState = FORTRESS_IMPROVEMENT_3 USER_3
			Model = morgulfort_pdA
		End

		AnimationState = FORTRESS_IMPROVEMENT_3	USER_3
			Animation		= morgulfort_pdA
				AnimationName	= morgulfort_pdA.morgulfort_pdA
				AnimationMode	= ONCE
			End
				ParticleSysBone = BONEW05 MorgulduinWaterWallRight FollowBone:Yes
				ParticleSysBone = BONEW05 MorgulduinWaterWallLeft FollowBone:Yes
			BeginScript
			EndScript
		End


		ModelConditionState = FORTRESS_IMPROVEMENT_3
			Model = morgulfort_bn
                        
                        
                        
                        
                        
		End
  End


	Draw = W3DScriptedModelDraw Draw_GargoylesAnims

	ExtraPublicBone = BONEG01
	ExtraPublicBone = BONEG02

    DefaultModelConditionState
      Model = none
    End

		ModelConditionState = FORTRESS_IMPROVEMENT_4 USER_4
			Model = morgulfort_gsA
		End

		AnimationState = FORTRESS_IMPROVEMENT_4	USER_4
			Animation		= morgulfort_gsA
				AnimationName	= morgulfort_gsA.morgulfort_gsA
				AnimationMode	= ONCE
			End
			ParticleSysBone	= BONEG01 ExpMordor FollowBone:Yes
			ParticleSysBone	= BONEG02 ExpMordor FollowBone:Yes
			BeginScript
			EndScript
		End


		ModelConditionState = FORTRESS_IMPROVEMENT_4
			Model = none
		End
 End


	Draw = W3DScriptedModelDraw Draw_Catacombs
		OkToChangeModelColor	= No
		StaticModelLODMode	= Yes

    DefaultModelConditionState
      Model = none
    End

		ModelConditionState	  = FORTRESS_IMPROVEMENT_5 USER_5 DAMAGED
			Model	= morgulfort_ctA
            		Texture = mbcatacomb.tga mbcatacomb_d.tga
		End

		ModelConditionState	  = FORTRESS_IMPROVEMENT_5 USER_5 REALLYDAMAGED
			Model	= morgulfort_ctA
            		Texture = mbcatacomb.tga mbcatacomb_d.tga
		End


		ModelConditionState = FORTRESS_IMPROVEMENT_5 USER_5 SNOW
			Model	= morgulfort_ctA
		End

		ModelConditionState = FORTRESS_IMPROVEMENT_5 USER_5
			Model    = morgulfort_ctA
		End

		AnimationState = FORTRESS_IMPROVEMENT_5	USER_5
			Animation		= morgulfort_ctA
				AnimationName	= morgulfort_ctA.morgulfort_ctA
				AnimationMode	= ONCE
			End
			BeginScript
			EndScript
		End


	ModelConditionState = FORTRESS_IMPROVEMENT_5 DAMAGED
		Model = morgulfort_ct
            	Texture = mbcatacomb.tga mbcatacomb_d.tga
	End

	ModelConditionState = FORTRESS_IMPROVEMENT_5 REALLYDAMAGED
		Model = morgulfort_ct
            	Texture = mbcatacomb.tga mbcatacomb_d.tga
	End

	ModelConditionState = FORTRESS_IMPROVEMENT_5 RUBBLE
		Model = morgulfort_ct
            	Texture = mbcatacomb.tga mbcatacomb_d.tga
	End


	ModelConditionState	= FORTRESS_IMPROVEMENT_1 FORTRESS_IMPROVEMENT_5
		Model = morgulfort_cts
	End

	ModelConditionState	= FORTRESS_IMPROVEMENT_1 FORTRESS_IMPROVEMENT_5 SNOW
		Model = morgulfort_cts
	End

	ModelConditionState	= FORTRESS_IMPROVEMENT_1 FORTRESS_IMPROVEMENT_5 DAMAGED
		Model = morgulfort_cts
            	Texture = mbcatacomb.tga mbcatacomb_d.tga
	End

	ModelConditionState	= FORTRESS_IMPROVEMENT_1 FORTRESS_IMPROVEMENT_5 REALLYDAMAGED
		Model = morgulfort_cts
            	Texture = mbcatacomb.tga mbcatacomb_d.tga
	End

	ModelConditionState	= FORTRESS_IMPROVEMENT_1 FORTRESS_IMPROVEMENT_5 RUBBLE
		Model = morgulfort_cts
            	Texture = mbcatacomb.tga mbcatacomb_d.tga
	End


	ModelConditionState = SNOW FORTRESS_IMPROVEMENT_5
		Model = morgulfort_ct
	End


	ModelConditionState = FORTRESS_IMPROVEMENT_5
		Model = morgulfort_ct
	End
  End


    Draw = W3DFloorDraw ModuleTag_DrawFloor
        StaticModelLODMode = Yes
        ModelName          = mbmmfestung_bib
        WeatherTexture     = SNOWY kbwalltwrn_bib_snow.tga
    End

    Draw = W3DFloorDraw ModuleTag_DrawFloor2
        StaticModelLODMode    = Yes
 	ModelName	= FL_ISENGARD
 	WeatherTexture  = SNOWY fl_floor_mmountains_snow.tga

          HideIfModelConditions    =    AWAITING_CONSTRUCTION
          HideIfModelConditions    =    PARTIALLY_CONSTRUCTED
    End

  DisplayName = OBJECT:MinasMorgulFortress
  Description = OBJECT:MinasMorgulFortressDescription

  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel         = 1.0

	CommandSet 	= MorgulFortressCommandSetMain

	Behavior = MonitorConditionUpdate MonitorConditionUpdateModuleTag22
		ModelConditionFlags 		= WEAPONSET_TOGGLE_1
		ModelConditionCommandSet 	= MorgulFortressCommandSetSecond
        End

    Behavior = CommandSetUpgrade ModuleTag_Fortress_AI
        TriggeredBy       = Upgrade_ObjectUnderAIControl
        CommandSet        = MorgulFortressCommandSet_AI
    End

    CommandPointBonus    = MAIN_FORTRESS_COMMAND_POINT
    MaxSimultaneousOfType = 1
    BuildCost           = 2500
    BuildTime           = MORDOR_FORTRESS_BUILDTIME
    BountyValue         = MORDOR_FORTRESS_BOUNTY_VALUE
    VisionRange         = DEFAULT_FORTRESS_VISION_RANGE
    ShroudClearingRange = DEFAULT_FORTRESS_SHROUD_CLEAR

    WeaponSet
        Weapon               = PRIMARY EvilFortressArrowTowerBow
        AutoChooseSources    = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End

    ArmorSet
        Conditions = None
        Armor      = DefaultFortressArmor
    End

    #include "..\..\..\Includes\StandardBuildingEvaEvents.inc"

    EvaEventDieOwner                 = EvaFortressDie

    VoiceSelect                        = MordorFortressSelect
    VoiceSelectUnderConstruction    = BuildingEvilVoiceSelectUnderConstruction

    SoundOnDamaged                    = BuildingLightDamageStone
    SoundOnReallyDamaged            = BuildingHeavyDamageStone

    UnitSpecificSounds
        UnderConstruction        = BuildingBigConstructionLoop
        UnderRepairFromRubble    = BuildingBigConstructionLoop
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:UpgradeMordorFortressGorgonothSpire    Animation:MBFEWEye_ASKL.MBFEWEye_ABLD    Frames:980
    End

    CampnessValue = CAMPNESS_FORTRESS

    RadarPriority = STRUCTURE
	KindOf = PRELOAD COMMANDCENTER VITAL_FOR_BASE_SURVIVAL STRUCTURE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY SELECTABLE FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD SCORE DOZER_FACTORY SCARY NEED_BASE_FOUNDATION

	Behavior = GettingBuiltBehavior GetBuiltBehaviorTag
		WorkerName  = MordorWorkerNoSelect
		SelfBuildingLoop		= BuildingConstructionLoop
		SelfRepairFromDamageLoop	= NoSound
		SelfRepairFromRubbleLoop	= BuildingConstructionLoop
		SpawnTimer			= -1.0
		RebuildTimeSeconds		= 40
	End

    Behavior = CastleMemberBehavior ModuleTag_CMB
    End

    Body   = StructureBody ModuleTag_05
        MaxHealth                     = 15000
        MaxHealthDamaged              = 7000
        MaxHealthReallyDamaged        = 3000
    End

    Behavior = BuildingBehavior BuildingModuleTag
    End

    Behavior                  = StructureCollapseUpdate ModuleTag_06
        MinCollapseDelay        = 000
        MaxCollapseDelay        = 000
        CollapseDamping         = .5
        MaxShudder              = 0.6
        MinBurstDelay           = 250
        MaxBurstDelay           = 800
        BigBurstFrequency       = 4
        FXList                  = INITIAL   FX_FortressCollapse
        DestroyObjectWhenDone   = Yes
        CollapseHeight          = 120
    End

    Behavior = QueueProductionExitUpdate ModuleTag_QueuePEU
        UnitCreatePoint      = X:52.7 Y:0.0 Z:44.192		
        NaturalRallyPoint    = X:52.7 Y:0.0 Z:44.192
        ExitDelay            = STANDARD_HORDE_EXIT_DELAY
        UseReturnToFormation = No
    End

	Behavior = AIUpdateInterface ModuleTag_AI
		AILuaEventsList			= FortressFunctions
		AutoAcquireEnemiesWhenIdle	= Yes
		MoodAttackCheckRate		= 250
	End

    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP = Yes
    End

        Behavior = SpawnBehavior ModuleTag_Spawn
		TriggeredBy		= Upgrade_FirstAgeFortressLevel5
		SpawnNumber		= 1
		InitialBurst		= 0
		SpawnTemplateName	= MordorFellBeast_SlavedwithoutRider
		SpawnReplaceDelay	= 20000
		CanReclaimOrphans	= No
		SpawnedRequireSpawner	= Yes
		ShareUpgrades		= Yes
	End


	Behavior = GrantUpgradeCreate ModuleTag_GrantUpgradeHideAll
		UpgradeToGrant = Upgrade_IsengardFortressBurningForges
	End
	Behavior = ObjectCreationUpgrade BaseUpgradeTag_Bridge
		TriggeredBy	= Upgrade_IsengardFortressBurningForges
		Delay		= 0.0
		DestroyWhenSold = Yes
		ThingToSpawn	= MorgulFort_BridgeExp
		Offset		= X:0 Y:0 Z:0
		FadeInTime	= 1000
	End



	Behavior = CastleUpgrade ModuleTag_MorgulSorceryUpgrade
		TriggeredBy	= Upgrade_StreitmachtMinasMorguls	
		Upgrade		= Upgrade_MordorFortressMorgulSorcery
	End
    Behavior = AttributeModifierAuraUpdate ModuleTag_DreadVisageAura
        StartsActive         = No
        RefreshDelay         = 2000
        TriggeredBy          = Upgrade_MordorFortressMorgulSorcery
        Range                = 350
        TargetEnemy          = Yes
        AntiCategory         = LEADERSHIP BUFF
        BonusName            = GenericDebuff
        ObjectFilter         = ANY +INFANTRY +CAVALRY +MACHINE -STRUCTURE -BASE_FOUNDATION +HERO +HORDE
    End
    Behavior = RadiateFearUpdate ModuleTag_DreadVisageFear
        InitiallyActive		= No
        TriggeredBy		= Upgrade_MordorFortressMorgulSorcery
        WhichSpecialPower	= 1
        GenerateTerror		= No
        GenerateFear		= Yes
        EmotionPulseRadius	= 350
        EmotionPulseInterval	= 1000
    End
	Behavior = AttributeModifierUpgrade ModuleTag_Reinforced
		TriggeredBy		= Upgrade_MordorFortressMorgulSorcery
		AttributeModifier	= MorgulSorceryKeep_Bonus
	End
	Behavior = ModelConditionUpgrade ModuleTag_ShowMorgulSorcery
		TriggeredBy		= Upgrade_MordorFortressMorgulSorcery
		AddConditionFlags	= FORTRESS_IMPROVEMENT_1
		Permanent		= Yes
	End



	Behavior = ModelConditionUpgrade ModuleTag_ShowBarracks
		TriggeredBy		= Upgrade_MordorFortressMagmaCauldrons
		AddConditionFlags	= FORTRESS_IMPROVEMENT_2
		AddTempConditionFlag	= ModelConditionState:USER_2
		TempConditionTime	= 15
		Permanent		= Yes
	End
	Behavior = AudioLoopUpgrade ModuleTag_BarracksBuildLoop
		TriggeredBy	= Upgrade_MordorFortressMagmaCauldrons
		SoundToPlay	= BuildingConstructionLoop
		KillOnDeath	= Yes
		KillAfterMS	= 3500
	End


	Behavior = ModelConditionUpgrade ModuleTag_ShowCatacombs
		TriggeredBy		= Upgrade_IsengardFortressExcavations
		AddConditionFlags	= FORTRESS_IMPROVEMENT_5
		AddTempConditionFlag	= ModelConditionState:USER_5
		TempConditionTime	= 28
		Permanent		= Yes
	End
	Behavior = AudioLoopUpgrade ModuleTag_CatacombsBuildLoop
		TriggeredBy	= Upgrade_IsengardFortressExcavations
		SoundToPlay	= BuildingConstructionLoop
		KillOnDeath	= Yes
		KillAfterMS	= 3500
	End
	Behavior = CastleUpgrade ModuleTag_IsengardFortressExcavationsUpgrade
		TriggeredBy	= Upgrade_IsengardFortressExcavations
		Upgrade		= Upgrade_IsengardFortressExcavations
	End


	Behavior = ObjectCreationUpgrade BaseUpgradeTag_pond
		TriggeredBy	= Upgrade_WildFortressRazorSpines
		Delay		= 15000
		DestroyWhenSold = Yes
		ThingToSpawn	= MorgulFort_pond
		Offset		= X:0 Y:0 Z:0
		FadeInTime	= 1000
	End


	Behavior = ModelConditionUpgrade ModuleTag_Waterpondanims
		TriggeredBy		= Upgrade_WildFortressRazorSpines
		AddConditionFlags	= FORTRESS_IMPROVEMENT_3
		AddTempConditionFlag	= ModelConditionState:USER_3
		TempConditionTime	= 20
		Permanent		= Yes
	End

	Behavior = DamageFieldUpdate ModuleTag_RazorSpinesWeapon
		Radius		= 100
		ObjectFilter	= ALL ENEMIES
		RequiredUpgrade	= Upgrade_WildFortressRazorSpines

		FireWeaponNugget
			WeaponName	= RazorSpinesBasicWeapon
			FireDelay	= 0
			OneShot		= No
		End
	End


	Behavior = ObjectCreationUpgrade BaseUpgradeTag_Gargoyles
		TriggeredBy	= Upgrade_MordorFortressLavaMoat
		Delay		= 12000
		DestroyWhenSold = Yes
		ThingToSpawn	= MorgulFort_GargoyleExp
		Offset		= X:0 Y:0 Z:0
		FadeInTime	= 1000
	End


	Behavior = ModelConditionUpgrade ModuleTag_Gargoylesanims
		TriggeredBy		= Upgrade_MordorFortressLavaMoat
		AddConditionFlags	= FORTRESS_IMPROVEMENT_4
		AddTempConditionFlag	= ModelConditionState:USER_4
		TempConditionTime	= 15
		Permanent		= Yes
	End

	Behavior = GeometryUpgrade Geom_ModuleTag_ShowGeom_V1
		TriggeredBy	= Upgrade_MordorFortressMorgulSorcery
		ShowGeometry	= Geom_V1
	End

	Behavior = GeometryUpgrade Geom_ModuleTag_ShowGeom_tower
		TriggeredBy	= Upgrade_MordorFortressMorgulSorcery
		ShowGeometry	= HighTowerGeom
	End


	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MorgulSignalxpEnabler
		SpecialPowerTemplate		= SpecialAbilityMorgulSignal
		TriggeredBy			= Upgrade_MordorFortressMorgulSorcery
	End

 	Behavior = SpecialPowerModule ModuleTag_MorgulSignalxpSpecialPowerModule
        	SpecialPowerTemplate		= SpecialAbilityMorgulSignal
        	StartsPaused			= Yes
		UpdateModuleStartsAttack	= Yes
		TriggerFX			= FX_MorgulSignal_V2
    	End

 	Behavior = LevelGrantSpecialPower ModuleTag_MorgulSignalxp
		SpecialPowerTemplate		= SpecialAbilityMorgulSignal
		UnpackingVariation		= 2
		StartAbilityRange		= 350.0
		Experience			= 1000
		RadiusEffect			= 350
		AcceptanceFilter		= ANY +CAVALRY +INFANTRY +MONSTER -STRUCTURE -CASTLE_KEEP -BASE_FOUNDATION -HERO -MOVE_ONLY
		LevelFX				= EvilLevelUp1FX
		UnpackTime			= 2000
		PreparationTime			= 1
		FreezeAfterTriggerDuration	= 2500
    	End


	Behavior = OCLSpecialPower ModuleTag_PalantirVisionMorgul
		SpecialPowerTemplate = MorgulPalantirVision
		OCL                  = SpecialPowerPalantirVision
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart     = Yes
	End




    Behavior = OCLSpecialPower  ModuleTag_OCLSpawnExplosionsfalle
       SpecialPowerTemplate        = SpecialAbilityMorgulduinFlood2
       OCL                         = OCL_MorgulduinFlood2
       CreateLocation              = USE_OWNER_OBJECT
       StartsPaused                = Yes
       SetModelCondition           = ModelConditionState:SPECIAL_WEAPON_ONE
       SetModelConditionTime       = 3.1
    End

	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WordEnabler
		SpecialPowerTemplate 	= SpecialAbilityMorgulduinFlood2
		TriggeredBy		= Upgrade_WildFortressRazorSpines
	End

	Behavior = SpecialPowerModule ModuleTag_WordStarter
		SpecialPowerTemplate      	= SpecialAbilityMorgulduinFlood2
		UpdateModuleStartsAttack  	= Yes
		StartsPaused		  	= Yes
	End


	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WordWeaponFireUpdate
		SpecialPowerTemplate    = SpecialAbilityMorgulduinFlood2
		WhichSpecialWeapon	= 1
		SkipContinue		= Yes
		UnpackTime             	= 1700
		PackTime              	= 1
		FreezeAfterTriggerDuration 	= 2500
		AwardXPForTriggering   	= 0
		StartAbilityRange	= 200
		SpecialWeapon		= MorgulduinFloodWeapon2
	End

	Behavior = AutoAbilityBehavior ModuleTag_AutoAbilityBehavior_WordOfPower
		SpecialAbility	= SpecialAbilityMorgulduinFlood2
		MaxScanRange	= #SUBTRACT( GANDALF_WORD_OF_POWER_DAMAGE 25 )
		Query		= 50 ALL ENEMIES -STRUCTURE
	End



    	Behavior = SpecialPowerModule ModuleTag_ScreechStarter
       		 SpecialPowerTemplate      = SpecialAbilityScreech
       		 UpdateModuleStartsAttack  = Yes
        	 StartsPaused              = No
       		 InitiateSound             = NazgulScreech
		TriggerFX	=  FX_MorgulFortScreechBlast

   	 End

    	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_ScreechWeaponFireUpdate
       		 SpecialPowerTemplate      = SpecialAbilityScreech
       		 SpecialWeapon             = KhamulScreechWeapon
       		 StartAbilityRange         = 180
       		 SkipContinue              = Yes
        	 UnpackTime                = 10
       		 PackTime                  = 2000
       		 MustFinishAbility         = Yes
   	 End

   	 Behavior = AutoAbilityBehavior ModuleTag_LamentAutoAbility
    		  SpecialAbility          = SpecialAbilityScreech
      		  MaxScanRange            = 55
      		  Query                   = 1 ALL -STRUCTURE ENEMIES
    	End

	Behavior = ModelConditionSpecialAbilityUpdate ModuleTag_PhialUpdate
		SpecialPowerTemplate    = SpecialAbilityScreech
		UnpackingVariation	= 1
		UnpackTime              = 10
		PreparationTime         = 1
		PersistentPrepTime      = 600
		PackTime                = 2000
		GenerateTerror			= Yes
		GenerateUncontrollableFear	= Yes
		EmotionPulseRadius		= 75
		AwardXPForTriggering    	= 0
	End



    Behavior = AttributeModifierAuraUpdate ModuleTag_NazgulLeadership
        StartsActive               = Yes
        BonusName                  = NazgulMorgulEnabler
        RefreshDelay               = 2000
        Range                      = 300
        TargetEnemy                = Yes
        ObjectFilter               = ANY +MordorWitchKing ALLIES
    End



    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_OCLKriegEnabler
       SpecialPowerTemplate        = SpecialAbilitySturmaufdieFreienVolker
        TriggeredBy                = Upgrade_StreitmachtMinasMorguls
       ObeyRechageOnTrigger        = Yes
    End
    Behavior = OCLSpecialPower  ModuleTag_OCLKrieg
       SpecialPowerTemplate        = SpecialAbilitySturmaufdieFreienVolker
       OCL                         = OCL_SturmaufGondorPing
       CreateLocation              = CREATE_AT_LOCATION
       StartsPaused                = Yes
    End
    Behavior = SpecialAbilityUpdate ModuleTag_OCLKriegUpdate
        SpecialPowerTemplate       = SpecialAbilitySturmaufdieFreienVolker
        UnpackTime                 = 1
        PreparationTime            = 3
        PackTime                   = 2096
        AwardXPForTriggering       = 0
        FreezeAfterTriggerDuration = 0
    End

   Behavior = PassiveAreaEffectBehavior ModuleTag_SplashOfHealingWater_Ahh
        EffectRadius               = 200
        PingDelay                  = 2000
        HealPercentPerSecond       = 6%
        AllowFilter                = NONE +MordorMorgulrider ALLIES
        NonStackable               = Yes
        HealFX                     = FX_SpellHealUnitSchlundBuff
    End




    Behavior = SpecialPowerModule Einzug_ModuleTag
        SpecialPowerTemplate        = SpecialAbilityMordorEinzugssystem
        AttributeModifier           = EinzugMorgulUpgrade
        AttributeModifierRange      = 52
        AttributeModifierAffects    = ANY +MordorOrcPit ALLIES
        TriggerFX                   = FX_SauronSchleierSound
        UpdateModuleStartsAttack    = No
        StartsPaused                = No
    End


    Behavior = TransportContain ModuleTag_TransportContainTag01
        ObjectStatusOfContained      = CAN_ATTACK
        PassengerFilter              = NONE +MordorWitchKingOnFellBeastSpell
        Slots                        = 1
        ShowPips                     = No
        AllowEnemiesInside           = No
        AllowNeutralInside           = No
        AllowAlliesInside            = No
        AllowOwnPlayerInsideOverride = Yes
        DamagePercentToUnits         = 0%

        PassengerBonePrefix          = PassengerBone:BONEWK KindOf:HERO
        EjectPassengersOnDeath       = Yes
        ExitDelay                    = 0
        NumberOfExitPaths            = 0
        EnterSound                   = GarrisonEnter
        ExitSound                    = GarrisonExit
        FadeFilter                   = ALL
        FadePassengerOnEnter         = Yes
        EnterFadeTime                = 1000
        FadePassengerOnExit          = Yes
        ExitFadeTime                 = 1000
        ForceOrientationContainer    = No
    End
    	Behavior = SpecialPowerModule ModuleTag_AnzeigeUpdate   
        	SpecialPowerTemplate     = SpecialAbilityFakeLeadership
        	UpdateModuleStartsAttack = No
        	StartsPaused             = No
    	End    
    	Behavior = AttributeModifierAuraUpdate ModuleTag_ContainedGetExperience
        	StartsActive        = Yes
        	BonusName           = SarumanOrthancBonus
        	AffectContainedOnly = Yes
        	RunWhileDead        = Yes
        	RefreshDelay        = 2000
    	End



    Behavior = AutoDepositUpdate AutoDepositModuleTag
        DepositTiming           = GENERIC_KEEP_MONEY_TIME
        DepositAmount           = GENERIC_KEEP_MONEY_AMOUNT
        InitialCaptureBonus     = 0
    End

    Behavior = TerrainResourceBehavior ModuleTag_NewMoneyDeadSpot
        Radius          = GENERIC_KEEP_MONEY_RANGE
        MaxIncome       = 0
        IncomeInterval  = 999999
        HighPriority    = Yes
    End

  Behavior           = CreateObjectDie ModuleTag_08
    CreationList     = OCL_DolGuldurFortcollapseDebris
  End

    Scale = 0.90

    Geometry                  = CYLINDER
    GeometryMajorRadius       = 140
    GeometryHeight            = 40
  GeometryOffset        = X:0 Y:0 Z:0

    AdditionalGeometry        = CYLINDER
    GeometryName            = Geom_V1
    GeometryMajorRadius       = 141
    GeometryHeight            = 41
    GeometryOffset            = X:-80 Y:0 Z:0

    AdditionalGeometry        = CYLINDER
    GeometryName            = Geom_V2
    GeometryMajorRadius       = 18
    GeometryHeight            = 150
    GeometryOffset            = X:56 Y:-56 Z:0

    AdditionalGeometry        = CYLINDER
    GeometryName            = Geom_V3
    GeometryMajorRadius       = 18
    GeometryHeight            = 150
    GeometryOffset            = X:-56 Y:56 Z:0

    AdditionalGeometry        = CYLINDER
    GeometryName            = Geom_V4
    GeometryMajorRadius       = 18
    GeometryHeight            = 150
    GeometryOffset            = X:-56 Y:-56 Z:0


    AdditionalGeometry        = CYLINDER
    GeometryName            = HighTowerGeom
    GeometryMajorRadius       = 15
    GeometryHeight            = 110
    GeometryOffset            = X:0 Y:0 Z:0
    GeometryUsedForHealthBox = No


	AdditionalGeometry	= BOX
	GeometryMajorRadius	= 26.0
 	GeometryMinorRadius	= 20.0
 	GeometryHeight		= 22.0
	GeometryOffset		= X:85 Y:0 Z:0

  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

  GeometryContactPoint    = X:-140.188        Y:141.694    Z:0            Repair
  GeometryContactPoint    = X:135.037        Y:-126.085    Z:0            Repair
  GeometryContactPoint    = X:140.629        Y:132.691    Z:0
  GeometryContactPoint    = X:-150.0        Y:150.0    Z:0
  GeometryContactPoint    = X:150.0        Y:150.0    Z:32.902    Swoop
End

Object MorgulduinFlood2

 	Draw = W3DScriptedModelDraw ModuleTag_01
    	DefaultModelConditionState
	      	Model = None
    	End
  	End
	EditorSorting   = SYSTEM
	KindOf = NO_COLLIDE IMMOBILE UNATTACKABLE INERT
	ForceLuaRegistration = Yes


	Body = ImmortalBody ModuleTag_02
		MaxHealth = 1
		InitialHealth = 1
	End

	Behavior = DeletionUpdate ModuleTag_03
		MinLifetime = 10000
		MaxLifetime = 10000
	End

	Behavior = FloodUpdate ModuleTag_FloodCentral
		AngleOfFlow = 0
		DirectionIsRelative = Yes

		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:0 Y:10 Z:0
			ControlPointOffsetTwo =		X:100 Y:50 Z:0
			ControlPointOffsetThree =	X:100 Y:-50 Z:0
			ControlPointOffsetFour =	X:200 Y:-50 Z:0
			MemberSpeed = 20
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:0 Y:0 Z:0
			ControlPointOffsetTwo =		X:50 Y:0 Z:0
			ControlPointOffsetThree =	X:100 Y:0 Z:0
			ControlPointOffsetFour =	X:150 Y:0 Z:0
			MemberSpeed = 20
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:0 Y:-10 Z:0
			ControlPointOffsetTwo =		X:100 Y:-50 Z:0
			ControlPointOffsetThree =	X:100 Y:50 Z:0
			ControlPointOffsetFour =	X:200 Y:50 Z:0
			MemberSpeed = 20
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:0 Y:0 Z:0
			ControlPointOffsetTwo =		X:0 Y:100 Z:0
			ControlPointOffsetThree =	X:0 Y:100 Z:0
			ControlPointOffsetFour =	X:0 Y:200 Z:0
			MemberSpeed = 20
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:0 Y:0 Z:0
			ControlPointOffsetTwo =		X:0 Y:-100 Z:0
			ControlPointOffsetThree =	X:0 Y:-100 Z:0
			ControlPointOffsetFour =	X:0 Y:-200 Z:0
			MemberSpeed = 20
		End

		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:102 Y:-87 Z:0
			ControlPointOffsetTwo =		X:110 Y:-97 Z:0
			ControlPointOffsetThree =	X:120 Y:-77 Z:0
			ControlPointOffsetFour =	X:90 Y:-87 Z:0
			MemberSpeed = 20
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:160 Y:-90 Z:0
			ControlPointOffsetTwo =		X:180 Y:-100 Z:0
			ControlPointOffsetThree =	X:200 Y:-110 Z:0
			ControlPointOffsetFour =	X:220 Y:-120 Z:0
			MemberSpeed = 20
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:160 Y:-130 Z:0
			ControlPointOffsetTwo =		X:170 Y:-140 Z:0
			ControlPointOffsetThree =	X:180 Y:-150 Z:0
			ControlPointOffsetFour =	X:190 Y:-160 Z:0
			MemberSpeed = 20
		End

		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:4 Y:-130 Z:0
			ControlPointOffsetTwo =		X:5 Y:-131 Z:0
			ControlPointOffsetThree =	X:6 Y:-132 Z:0
			ControlPointOffsetFour =	X:7 Y:-133 Z:0
			MemberSpeed = 20
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:100 Y:-110 Z:0
			ControlPointOffsetTwo =		X:120 Y:-130 Z:0
			ControlPointOffsetThree =	X:140 Y:-150 Z:0
			ControlPointOffsetFour =	X:160 Y:-170 Z:0
			MemberSpeed = 20
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:30 Y:-110 Z:0
			ControlPointOffsetTwo =		X:50 Y:-130 Z:0
			ControlPointOffsetThree =	X:70 Y:-150 Z:0
			ControlPointOffsetFour =	X:90 Y:-170 Z:0
			MemberSpeed = 20
		End

		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:29 Y:144 Z:0
			ControlPointOffsetTwo =		X:30 Y:145 Z:0
			ControlPointOffsetThree =	X:31 Y:146 Z:0
			ControlPointOffsetFour =	X:32 Y:148 Z:0
			MemberSpeed = 20
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:130 Y:140 Z:0
			ControlPointOffsetTwo =		X:150 Y:150 Z:0
			ControlPointOffsetThree =	X:170 Y:140 Z:0
			ControlPointOffsetFour =	X:180 Y:150 Z:0
			MemberSpeed = 20
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:50 Y:140 Z:0
			ControlPointOffsetTwo =		X:70 Y:150 Z:0
			ControlPointOffsetThree =	X:90 Y:140 Z:0
			ControlPointOffsetFour =	X:110 Y:150 Z:0
			MemberSpeed = 20
		End

		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:90 Y:100 Z:0
			ControlPointOffsetTwo =		X:91 Y:101 Z:0
			ControlPointOffsetThree =	X:92 Y:103 Z:0
			ControlPointOffsetFour =	X:94 Y:105 Z:0
			MemberSpeed = 20
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:190 Y:100 Z:0
			ControlPointOffsetTwo =		X:210 Y:110 Z:0
			ControlPointOffsetThree =	X:230 Y:120 Z:0
			ControlPointOffsetFour =	X:250 Y:130 Z:0
			MemberSpeed = 20
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:190 Y:30 Z:0
			ControlPointOffsetTwo =		X:210 Y:50 Z:0
			ControlPointOffsetThree =	X:230 Y:70 Z:0
			ControlPointOffsetFour =	X:250 Y:90 Z:0
			MemberSpeed = 20
		End
	End

	Geometry            = BOX
	GeometryMajorRadius = 10.0
	GeometryMinorRadius = 1.0
	GeometryHeight      = 3.0
	GeometryIsSmall     = No
	Shadow              = NONE
End

Object MorgulduinFlood

 	Draw = W3DScriptedModelDraw ModuleTag_01
    	DefaultModelConditionState
	      	Model = None
    	End
  	End
	EditorSorting   = SYSTEM
	KindOf = NO_COLLIDE IMMOBILE UNATTACKABLE INERT
	ForceLuaRegistration = Yes


	Body = ImmortalBody ModuleTag_02
		MaxHealth = 1
		InitialHealth = 1
	End

	Behavior = DeletionUpdate ModuleTag_03
		MinLifetime = 10000
		MaxLifetime = 10000
	End

	Behavior = FloodUpdate ModuleTag_FloodCentral
		AngleOfFlow = 0
		DirectionIsRelative = Yes

		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:-200 Y:0 Z:0
			ControlPointOffsetTwo =		X:-100 Y:150 Z:0
			ControlPointOffsetThree =	X:100 Y:150 Z:0
			ControlPointOffsetFour =	X:200 Y:0 Z:0
			MemberSpeed = 20
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:-200 Y:0 Z:0
			ControlPointOffsetTwo =		X:-100 Y:100 Z:0
			ControlPointOffsetThree =	X:100 Y:100 Z:0
			ControlPointOffsetFour =	X:200 Y:0 Z:0
			MemberSpeed = 21
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:-200 Y:0 Z:0
			ControlPointOffsetTwo =		X:-100 Y:50 Z:0
			ControlPointOffsetThree =	X:100 Y:50 Z:0
			ControlPointOffsetFour =	X:200 Y:0 Z:0
			MemberSpeed = 20
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:-200 Y:0 Z:0
			ControlPointOffsetTwo =		X:-100 Y:0 Z:0
			ControlPointOffsetThree =	X:100 Y:0 Z:0
			ControlPointOffsetFour =	X:200 Y:0 Z:0
			MemberSpeed = 22
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:-200 Y:0 Z:0
			ControlPointOffsetTwo =		X:-100 Y:-50 Z:0
			ControlPointOffsetThree =	X:100 Y:-50 Z:0
			ControlPointOffsetFour =	X:200 Y:0 Z:0
			MemberSpeed = 20
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:-200 Y:0 Z:0
			ControlPointOffsetTwo =		X:-100 Y:-100 Z:0
			ControlPointOffsetThree =	X:100 Y:-100 Z:0
			ControlPointOffsetFour =	X:200 Y:0 Z:0
			MemberSpeed = 21
		End
		FloodMember
			MemberTemplateName = MorgulduinFloodMember
			ControlPointOffsetOne =		X:-200 Y:0 Z:0
			ControlPointOffsetTwo =		X:-100 Y:-150 Z:0
			ControlPointOffsetThree =	X:100 Y:-150 Z:0
			ControlPointOffsetFour =	X:210 Y:0 Z:-60
			MemberSpeed = 20
		End
	End

	Geometry            = BOX
	GeometryMajorRadius = 10.0
	GeometryMinorRadius = 1.0
	GeometryHeight      = 3.0
	GeometryIsSmall     = No
	Shadow              = NONE
End

Object MorgulduinFloodMember

	Draw = W3DScriptedModelDraw ModuleTag_01
	StaticModelLODMode = Yes
		DefaultModelConditionState
			Model = FloodHorse_SKN
			ParticleSysBone = Bone05 MorgulduinFloodTrail FollowBone:Yes
			ParticleSysBone = Bone05 MorgulduinFloodTrail2 FollowBone:Yes
			ParticleSysBone = Bone05 MorgulduinFloodTrail3 FollowBone:Yes
			ParticleSysBone = Bone05 MorgulduinFloodSplash FollowBone:Yes
		End

		IdleAnimationState
			StateName				= STATE_Idle
			Animation				= IDLE
				AnimationName		= FloodHorse_SKL.FloodHorse_RUNA
				AnimationMode		= LOOP
			End
			Flags					= RANDOMSTART
		End

		AnimationState				= MOVING
			Animation				= RUNA
				AnimationName		= FloodHorse_SKL.FloodHorse_RUNA
				AnimationMode		= LOOP
			End
			Flags					= RANDOMSTART
		End
	End

	EditorSorting   = SYSTEM
	KindOf = NO_COLLIDE IMMOBILE UNATTACKABLE INERT


 	Behavior 		= SubObjectsUpgrade HideSubObjecthorse
		TriggeredBy	= Upgrade_AllFactionUpgrade
		HideSubObjects	= HORSE
	End

	Body = HighlanderBody ModuleTag_02
		MaxHealth = 1
		InitialHealth = 1
	End

	Behavior = FireWeaponUpdate ModuleTag_WeaponFiring
		FireWeaponNugget
			WeaponName = FloodHorseRadiusWeapon
			Offset = X:-25 Y:0 Z:0
			FireDelay = 0
			OneShot = No
		End
	End

	Behavior = SlowDeathBehavior ModuleTag_FadeOut
		DeathTypes			= ALL
		DestructionDelay	= 0
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 17.6
	GeometryHeight = 32.0
	GeometryIsSmall = No
End

Object DolGuldurFortcollapseDebrisEgg

	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
	End

	KindOf = INERT IMMOBILE UNATTACKABLE

	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End

	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 0.0
		MaxLifetime = 0.0
	End

	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 10
		FX	= FINAL FX_DolGuldurFortcollapseDebris
	End
End

Object MorgulFortressBuildPlot

    SelectPortrait = SPMorgulFortress

    Draw = W3DScriptedModelDraw ModuleTag_DrawMain
        DefaultModelConditionState
            Model = mbfounmorg
        End

        ModelConditionState = CONSTRUCTION_COMPLETE
            Model = None
        End
    End

    PlacementViewAngle  = 0

    DisplayName         = OBJECT:MorgulFortressBuildingFoundation
    Side                = Mordor
    EditorSorting       = STRUCTURE
    ThreatLevel         = 1.0
    BuildCost           = 1
    BuildTime           = 5.0
    VisionRange         = 0.0
    ShroudClearingRange = 0
    MaxSimultaneousOfType = 1
    CommandSet 			= MorgulFortressBuildplotCommandSet

    VoiceSelect 		= Gui_PlotSelect2

    KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY NO_COLLIDE DO_NOT_CLASSIFY EXPANSION_PAD

    Behavior     = FoundationAIUpdate ModuleTag_foundationAI
        BuildVariation    = 1
    End

    Behavior = CastleMemberBehavior ModuleTag_CMB
    End

    Body = ActiveBody ModuleTag_MakesKillWork
        MaxHealth    = 1
    End

	Scale					= 6.0
    Geometry                = CYLINDER
    GeometryMajorRadius     = 5.0
    GeometryMinorRadius     = 5.0
    GeometryHeight          = 0.8
    GeometryIsSmall         = No
    Shadow                  = SHADOW_VOLUME
    BuildCompletion         = PLACED_BY_PLAYER
End


Object MorgulFort_pond

	Draw	= W3DScriptedModelDraw ModuleTag_01
	OkToChangeModelColor	= No

	ExtraPublicBone = BONEW01
	ExtraPublicBone = BONEW02
	ExtraPublicBone = BONEW03
	ExtraPublicBone = BONEW04

		DefaultModelConditionState
		Model = morgulfort_pd
		End
	End

	DisplayName      = OBJECT:Morgulduin
	Description      = OBJECT:MorgulduinDescription

	ArmorSet
		Conditions = None
  		Armor = NoArmor
  	End

	Side		= Mordor
	EditorSorting	= STRUCTURE
	BuildTime	= 10.0


	#include "..\..\..\Includes\StandardBuildingEvaEvents.inc"
	CampnessValue = 0


	RadarPriority       = STRUCTURE
	KindOf              = STRUCTURE IMMOBILE NOT_AUTOACQUIRABLE UNATTACKABLE BASE_SITE CAN_SEE_THROUGH_STRUCTURE

	Body = HighlanderBody ModuleTag_02
		MaxHealth      = 1.0
	End

	Behavior = CastleMemberBehavior ModuleTag_CMB
	End

	Behavior = SlavedUpdate ModuleTag_Slave
		DieOnMastersDeath = Yes
	End

    Scale = 0.90

	Geometry              	= BOX
	GeometryMajorRadius   	= 160
	GeometryMinorRadius   	= 160
	GeometryHeight      	= 8
	GeometryIsSmall     	= No
	Shadow			= SHADOW_VOLUME
End


Object MorgulFort_GargoyleExp

	SelectPortrait = SPMorgulGargoyleStatue

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = No
    UseStandardModelNames = Yes

 	RandomTexture  = gbwtop1_darker.tga  0 gbwtop1.tga

		DefaultModelConditionState
			Model = morgulfort_gs
		End


		ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED SNOW
			Model               = morgulfort_gsA
			Texture	= MBFortress.tga MBFortress_snow.tga
		End
		ModelConditionState = ACTIVELY_BEING_CONSTRUCTED
			Model = morgulfort_gsA
		End
		ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
			Model               = morgulfort_gsA
		End
		AnimationState        = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
			Animation           = morgulfort_gsA
				AnimationName     = GWatchers_ASKL.GWatchers_ABLD
				AnimationMode     = MANUAL
			End
			ParticleSysBone   = NONE BuildingContructDustExpB
			ParticleSysBone   = NONE ExpMordor
			BeginScript
				CurDrawablePlaySound("GondorBarracksBeginConstruction")
			EndScript
		End
	End


	Draw = W3DScriptedModelDraw ModuleTag_DrawMorgulSorcery
		OkToChangeModelColor	= Yes

		DefaultModelConditionState
			Model	= None
		End

		ModelConditionState	= UPGRADE_NUMENOR_STONEWORK
			Model = MBWatSorc
		End
	End


  PlacementViewAngle  = 45


  DisplayName         = OBJECT:MorgulGargoyleStatue
  Description         = OBJECT:MorgulGargoyleStatueDescription
	Side          = Mordor
	EditorSorting = STRUCTURE
	ThreatLevel	= 11.0
	IsTrainable	= No

    BuildCost           = 600
    BuildTime           = MORDOR_GATEWATCHEREXPANSION_BUILDTIME
    VisionRange         = VISION_BASE_DEFENSE
    ShroudClearingRange = SHROUD_CLEAR_BASE_DEFENSE

	CommandSet = MorgulGargoyleStatuecommandset

    WeaponSet
        Conditions    = NONE
        Weapon        = PRIMARY  MordorGateWatchersFearWeapon
    End

    ArmorSet
        Conditions        = None
        Armor             = FortressExpansionArmor
    End


    #include "..\..\..\Includes\StandardBuildingEvaEvents.inc"

    VoiceSelect                        = MordorGateWatcherExpansionSelect
    VoiceSelectUnderConstruction    = BuildingEvilVoiceSelectUnderConstruction

    SoundOnDamaged                    = BuildingLightDamageStone
    SoundOnReallyDamaged            = BuildingHeavyDamageStone

    UnitSpecificSounds
        UnderConstruction        = BuildingConstructionLoop

        UnderRepairFromRubble    = BuildingConstructionLoop
    End

    CampnessValue = CAMPNESS_FORTRESS_EXPANSION


	RadarPriority  = STRUCTURE
	KindOf = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE MADE_OF_STONE SCARY

  Behavior = CastleMemberBehavior ModuleTag_GargoyleStatue3
  End

	Body	= ActiveBody ModuleTag_05
		MaxHealth		= 1000.0
		MaxHealthDamaged	= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

  Behavior = ProductionUpdate ModuleTag_Statue9
  End

	Behavior = SlowDeathBehavior ModuleTag_Statue5
		DestructionDelay  = 5000
	End

 	Behavior = GettingBuiltBehavior ModuleTag_Statue13
		SpawnTimer  = 60
		RebuildWhenDead = Yes
        	SelfBuildingLoop = BuildingConstructionLoop
		SelfRepairFromDamageLoop  = NoSound
		SelfRepairFromRubbleLoop  = BuildingConstructionLoop
	End

	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End

	Behavior = AIUpdateInterface ModuleTag_SoWeCanUseWeapon
		AutoAcquireEnemiesWhenIdle	= Yes
		MoodAttackCheckRate		= 250

	End


    Behavior = AttributeModifierAuraUpdate ModuleTag_GateDebuff
        StartsActive    = Yes
        BonusName        = StandardDebuff
        RefreshDelay    = 2000
        Range            = 100
        TargetEnemy        = Yes
        ObjectFilter    = GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
    End


    Behavior = AttributeModifierUpgrade ModuleTag_Reinforced
        TriggeredBy                = Upgrade_MordorFortressMorgulSorcery
        AttributeModifier        = MorgulSorceryExpansion_Bonus
    End

    Behavior = ModelConditionUpgrade ModuleTag_ShowMorgulSorcery
        TriggeredBy                = Upgrade_MordorFortressMorgulSorcery
        AddConditionFlags        = UPGRADE_NUMENOR_STONEWORK
        Permanent                = Yes
    End


    Behavior = SpecialPowerModule ModuleTag_GateFear
        SpecialPowerTemplate        = SpecialAbilityGateWatchersFear
        UpdateModuleStartsAttack    = Yes
        StartsPaused                = No
    End
    Behavior = SpecialAbilityUpdate ModuleTag_GateFearUpdate
        SpecialPowerTemplate        = SpecialAbilityGateWatchersFear
        UnpackTime                    = 0
        AwardXPForTriggering        = 0
        PreparationTime                = 1
        PersistentPrepTime            = 2000
    End


	Behavior = StealthDetectorUpdate StealthDetectorUpdateModuleTagGargoyleStatue33
		DetectionRate	= 500
		CancelOneRingEffect = Yes
	End

    Behavior = PassiveAreaEffectBehavior ModuleTag_FeelGoodHero
        EffectRadius            = 200
        PingDelay               = 2000
        ModifierName            = GrishnakFakeLeadershipButton

        AllowFilter             = ANY +INFANTRY -HERO
    End

	Behavior = SlavedUpdate ModuleTag_Slave
		DieOnMastersDeath	= Yes
		MarkUnselectable	= No
	End

	Behavior = UpgradeDie  UpgradeDieModuleTag
		DeathTypes = ALL
		UpgradeToRemove     = Upgrade_MordorFortressLavaMoat BaseUpgradeTag_Gargoyles
	End

    Scale = 0.90

	Geometry		= BOX
	GeometryMajorRadius	= 12.0
	GeometryMinorRadius	= 12.0
	GeometryHeight		= 10
	GeometryOffset		= X:194 Y:35 Z:0

	AdditionalGeometry	= BOX
	GeometryMajorRadius	= 12.0
	GeometryMinorRadius	= 12.0
	GeometryHeight		= 10.0
	GeometryOffset		= X:194 Y:-35 Z:0

	GeometryIsSmall       	= No
	Shadow                	= SHADOW_VOLUME


	GeometryContactPoint 	= X:3		Y:0		Z:0		Repair
	GeometryContactPoint 	= X:22.954	Y:15.951	Z:0
	GeometryContactPoint 	= X:5.435	Y:-23.279	Z:0
	GeometryContactPoint 	= X:-0.459	Y:-0.275	Z:116.828	Swoop
End


Object MorgulFort_BridgeExp

	Draw = W3DScriptedModelDraw ModuleTag_01
		OkToChangeModelColor = No
	DefaultModelConditionState
		Model = morgulfort_bd
	End

		 WallBoundsMesh	= P01
		 RampMesh1	= P02
	End

		DisplayName   = OBJECT:Bridge
		EditorSorting = STRUCTURE

	EditorSorting   = STRUCTURE

	Side		= Mordor
	ThreatLevel	= 1.0

	ArmorSet
		Conditions = None
		Armor      = DefaultFortressArmor
	End


	#include "..\..\..\Includes\StandardBuildingEvaEvents.inc"

    SoundOnDamaged		= BuildingLightDamageStone
    SoundOnReallyDamaged	 = BuildingHeavyDamageStone


	RadarPriority       = STRUCTURE
	KindOf = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR CAN_CAST_REFLECTIONS MADE_OF_STONE EXPANSION_PAD UNATTACKABLE SELECTABLE

    VisionRange         = DEFAULT_FORTRESS_VISION_RANGE
    ShroudClearingRange = DEFAULT_FORTRESS_SHROUD_CLEAR

	Behavior = AIUpdateInterface ModuleTag_AIForAttacking
		AutoAcquireEnemiesWhenIdle	=	Yes ATTACK_BUILDINGS
	End

    Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
        WorkerName    = MordorWorkerNoSelect
        SpawnTimer    = DEFAULT_STRUCTURE_HEALDELAY
    End

	Body = StructureBody ModuleTag_Body
		MaxHealth       = 3500.0
	End

    Behavior = CastleMemberBehavior ModuleTag_CMB
    End

         Behavior = ProductionUpdate ProductionUpdateModuleTag
		GiveNoXP	= Yes
	End

	Behavior = SlavedUpdate ModuleTag_Slave
		DieOnMastersDeath	= Yes
		MarkUnselectable	= No
	End

	Behavior = StructureCollapseUpdate ModuleTag_Collapse
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight		= 155
	End

 	Behavior 		= SubObjectsUpgrade HideSubObjects
		TriggeredBy	= Upgrade_AllFactionUpgrade
		HideSubObjects	= BRIDGE
	End

    Scale = 0.90

	Geometry              = BOX
	GeometryMajorRadius   = 76.0
	GeometryMinorRadius   = 275.0
	GeometryHeight        = 30
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME

	GeometryContactPoint = X:-50  Y:-260 Z:8
	GeometryContactPoint = X:-50  Y:260 Z:8
	GeometryContactPoint = X:-50  Y:260 Z:8
	GeometryContactPoint = X:50  Y:260 Z:8
	GeometryContactPoint = X:50  Y:260 Z:8
	GeometryContactPoint = X:50  Y:-260 Z:8
End

ChildObject MorgulFort_BridgeExpVIS MorgulFort_BridgeExp

 	Behavior 		= SubObjectsUpgrade HideSubObjects
		TriggeredBy	= Upgrade_AllFactionUpgrade
	End
End