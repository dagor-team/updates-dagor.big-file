Object LAGondorFighter
	
	SelectPortrait         = HPNumenorean

	Draw = W3DHordeModelDraw ModuleTag_01
		OkToChangeModelColor = Yes	
		StaticModelLODMode = Yes
		
		LodOptions							= LOW
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_LOW
		End
		
		LodOptions							= MEDIUM
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_MED
		End
		
		LodOptions							= HIGH
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_HIGH
		End

		WadingParticleSys = WaterRipplesTrail  

		DefaultModelConditionState
			Model							= GUNumnrean_SKN
			Skeleton						= GUMAArms_SKL
		End

		ModelConditionState WEAPONSET_PLAYER_UPGRADE
			Model							= GUNumnrean_SKN
			Skeleton						= GUMAArms_SKL
		End
		
		ModelConditionState = USER_4		
			Model							= GUNumnrean_SKN	
			Skeleton						= GUMAArms_SKL
		End





		AnimationState						= PASSENGER
			Animation						= Grabbed
				AnimationName				= GUMAArms_FLLA
				AnimationMode				= LOOP
			End
		End
		
		AnimationState						= FREEFALL
			Animation						= Falling
				AnimationName				= GUMAArms_FLYD
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
			End
			Animation						= Falling
				AnimationName				= GUMAArms_FLYC
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange	= 0.5	0.5
			End
		End

		AnimationState        				= THROWN_PROJECTILE
			Animation           			= FlyA
				AnimationName      	 		= GUMAARMS_FLYA
				AnimationMode       		= LOOP
			End
			Animation           			= FlyB
				AnimationName       		= GUMAARMS_FLYB
				AnimationMode       		= LOOP
			End
			Animation           			= FlyC
				AnimationName       		= GUMAARMS_FLYC
				AnimationMode       		= LOOP
			End
			Animation           			= FlyD
				AnimationName       		= GUMAARMS_FLYD
				AnimationMode       		= LOOP
			End
			Flags               			= RANDOMSTART
		End
		
		AnimationState        				= STUNNED_FLAILING 
			Animation           			= FlyA
				AnimationName       		= GUMAARMS_FLYA
				AnimationMode       		= LOOP
			End
			Animation           			= FlyB
				AnimationName       		= GUMAARMS_FLYB
				AnimationMode       		= LOOP
			End
			Animation           			= FlyC
				AnimationName       		= GUMAARMS_FLYC
				AnimationMode       		= LOOP
			End
			Animation           			= FlyD
				AnimationName      		 	= GUMAARMS_FLYD
				AnimationMode       		= LOOP
			End
			Flags               			= RANDOMSTART
		End

		AnimationState 						= DYING SPLATTED
			Animation 						= Splatted_On_Ground
				AnimationName 				= GUMAARMS_LNDA
				AnimationMode 				= ONCE
			End
			EnteringStateFX					= FX_OrcHitGround
		End
		AnimationState						= DYING AFLAME
			Animation						= MFDA
				AnimationName				= GUManMocap_MFDA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= DYING
			
			
			
			
			Animation						= DIEB
				AnimationName				= GUManMocap_DIEB
				AnimationMode				= ONCE
			End
			Animation						= DIEC
				AnimationName				= GUManMocap_DIEC
				AnimationMode				= ONCE
			End
			Animation						= DIED
				AnimationName				= GUManMocap_DIED
				AnimationMode				= ONCE
			End
			Animation						= DIEE
				AnimationName				= GUManMocap_DIEE
				AnimationMode				= ONCE
			End
		End



		AnimationState						= STUNNED_STANDING_UP
			Animation						= GTPA
				AnimationName				= GUManMocap_GTPA
				AnimationMode				= ONCE
			End
			Animation						= GTPB
				AnimationName				= GUManMocap_GTPB
				AnimationMode				= ONCE
			End
			Animation						= GTPC
				AnimationName				= GUManMocap_GTPC
				AnimationMode				= ONCE
			End
		End
		

		
		AnimationState						= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
			
			Animation					= TerrorFromTheSky
				AnimationName			= GUManMocap_RUND
				AnimationMode			= LOOP
			End
			Animation					= TerrorFromTheSky
				AnimationName			= GUManMocap_RUNE
				AnimationMode			= LOOP
			End
			Flags = RANDOMSTART
		End
		AnimationState						= MOVING EMOTION_TERROR
			
			Animation						= TerrorFromTheSky
				AnimationName				= GUManMocap_RUND
				AnimationMode				= ONCE
			End
			Animation						= TerrorFromTheSky
				AnimationName				= GUManMocap_RUNE
				AnimationMode				= ONCE
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
		End
		

		
		AnimationState						= MOVING BACKING_UP
			
			Animation						= BAKA
				AnimationName				= GUManMocap_BAKA
				AnimationMode				= LOOP
			End
			Animation						= BAKB
				AnimationName				= GUManMocap_BAKB
				AnimationMode				= LOOP
			End
			Animation						= BAKC
				AnimationName				= GUManMocap_BAKC
				AnimationMode				= LOOP
			End
			Flags = RANDOMSTART
		End

		AnimationState						= MOVING PANICKING
			
			Animation						= MFDA
				AnimationName				= GUManMocap_MFDA
				AnimationMode				= LOOP
			End
			Flags							= RANDOMSTART
			
		End
		
		AnimationState						= MOVING ATTACKING
			ShareAnimation					= Yes
			Animation						= RUNA
				AnimationName				= GUManMocap_RUNA
				AnimationMode				= LOOP
				Distance					= 25
			End
			Flags							= RANDOMSTART
			
		End
		
		AnimationState						= MOVING
			
			ShareAnimation					= Yes
			Animation						= RUNB
				AnimationName				= GUManMocap_RUNB
				AnimationMode				= LOOP
				Distance					= 30
			End
			Animation						= RUNC
				AnimationName				= GUManMocap_RUNC
				AnimationMode				= LOOP
				Distance					= 30
			End
			Flags							= RANDOMSTART
			
		End
		
		AnimationState						= EMOTION_UNCONTROLLABLY_AFRAID
			Animation						= FERA
				AnimationName				= GUManMocap_FERA
				AnimationMode				= LOOP
			End 
			Animation						= FERB
				AnimationName				= GUManMocap_FERB
				AnimationMode				= LOOP
			End
			Animation						= FERC
				AnimationName				= GUManMocap_FERC
				AnimationMode				= LOOP
			End
			Animation						= FERD
				AnimationName				= GUManMocap_FERD
				AnimationMode				= LOOP
			End
			Animation						= FERE
				AnimationName				= GUManMocap_FERE
				AnimationMode				= LOOP
			End
			Animation						= FERF
				AnimationName				= GUManMocap_FERF
				AnimationMode				= LOOP
			End
		End


		AnimationState						= FIRING_OR_PREATTACK_A
			Animation						= ATA1
				AnimationName				= GUManMocap_ATKA
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
			
		End
		
		AnimationState						= ATTACKING
			Animation						= ALERT_1
				AnimationName				= GUManMocap_IDLA
				AnimationMode				= ONCE
			End
		End


		AnimationState						= HIT_REACTION
			
			
			
			
			Animation						= HITB
				AnimationName				= GUManMocap_HITB
				AnimationMode				= ONCE
			End
		End




		AnimationState						= EMOTION_ALERT EMOTION_AFRAID
			Animation						= APPA
				AnimationName				= GUManMocap_APPA
				AnimationMode				= ONCE
			End
			Animation						= APPB
				AnimationName				= GUManMocap_APPB
				AnimationMode				= ONCE
			End
			Flags							= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End
		


		AnimationState						= EMOTION_AFRAID
			Animation						= FERA
				AnimationName				= GUManMocap_FERA
				AnimationMode				= LOOP
			End 
			Animation						= FERB
				AnimationName				= GUManMocap_FERB
				AnimationMode				= LOOP
			End
			Animation						= FERC
				AnimationName				= GUManMocap_FERC
				AnimationMode				= LOOP
			End
			Animation						= FERD
				AnimationName				= GUManMocap_FERD
				AnimationMode				= LOOP
			End
			Animation						= FERE
				AnimationName				= GUManMocap_FERE
				AnimationMode				= LOOP
			End
			Animation						= FERF
				AnimationName				= GUManMocap_FERF
				AnimationMode				= LOOP
			End
		End



		AnimationState						= EMOTION_POINTING
			Animation						= Pointing1
				AnimationName				= GUManMocap_RCTA
				AnimationMode				= LOOP
			End
		End



		AnimationState						= EMOTION_TAUNTING
			Animation						= Taunting1
				AnimationName				= GUManMocap_TNTA
				AnimationMode				= ONCE
			End
			Animation						= Taunting2
				AnimationName				= GUManMocap_TNTB
				AnimationMode				= ONCE
			End
			Animation						= Taunting3
				AnimationName				= GUManMocap_TNTC
				AnimationMode				= ONCE
			End
			Animation						= Taunting4
				AnimationName				= GUManMocap_IDLC
				AnimationMode				= ONCE
			End
			Animation						= Taunting5
				AnimationName				= GUManMocap_IDLA
				AnimationMode				= ONCE
			End
			Animation						= Taunting6
				AnimationName				= GUManMocap_IDLH
				AnimationMode				= ONCE
			End
			Flags							= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End



		AnimationState						= EMOTION_CELEBRATING
			Animation						= CHRB
				AnimationName				= GUManMocap_CHRB
				AnimationMode				= ONCE
			End
			Animation						= CHRC
				AnimationName				= GUManMocap_CHRC
				AnimationMode				= ONCE
			End
			Animation						= IDLD
				AnimationName				= GUManMocap_IDLD
				AnimationMode				= ONCE
			End
			Flags							=	RESTART_ANIM_WHEN_COMPLETE
		End
		


		AnimationState						= EMOTION_ALERT
			Animation						= ALERT_1
				AnimationName				= GUManMocap_IDLA
				AnimationMode				= LOOP
				AnimationPriority			= 10
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE 
		End
		

		AnimationState        = SELECTED
			StateName           = STATE_Selected
			Animation           = ATNB
				AnimationName     = GUManMocap_ATNB
				AnimationMode     = LOOP
			End
			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle" 
				then 
					CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") 
				end
				if CurDrawableModelcondition("ATTACKING")
				then
					return "IDLA"
				else
					return "ATNA"
				end
			EndScript
			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
			EndScript
		End
		

		AnimationState				= WEAPONSET_PLAYER_UPGRADE
			StateName				= STATE_Idle
			Animation				= IDLI
				AnimationName       = GUManMocap_IDLH
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation				= IDLD
				AnimationName       = GUManMocap_IDLD
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation				= IDLH
				AnimationName       = GUManMocap_IDLH
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation				= CHRB
				AnimationName       = GUManMocap_CHRB
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation				= CHRC
				AnimationName       = GUManMocap_CHRC
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Flags					= RESTART_ANIM_WHEN_COMPLETE			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
			EndScript
		End		
		AnimationState				= USER_3
			StateName				= STATE_User_3
			Animation				= GUARD_STANCE
				AnimationName		= GUManMocap_IDLA
				AnimationMode		= LOOP
			End
		End
		IdleAnimationState
			StateName				= STATE_Idle
			Animation				= IDLB
				AnimationName       = GUManMocap_IDLB
				AnimationMode       = ONCE
				AnimationPriority   = 20
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLF
				AnimationName       = GUManMocap_IDLF
				AnimationMode       = ONCE
				AnimationPriority   = 1
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLG
				AnimationName       = GUManMocap_IDLG
				AnimationMode       = ONCE
				AnimationPriority   = 1
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLJ
				AnimationName       = GUManMocap_IDLJ
				AnimationMode       = ONCE
				AnimationPriority   = 1
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLK
				AnimationName       = GUManMocap_IDLK
				AnimationMode       = ONCE
				AnimationPriority   = 1
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLL
				AnimationName       = GUManMocap_IDLL
				AnimationMode       = ONCE
				AnimationPriority   = 1
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLN
				AnimationName       = GUManMocap_IDLN
				AnimationMode       = ONCE
				AnimationPriority   = 1
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLO
				AnimationName       = GUManMocap_IDLO
				AnimationMode       = ONCE
				AnimationPriority   = 1
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLP
				AnimationName       = GUManMocap_IDLP
				AnimationMode       = ONCE
				AnimationPriority   = 1
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End		
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
			EndScript
		End

		TransitionState       = TRANS_TO_USER_1
			Animation
				AnimationName     = GUManMocap_RCTA
				AnimationMode     = ONCE
			End
		End
		TransitionState       = TRANS_IdleToSelected
			Animation           = ATNA
				AnimationName     = GUManMocap_ATNA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.9 1.0
				
			End
		End
		TransitionState		= TRANS_SelectedToIdle
			Animation			= ATND
				AnimationName	= GUManMocap_ATND
				AnimationMode	= ONCE
				AnimationSpeedFactorRange = 0.9 1.0
			End
		End

	End
	
	
	Side = Men
	Browser = CINEMATICS UNIT
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 2
	BountyValue = GONDOR_SOLDIER_BOUNTY_VALUE
	
	EmotionRange = 240 

	TransportSlotCount = 1
	
	
	WeaponSet
		Conditions			= None 
		Weapon				= PRIMARY    GondorSword
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions			= PLAYER_UPGRADE
		Weapon				= PRIMARY	GondorSwordUpgraded
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	
	ArmorSet
		Conditions      = None
		Armor           = SoldierArmor
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = SoldierHeavyArmor
		DamageFX        = NormalDamageFX
	End
	
	VisionRange = VISION_STANDARD_MELEE
	ShroudClearingRange = SHROUD_CLEAR_STANDARD				

	DisplayName = OBJECT:GondorFighter
	CrushableLevel = 0  
	CrushRevengeWeapon = BasicInfantryCrushRevenge
	
	CommandSet = GondorFighterCommandSet


	

	
	VoiceAttack			= GondorSoldierVoiceAttack
	VoiceAttackCharge		= GondorSoldierVoiceAttackCharge
	VoiceAttackMachine		= GondorSoldierVoiceAttack
	VoiceAttackStructure		= GondorSoldierVoiceAttackBuilding
	VoiceEnterStateAttack			= GondorSoldierVoiceEnterStateAttack
	VoiceEnterStateAttackCharge		= GondorSoldierVoiceEnterStateAttackCharge
	VoiceEnterStateAttackMachine	= GondorSoldierVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackStructure	= GondorSoldierVoiceEnterStateAttackBuilding
	VoiceCreated			= GondorSoldierVoiceSalute
	VoiceFullyCreated 		= GondorSoldierVoiceSalute		
	VoiceMove			= GondorSoldierVoiceMove
	VoiceMoveToCamp			= GondorSoldierVoiceMoveCamp
	VoiceMoveWhileAttacking		= GondorSoldierVoiceDisengage		
	VoicePriority			= 49
	VoiceRetreatToCastle		= GondorSoldierVoiceRetreat
	VoiceSelect			= GondorSoldierVoiceSelect
	VoiceSelectBattle 		= GondorSoldierVoiceSelectBattle
	VoiceEnterStateMove					= GondorSoldierVoiceEnterStateMove
	VoiceEnterStateMoveToCamp			= GondorSoldierVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking	= GondorSoldierVoiceEnterStateDisengage
	VoiceEnterStateRetreatToCastle		= GondorSoldierVoiceEnterStateRetreat
	VoiceGuard			= GondorSoldierVoiceMove

	SoundImpact = ImpactHorse


	UnitSpecificSounds
		VoiceGarrison		= GondorSoldierVoiceGarrison              
		VoiceDesperateAttack	= GondorSoldierVoiceDesperateCharge 
	End

    #include "..\includes\StandardUnitEvaEvents.inc"


	

	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK GRAB_AND_DROP
	
	Body = ActiveBody ModuleTag_02
		CheerRadius 	  = EMOTION_CHEER_RADIUS
		MaxHealth         = GONDOR_SOLDIER_HEALTH
		MaxHealthDamaged  = GONDOR_SOLDIER_HEALTH_DAMAGED
		
	End
	
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy = Upgrade_ForgedBlades
	End

	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
		TriggeredBy = Upgrade_HeavyArmor
		ArmorSetFlag			= PLAYER_UPGRADE
	    
	End
	
	
	
	
	
	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy		= Upgrade_HeavyArmor
		UpgradeTexture	= GUManAtArms.tga 0 GUManAtArms_HA.tga
		RecolorHouse	= Yes
		ExcludeSubobjects = Forged_Blade
	End
	
	Behavior = SubObjectsUpgrade ForgedBlade_Upgrade
		TriggeredBy		= Upgrade_ForgedBlades
		ShowSubObjects	= Forged_Blade
	End	
	
		
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	=	Yes ATTACK_BUILDINGS
		MoodAttackCheckRate			=	500
		AILuaEventsList				=	GondorFighterFunctions
		MinCowerTime				=	3000
		MaxCowerTime				=	5000
		AttackPriority				= 	AttackPriority_Infantry
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStunnedTimeLow		= 1400	
		ShockStunnedTimeHigh	= 2400	
		ShockStandingTime		= 1000	
	End 

	Behavior = AttributeModifierUpgrade ModuleTag_AMU
		TriggeredBy = Upgrade_GondorFighterFearless
		AttributeModifier = FearlessForever
	End
	 
	Behavior = SquishCollide ModuleTag_06
		
	End
	
	Behavior = HordeMemberCollide ModuleTag_HMC
		
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 2500 
		HitReactionLifeTimer2 = 2500 
		HitReactionLifeTimer3 = 2500 

		HitReactionThreshold1 = 5.0   
		HitReactionThreshold2 = 25.0  
		HitReactionThreshold3 = 50.0  
		
		FastHitsResetReaction = Yes    If set -- when hits occur faster than the reaction animations, it will reset the animation. (like getting riddled with machine gun bullets)
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.60     
		DestructionDelay = 10000
		Sound = INITIAL HumanVoiceDie 
	End
	
	Behavior = SlowDeathBehavior ModuleTag_07
		
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.60     
		DestructionDelay = 10000
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 
		
		FirstHeight = 24  
		SecondHeight = 24
		FirstPercentIndent = 30% 
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes 
		DieOnImpact = Yes
		BounceCount = 1   
		BounceDistance = 40 
		BounceFirstHeight = 24  
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% 
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry Gondor_Soldier
	End
	
	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: TauntHumanHitShield Animation:GUMAArms_SKL.GUManMocap_IDLC Frames: 17 27
		AnimationSound = Sound: TauntHumanHitShield Animation:GUMAArms_SKL.GUManMocap_TNTC Frames: 74 82 94 125 139
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = No

    Shadow = SHADOW_DECAL
    ShadowSizeX = 19
    ShadowSizeY = 19
    ShadowTexture = ShadowI
End




Object LAGondorBanner
	

	SelectPortrait         = UPGondor_Banner

	Draw = W3DScriptedModelDraw ModuleTag_01
	
	
		ExtraPublicBone = Glow
		ExtraPublicBone = Adornment
		ExtraPublicBone = Streamers
	
	
	  OkToChangeModelColor = Yes
   StaticModelLODMode = Yes 

		DefaultModelConditionState
			Model               = GUNumnBnnr_SKN
			Skeleton			= GUBanner_SKL
		End

		
		ModelConditionState = USER_1
			Model = GUNumnBnnr_SKN
			Skeleton = GUBanner_SKL
		End
		
		
		ModelConditionState = USER_2
			Model = GURngrBnr_SKN
			Skeleton = GUBanner_SKL
		End
								
		
		ModelConditionState = USER_3
			Model = GUBnrCav_SKN
			Skeleton = RURrmBnr_SKL				
		End
		
		
		AnimationState				=	PASSENGER USER_3
			Animation				=	grabbed
				AnimationName		=	RURrmBnr_GBDA
				AnimationMode		=	LOOP
			End
		End
		
		
		AnimationState				=	FREEFALL USER_3
			Animation				=	free fall
				AnimationName		=	RURrmBnr_FLYB
				AnimationMode		=	LOOP
			End
		End
		
		
		AnimationState				=	DYING SPLATTED USER_3
			Animation				=	splatted
				AnimationName		=	RURrmBnr_LNDA
				AnimationMode		=	ONCE
				AnimationBlendTime  =   2
			End
			FXEvent	= Frame:2 Name:FX_SplatDust
		End
		
		AnimationState				=	STUNNED_FLAILING USER_3
			Animation				=	JustDie
				AnimationName		=	RURrmBnr_FLYC
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
		End

		AnimationState				=	STUNNED USER_3
			Animation				=	Land
				AnimationName		=	RURrmBnr_LNDA
				AnimationMode		=	ONCE
			End
		End

		AnimationState				=	STUNNED_STANDING_UP USER_3
			Animation				=	StandUp
				AnimationName		=	RURrmBnr_GTPA
				AnimationMode		=	ONCE
			End
		End
		
		AnimationState				=	DYING USER_3     
			Animation				=	JustDie
				AnimationName		=	RURrmBnr_DIEA
				AnimationMode		=	ONCE
			End
		End
		
		
		AnimationState				=	DEATH_2 USER_3
			Animation				=	JustDie
				AnimationName       =	RURrmBnr_DIEB
				AnimationMode       =	ONCE
			End
		End


		AnimationState					= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY USER_3
			Animation					= TerrorFromTheSky
				AnimationName			= RURrmBnr_RUNB
				AnimationMode			= LOOP
			End
		End
		AnimationState					= MOVING EMOTION_TERROR USER_3
			Animation					= TerrorFromTheSky
				AnimationName			= RURrmBnr_RUNB
				AnimationMode			= LOOP
			End
		End


		AnimationState					= MOVING BACKING_UP USER_3
			Animation					= BACKING UP
				AnimationName			= RURrmBnr_BAKA
				AnimationMode			= LOOP
			End
		End

		
		AnimationState = MOVING ENGAGED USER_3
			Animation = Moving_Engaged
				AnimationName = RURrmBnr_RUNC
				AnimationMode = LOOP
			End
			Flags               = RANDOMSTART
		End
		
		AnimationState				=	TURN_LEFT_HIGH_SPEED USER_3
			Animation				=	TurnLeft
				AnimationName		=	RURrmBnr_TNL1
				AnimationMode		=	LOOP

				AnimationBlendTime	=	20
			End
		End
		
		AnimationState				=	TURN_RIGHT_HIGH_SPEED USER_3
			Animation				=	TurnLeft
				AnimationName		=	RURrmBnr_TNR1
				AnimationMode		=	LOOP

				AnimationBlendTime	=	20
			End
		End
		
		AnimationState				= MOVING WANDER USER_3
			Animation				= WLKA
				AnimationName		= RURrmBnr_WLKA
				AnimationMode		= LOOP
			End
		End

		AnimationState				=	MOVING TURN_LEFT USER_3 
			Animation				=	TurnLeft
				AnimationName		=	RURrmBnr_TRNL
				AnimationMode		=	LOOP
			End
		End

		AnimationState				=	MOVING TURN_RIGHT USER_3 
			Animation				=	TurnRight
				AnimationName		=	RURrmBnr_TRNR
				AnimationMode		=	LOOP
			End
		End
	
		AnimationState				=	MOVING ACCELERATE USER_3
			Animation				=	Accelerate
				AnimationName		=	RURrmBnr_ACCL
				AnimationMode		=	LOOP
			End
		End

		AnimationState				=	MOVING DECELERATE USER_3
			Animation				=	Decelerate
				AnimationName		=	RURrmBnr_DECL
				AnimationMode		=	ONCE
			End
		End

		AnimationState				=	MOVING USER_3
			Animation				=	RunA
				AnimationName		=	RURrmBnr_RUNA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
		End

		AnimationState				=	FIRING_OR_PREATTACK_A USER_3
			Animation				=	AttackA1
				AnimationName		=	RURrmBnr_ATKA
				AnimationMode		=	ONCE
			End
		End
		
		
		
		
		AnimationState						= PASSENGER
			Animation						= Wiggle
				AnimationName				= GUBanner_FLLA
				AnimationMode				= LOOP
			End
		End
		
		AnimationState						= FREEFALL
			Animation						= Falling
				AnimationName				= GUBanner_FLYA
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange	= 0.5	0.5
			End
		End
		
	IdleAnimationState
			
			
			
			
			
			
			Animation				=	IdleB
				AnimationName		=	GUBanner_IDLB
				AnimationMode		=	ONCE
				AnimationBlendTime	=	15
				AnimationPriority = 1
			End
			StateName           = Idle		
		End


		AnimationState					= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
			Animation					= TerrorFromTheSky
				AnimationName			= GUBanner_RUNB
				AnimationMode			= LOOP
			End
		End
		AnimationState					= MOVING EMOTION_TERROR
			Animation					= Terror
				AnimationName			= GUBanner_RUNB
				AnimationMode			= LOOP
			End
		End

		
		AnimationState        = STUNNED_FLAILING
			Animation           = StunFlail
				AnimationName     = GUBanner_FLYA
				AnimationMode      = LOOP
			End
			Flags               = RANDOMSTART
		End

		AnimationState        = DYING SPLATTED
			Animation           = LNDA
				AnimationName     = GUBanner_LNDA
				AnimationMode     = ONCE
			End
		End

		AnimationState        = DYING
			Animation           = DIEA
				AnimationName     = GUBanner_DIEA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState        = STUNNED
			Animation           = LNDA
				AnimationName     = GUBanner_LNDA
				AnimationMode     = ONCE
			End
		End

		AnimationState        = STUNNED_STANDING_UP
			Animation           = GTPA
				AnimationName     = GUBanner_GTPA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState        = FIRING_OR_PREATTACK_A
			Animation           = ATKA
				AnimationName     = GUBanner_ATKA
				AnimationMode     = ONCE
				UseWeaponTiming	  = Yes
			End
			StateName           = Attack
		End
		
		AnimationState					= MOVING BACKING_UP
			Animation					= BackingUp
				AnimationName			= GUBanner_BAKA
				AnimationMode			= LOOP
				AnimationBlendTime		= 15
			End
			Flags						= RANDOMSTART
		End
		
		AnimationState				= MOVING ALTERNATE_FORMATION PASSENGER_VARIATION_3
			Animation				= WalkingInASlowShieldGuardFormation
				AnimationName		= GUBanner_WLKA
				AnimationMode		= LOOP
               AnimationSpeedFactorRange = .9 .9
			End
			Flags					= RANDOMSTART
			
		End
	
		AnimationState				= MOVING ALTERNATE_FORMATION PASSENGER_VARIATION_1
			Animation				= RunningSlowerInAFighterAlternateFormation
				AnimationName		= GUBanner_RUNA
				AnimationMode		= LOOP
                AnimationSpeedFactorRange = .5 .5
			End
			Flags					= RANDOMSTART
			
		End
		
		AnimationState				= MOVING
			Animation				= RUNA
				AnimationName		= GUBanner_RUNA
				AnimationMode		= LOOP
                AnimationSpeedFactorRange = .8 .8 
			End
			Flags					= RANDOMSTART
			
		End
		

		
		AnimationState = HIT_REACTION
			Animation = Hit_Level_1_a
				AnimationName = GUBanner_HITA
				AnimationMode = ONCE
			End
		End
		


		
		AnimationState					=	EMOTION_ALERT EMOTION_AFRAID USER_3
			Animation					=	Apprehensive
				AnimationName			=	RURrmBnr_APPA
				AnimationMode			=	LOOP	
			End
		End				
		AnimationState					=	EMOTION_ALERT EMOTION_AFRAID
			Animation					=	Apprehensive
				AnimationName			=	GUBanner_APPA
				AnimationMode			=	LOOP	
			End
		End
		


		AnimationState					= EMOTION_AFRAID USER_3
			Animation					= FERA
				AnimationName			= RURrmBnr_FERA
				AnimationMode			= LOOP
			End
			Animation					= FERB
				AnimationName			= RURrmBnr_FERB
				AnimationMode			= LOOP
			End
		End
		AnimationState					= EMOTION_AFRAID
			Animation					= FERA
				AnimationName			= GUBanner_FERA
				AnimationMode			= LOOP
			End
		End
		


		AnimationState					= EMOTION_TAUNTING USER_3
			Animation					= Taunting
				AnimationName			= RURrmBnr_TNTA
				AnimationMode			= ONCE
			End
			Animation					= Taunting2
				AnimationName			= RURrmBnr_TNTB
				AnimationMode			= ONCE
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
		End
		AnimationState					= EMOTION_TAUNTING
			Animation					= Taunting
				AnimationName			= GUBanner_TNTA
				AnimationMode			= LOOP
			End
		End
		


		AnimationState					= EMOTION_POINTING USER_3
			Animation					= &&POINT&&
				AnimationName			= RURrmBnr_IDLA
				AnimationMode			= LOOP
			End
		End
		AnimationState					= EMOTION_POINTING
			Animation					= &&POINT&&
				AnimationName			= GUBanner_IDLA
				AnimationMode			= LOOP
			End
		End
		


		AnimationState					= EMOTION_CELEBRATING USER_3
			Animation					= CheerA
				AnimationName			= RURrmBnr_CHRA
				AnimationMode			= ONCE
				AnimationBlendTime		= 74
                AnimationMustCompleteBlend = Yes
			End
			Animation					= CheerB
				AnimationName			= RURrmBnr_CHRB
				AnimationMode			= ONCE
				AnimationBlendTime		= 74
                AnimationMustCompleteBlend = Yes
			End
			Animation					= CheerC
				AnimationName			= RURrmBnr_CHRC
				AnimationMode			= ONCE
				AnimationBlendTime		= 74
                AnimationMustCompleteBlend = Yes
			End
			Animation					= CheerD
				AnimationName			= RURrmBnr_CHRD
				AnimationMode			= ONCE
				AnimationBlendTime		= 74
                AnimationMustCompleteBlend = Yes
			End
			Animation					= Salute
				AnimationName			= RURrmBnr_SLTA
				AnimationMode			= ONCE
				AnimationBlendTime		= 74
                AnimationMustCompleteBlend = Yes
			End
			
			Flags						= RESTART_ANIM_WHEN_COMPLETE
		End
		AnimationState					= EMOTION_CELEBRATING
			Animation					= CHRA
				AnimationName			= GUBanner_CHRA
				AnimationMode			= ONCE
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
		End

	
	
		AnimationState					= EMOTION_ALERT USER_3
			Animation					= IDLA
				AnimationName			= RURrmBnr_IDLA
				AnimationMode			= LOOP
			End
			
		End
		AnimationState					= EMOTION_ALERT
			Animation					= IDLA
				AnimationName			= GUBanner_IDLA
				AnimationMode			= LOOP
			End
			
			
			
			
			
		End
		

		AnimationState					=	SELECTED USER_3
			StateName					=	STATE_Selected_User_3
			Animation					=	AtAttention
				AnimationName			=	RURrmBnr_ATNB
				AnimationMode			=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "State_User3" then CurDrawableSetTransitionAnimState("TRANS_Idle_To_Selected3") end
			EndScript
		End	
		
		
		
		AnimationState					= SELECTED
			StateName					= STATE_Selected
			Animation					= ATNB
				AnimationName			= GUBanner_ATNB
				AnimationMode			= LOOP
				AnimationBlendTime		= 15
			End
			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_To_Selected") end
			EndScript
		End

		AnimationState					=	USER_3
			StateName					=	State_User3
			
			
			
			
			
			
			Animation					=	IdleB
				AnimationName			=	RURrmBnr_IDLB
				AnimationMode			=	LOOP
				AnimationBlendTime		=	15
			End
			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected_User_3" then CurDrawableSetTransitionAnimState("TRANS_Selected3_To_Idle") end
			EndScript
		End
		
		
		
		
		TransitionState					=	TRANS_Idle_to_Selected
			Animation					=	ATNA
				AnimationName			=	GUBanner_ATNA
				AnimationMode			=	ONCE
			End
		End
		
		
		TransitionState					=	TRANS_Idle_to_Selected3
			Animation					=	ATNA
				AnimationName			=	RURrmBnr_ATNA
				AnimationMode			=	ONCE
			End
		End
		
		
		TransitionState					=	TRANS_Selected3_to_Idle
			Animation					=	ATNC
				AnimationName			=	RURrmBnr_ATNC
				AnimationMode			=	ONCE
			End
		End
		
		
		
		
		
		
		

	End
	
	
	Side = Men
	Browser = CINEMATICS UNIT
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 0

	TransportSlotCount = 1
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    GondorSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End

	VisionRange = VISION_STANDARD_MELEE
	ShroudClearingRange = SHROUD_CLEAR_STANDARD

	DisplayName = OBJECT:GondorBanner
	CrusherLevel = 0			
	CrushableLevel = 0			
	MountedCrusherLevel = 1		
	MountedCrushableLevel = 3	
	CrushRevengeWeapon = BasicInfantryCrushRevenge
	BuildCost 		= GONDOR_BANNER_BUILDCOST
	BuildTime 		= GONDOR_BANNER_BUILDTIME
	BountyValue     = GONDOR_BANNER_BOUNTY_VALUE
	
	CommandSet = EmptyCommandSet


	

	
	VoiceAttack			= GondorSoldierVoiceAttack		
	VoiceAttackCharge		= GondorSoldierVoiceAttackCharge
	VoiceAttackMachine		= GondorSoldierVoiceAttack
	VoiceAttackStructure		= GondorSoldierVoiceAttackBuilding
	VoiceEnterStateAttack			= GondorSoldierVoiceEnterStateAttack		
	VoiceEnterStateAttackCharge		= GondorSoldierVoiceEnterStateAttackCharge
	VoiceEnterStateAttackMachine		= GondorSoldierVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackStructure		= GondorSoldierVoiceEnterStateAttackBuilding
	VoiceCreated			= GondorBannerVoiceSalute
	VoiceFullyCreated 		= GondorBannerVoiceSalute
	
	VoiceMove			= GondorBannerVoiceMove			
	VoiceMoveToCamp			= GondorBannerVoiceMove
	VoiceMoveWhileAttacking		= GondorSoldierVoiceDisengage
	VoiceEnterStateMove			= GondorBannerVoiceEnterStateMove
	VoiceEnterStateMoveToCamp			= GondorBannerVoiceEnterStateMove
	VoiceEnterStateMoveWhileAttacking		= GondorSoldierVoiceEnterStateDisengage
	VoiceEnterStateRetreatToCastle		= GondorSoldierVoiceEnterStateRetreat
	VoicePriority			= 10
	VoiceRetreatToCastle		= GondorSoldierVoiceRetreat
	VoiceSelect			= GondorBannerVoiceSelect		
	VoiceSelectBattle 		= GondorBannerVoiceSelect
	VoiceCombineWithHorde    = GondorBannerVoiceJoin
	VoiceGuard			= GondorSoldierVoiceMove
	

	SoundImpact			= ImpactHorse

    #include "..\includes\StandardUnitEvaEvents.inc"


	
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP BANNER IGNORES_SELECT_ALL
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = GONDOR_BANNER_HEALTH
		MaxHealthDamaged  = GONDOR_BANNER_HEALTH_DAMAGED
		
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS STEALTHED
		MoodAttackCheckRate        = 500
		AttackPriority				= 	AttackPriority_Infantry
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End
	
	LocomotorSet
		Locomotor = HorseLocomotor
		Condition = SET_MOUNTED 
		Speed     = 90
	End
	  
	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStunnedTimeLow		= 1400	
		ShockStunnedTimeHigh	= 2400	
		ShockStandingTime		= 1000	
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     
		DestructionDelay = 8000
		Sound = INITIAL GondorBannerVoiceDie	
	End
	
	Behavior = SquishCollide ModuleTag_06
		
	End

	
	
	
	Behavior = BannerCarrierUpdate BannerCarrierUpdateModuleTag
		IdleSpawnRate			= 10000							
		MeleeFreeUnitSpawnTime		= 20000							
		DiedRespawnTime			= 10000							
		MeleeFreeBannerReSpawnTime	= 20000							
		
		BannerMorphFX		= FX_HordeResurrection					
		UnitSpawnFX			= FX_HordeResurrection					
		
		
		
		
		
		MorphCondition		= UnitType:GondorFighter				ModelState:"USER_1 PASSENGER_VARIATION_1"
		MorphCondition		= UnitType:GondorArcher					ModelState:"USER_1 PASSENGER_VARIATION_2"
		MorphCondition		= UnitType:GondorTowerShieldGuard		ModelState:"USER_1 PASSENGER_VARIATION_3"
		
		
		MorphCondition		= UnitType:GondorRanger					ModelState:"USER_2"
		
		
		MorphCondition		= UnitType:GondorCavalry			Locomotor:SET_MOUNTED	ModelState:"USER_3 MOUNTED"		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	End

	
	Behavior = StealthUpdate StealthUpdateModuleTag
		StealthDelay						= 2500         
		FriendlyOpacityMin					= STEALTH_FRIENDLY_OPACITY_MIN
		FriendlyOpacityMax					= STEALTH_FRIENDLY_OPACITY_MAX
		PulseFrequency						= 750   
		StealthForbiddenConditions			= HORDEBRAIN_NOT_STEALTHED
		OrderIdleEnemiesToAttackMeUponReveal= Yes
		DetectedByAnyoneRange				= 120
		RevealWeaponSets					= CLOSE_RANGE CONTESTING_BUILDING
	End

	Behavior = SlowDeathBehavior ModuleTag_07
		
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     
		DestructionDelay = 8000
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 
		
		FirstHeight = 24  
		SecondHeight = 24
		FirstPercentIndent = 30% 
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes 
		DieOnImpact = Yes
		BounceCount = 1   
		BounceDistance = 40 
		BounceFirstHeight = 24  
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% 
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 7 
		HitReactionLifeTimer2 = 15 
		HitReactionLifeTimer3 = 10 

		HitReactionThreshold1 = 0.0   
		HitReactionThreshold2 = 25.0  
		HitReactionThreshold3 = 50.0  
	End
	
	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 19
  ShadowSizeY = 19
  ShadowTexture = ShadowI
End



Object LAGondorArcher
	
	UpgradeCameo1						=	Upgrade_FireArrows
	SelectPortrait						=	UPNumenorean_Archer
	Draw = W3DHordeModelDraw ModuleTag_01
		OkToChangeModelColor = Yes

		StaticModelLODMode = Yes
		
		
		LodOptions	= LOW
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_LOW
		End
		
		LodOptions	= MEDIUM
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_MED
		End
		
		LodOptions	= HIGH
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_HIGH
		End
		
		ParticlesAttachedToAnimatedBones = Yes

		
		DefaultModelConditionState
			Model						=	GUNumnArch_SKN
			Skeleton					=   GUArcher_SKL
			WeaponLaunchBone			=	PRIMARY ARROW
		End

		
		ModelConditionState = WEAPONSET_PLAYER_UPGRADE
			Model						=	GUNumnArch_SKN
			Skeleton					=   GUArcher_SKL
			WeaponLaunchBone			=	PRIMARY ARROW


		End
	
		ModelConditionState = USER_4		
			Model							= GUNumnArch_SKN	
			Skeleton						= GUMAArms_SKL
		End

		
		IdleAnimationState
			StateName					=   STATE_Idle
			Animation = IdleA
				AnimationName			=	GUArcher_IDLA 
				AnimationPriority		=	6
				AnimationSpeedFactorRange = 0.7 1.3
			End
			
			Animation = IdleA	
				AnimationName			=	GUArcher_IDLA 
				AnimationPriority		=	6
				AnimationSpeedFactorRange = 0.7 1.3
			End
			Animation = IdleH
				AnimationName			=	GUArcher_IDLH
				AnimationPriority		=	1
				AnimationSpeedFactorRange = 0.7 1.3
				AnimationBlendTime		= 8
			End
			Animation = IdleI
				AnimationName			=	GUArcher_IDLI
				AnimationPriority		=	1
				AnimationSpeedFactorRange = 0.7 1.3
				AnimationBlendTime		= 8
			End
			Animation = IdleJ
				AnimationName			=	GUArcher_IDLJ
				AnimationPriority		=	1
				AnimationSpeedFactorRange = 0.7 1.3
				AnimationBlendTime		= 8
			End
			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
				CurDrawableShowSubObject("arrow") 
			EndScript
		End
		
		AnimationState        = PASSENGER FREEFALL
			Animation           = FLLA
				AnimationName     = GUArcher_FLLA
				AnimationMode     = LOOP
			End
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End

		AnimationState			= FREEFALL
			Animation			= Flying_1
				AnimationName	= GUARCHER_FLYA
				AnimationMode	= LOOP
				AnimationSpeedFactorRange = 0.35 0.35 
				AnimationBlendTime		  = 10		
			End
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End
	    
		AnimationState        = THROWN_PROJECTILE
			Animation           = FLYA
				AnimationName     = GUArcher_FLYA
				AnimationMode     = LOOP
			End
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End

		
		AnimationState					=	STUNNED_FLAILING 
			Animation					=	StunFlail
				AnimationName			=	GUArcher_FLYA 
				AnimationMode			=	LOOP
			End
			Flags						=	RANDOMSTART
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End

		AnimationState					=	DYING SPLATTED
			Animation					=	Fire
				AnimationName			=	GUArcher_LNDA 
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.7 1.3
			End
            EnteringStateFX = FX_SoldierHitGround
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End

		AnimationState					=	DYING AFLAME
			Animation					=	Fire
				AnimationName			=	GUArcher_MFDA 
				AnimationSpeedFactorRange = 0.9 1.1
			End
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End

		AnimationState					=	DYING
			Animation					=	Die1
				AnimationName			=	GUArcher_DIEA 
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.7 1.3
			End
			Animation					=	Die2
				AnimationName			=	GUArcher_DIEB 
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.7 1.3
			End
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End

		AnimationState					=	STUNNED_STANDING_UP 
			Animation					=	GTPA
				AnimationName			=	GUArcher_GTPA
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.7 1.1
			End
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End

		AnimationState					=	STUNNED 
			Animation					=	StunFlail
				AnimationName			=	GUArcher_LNDA 
				AnimationMode			=	ONCE
			End
            EnteringStateFX = FX_SoldierHitGround
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End
		
  		AnimationState					=	FIRING_OR_PREATTACK_B
  			Animation					=	BowPunchWhenClose
  				AnimationName			=	GUArcher_ATKD 
  				AnimationMode			=	ONCE
  				UseWeaponTiming			=	Yes
  			End
 			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
 		End

		
		
		AnimationState					=	PREATTACK_A 
			StateName					=	STATE_PreFiring
			Animation					=	ReadyToDrawn
				AnimationName			=	GUArcher_ATKF1
				AnimationMode			=	ONCE

				AnimationBlendTime		=	10
			End
			BeginScript
				CurDrawableShowSubObject("arrow") 
			EndScript
		End

		AnimationState					=	FIRING_OR_RELOADING_A 
			StateName					=	STATE_Firing
			Animation					=	LooseReloadDraw
				AnimationName			=	GUArcher_ATKF2
				AnimationMode			=	ONCE

				AnimationSpeedFactorRange = 1.2 1.3		
				AnimationBlendTime		=	0
			End
			Flags = START_FRAME_FIRST
			BeginScript
				CurDrawableShowSubObject("arrow") 
			EndScript
		End
		
		
		

		AnimationState					=	MOVING WANDER
			ShareAnimation = Yes
			Animation					=	Wander1
				AnimationName			=	GUArcher_WLKA 
			End
			Animation					=	Wander2
				AnimationName			=	GUArcher_WLKB 
			End
			Flags						=	RANDOMSTART
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End
		
		AnimationState					= MOVING EMOTION_LOOK_TO_SKY
			ShareAnimation = Yes
			Animation					= TerrorFromTheSky
				AnimationName			= GUArcher_RUNC
				AnimationMode			= LOOP
			End
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End

		AnimationState				=	MOVING BACKING_UP
			ShareAnimation = Yes
			Animation				=	BackingUp
				AnimationName		=	GUArcher_BAKA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End
		
		AnimationState					=	ATTACKING MOVING
			ShareAnimation = Yes
			Animation					=	Move2
				AnimationName			=	GUArcher_RUNB
				Distance				=	28
			End
			Flags						=	RANDOMSTART
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End

		AnimationState					=	MOVING
			ShareAnimation = Yes
			Animation					=	Move1
				AnimationName			=	GUArcher_RUNA 
				Distance				=	28
			End
			Flags						=	RANDOMSTART
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End

		AnimationState					= CONTINUOUS_FIRE_MEAN
			StateName					=	STATE_Coasting
			Animation					=	HangFrameWhileCoasting
				AnimationName			=	GUArcher_ATKF2
				AnimationMode			=	MANUAL
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Firing" then CurDrawableAllowToContinue() return end
				CurDrawableShowSubObject("arrow") 
			EndScript
		End
		
		AnimationState						= CONTINUOUS_FIRE_SLOW
			StateName						= STATE_Idle
			Animation						= PutAwayArrow
				AnimationName				= GUArcher_ATKF3
				AnimationMode				= ONCE
			End
			BeginScript
				CurDrawableShowSubObject("arrow") 
			EndScript
		End




		AnimationState = HIT_REACTION
			Animation = Hit_Level_1_a
				AnimationName = GUArcher_HITA
				AnimationMode = ONCE
			End
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End





		AnimationState						= EMOTION_AFRAID
			ShareAnimation = Yes
			Animation						= FERA
				AnimationName				= GUArcher_FERA
				AnimationMode				= LOOP
				AnimationSpeedFactorRange	=	0.7 1.3								
			End
			Animation						= FERB
				AnimationName				= GUArcher_FERB
				AnimationMode				= LOOP
				AnimationSpeedFactorRange	=	0.7 1.3								
			End
			Animation						= FERC
				AnimationName				= GUArcher_FERC
				AnimationMode				= LOOP
				AnimationSpeedFactorRange	=	0.7 1.3								
			End
			Animation						= FERD
				AnimationName				= GUArcher_FERD
				AnimationMode				= LOOP
				AnimationSpeedFactorRange	=	0.7 1.3								
			End
			Flags							= RANDOMSTART			
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End
		

		
		AnimationState					= EMOTION_CELEBRATING
			Animation					= CHRB
				AnimationName			= GUArcher_CHRB
				AnimationMode			= Once
				AnimationBlendTime		= 15
				AnimationPriority		= 2
			End
			Animation					= SLTA
				AnimationName			= GUArcher_SLTA
				AnimationMode			= Once
				AnimationBlendTime		= 15
				AnimationPriority		= 2
			End
			Animation					= CHRA
				AnimationName			= GUArcher_CHRA
				AnimationMode			= Once
				AnimationBlendTime		= 15		
				AnimationPriority		= 1
			End
			Flags						=	RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End



		AnimationState					= EMOTION_TAUNTING
			Animation					= Taunting2
				AnimationName			= GUArcher_IDLE
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End
			Animation					= Taunting3
				AnimationName			= GUArcher_IDLF
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End
			Animation					= Taunting4
				AnimationName			= GUArcher_IDLG
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End

			Flags						= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End



		AnimationState						= EMOTION_POINTING
			ShareAnimation					= Yes
			Animation						= pointing
				AnimationName				= GUArcher_PNTA
				AnimationPriority			= 2
				AnimationSpeedFactorRange	= 0.9 1.1
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End
		


		AnimationState					= EMOTION_ALERT
			Animation					= Ready
				AnimationName			= GUArcher_IDLA
				AnimationMode			= LOOP
				AnimationPriority		= 3
				AnimationBlendTime		= 15
			End
			Animation					= Ready
				AnimationName			= GUArcher_IDLA
				AnimationMode			= LOOP
				AnimationPriority		= 3
				AnimationBlendTime		= 15
			End
			Animation					= Point
				AnimationName			= GUArcher_PNTA
				AnimationMode			= LOOP
				AnimationPriority		= 1
				AnimationBlendTime		= 15
			End
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End
			

		AnimationState					=	SELECTED
			ShareAnimation = Yes
			StateName					=	STATE_Selected
			Animation					=	ATNB
				AnimationName			=	GUArcher_ATNB
				AnimationMode			=	LOOP
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation					=	IDLA
				AnimationName			=	GUArcher_IDLA 
				AnimationPriority		=	10
				AnimationSpeedFactorRange = 0.7 1.3
			End

			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle" 
				then 
					CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected")
				end
				if CurDrawableModelcondition("ATTACKING")
				then
					return "IDLA"
				else
					return "ATNB"
				end
				CurDrawableHideSubObject("arrow") 
			EndScript
		End



		TransitionState					=	TRANS_Idle_to_Selected
			Animation					=	ATNA
				AnimationName			=	GUArcher_ATNA
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.8 1.2
				AnimationPriority		=   8
			End
			Animation					=	SLTA
				AnimationName			=	GUArcher_SLTA
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 1.0 1.5
				AnimationPriority		=   1
			End
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End
		TransitionState					=	TRANS_Selected_To_Idle
			Animation					=	ATNC
				AnimationName			=	GUArcher_ATNC
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.5 2.0
			End
			BeginScript
				CurDrawableHideSubObject("arrow") 
			EndScript
		End
	End
		
	
	Side = Men
	Browser = CINEMATICS UNIT
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 2
	BountyValue = GONDOR_ARCHER_BOUNTY_VALUE

	TransportSlotCount = 1
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    GondorArcherBow
	End
  	WeaponSet
  		Conditions = CLOSE_RANGE CONTESTING_BUILDING
		Weapon = PRIMARY    GondorArcherBow
  		Weapon = SECONDARY   GondorArcherBowMelee
  		OnlyAgainst = PRIMARY STRUCTURE
  	End
	
	ArmorSet
		Conditions      = None
		Armor           = ArcherArmor
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions		= PLAYER_UPGRADE
		Armor			= ArcherHeavyArmor
		DamageFX		= NormalDamageFX
	End
	
	VisionRange = GONDOR_ARCHER_VISION_RANGE
	ShroudClearingRange = SHROUD_CLEAR_STANDARD

	DisplayName = OBJECT:GondorArcher
	CrushableLevel = 0  
	CrushRevengeWeapon = RangedInfantryCrushRevenge
	CommandSet = GondorArcherCommandSet
	

	

	
	VoiceAttack			= GondorArcherVoiceAttack
	VoiceAttackCharge		= GondorArcherVoiceAttackCharge
	VoiceAttackMachine		= GondorArcherVoiceAttack	
	VoiceAttackStructure		= GondorArcherVoiceAttackBuilding	
	VoiceEnterStateAttack			= GondorArcherVoiceEnterStateAttack
	VoiceEnterStateAttackCharge		= GondorArcherVoiceEnterStateAttackCharge
	VoiceEnterStateAttackMachine		= GondorArcherVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackStructure		= GondorArcherVoiceEnterStateAttackBuilding
	VoiceCreated			= GondorArcherVoiceSalute		
	VoiceFullyCreated 		= GondorArcherVoiceSalute		
	
	VoiceMove			= GondorArcherVoiceMove
	VoiceMoveToCamp			= GondorArcherVoiceMoveCamp
	VoiceMoveWhileAttacking		= GondorArcherVoiceDisengage		
	VoiceEnterStateMove					= GondorArcherVoiceEnterStateMove
	VoiceEnterStateMoveToCamp			= GondorArcherVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking	= GondorArcherVoiceEnterStateDisengage	
	VoicePriority			= 47
	VoiceRetreatToCastle		= GondorArcherVoiceRetreat
	VoiceEnterStateRetreatToCastle		= GondorArcherVoiceEnterStateRetreat
	VoiceSelect			= GondorArcherVoiceSelect
	VoiceSelectBattle 		= GondorArcherVoiceSelectBattle
	VoiceGuard			= GondorArcherVoiceMove
	
	SoundImpact			= ImpactHorse

	UnitSpecificSounds
		VoiceGarrison		= GondorArcherVoiceGarrison              
	End

    #include "..\includes\StandardUnitEvaEvents.inc"


	
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT ARCHER GRAB_AND_DROP 
	
	Body = ActiveBody ModuleTag_02

		CheerRadius 	  = EMOTION_CHEER_RADIUS
		MaxHealth         = GONDOR_ARCHER_HEALTH
		MaxHealthDamaged  = GONDOR_ARCHER_HEALTH_DAMAGED
		RecoveryTime      = GONDOR_ARCHER_HEALTH_RECOVERY_TIME
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		StopChaseDistance			= 642
		CanAttackWhileContained		= Yes
		AILuaEventsList				= GondorArcherFunctions		 
		MinCowerTime				= 8000
		MaxCowerTime				= 10000
		AttackPriority				= 	AttackPriority_Archer
	End
	
	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL 
		SinkDelay = 3000
		SinkRate = 0.600     
		DestructionDelay = 12000
            	Sound = INITIAL HumanVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_06
		
	End
	
	
	Behavior = HordeMemberCollide ModuleTag_HMC
		
	End
	
	Behavior = BezierProjectileBehavior ModuleTag_07 
		
		FirstHeight = 24  
		SecondHeight = 24
		FirstPercentIndent = 30% 
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes 
		DieOnImpact = Yes
		BounceCount = 1   
		BounceDistance = 40 
		BounceFirstHeight = 24  
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% 
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	
	Behavior = ArmorUpgrade ModuleTag_ArmorUpgrade
		TriggeredBy = Upgrade_HeavyArmor
	End

	
	Behavior = SubObjectsUpgrade ModuleTag_FireArrowSwapUpgrade
		TriggeredBy		= Upgrade_FireArrows
		ShowSubObjects	= FireArowTip
	End	
	
	Behavior = SubObjectsUpgrade ModuleTag_HeavyArmorUpgrade
		TriggeredBy = Upgrade_HeavyArmor
		UpgradeTexture	= GUArcher.tga 0 GUArcher_HA.tga
		RecolorHouse	= Yes
		ExcludeSubobjects = FireArowTip
	End
	
	
	Behavior = WeaponSetUpgrade ModuleTag_FireArrowParticlesAndLegalityUpgrade
		TriggeredBy		= Upgrade_FireArrows
	End	
	
	
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry Gondor_Archer
	End
	
  	Behavior = DualWeaponBehavior ModuleTag_09
  		SwitchWeaponOnCloseRangeDistance = 40
  	End

	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 1993 
		HitReactionLifeTimer2 = 1993 
		HitReactionLifeTimer3 = 1993 

		HitReactionThreshold1 = 0.0   
		HitReactionThreshold2 = 25.0  
		HitReactionThreshold3 = 50.0  

		FastHitsResetReaction = No    
	End
	
	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 19
    ShadowSizeY = 19
    ShadowTexture = ShadowI
End

Object LAGondorFighterHorde

	
	ButtonImage		= BGBarracks_Soldiers
	SelectPortrait	= HPNumenorean

	Draw = W3DScriptedModelDraw ModuleTag_W3DModelDraw
	    DependencySharedModelFlags = EMOTION_ALERT EMOTION_MORALE_HIGH EMOTION_MORALE_LOW EMOTION_AFRAID EMOTION_COWER EMOTION_TERROR EMOTION_LOOK_TO_SKY SELECTED
		DefaultModelConditionState
			Model = None 
		End

		ModelConditionState = HORDE_EMPTY
			Model = None
		End		
		
		ModelConditionState = WORLD_BUILDER
			Model = HordeMarkGUSol
		End		
	End
	
	Side = Men
	Browser = CINEMATICS UNIT
	EditorSorting = UNIT
	EmotionRange = 240
	DisplayName = OBJECT:HordeGondorSoldier
		
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    NormalMeleeHordeRangefinder
	End

	
	
	

	UnitSpecificSounds
		VoiceDesperateAttack  = GondorSoldierVoiceDesperateCharge 
	End

	BuildCost = GONDOR_SOLDIER_BUILDCOST
	BuildTime = GONDOR_SOLDIER_BUILDTIME      
	VisionRange = GONDOR_SOLDIER_HORDE_VISION_RANGE
	CommandPoints = 10
	
	FormationWidth = 2 
	FormationDepth = 1 
	
 	CrushableLevel = 0  
	CrusherLevel = 0

    TransportSlotCount = 1
	KindOf = SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT INFANTRY HORDE MELEE_HORDE NOTIFY_OF_PREATTACK 
	
	Body = ImmortalBody ModuleTag_ImmortalBody
		MaxHealth = 1
	End
	
	Behavior = HordeAIUpdate ModuleTag_HordeAIUpdate
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		MoodAttackCheckRate			= 500
		MaxCowerTime				=	5000
		MinCowerTime				=	3000
		AILuaEventsList				= InfantryFunctions	
		AttackPriority				= AttackPriority_Infantry
	End

	Behavior = HordeContain ModuleTag_HordeContain
		ObjectStatusOfContained = 
		InitialPayload = LAGondorFighter GOOD_MEN_HORDE_SIZE
		Slots = 5
		PassengerFilter	= NONE +INFANTRY
		ShowPips = No
		ThisFormationIsTheMainFormation = Yes	
		RandomOffset=X:4 Y:4

		
		BannerCarriersAllowed	= LAGondorBanner										
		BannerCarrierPosition	= UnitType:LAGondorFighter	Pos:X:40.0 Y:0.0		
		
		
		RankInfo = RankNumber:1 UnitType:LAGondorFighter Position:X:15 Y:0	Position:X:15 Y:25	Position:X:15 Y:-25	Position:X:15 Y:50	Position:X:15 Y:-50 
		
		RanksToReleaseWhenAttacking = 1  
		
		
		
		


				
		BackUpMinDelayTime		= 1		
		BackUpMaxDelayTime		= 3000		
		BackUpMinDistance		= 1			
		BackUpMaxDistance		= 3			
		BackupPercentage		= 80%		
		MeleeAttackLeashDistance = 25
	End

	Behavior = PhysicsBehavior ModuleTag_PhysicsBehavior
		GravityMult = 1.0
	End
	
	Behavior = CommandButtonHuntUpdate ModuleTag_CommandButtonHuntUpdate
	End
  
   	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance		=	INFANTRY_TAUNT_POINT_RADIUS		
		TauntAndPointUpdateDelay	=	1000		
		TauntAndPointExcluded		=	NONE
 		AfraidOf			=	NONE +GondorGwaihir +RohanTreeBerd +RohanEntFir +RohanEntAsh +RohanEntBirch +MordorBalrog +MordorFellBeast +MordorWitchKingOnFellBeast  +MordorCaveTroll +MordorMountainTroll +MordorDrummerTroll +MordorMumakil 
		AlwaysAfraidOf				=	NONE +MordorBalrog +RohanOathbreaker +MordorSauron 
 		PointAt				=	NONE +MordorFellBeast +MordorWitchKingOnFellBeast 
		HeroScanDistance		=	150
		FearScanDistance		=	INFANTRY_FEAR_SCAN_RADIUS

		AddEmotion			=	Terror_Base
		AddEmotion			=	Doom_Base				
			
			
		AddEmotion			=   BraceForBeingCrushed_Base
		
		AddEmotion			=	UncontrollableFear_Base			
			
			
		
		AddEmotion			=	FearIdle_Base				
			
			
		
		AddEmotion			=	FearBusy_Base				
			
			
	
		AddEmotion			=	Point_Base				
			
			
			
		
		AddEmotion			=	Taunt_Base				
 			
 			
 		
 		AddEmotion			=	CheerIdle_Base
		AddEmotion			=	CheerBusy_Base
		AddEmotion			=	HeroCheerIdle_Base
		AddEmotion			=	HeroCheerBusy_Base
		AddEmotion			=	Alert_Base
	End	
  
	LocomotorSet
		Locomotor     = NormalMeleeHordeLocomotor
		Condition     = SET_NORMAL
		Speed         = NORMAL_GOOD_INFANTRY_HORDE_SPEED
	End
	
	LocomotorSet
		Locomotor     = ScaredMeleeHordeLocomotor
		Condition     = SET_SCARED
		Speed         = NORMAL_GOOD_INFANTRY_HORDE_SPEED
	End
	
	CommandSet = GondorFighterHordeCommandSet

	Geometry = BOX
	GeometryMajorRadius = 20.0
	GeometryMinorRadius = 20.0
	GeometryHeight = 20.0
	GeometryIsSmall = No
End



Object LAGondorArcherHorde

	
	ButtonImage		= BGArcheryRange_Archers
	SelectPortrait	= UPNumenorean_Archer

	Draw = W3DScriptedModelDraw ModuleTag_W3DModelDraw
	    DependencySharedModelFlags = EMOTION_TAUNTING EMOTION_ALERT EMOTION_MORALE_HIGH EMOTION_MORALE_LOW EMOTION_AFRAID EMOTION_COWER SELECTED  EMOTION_TERROR EMOTION_LOOK_TO_SKY
		DefaultModelConditionState
			Model = None 
		End
		ModelConditionState = HORDE_EMPTY
			Model = None
		End		
		
		ModelConditionState = WORLD_BUILDER
			Model = HordeMarkGUArc
		End
	End
	
	Side = Men
	Browser = CINEMATICS UNIT
	EditorSorting = UNIT
	EmotionRange = 240
	DisplayName = OBJECT:HordeGondorArcher
	
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    GoodArcherMissileHordeRangefinder
	End

	
	
	


	BuildCost = GONDOR_ARCHER_BUILDCOST
	BuildTime = GONDOR_ARCHER_BUILDTIME
	VisionRange = GONDOR_ARCHER_HORDE_VISION_RANGE 
	ShroudClearingRange = GONDOR_ARCHER_HORDE_VISION_RANGE 
	CommandPoints = 10
		
	FormationWidth = 2 
	FormationDepth = 1 
	
 	CrushableLevel = 0  
	CrusherLevel = 0

    TransportSlotCount = 1
	KindOf = SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT INFANTRY HORDE ARCHER 
	
	CommandSet = GondorArcherHordeCommandSet
	
	Body = ImmortalBody ModuleTag_ImmortalBody
		MaxHealth = 1
	End
	
	Behavior = HordeAIUpdate ModuleTag_HordeAIUpdate
		AutoAcquireEnemiesWhenIdle	=	Yes ATTACK_BUILDINGS
		MoodAttackCheckRate			=	500
		MaxCowerTime				=	5000
		MinCowerTime				=	3000
		CanAttackWhileContained		=	Yes  
		AILuaEventsList				=	InfantryFunctions
		AttackPriority				= 	AttackPriority_Archer
	End

	Behavior = HordeContain ModuleTag_HordeContain
		ObjectStatusOfContained = 
		InitialPayload = LAGondorArcher GOOD_MEN_HORDE_SIZE
		Slots = 5
		PassengerFilter = NONE +INFANTRY
		ShowPips = No
		ThisFormationIsTheMainFormation = Yes	
		RandomOffset=X:4 Y:4
		
		
		BannerCarriersAllowed	= LAGondorBanner										
		BannerCarrierPosition	= UnitType:LAGondorArcher		Pos:X:40.0 Y:0.0		
		
		
		RankInfo = RankNumber:1 UnitType:LAGondorArcher Position:X:15 Y:0	Position:X:15 Y:25	Position:X:15 Y:-25	Position:X:15 Y:50	Position:X:15 Y:-50 

		RanksToReleaseWhenAttacking = 1 

		
		
		

		
		
		
	End
	
	Behavior = PhysicsBehavior ModuleTag_PhysicsBehavior
		GravityMult = 1.0
	End
	
   	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance		=	INFANTRY_TAUNT_POINT_RADIUS		
		TauntAndPointUpdateDelay	=	1000	
		TauntAndPointExcluded		=	NONE
 		AfraidOf			=	NONE +GondorGwaihir +RohanTreeBerd +RohanEntFir +RohanEntAsh +RohanEntBirch +MordorBalrog +MordorFellBeast +MordorWitchKingOnFellBeast  +MordorCaveTroll +MordorMountainTroll +MordorDrummerTroll +MordorMumakil 
		AlwaysAfraidOf				=	NONE +MordorWitchKing +MordorWitchKingOnFellBeast +MordorBalrog +RohanOathbreaker +MordorSauron
 		PointAt				=	NONE +MordorFellBeast +MordorWitchKingOnFellBeast 
		HeroScanDistance		=	150
		FearScanDistance		=	 ARCHER_FEAR_SCAN_RADIUS

		AddEmotion			=	Terror_Base			
			
			

		AddEmotion			=	Doom_Base			
			
			
		
		AddEmotion			=   BraceForBeingCrushed_Base

		AddEmotion			=	UncontrollableFear_Base		
			
			

		AddEmotion			=	FearIdle_Base			
			
			
		
		AddEmotion			=	FearBusy_Base			
			
			
		
		AddEmotion			=	Point_Base			
			
			
			
		
		AddEmotion			=	Taunt_Base			
 			
	 		
 		
 		AddEmotion	=	CheerIdle_Base
		AddEmotion	=	CheerBusy_Base
		AddEmotion	=	HeroCheerIdle_Base
		AddEmotion	=	HeroCheerBusy_Base
		AddEmotion	=	Alert_Base
	End	
	
	LocomotorSet
		Locomotor     = NormalRangedHordeLocomotor
		Condition     = SET_NORMAL
		Speed         = NORMAL_GOOD_INFANTRY_HORDE_SPEED
	End

	Behavior = ProductionUpdate ProductionUpdateModuleTag
		GiveNoXP = Yes
	End

	Behavior = LevelUpUpgrade ModuleTag_BasicTraining
		TriggeredBy = Upgrade_BasicTraining Upgrade_TechnologyBasicTraining
		RequiresAllTriggers = Yes
		LevelsToGain = 1
		LevelCap = 2
	End
	
	Behavior = StatusBitsUpgrade ModuleTag_ProductionLegality
		TriggeredBy = Upgrade_FireArrows Upgrade_TechnologyFireArrows
		RequiresAllTriggers = Yes
	End
	
	
	
	
	
	Behavior = AISpecialPowerUpdate LAGondorArcherHordeCaptureBuildingAI
		CommandButtonName = Command_CaptureBuilding
		SpecialPowerAIType = AI_SPECIAL_POWER_CAPTURE_BUILDING
	End
	
	Geometry = BOX
	GeometryMajorRadius = 20.0
	GeometryMinorRadius = 20.0
	GeometryHeight = 20.0
	GeometryIsSmall = No


End


Object LAElvenWarriorHorde

	
	ButtonImage = BEElvenBarracks_LorienWarrior
	SelectPortrait         = UPElven_LorienWarrior


	Draw = W3DScriptedModelDraw ModuleTag_W3DModelDraw
	    DependencySharedModelFlags = EMOTION_ALERT EMOTION_MORALE_HIGH EMOTION_MORALE_LOW EMOTION_AFRAID EMOTION_COWER SELECTED EMOTION_TERROR
		DefaultModelConditionState
			Model = None 
		End
		ModelConditionState = HORDE_EMPTY
			Model = None
		End		
		ModelConditionState = WORLD_BUILDER
			Model = HordeTemp_5By2
		End
	End
	
	Side = Obsolete
	Browser = CINEMATICS UNIT
	EditorSorting = UNIT
	EmotionRange = 240
	DisplayName = OBJECT:HordeRohanElves
	
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    GoodArcherMissileHordeRangefinder
	End
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1
		Weapon = PRIMARY	NormalMeleeHordeRangefinder
	End
	
	CommandSet = RohanElvenWarriorHordeCommandSet

	
	
	


 	CrushableLevel = 0  
	CrusherLevel = 0

	BuildCost = ROHAN_ELVENWARRIOR_BUILDCOST			
	BuildTime = ROHAN_ELVENWARRIOR_BUILDTIME			
	VisionRange = ROHAN_ELVENWARRIOR_HORDE_VISION_RANGE
	ShroudClearingRange = 161
	CommandPoints = 20
		
	FormationWidth = 2 
	FormationDepth = 1 
	
    TransportSlotCount = 1
	KindOf = SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT INFANTRY HORDE ARCHER MELEE_HORDE
	
	Body = ImmortalBody ModuleTag_ImmortalBody
		MaxHealth = 1
	End
	
	Behavior = HordeAIUpdate ModuleTag_HordeAIUpdate
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS STEALTHED
		MoodAttackCheckRate        = 500
		MaxCowerTime				=	5000
		MinCowerTime				=	3000
		CanAttackWhileContained    = Yes  
        AILuaEventsList				= InfantryFunctions	
        AttackPriority				= 	AttackPriority_Archer
	End

	Behavior = HordeContain ModuleTag_HordeContain
		ObjectStatusOfContained = 
		InitialPayload = LAElvenWarrior GOOD_MEN_HORDE_SIZE
		Slots = 5
		PassengerFilter = NONE +INFANTRY
		ShowPips = No
		ThisFormationIsTheMainFormation = Yes	
		RandomOffset = X:1 Y:1
		AlternateFormation = LAElvenWarriorLineFormation
		
		
		BannerCarriersAllowed	= RohanBanner										
		BannerCarrierPosition	= UnitType:LAElvenWarrior	Pos:X:35.0 Y:0.0	
		
		
		RankInfo = RankNumber:1 UnitType:LAElvenWarrior Position:X:13 Y:0	Position:X:13 Y:25		Position:X:13 Y:-25		Position:X:13 Y:50		Position:X:13 Y:-50 
		
		RanksToReleaseWhenAttacking = 1 
	End
	
	Behavior = StealthUpdate StealthUpdateModuleTag
		StealthDelay						= 500         
		FriendlyOpacityMin					= STEALTH_FRIENDLY_OPACITY_MIN
		FriendlyOpacityMax					= STEALTH_FRIENDLY_OPACITY_MAX
		PulseFrequency						= 750   
		StealthForbiddenConditions			= AWAY_FROM_TREES ATTACKING
		OrderIdleEnemiesToAttackMeUponReveal= Yes
		DetectedByAnyoneRange				= 120
		RevealWeaponSets					= CLOSE_RANGE CONTESTING_BUILDING
	End

	Behavior = PhysicsBehavior ModuleTag_PhysicsBehavior
		GravityMult = 1.0
	End
	
 	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance		=	INFANTRY_TAUNT_POINT_RADIUS		
		TauntAndPointUpdateDelay	=	1000	
		TauntAndPointExcluded		=	NONE
		AfraidOf					=	NONE +GondorGwaihir +RohanTreeBerd +RohanEntFir +RohanEntAsh +RohanEntBirch +MordorCaveTroll +MordorMountainTroll +MordorDrummerTroll +MordorFellBeast +MordorWitchKingOnFellBeast +MordorMumakil
		AlwaysAfraidOf				=	NONE +MordorBalrog +RohanOathbreaker +MordorSauron 
 		PointAt				=	NONE +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir
		HeroScanDistance		=	150
		FearScanDistance		=	INFANTRY_FEAR_SCAN_RADIUS



		AddEmotion	=	Terror_Base
		AddEmotion	=	Doom_Base
		AddEmotion	=   BraceForBeingCrushed_Base
		AddEmotion	=	UncontrollableFear_Base
		AddEmotion	=	FearIdle_Base
		AddEmotion	=	FearBusy_Base
		AddEmotion	=	Point_Base
		AddEmotion	=	Taunt_Base	
		AddEmotion	=	CheerIdle_Base
		AddEmotion	=	CheerBusy_Base
		AddEmotion	=	HeroCheerIdle_Base
		AddEmotion	=	HeroCheerBusy_Base
		AddEmotion	=	Alert_Base
	End			

	
	LocomotorSet
		Locomotor     = NormalMeleeHordeLocomotor
		Condition     = SET_NORMAL
		Speed         = NORMAL_GOOD_FAST_HORDE_SPEED		
	End

	Geometry = BOX
	GeometryMajorRadius = 20.0
	GeometryMinorRadius = 20.0
	GeometryHeight = 20.0
	GeometryIsSmall = No
End



ChildObject LAElvenWarriorDoubleHorde LAElvenWarriorHorde
	
	Draw = W3DScriptedModelDraw ModuleTag_W3DModelDraw
	    DependencySharedModelFlags = EMOTION_ALERT EMOTION_MORALE_HIGH EMOTION_MORALE_LOW EMOTION_AFRAID EMOTION_COWER SELECTED EMOTION_TERROR
		DefaultModelConditionState
			Model = None 
		End
		ModelConditionState = HORDE_EMPTY
			Model = None
		End		
		ModelConditionState = WORLD_BUILDER
			Model = HordeTemp_5By2
		End
	End
	
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    NormalMissileHordeRangefinder
	End
	
	CommandSet = RohanElvenWarriorDoubleHordeCommandSet

	DisplayName = OBJECT:HordeRohanElvesCombo

	BuildCost = 1000
	BuildTime = 30.0
	VisionRange = 320
	ShroudClearingRange = SHROUD_CLEAR_STANDARD
	CommandPoints = 40
		
	FormationWidth = 2 
	FormationDepth = 2 
	
    TransportSlotCount = 1
	KindOf = SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT INFANTRY HORDE COMBO_HORDE 
	
	Body = ImmortalBody ModuleTag_ImmortalBody
		MaxHealth = 1
	End
	
	Behavior = HordeAIUpdate ModuleTag_HordeAIUpdate
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		MoodAttackCheckRate        = 500
		MaxCowerTime				=	5000
		MinCowerTime				=	3000
		CanAttackWhileContained    = Yes  
		AILuaEventsList				= InfantryFunctions  
		AttackPriority				= 	AttackPriority_Archer
	End

	Behavior = HordeContain ModuleTag_HordeContain
		ObjectStatusOfContained = 
		InitialPayload = LAElvenWarrior #MULTIPLY( GOOD_MEN_HORDE_SIZE 2 )
		Slots = 10
		PassengerFilter = NONE +INFANTRY
		ShowPips = No
		ThisFormationIsTheMainFormation = Yes	
		RandomOffset = X:1 Y:1
		RankSplit = Yes
		SplitHordeNumber = 5
		
		
		BannerCarriersAllowed	= RohanBanner										
		BannerCarrierPosition	= UnitType:LAElvenWarrior	Pos:X:35.0 Y:0.0	
		
		
		RankInfo = RankNumber:1 UnitType:LAElvenWarrior	Position:X:30 Y:0	Position:X:30 Y:25		Position:X:30 Y:-25		Position:X:30 Y:50		Position:X:30 Y:-50  GrantedWeaponCondition:WEAPONSET_TOGGLE_1
		RankInfo = RankNumber:2 UnitType:LAElvenWarrior	Position:X:10 Y:0	Position:X:10 Y:25		Position:X:10 Y:-25		Position:X:10 Y:50		Position:X:10 Y:-50  RevokedWeaponCondition:WEAPONSET_TOGGLE_1

		SplitHorde = SplitResult:LAElvenWarriorHorde	UnitType:LAElvenWarrior RankNumber:1
		SplitHorde = SplitResult:LAElvenWarriorHorde	UnitType:LAElvenWarrior RankNumber:2
		
		RanksToReleaseWhenAttacking = 1 2 
	End

	Behavior = PhysicsBehavior ModuleTag_PhysicsBehavior
		GravityMult = 1.0
	End

	Behavior = SplitHordeSpecialPower ModuleTag_SplitHorde
		SpecialPowerTemplate      = SpecialAbilitySplitHorde
	End
	
	LocomotorSet
		Locomotor     = NormalMeleeHordeLocomotor
		Condition     = SET_NORMAL
		Speed         = NORMAL_GOOD_FAST_HORDE_SPEED		
	End

	Geometry = BOX
	GeometryMajorRadius = 20.0
	GeometryMinorRadius = 20.0
	GeometryHeight = 20.0
	GeometryIsSmall = No
End


 

Object LAElvenWarrior
	

	SelectPortrait         = UPElven_LorienWarrior

	Draw = W3DHordeModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes
	  
    StaticModelLODMode = Yes 
    LodOptions							= LOW
		AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_LOW
		MaxRandomTextures				= MAX_RANDOM_TEXTURES_LOW
		MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_LOW
		MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_LOW
	End
	
	LodOptions							= MEDIUM
		AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_MED
		MaxRandomTextures				= MAX_RANDOM_TEXTURES_MED
		MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_MED
		MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_MED
	End
	
	LodOptions							= HIGH
		AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_HIGH
		MaxRandomTextures				= MAX_RANDOM_TEXTURES_HIGH
		MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_HIGH
		MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_HIGH
	End
    

		DefaultModelConditionState
			Model						= RULAElfWar_SKN
			Skeleton					= RUElfWar_SKL
			WeaponLaunchBone			= PRIMARY ARROW
			WeaponLaunchBone			= SECONDARY ARROWNOCK	
		End


		ModelConditionState				= WEAPONSET_TOGGLE_1
			Model						= RULAElfWar_SKN
			Skeleton					= RUElfWar_SKL
		End


		ModelConditionState				= WEAPONSET_PLAYER_UPGRADE USER_4
			Model						= RULAElfWar_SKN
			Skeleton					= RUElfWar_SKL
			WeaponLaunchBone			= PRIMARY ARROW
			WeaponLaunchBone			= SECONDARY ARROWNOCK	
		
		
		End



		

		AnimationState        			= STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
			StateName					= STATE_GetUp
			Animation           		= Sword
				AnimationName       	= RUElfWar_GTPSX1
				AnimationMode       	= ONCE
			End
			Animation           		= WantSword
				AnimationName       	= RUElfWar_GTPB
				AnimationMode       	= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_GetUp" or PrevState == "STATE_Land"
				then
					if PrevAnim == "Bow" or PrevAnim == "WantSword"
					then	
						CurDrawableShowSubObject("arrow")
						CurDrawableShowSubObject("arrownock")
						return "WantSword"
					end
				end
				
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				return "Sword"
			EndScript
		End
		
		AnimationState        			= STUNNED_STANDING_UP
			StateName					= STATE_GetUp
			Animation           		= Bow
				AnimationName       	= RUElfWar_GTPB
				AnimationMode       	= ONCE
			End
			Animation           		= WantBow
				AnimationName       	= RUElfWar_GTPSX1
				AnimationMode       	= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_GetUp" or PrevState == "STATE_Land"
				then
					if PrevAnim == "WantBow" or PrevAnim == "Sword"
					then
						CurDrawableHideSubObject("ArrowNock")
						CurDrawableHideSubObject("arrow")
						return "WantBow"
					end
				else
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "Bow"
				end
			EndScript
		End

		AnimationState        			= STUNNED WEAPONSET_TOGGLE_1
			StateName					= STATE_Land
			Animation           		= Sword
				AnimationName       	= RUElfWar_LNDB
				AnimationMode       	= ONCE
			End
			Animation           		= WantSword
				AnimationName       	= RUElfWar_LNDA
				AnimationMode       	= ONCE
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					if PrevAnim == "WantSword" or PrevAnim == "Bow"
					then
						CurDrawableShowSubObject("arrow")
						CurDrawableShowSubObject("arrownock")
						return "WantSword"
					end
				end
				Flags						= MAINTAIN_FRAME_ACROSS_STATES3
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				return "Sword"
			EndScript
		End
		
		AnimationState        			= STUNNED
			StateName					= STATE_Land
			Animation           		= Bow
				AnimationName       	= RUElfWar_LNDA
				AnimationMode       	= ONCE
			End
			Animation           		= WantBow
				AnimationName       	= RUElfWar_LNDB
				AnimationMode       	= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES3
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					if PrevAnim == "WantBow" or PrevAnim == "Sword"
					then
						CurDrawableHideSubObject("ArrowNock")
						CurDrawableHideSubObject("arrow")
						return "WantBow"
					end
				end
				
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				return "Bow"
			EndScript
		End

		AnimationState        			= STUNNED_FLAILING WEAPONSET_TOGGLE_1
			StateName					= STATE_Fly
			Animation           		= Sword
				AnimationName       	= RUElfWar_FLYB
				AnimationMode       	= LOOP
			End
			Animation           		= WantSword
				AnimationName       	= RUElfWar_FLYA
				AnimationMode       	= LOOP
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES2
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "Ready_Bow" or PrevState == "Moving_Bow" or PrevState == "Bored_Bow"								
				then
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "WantSword"
				elseif PrevState == "STATE_Fly"
				then
					if PrevAnim == "Bow" or PrevAnim == "WantSword"
					then
						CurDrawableShowSubObject("arrow")
						CurDrawableShowSubObject("arrownock")
						return "WantSword"
					end
				end
					
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				return "Sword"
			EndScript
		End
		
		AnimationState        			= STUNNED_FLAILING
			StateName					= STATE_Fly
			Animation           		= Bow
				AnimationName       	= RUElfWar_FLYA
				AnimationMode       	= LOOP
			End
			Animation           		= WantBow
				AnimationName       	= RUElfWar_FLYB
				AnimationMode       	= LOOP
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES2
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "Ready_Sword" or PrevState == "Moving_Sword" or PrevState == "Bored_Sword"							
				then
					CurDrawableHideSubObject("ArrowNock")
					CurDrawableHideSubObject("arrow")
					return "WantBow"
				elseif PrevState == "STATE_Fly"
				then
					if PrevAnim == "Sword" or PrevAnim == "WantBow"
					then
						CurDrawableHideSubObject("ArrowNock")
						CurDrawableHideSubObject("arrow")
						return "WantBow"
					end
				end

				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				return "Bow"
			EndScript
		End
		
		
		

		AnimationState        			= DYING WEAPONSET_TOGGLE_1
			Animation           		= Sword1
				AnimationName       	= RUElfWar_DIESv5
				AnimationMode       	= ONCE
			End
			Animation           		= Sword2
				AnimationName       	= RUElfWar_DIESV4
				AnimationMode       	= ONCE
			End
			Animation           		= WantSword
				AnimationName       	= RUElfWar_LNDA
				AnimationMode       	= ONCE
			End
			
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "WantSword"
				end
			
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if GetClientRandomNumberReal(0,2) < 1
				then
					return "Sword1"
				else
					return "Sword2"
				end
			EndScript
		End
		
		AnimationState        			= DYING
			Animation           		= Bow1
				AnimationName       	= RUElfWar_DIEB
				AnimationMode       	= ONCE
			End
			Animation           		= Bow2
				AnimationName       	= RUElfWar_DIEBV5
				AnimationMode       	= ONCE
			End
			Animation           		= WantBow
				AnimationName       	= RUElfWar_LNDB
				AnimationMode       	= ONCE
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				
				if PrevState == "STATE_Fly"
				then
					CurDrawableHideSubObject("ArrowNock")
					CurDrawableHideSubObject("arrow")
					return "WantBow"
				end
				
				if GetClientRandomNumberReal(0,2) < 1
				then
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "Bow1"
				else
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "Bow2"
				end
			EndScript
		End
		
		


		AnimationState					= MOVING EMOTION_TERROR WEAPONSET_TOGGLE_1
			StateName					= Moving_Sword
			Animation					= Terror
				AnimationName			= RUElfWar_RUNN
				AnimationMode			= LOOP
				Distance				= 40
			End
			Animation					= finishrun_b
				AnimationName       	= RUElfWar_RUNB
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Animation					= runtrans_bs
				AnimationName       	= RUElfWar_RUNC
				AnimationMode       	= ONCE
				AnimationBlendTime		= 5
				Distance				= 70
			End
			Animation					= runtrans_sb_finish
				AnimationName       	= RUElfWar_RUNT
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 70
			End
			Animation					= runnoblend_s
				AnimationName       	= RUElfWar_RUNN
				AnimationMode       	= LOOP
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE MAINTAIN_FRAME_ACROSS_STATES
			BeginScript
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				
				if PrevState == "Moving_Bow"
				then
					if PrevAnim == "runtrans_sb"
					then
						return "runtrans_sb_finish"
					elseif PrevAnim == "finishrun_s"
					then
						return "runnoblend_s"
					else
						return "finishrun_b"
					end
				elseif PrevAnim == "finishrun_b" or PrevAnim == "runtrans_sb_finish"
				then
					return "runtrans_bs"
				elseif PrevAnim == "runtrans_bs" or PrevAnim == "run_s" or PrevAnim == "runnoblend_s"
				then
					return "runnoblend_s"
				else
					return "Terror"
				end				
			EndScript
		End
		AnimationState					= MOVING EMOTION_TERROR
			StateName					= Moving_Bow
			Animation					= RunAway_3
				AnimationName			= RUElfWar_RUNOT3
				AnimationMode			= ONCE
				Distance				= 40
			End
			Animation					= RunAway_2
				AnimationName			= RUElfWar_RUNOT4
				AnimationMode			= ONCE
				Distance				= 40
			End
			Animation					= RunAway
				AnimationName			= RUElfWar_RUNB
				AnimationMode			= ONCE
				Distance				= 40
			End
			Animation					= finishrun_s
				AnimationName       	= RUElfWar_RUNN
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Animation					= runtrans_sb
				AnimationName       	= RUElfWar_RUNT
				AnimationMode       	= ONCE
				AnimationBlendTime		= 5
				Distance				= 70
			End
			Animation					= runtrans_bs_finish
				AnimationName       	= RUElfWar_RUNC
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 70
			End
			Animation					= RunAway_noblend
				AnimationName			= RUElfWar_RUNB
				AnimationMode			= ONCE
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE MAINTAIN_FRAME_ACROSS_STATES
			BeginScript
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "Moving_Sword"
				then
					if PrevAnim == "runtrans_bs"
					then
						return "runtrans_bs_finish"
					elseif PrevAnim == "finishrun_b"
					then
						return "RunAway_noblend"
					else
						return "finishrun_s"
					end
				elseif PrevAnim == "finishrun_s" or PrevAnim == "runtrans_bs_finish"
				then
					return "runtrans_sb"
				elseif PrevAnim == "runtrans_sb" or PrevAnim == "run_b" or PrevAnim == "runnoblend_b"
				then
					return "RunAway_noblend"
				else
					Num = GetClientRandomNumberReal(0,7)
					if Num < 1 
					then
						return "RunAway_2"
					elseif Num > 6
					then
						return "RunAway_3"
					else
						return "RunAway"
					end
				end			
			EndScript
		End


		
		
		AnimationState        			= FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
			StateName					= Ready_Sword
			
			Animation           		= AttackWithSwordA
				AnimationName       	= RUElfWar_ATKSV2
				AnimationMode       	= ONCE
				UseWeaponTiming			= Yes
			End
			Animation           		= AttackWithSwordB
				AnimationName       	= RUElfWar_ATKS
				AnimationMode       	= ONCE
				UseWeaponTiming			= Yes
			End
			Animation           		= AttackWithSwordD
				AnimationName       	= RUElfWar_ATKSV4
				AnimationMode       	= ONCE
				UseWeaponTiming			= Yes
			End
			BeginScript
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
			EndScript
		End

		AnimationState					= PREATTACK_A 
			Animation					= ReadyToDrawn
				AnimationName			= RUElfWar_ATKA1
				AnimationMode			= ONCE
				AnimationBlendTime		= 20				
			End
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ArrowNock")
			EndScript
		End

		AnimationState					= FIRING_OR_RELOADING_A
			StateName					= STATE_Firing
			Animation					= OneFrameOfShooting
				AnimationName			= RUElfWar_ATKA2
				AnimationMode			= ONCE
				AnimationBlendTime		= 0
				AnimationSpeedFactorRange	= 1.5 1.5
			End
			Flags						= START_FRAME_FIRST			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ArrowNock")
			EndScript
		End


		



		AnimationState					= MOVING BACKING_UP WEAPONSET_TOGGLE_1
			StateName					= STATE_BackingUp
			Animation					= Sword
				AnimationName			= RUElfWar_BAKS
				AnimationMode			= LOOP
			End
			Animation					= WantSword
				AnimationName			= RUElfWar_BAKB
				AnimationMode			= LOOP
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				if PrevState == "STATE_BackingUp"
				then
					if PrevAnim == "Bow" or PrevAnim == "WantSword"
					then
						return "WantSword"
					end
				end
				
				return "Sword"			
			EndScript
		End
		AnimationState					= MOVING BACKING_UP
			StateName					= STATE_BackingUp
			Animation					= Bow
				AnimationName			= RUElfWar_BAKB
				AnimationMode			= LOOP
			End
			Animation					= WantBow
				AnimationName			= RUElfWar_BAKS
				AnimationMode			= LOOP
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				if PrevState == "STATE_BackingUp"
				then
					if PrevAnim == "WantBow" or PrevAnim == "Sword"
					then
						return "WantBow"
					end
				end
				
				return "Bow"
			EndScript
		End
	
		
		
		AnimationState        			= MOVING WEAPONSET_TOGGLE_1
			StateName					= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= RUElfWar_RUNS
				AnimationMode       	= LOOP
				Distance				= 40
			End
			Animation					= finishrun_b
				AnimationName       	= RUElfWar_RUNB
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Animation					= runtrans_bs
				AnimationName       	= RUElfWar_RUNC
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 70
			End
			Animation					= runtrans_sb_finish
				AnimationName       	= RUElfWar_RUNT
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 70
			End
			Animation					= runnoblend_s
				AnimationName       	= RUElfWar_RUNS
				AnimationMode       	= LOOP
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Flags = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				
				if PrevState == "Moving_Bow"
				then
					if PrevAnim == "runtrans_sb"
					then
						return "runtrans_sb_finish"
					elseif PrevAnim == "finishrun_s"
					then
						return "runnoblend_s"
					else
						return "finishrun_b"
					end
				elseif PrevAnim == "finishrun_b" or PrevAnim == "runtrans_sb_finish" or PrevAnim == "WantSword"
				then
					return "runtrans_bs"
				elseif PrevAnim == "runtrans_bs" or PrevAnim == "run_s" or PrevAnim == "runnoblend_s"
				then
					return "runnoblend_s"
				else
					return "run_s"
				end				
			EndScript
		End
		
		AnimationState        			= MOVING
			StateName					= Moving_Bow
			SimilarRestart				= Yes
			Animation           		= run_b
				AnimationName       	= RUElfWar_RUNB
				AnimationMode       	= LOOP
				Distance				= 40
			End
			Animation					= finishrun_s
				AnimationName       	= RUElfWar_RUNS
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Animation					= runtrans_sb
				AnimationName       	= RUElfWar_RUNT
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 70
			End
			Animation					= runtrans_bs_finish
				AnimationName       	= RUElfWar_RUNC
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 70
			End
			Animation					= runnoblend_b
				AnimationName       	= RUElfWar_RUNB
				AnimationMode       	= LOOP
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Flags = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				
				if PrevState == "Moving_Sword"
				then
					if PrevAnim == "runtrans_bs"
					then
						return "runtrans_bs_finish"
					elseif PrevAnim == "finishrun_b"
					then
						return "runnoblend_b"
					else
						return "finishrun_s"
					end
				elseif PrevAnim == "finishrun_s" or PrevAnim == "runtrans_bs_finish" or PrevAnim == "WantBow"
				then
					return "runtrans_sb"
				elseif PrevAnim == "runtrans_sb" or PrevAnim == "run_b" or PrevAnim == "runnoblend_b"
				then
					return "runnoblend_b"
				else
					return "run_b"
				end				
			EndScript
		End
		























		


		AnimationState					= CONTINUOUS_FIRE_MEAN		
			Animation					= HangFrameWhileCoasting
				AnimationName			= RUElfWar_ATKA2
				AnimationMode			= MANUAL
				AnimationBlendTime		= 0
			End
			Flags						= START_FRAME_LAST
						
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ARROWNOCK")
				if CurDrawablePrevAnimationState() == "STATE_Firing" then CurDrawableAllowToContinue() end
			EndScript
			
			
			
			
			
			
			
			
			
		End
		
		AnimationState					= CONTINUOUS_FIRE_SLOW
			StateName					= Ready_Bow
			Animation					= PutAwayArrow
				AnimationName			= RUElfWar_ATKA3
				AnimationMode			= ONCE
			End
						
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ARROWNOCK")
			EndScript
		End

	
		AnimationState					= EMOTION_UNCONTROLLABLY_AFRAID WEAPONSET_TOGGLE_1
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_FERS
				AnimationMode			= ONCE
			End
			Animation					= Sword2
				AnimationName			= RUElfWar_FERS
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				end
			EndScript
		End
		AnimationState					= EMOTION_UNCONTROLLABLY_AFRAID 
			StateName					= STATE_Emotion_Bow
			Animation					= Bow
				AnimationName			= RUElfWar_FERB
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End	
			Animation					= Bow2
				AnimationName			= RUElfWar_FERB
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				end
			EndScript	
		End
		
	
		
		
		AnimationState					= EMOTION_ALERT WEAPONSET_TOGGLE_1
			StateName					= Ready_Sword
			
			Animation					= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
			
			BeginScript
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BR_Sword")			end
				if Prev == "Selected_Sword"		then CurDrawableSetTransitionAnimState("TRANS_SR_Sword")			end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")	
				end
			EndScript
		End
		AnimationState					= ENGAGED WEAPONSET_TOGGLE_1
			StateName					= Ready_Sword
			
			Animation					= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
			
			BeginScript
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BR_Sword")			end
				if Prev == "Selected_Sword"		then CurDrawableSetTransitionAnimState("TRANS_SR_Sword")			end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")	
				end
			EndScript
		End
		AnimationState					= ATTACKING WEAPONSET_TOGGLE_1
			StateName					= Ready_Sword
			
			Animation					= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
			
			BeginScript
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BR_Sword")			end
				if Prev == "Selected_Sword"		then CurDrawableSetTransitionAnimState("TRANS_SR_Sword")			end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")	
				end
			EndScript
		End
		
		AnimationState					= EMOTION_ALERT
			StateName					= Ready_Bow
			
			Animation					= IDLB
				AnimationName			= RUElfWar_IDLB
				AnimationMode			= LOOP
			End
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bored_Bow"		then CurDrawableSetTransitionAnimState("TRANS_BR_Bow")				end
				if Prev == "Selected_Bow"	then CurDrawableSetTransitionAnimState("TRANS_SR_Bow")				end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")	
				end				
			EndScript
		End 
		AnimationState					= ENGAGED
			StateName					= Ready_Bow
			
			Animation					= IDLB
				AnimationName			= RUElfWar_IDLB
				AnimationMode			= LOOP
			End
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bored_Bow"		then CurDrawableSetTransitionAnimState("TRANS_BR_Bow")				end
				if Prev == "Selected_Bow"	then CurDrawableSetTransitionAnimState("TRANS_SR_Bow")				end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")	
				end				
			EndScript
		End
		AnimationState					= ATTACKING
			StateName					= Ready_Bow
			
			Animation					= IDLB
				AnimationName			= RUElfWar_IDLB
				AnimationMode			= LOOP
			End
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bored_Bow"		then CurDrawableSetTransitionAnimState("TRANS_BR_Bow")				end
				if Prev == "Selected_Bow"	then CurDrawableSetTransitionAnimState("TRANS_SR_Bow")				end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")	
				end				
			EndScript
		End
		
		
		



		AnimationState					= EMOTION_AFRAID WEAPONSET_TOGGLE_1
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_FERS
				AnimationMode			= ONCE
			End
			Animation					= Sword2
				AnimationName			= RUElfWar_FERS
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				end
			EndScript
		End
		AnimationState					= EMOTION_AFRAID 
			StateName					= STATE_Emotion_Bow
			Animation					= Bow
				AnimationName			= RUElfWar_FERB
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End	
			Animation					= Bow2
				AnimationName			= RUElfWar_FERB
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				end
			EndScript	
		End
		


		AnimationState					= EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_CHRST2
				AnimationMode			= ONCE
			End
			Animation					= Sword2
				AnimationName			= RUElfWar_CHRST2
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				elseif PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_SR_Sword")
				elseif PrevState == "Bored_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
				end
			EndScript
		End
		AnimationState					= EMOTION_CELEBRATING
			StateName					= STATE_Emotion_Bow
			Animation					= Bow
				AnimationName			= RUElfWar_CHRB
				AnimationMode			= ONCE
			End
			Animation					= Bow2
				AnimationName			= RUElfWar_CHRB
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				elseif PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_SR_Bow")
				elseif PrevState == "Bored_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Bow")
				end
			EndScript	
		End



		AnimationState					= EMOTION_TAUNTING WEAPONSET_TOGGLE_1
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_TNTSV1
				AnimationMode			= ONCE
			End
			Animation					= Sword2
				AnimationName			= RUElfWar_TNTSV1
				AnimationMode			= ONCE
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE 
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				elseif PrevState == "STATE_Emotion_Sword"
					then
						CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_SR_Sword")
				elseif PrevState == "Bored_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
				end
			EndScript
		End
		AnimationState					= EMOTION_TAUNTING
			StateName					= STATE_Emotion_Bow
			Animation					= Bow1
				AnimationName			= RUElfWar_TNTB
				AnimationMode			= ONCE
			End
			Animation					= Bow2
				AnimationName			= RUElfWar_TNTB	 
				AnimationMode			= ONCE
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE 
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				elseif PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_SR_Bow")
				elseif PrevState == "Bored_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Bow")
				end
			EndScript
		End



		AnimationState					= EMOTION_POINTING WEAPONSET_TOGGLE_1
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_PNTB
				AnimationMode			= ONCE
			End
			Animation					= Sword2
				AnimationName			= RUElfWar_PNTB
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				elseif PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_SR_Sword")
				elseif PrevState == "Bored_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
				end
			EndScript
		End
		AnimationState					= EMOTION_POINTING
			StateName					= STATE_Emotion_Bow
			Animation					= Bow
				AnimationName			= RUElfWar_PNTA
				AnimationMode			= ONCE
			End
			Animation					= Bow2
				AnimationName			= RUElfWar_PNTA
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				elseif PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_SR_Bow")
				elseif PrevState == "Bored_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Bow")
				end
			EndScript
		End
		
		

		AnimationState				=	SELECTED WEAPONSET_TOGGLE_1
			StateName				=	Selected_Sword
			
			Animation				=	ATNA
				AnimationName		=	RUElfWar_ATNS
				AnimationMode		=	LOOP
			End
			
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Emotion_Bow" or Prev == "STATE_Emotion_Sword" then CurDrawableAllowToContinue() end
				if Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BS_Sword")		end
				if Prev == "Ready_Sword"		then CurDrawableSetTransitionAnimState("TRANS_RS_Sword")		end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Selected")	
				end
				
			EndScript
		End

		AnimationState				=	SELECTED 
			StateName           	=	Selected_Bow
			
			Animation				=	ATNE
				AnimationName		=	RUElfWar_ATNE
				AnimationMode		=	LOOP
			End
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Emotion_Bow" or Prev == "STATE_Emotion_Sword" then CurDrawableAllowToContinue() end
				if Prev == "Bored_Bow" then CurDrawableSetTransitionAnimState("TRANS_BS_Bow")				end
				if Prev == "Ready_Bow" then CurDrawableSetTransitionAnimState("TRANS_RS_Bow")				end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Selected")	
				end	
			EndScript
		End
		
		
		
		
		AnimationState						= HIT_REACTION HIT_LEVEL_1 WEAPONSET_TOGGLE_1
			StateName						= Bored_Sword
			Animation						= Hit_Level_1_a
				AnimationName				= RUElfWar_HITE
				AnimationMode				= ONCE
			End
		End

		AnimationState 						= HIT_REACTION HIT_LEVEL_1
			StateName						= Bored_Bow
			Animation 						= Hit_Level_1_a
				AnimationName				= RUElfWar_HITB
				AnimationMode 				= ONCE
				AnimationSpeedFactorRange	= .9 .9
			End
		End
		
		
		
		
		AnimationState					= WEAPONSET_TOGGLE_1
			StateName					= Bored_Sword
			
			Animation           		= Idle_Sword1
				AnimationName       	= RUElfWar_IDLG
				AnimationMode       	= ONCE
			End
			Animation           		= Idle_Sword2
				AnimationName       	= RUElfWar_IDLCT1
				AnimationMode       	= ONCE
			End
			Animation           		= Idle_Sword3
				AnimationName       	= RUElfWar_IDLCT3
				AnimationMode       	= ONCE
			End
			Animation					= IdleNoFidget
				AnimationName			= RUElfWar_IDLF
				AnimationMode			= ONCE
				AnimationPriority		= 20
			End
			Animation					= IdleNoFidget2
				AnimationName			= RUElfWar_IDLF
				AnimationMode			= ONCE
				AnimationPriority		= 0
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")				

				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "TRANS_SB_Sword" or Prev == "TRANS_RB_Sword" then return "IdleNoFidget" end
				if Prev == "Selected_Sword"		then CurDrawableSetTransitionAnimState("TRANS_SB_Sword")		end
				if Prev == "Ready_Sword"		then CurDrawableSetTransitionAnimState("TRANS_RB_Sword")		end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Selected")	
				end
			EndScript
		End
		
		IdleAnimationState
			StateName					= Bored_Bow
			
			Animation					= IdleBowB
				AnimationName			= RUElfWar_IDLDX1
				AnimationMode			= ONCE
			End
			Animation					= IdleBowD
				AnimationName			= RUElfWar_IDLD
				AnimationMode			= ONCE
			End
			Animation					= IdleNoFidget
				AnimationName			= RUElfWar_IDLE
				AnimationMode			= ONCE
				AnimationPriority		= 20
			End
			Animation					= IdleNoFidget2
				AnimationName			= RUElfWar_IDLE
				AnimationMode			= ONCE
				AnimationPriority		= 10
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
			BeginScript	
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")			
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "TRANS_SB_Bow" or Prev == "TRANS_RB_Bow" then return "IdleNoFidget" end
				if Prev == "Selected_Bow"		then CurDrawableSetTransitionAnimState("TRANS_SB_Bow")		end
				if Prev == "Ready_Bow"			then CurDrawableSetTransitionAnimState("TRANS_RB_Bow")		end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Selected")	
				end	
			EndScript
		End

		
		

		TransitionState       			= TRANS_BS_Bow
			Animation           		= ATND
				AnimationName     		= RUElfWar_ATND
				AnimationMode     		= ONCE
				AnimationBlendTime		= 10
			End
		End
		
		TransitionState       			= TRANS_SR_Bow
			Animation           		= ATNE
				AnimationName     		= RUElfWar_ATNF
				AnimationMode     		= ONCE
			End
		End
		
		TransitionState       			= TRANS_SB_Bow
			Animation           		= ATND
				AnimationName     		= RUElfWar_ATND
				AnimationMode     		= ONCE_BACKWARDS
			End
			Flags						= START_FRAME_LAST
		End
		
		TransitionState       			= TRANS_RS_Bow
			Animation           		= ATNF
				AnimationName     		= RUElfWar_ATNF
				AnimationMode     		= ONCE_BACKWARDS
			End
			Flags						= START_FRAME_LAST
		End
		
		TransitionState       			= TRANS_BR_Bow
			Animation           		= IDLB
				AnimationName     		= RUElfWar_IDLB
				AnimationMode     		= ONCE
				AnimationBlendTime		= 20
			End
		End
		
		TransitionState       			= TRANS_RB_Bow
			Animation           		= IDLD
				AnimationName     		= RUElfWar_IDLD
				AnimationMode     		= ONCE
				AnimationBlendTime		= 20
			End
		End
		
		
		
		TransitionState       			= TRANS_BS_Sword
			Animation           		= ATNA
				AnimationName     		= RUElfWar_ATNA
				AnimationMode     		= ONCE
			End
			Animation           		= ATNAX1
				AnimationName     		= RUElfWar_ATNX1
				AnimationMode     		= ONCE
			End
		End
		
		TransitionState       			= TRANS_SR_Sword
			Animation           		= ATNC
				AnimationName     		= RUElfWar_ATNC
				AnimationMode     		= ONCE
			End
		End
		
		TransitionState       			= TRANS_SB_Sword
			Animation           		= ATNA
				AnimationName     		= RUElfWar_ATNA
				AnimationMode     		= ONCE_BACKWARDS
			End
			Flags						= START_FRAME_LAST
		End
		
		TransitionState       			= TRANS_RS_Sword
			Animation           		= ATNC
				AnimationName     		= RUElfWar_ATNC
				AnimationMode     		= ONCE_BACKWARDS
			End
			Flags						= START_FRAME_LAST
		End
		
		TransitionState       			= TRANS_BR_Sword
			Animation           		= ATNS
				AnimationName     		= RUElfWar_ATNS
				AnimationMode     		= ONCE
				AnimationBlendTime		= 20
			End
		End
		
		TransitionState       			= TRANS_RB_Sword
			Animation           		= IDLG
				AnimationName     		= RUElfWar_IDLG
				AnimationMode     		= ONCE
				AnimationBlendTime		= 20
			End
		End
		

		

		TransitionState       			= TRANS_BowToSword_Ready
			Animation           		= DrawSwords
				AnimationName       	= RUElfWar_STHA
				AnimationMode       	= ONCE
			End
		End

		TransitionState       			= TRANS_SwordToBow_Ready
			Animation           		= DrawBow
				AnimationName       	= RUElfWar_STHB
				AnimationMode       	= ONCE
			End
		End
		
		TransitionState       			= TRANS_BowToSword_Selected
			Animation           		= DrawSwords
				AnimationName       	= RUElfWar_STHC
				AnimationMode       	= ONCE
			End
		End

		TransitionState       			= TRANS_SwordToBow_Selected
			Animation           		= DrawBow
				AnimationName       	= RUElfWar_STHD
				AnimationMode       	= ONCE
			End
		End
	End
	
	
	Side = Obsolete
	Browser = CINEMATICS OBSOLETE
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 3

	TransportSlotCount = 1
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    RohanElvenBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon = PRIMARY	RohanElvenBow 
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1
		Weapon = PRIMARY    GondorRangerSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	
	WeaponSet
		Conditions = PLAYER_UPGRADE WEAPONSET_TOGGLE_1 CONTESTING_BUILDING
		Weapon = PRIMARY	GondorRangerSword
    	AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
		
	ArmorSet
		Conditions      = None
		Armor           = SpecialistArmor
		DamageFX        = NormalDamageFX
	End

	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = SpecialistHeavyArmor
		DamageFX        = NormalDamageFX
	End

	VisionRange = ROHAN_ELVENWARRIOR_VISION_RANGE
        ShroudClearingRange = SHROUD_CLEAR_STANDARD

	BountyValue = ROHAN_ELVENWARRIOR_BOUNTY_VALUE 		
	DisplayName = OBJECT:RohanElvenWarrior
	CrushableLevel = 1  
	CommandSet = RohanElvenWarriorCommandSet
	

	
 
	
	VoiceAttack		= ElvenWarriorVoiceAttack
	VoiceAttackAir		= ElvenWarriorVoiceAttack
	VoiceAttackCharge	= ElvenWarriorVoiceAttackCharge
	VoiceAttackStructure	= ElvenWarriorVoiceAttack		
	VoiceAttackMachine	= ElvenWarriorVoiceAttack		
	VoiceCreated		= ElvenWarriorVoiceSalute
	VoiceFullyCreated  = ElvenWarriorVoiceSalute
	VoiceMove		= ElvenWarriorVoiceMove
	VoiceMoveToCamp		= ElvenWarriorVoiceMoveCamp
	VoiceMoveWhileAttacking	= ElvenWarriorVoiceDisengage
	VoicePriority		= 41
	VoiceRetreatToCastle	= ElvenWarriorVoiceRetreat
	VoiceSelect		= ElvenWarriorVoiceSelectMS
	VoiceSelectBattle 	= ElvenWarriorVoiceSelectBattle
	VoiceGuard			= ElvenWarriorVoiceMove
	

	UnitSpecificSounds
		VoiceGarrison			=	ElvenWarriorVoiceGarrison    
		VoicePrimaryWeaponMode		=	ElvenWarriorVoiceModeBow
		VoiceSecondaryWeaponMode	=	ElvenWarriorVoiceModeSword
	End

    #include "..\includes\StandardUnitEvaEvents.inc"


	
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SCORE THROWN_OBJECT PATH_THROUGH_EACH_OTHER ARCHER ATTACK_NEEDS_LINE_OF_SIGHT GRAB_AND_DROP
	
	Body = ActiveBody ModuleTag_02
		CheerRadius 	  = EMOTION_CHEER_RADIUS
		MaxHealth         = ROHAN_ELVENWARRIOR_HEALTH			
		MaxHealthDamaged  = ROHAN_ELVENWARRIOR_HEALTH_DAMAGED		
		
	End
	
	
	Behavior = WeaponSetUpgrade ModuleTag_WeaponSetUpgradeTag
		TriggeredBy = Upgrade_FireArrows
		CustomAnimAndDuration   = AnimState:USER_4 AnimTime:0 TriggerTime:0 
	End
	
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy = Upgrade_ForgedBlades
		CustomAnimAndDuration   = AnimState:USER_5 AnimTime:0 TriggerTime:0 
	End

	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy		= Upgrade_HeavyArmor
		UpgradeTexture	= RUElvnWorrior.tga 0 RUElvnWorriorHA.tga
		UpgradeTexture	= RUElvnWorrior_L.tga 0 RUElvnWorriorHA.tga
		RecolorHouse	= Yes
	End
	
	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
		TriggeredBy = Upgrade_HeavyArmor
	End
	
	Behavior = SubObjectsUpgrade ForgedBlades_Upgrade
		TriggeredBy		= Upgrade_ForgedBlades
		ShowSubObjects	= Forged_Blade
	End

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle		= Yes ATTACK_BUILDINGS STEALTHED
		MoodAttackCheckRate				= 500
		CanAttackWhileContained			= Yes		

		AILuaEventsList					= RohanElvenWarriorFunctions
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_GOOD_FAST_MEMBER_SPEED		
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER
		Speed     = NORMAL_GOOD_FAST_MEMBER_SPEED		
	End

	LocomotorSet
		Locomotor = HumanPanicLocomotor
		Condition = SET_PANIC
		Speed	  = NORMAL_GOOD_FAST_MEMBER_SPEED		
	End
	
	LocomotorSet
		Locomotor = HumanScaredLocomotor
		Condition = SET_SCARED
		Speed	  = NORMAL_GOOD_FAST_MEMBER_SPEED		
	End
		
	Behavior = StealthUpdate StealthUpdateModuleTag
		StealthDelay						= 500         
		FriendlyOpacityMin					= 15.0%
		FriendlyOpacityMax					= 60.0%
		PulseFrequency						= 750   
		StealthForbiddenConditions			= HORDEBRAIN_NOT_STEALTHED
		OrderIdleEnemiesToAttackMeUponReveal= Yes
		DetectedByAnyoneRange				= 120
		RevealWeaponSets					= CLOSE_RANGE CONTESTING_BUILDING
	End
	
	
	Behavior = WeaponSetUpgrade ModuleTag_14
		TriggeredBy = Upgrade_FireArrows
	End
	
	
	
	

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.5     
		DestructionDelay = 15000
            Sound = INITIAL ElvenWarriorVoiceDie

	End
	
	Behavior = SquishCollide ModuleTag_06
		
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 
		
		FirstHeight = 25  
		SecondHeight = 25
		FirstPercentIndent = 30% 
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes 
		DieOnImpact = Yes
		BounceCount = 1   
		BounceDistance = 41 
		BounceFirstHeight = 25  
		BounceSecondHeight = 25
		BounceFirstPercentIndent = 20% 
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	
		Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
			Key = Elf Unit Infantry Elf_Warrior
		End


	
	
	
	
	
	
	
	
	
	
	
	
	

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	ShadowSizeX = 14
	ShadowSizeY = 14
	ShadowTexture = ShadowI
End