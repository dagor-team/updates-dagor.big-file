

Object RivGate

    SelectPortrait = BPCRivendellGate



  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = RivGate
    End



        ModelConditionState   = DAMAGED
            Model               = RivGate_D1
        End

        ModelConditionState   = REALLYDAMAGED
            Model               = RivGate_D2
        End


        ModelConditionState  = COLLAPSING DOOR_1_OPENING
            Model         = RivGate_D3
        End
        AnimationState = COLLAPSING DOOR_1_OPENING
              Animation                =    RubbleAnimation
                AnimationName        =     RivGate_D3.RivGate_D3
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = COLLAPSING
            Model         = RivGate_D4
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     RivGate_D4.RivGate_D4
                AnimationMode        =    ONCE
              End
              EnteringStateFX    = FX_BuildingSinkSound
        End

        ModelConditionState  = RUBBLE
            Model         = RivGate_D4
        End
        AnimationState = RUBBLE
              Animation                =    RubbleAnimation
                AnimationName        =     RivGate_D4.RivGate_D4
                AnimationMode        =    ONCE
              End
              Flags                =    START_FRAME_LAST
        End

        ModelConditionState  = POST_RUBBLE
            Model         = NONE
        End
        AnimationState = POST_RUBBLE
        End

        ModelConditionState  = POST_COLLAPSE
        Model         = None
            ParticleSysBone NONE SmokeBuildingMediumRubble
        End
        AnimationState = POST_COLLAPSE
            ParticleSysBone NONE SmokeBuildingMediumRubble
        End




        AnimationState = DOOR_1_OPENING
            Flags = START_FRAME_LAST
            StateName = Door_Open
            Animation                =    Death
                AnimationName        =    RivGate_SKL.RivGate_OP
                AnimationMode        =    ONCE
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Door_Close" then CurDrawableSetTransitionAnimState("TRANS_Closed_To_Open") end
            EndScript
        End
        TransitionState = TRANS_Closed_To_Open
            Animation = Open
                AnimationName    =    RivGate_SKL.RivGate_OPN
                AnimationMode    =    ONCE
            End
        End

        AnimationState = DOOR_1_CLOSING
            Flags = START_FRAME_LAST
            StateName = Door_Close
            Animation                =    Death
                AnimationName        =    RivGate_SKL.RivGate_CL
                AnimationMode        =    ONCE
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Door_Open" then CurDrawableSetTransitionAnimState("TRANS_Open_To_Closed") end
            EndScript
        End
        TransitionState = TRANS_Open_To_Closed
            Animation = Open
                AnimationName    =    RivGate_SKL.RivGate_CLS
                AnimationMode    =    ONCE
            End
        End

  End


    DisplayName        = OBJECT:RivendellGate
    Side                = Civilian
    EditorSorting        = STRUCTURE
    Browser            = REGION Rivendell STRUCTURE
    ThreatLevel        = 1.0

    CommandSet = CastleGateCommandSet

    BuildCost               = 500
    BuildTime               = 15.0
    VisionRange             = 160.0
    ShroudClearingRange     = 160
    KeepSelectableWhenDead    = Yes

    ArmorSet
        Conditions        = None
        Armor             = RivGateArmor
        DamageFX          = GateDamageFX
    End



    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone



    RadarPriority       = STRUCTURE
    KindOf              = STRUCTURE IMMOBILE SELECTABLE BLOCKING_GATE MADE_OF_WOOD IGNORE_FOR_VICTORY

    Body                        = ActiveBody ModuleTag_05
        MaxHealth                = 7000.0
        MaxHealthDamaged        = 3000.0
        MaxHealthReallyDamaged  = 1000.0
    End

    Behavior = KeepObjectDie ModuleTag_IWantRubble

    End

    Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
        SelfBuildingLoop            = BuildingConstructionLoop
        SelfRepairFromDamageLoop    = NoSound
        SelfRepairFromRubbleLoop    = BuildingConstructionLoop
        SpawnTimer                    = -1.0
        RebuildTimeSeconds            = 40
    End

    Behavior = GateOpenAndCloseBehavior ModuleTag_GATE
        ResetTimeInMilliseconds            = 2000
        OpenByDefault                    = No
        PercentOpenForPathing            = 50
        SoundOpeningGateLoop            = GateOpenStart
        SoundClosingGateLoop            = GateCloseStart
        SoundFinishedOpeningGate        = GateOpenEnd
        SoundFinishedClosingGate        = GateCloseEnd
        TimeBeforePlayingOpenSound        = 9500
        TimeBeforePlayingClosedSound    = 9500
    End

    Behavior = DoCommandUpgrade Module_DoCommandCloseGate
        TriggeredBy     			    = Upgrade_AllFactionUpgrade
        GetUpgradeCommandButtonName = Command_ToggleGate
    End

    AttackContactPoint = X:-24 Y:-24 Z:92

    Geometry              = BOX
    GeometryMajorRadius   = 45.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 65.0
    GeometryOffset        = X:0 Y:-80 Z:0

    AdditionalGeometry      = BOX
    GeometryMajorRadius   = 45.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 65.0
    GeometryOffset        = X:0 Y:80 Z:0

    AdditionalGeometry      = BOX
    GeometryName          = "Closed"
    GeometryMajorRadius   = 5.0
    GeometryMinorRadius   = 60.0
    GeometryHeight        = 65.0
    GeometryOffset        = X:30 Y:0 Z:0


    AdditionalGeometry    = BOX
    GeometryName          = "OpenLeft"
    GeometryMajorRadius   = 45.0
    GeometryMinorRadius   = 10.0
    GeometryHeight        = 65.0
    GeometryOffset        = X:0 Y:-40 Z:0


    AdditionalGeometry    = BOX
    GeometryName          = "OpenRight"
    GeometryMajorRadius   = 45.0
    GeometryMinorRadius   = 10.0
    GeometryHeight        = 65.0
    GeometryOffset        = X:0 Y:40 Z:0


    GeometryIsSmall       = No

    Shadow                = SHADOW_VOLUME
End



Object RivGateLeftSide








  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = RivGateLS
    End





  End


  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 500
  BuildTime           = 15.0
  VisionRange         = 160.0
  ShroudClearingRange = 160







    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone










    RadarPriority       = STRUCTURE
    KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI

    Body                        = ActiveBody ModuleTag_05
        MaxHealth                = 10000.0
        MaxHealthDamaged        = 5000.0
        MaxHealthReallyDamaged  = 1000.0
    End

    ArmorSet
        Conditions        = None
        Armor             = StructureArmor
        DamageFX          = GateDamageFX
    End

    Behavior = ProductionUpdate ModuleTag_06

    End

    Behavior                  = StructureCollapseUpdate ModuleTag_08
        MinCollapseDelay        = 000
        MaxCollapseDelay        = 000
        CollapseDamping         = .5
        MaxShudder              = 0.6
        MinBurstDelay           = 250
        MaxBurstDelay           = 800
        BigBurstFrequency       = 4
        FXList                  = INITIAL   FX_StructureMediumCollapse
        FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
        DestroyObjectWhenDone    = Yes
        CollapseHeight            = 155
    End

    AttackContactPoint = X:-24 Y:-24 Z:92

    Geometry              = BOX
    GeometryMajorRadius   = 46.0
    GeometryMinorRadius   = 33.0
    GeometryHeight        = 100.0
    GeometryOffset        = X:0 Y:-86 Z:0

    GeometryIsSmall       = No

    Shadow                = SHADOW_VOLUME
End




ObjectReskin RivGateLeftSide_Snow RivGateLeftSide








  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = RivGateLS_S
    End





  End
End



Object RivGateRightSide








  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = RivGateRS
    End





  End


  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 500
  BuildTime           = 15.0
  VisionRange         = 160.0
  ShroudClearingRange = 160







    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone










    RadarPriority       = STRUCTURE
    KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE  IGNORED_IN_GUI

    Body                        = ActiveBody ModuleTag_05
        MaxHealth                = 10000.0
        MaxHealthDamaged        = 5000.0
        MaxHealthReallyDamaged  = 1000.0
    End

    ArmorSet
        Conditions        = None
        Armor             = StructureArmor
        DamageFX          = GateDamageFX
    End

    Behavior = ProductionUpdate ModuleTag_06

    End

    Behavior                  = StructureCollapseUpdate ModuleTag_08
        MinCollapseDelay        = 000
        MaxCollapseDelay        = 000
        CollapseDamping         = .5
        MaxShudder              = 0.6
        MinBurstDelay           = 250
        MaxBurstDelay           = 800
        BigBurstFrequency       = 4
        FXList                  = INITIAL   FX_StructureMediumCollapse
        FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
        DestroyObjectWhenDone    = Yes
        CollapseHeight            = 155
    End

    AttackContactPoint = X:-24 Y:-24 Z:92

    Geometry              = BOX
    GeometryMajorRadius   = 46.0
    GeometryMinorRadius   = 33.0
    GeometryHeight        = 100.0
    GeometryOffset        = X:0 Y:86 Z:0


    GeometryIsSmall       = No

    Shadow                = SHADOW_VOLUME
End




ObjectReskin RivGateRightSide_Snow RivGateRightSide








  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = RivGateRS_S
    End





  End
End



Object RivWalkway








  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkway
    End

    WallBoundsMesh = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI

    Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
    End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

    Geometry              = BOX
    GeometryMajorRadius   = 35.0
    GeometryMinorRadius   = 35.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0 Y:0.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 30.0
    GeometryMinorRadius   = 30.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0.0 Y:0.0 Z:0.0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

      GeometryContactPoint = X:-90  Y:70  Z:0 Grab
    GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
    GeometryContactPoint = X:-90  Y:-30 Z:10
    GeometryContactPoint = X:-60  Y:-30 Z:60
    GeometryContactPoint = X:-30   Y:-30 Z:10
    GeometryContactPoint = X:0    Y:-30 Z:60
    GeometryContactPoint = X:30   Y:-30 Z:10
    GeometryContactPoint = X:60  Y:-30 Z:60
    GeometryContactPoint = X:90  Y:-30 Z:10
    GeometryContactPoint = X:90 Y:-40 Z:0 Grab
    GeometryContactPoint = X:90 Y:70  Z:0 Grab
End





Object RivWalkwayT

SelectPortrait = BPRHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkwayT
    End





        ModelConditionState  = COLLAPSING
            Model         = RivWalkwayTD
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     RivWalkwayTD.RivWalkwayTD
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = None
        End
        AnimationState = RUBBLE
        End

        ModelConditionState  = POST_RUBBLE
            Model         = None
        End
        AnimationState = POST_RUBBLE
        End

        ModelConditionState  = POST_COLLAPSE
            Model         = None
        End
        AnimationState = POST_COLLAPSE
        End

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI

    Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
    End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 1.0
    MaxHealthDamaged = 1.0
    MaxHealthReallyDamaged = 1.0

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

    Geometry              = BOX
    GeometryMajorRadius   = 35.0
    GeometryMinorRadius   = 35.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0 Y:0.0 Z:50

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 30.0
    GeometryMinorRadius   = 30.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0.0 Y:0.0 Z:0.0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

      GeometryContactPoint = X:-90  Y:70  Z:0 Grab
    GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
    GeometryContactPoint = X:-90  Y:-30 Z:10
    GeometryContactPoint = X:-60  Y:-30 Z:60
    GeometryContactPoint = X:-30   Y:-30 Z:10
    GeometryContactPoint = X:0    Y:-30 Z:60
    GeometryContactPoint = X:30   Y:-30 Z:10
    GeometryContactPoint = X:60  Y:-30 Z:60
    GeometryContactPoint = X:90  Y:-30 Z:10
    GeometryContactPoint = X:90 Y:-40 Z:0 Grab
    GeometryContactPoint = X:90 Y:70  Z:0 Grab
End





Object RivWalkwayT1

SelectPortrait = BPRHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkwayT1
    End






        ModelConditionState  = COLLAPSING
            Model         = RivWalkwayT1D
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     RivWalkwayT1D.RivWalkwayT1D
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = None
        End
        AnimationState = RUBBLE
        End

        ModelConditionState  = POST_RUBBLE
            Model         = None
        End
        AnimationState = POST_RUBBLE
        End

        ModelConditionState  = POST_COLLAPSE
            Model         = None
        End
        AnimationState = POST_COLLAPSE
        End

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI

    Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
    End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 1.0
    MaxHealthDamaged = 1.0
    MaxHealthReallyDamaged = 1.0

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

    Geometry              = BOX
    GeometryMajorRadius   = 35.0
    GeometryMinorRadius   = 35.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0 Y:0.0 Z:50

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 30.0
    GeometryMinorRadius   = 30.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0.0 Y:0.0 Z:0.0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

      GeometryContactPoint = X:-90  Y:70  Z:0 Grab
    GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
    GeometryContactPoint = X:-90  Y:-30 Z:10
    GeometryContactPoint = X:-60  Y:-30 Z:60
    GeometryContactPoint = X:-30   Y:-30 Z:10
    GeometryContactPoint = X:0    Y:-30 Z:60
    GeometryContactPoint = X:30   Y:-30 Z:10
    GeometryContactPoint = X:60  Y:-30 Z:60
    GeometryContactPoint = X:90  Y:-30 Z:10
    GeometryContactPoint = X:90 Y:-40 Z:0 Grab
    GeometryContactPoint = X:90 Y:70  Z:0 Grab
End






Object RivWalkway3

SelectPortrait = BPRHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkway3
    End

    WallBoundsMesh = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160




    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone




  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI

    Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
    End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End




    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End





      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End







    Geometry              = BOX
    GeometryMajorRadius   = 35.0
    GeometryMinorRadius   = 105.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0 Y:0.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 30.0
    GeometryMinorRadius   = 30.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0.0 Y:0.0 Z:0.0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

      GeometryContactPoint = X:-90  Y:70  Z:0 Grab
    GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
    GeometryContactPoint = X:-90  Y:-30 Z:10
    GeometryContactPoint = X:-60  Y:-30 Z:60
    GeometryContactPoint = X:-30   Y:-30 Z:10
    GeometryContactPoint = X:0    Y:-30 Z:60
    GeometryContactPoint = X:30   Y:-30 Z:10
    GeometryContactPoint = X:60  Y:-30 Z:60
    GeometryContactPoint = X:90  Y:-30 Z:10
    GeometryContactPoint = X:90 Y:-40 Z:0 Grab
    GeometryContactPoint = X:90 Y:70  Z:0 Grab
End





Object RivWalkway3T

SelectPortrait = BPRHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkway3T
    End






        ModelConditionState  = COLLAPSING
            Model         = RivWalkway3TD
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     RivWalkway3TD.RivWalkway3TD
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = None
        End
        AnimationState = RUBBLE
        End

        ModelConditionState  = POST_RUBBLE
            Model         = None
        End
        AnimationState = POST_RUBBLE
        End

        ModelConditionState  = POST_COLLAPSE
            Model         = None
        End
        AnimationState = POST_COLLAPSE
        End

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160



    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone



  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI

    Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
    End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 1.0
    MaxHealthDamaged = 1.0
    MaxHealthReallyDamaged = 1.0

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

    Geometry              = BOX
    GeometryMajorRadius   = 35.0
    GeometryMinorRadius   = 105.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0 Y:0.0 Z:50

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 30.0
    GeometryMinorRadius   = 30.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0.0 Y:0.0 Z:0.0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

      GeometryContactPoint = X:-90  Y:70  Z:0 Grab
    GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
    GeometryContactPoint = X:-90  Y:-30 Z:10
    GeometryContactPoint = X:-60  Y:-30 Z:60
    GeometryContactPoint = X:-30   Y:-30 Z:10
    GeometryContactPoint = X:0    Y:-30 Z:60
    GeometryContactPoint = X:30   Y:-30 Z:10
    GeometryContactPoint = X:60  Y:-30 Z:60
    GeometryContactPoint = X:90  Y:-30 Z:10
    GeometryContactPoint = X:90 Y:-40 Z:0 Grab
    GeometryContactPoint = X:90 Y:70  Z:0 Grab
End



Object RivWalkCurv

SelectPortrait = BPRHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkCurv
    End

    WallBoundsMesh = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI

    Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
    End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000
    End


    Geometry              = BOX
    GeometryMajorRadius   = 50.0
    GeometryMinorRadius   = 55.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0 Y:0.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 60.0
    GeometryOffset          = X:0.0 Y:0.0 Z:0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

      GeometryContactPoint = X:-90  Y:70  Z:0 Grab
    GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
    GeometryContactPoint = X:-90  Y:-30 Z:10
    GeometryContactPoint = X:-60  Y:-30 Z:60
    GeometryContactPoint = X:-30   Y:-30 Z:10
    GeometryContactPoint = X:0    Y:-30 Z:60
    GeometryContactPoint = X:30   Y:-30 Z:10
    GeometryContactPoint = X:60  Y:-30 Z:60
    GeometryContactPoint = X:90  Y:-30 Z:10
    GeometryContactPoint = X:90 Y:-40 Z:0 Grab
    GeometryContactPoint = X:90 Y:70  Z:0 Grab
End





Object RivWalkCurvT

SelectPortrait = BPRHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkCurvT
    End






        ModelConditionState  = COLLAPSING
            Model         = RivWalkCurvTD
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     RivWalkCurvTD.RivWalkCurvTD
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = None
        End
        AnimationState = RUBBLE
        End

        ModelConditionState  = POST_RUBBLE
            Model         = None
        End
        AnimationState = POST_RUBBLE
        End

        ModelConditionState  = POST_COLLAPSE
            Model         = None
        End
        AnimationState = POST_COLLAPSE
        End

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI

    Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
    End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 1.0
    MaxHealthDamaged = 1.0
    MaxHealthReallyDamaged = 1.0

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End




    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End



















    Geometry              = BOX
    GeometryMajorRadius   = 50.0
    GeometryMinorRadius   = 55.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0 Y:0.0 Z:50.0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 60.0
    GeometryOffset          = X:0.0 Y:0.0 Z:0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

      GeometryContactPoint = X:-90  Y:70  Z:0 Grab
    GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
    GeometryContactPoint = X:-90  Y:-30 Z:10
    GeometryContactPoint = X:-60  Y:-30 Z:60
    GeometryContactPoint = X:-30   Y:-30 Z:10
    GeometryContactPoint = X:0    Y:-30 Z:60
    GeometryContactPoint = X:30   Y:-30 Z:10
    GeometryContactPoint = X:60  Y:-30 Z:60
    GeometryContactPoint = X:90  Y:-30 Z:10
    GeometryContactPoint = X:90 Y:-40 Z:0 Grab
    GeometryContactPoint = X:90 Y:70  Z:0 Grab
End





Object RivWalkCurvT1

SelectPortrait = BPRHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkCurvT1
    End





        ModelConditionState  = COLLAPSING
            Model         = RivWalkCurvT1D
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     RivWalkCurvT1D.RivWalkCurvT1D
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = None
        End
        AnimationState = RUBBLE
        End

        ModelConditionState  = POST_RUBBLE
            Model         = None
        End
        AnimationState = POST_RUBBLE
        End

        ModelConditionState  = POST_COLLAPSE
            Model         = None
        End
        AnimationState = POST_COLLAPSE
        End

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160




    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone




  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE  CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI

    Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
    End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 1.0
    MaxHealthDamaged = 1.0
    MaxHealthReallyDamaged = 1.0

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

    Geometry              = BOX
    GeometryMajorRadius   = 50.0
    GeometryMinorRadius   = 55.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0 Y:0.0 Z:50.0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 60.0
    GeometryOffset          = X:0.0 Y:0.0 Z:0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

      GeometryContactPoint = X:-90  Y:70  Z:0 Grab
    GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
    GeometryContactPoint = X:-90  Y:-30 Z:10
    GeometryContactPoint = X:-60  Y:-30 Z:60
    GeometryContactPoint = X:-30   Y:-30 Z:10
    GeometryContactPoint = X:0    Y:-30 Z:60
    GeometryContactPoint = X:30   Y:-30 Z:10
    GeometryContactPoint = X:60  Y:-30 Z:60
    GeometryContactPoint = X:90  Y:-30 Z:10
    GeometryContactPoint = X:90 Y:-40 Z:0 Grab
    GeometryContactPoint = X:90 Y:70  Z:0 Grab
End






Object RivWalkCurvT2

SelectPortrait = BPRHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkCurvT2
    End





        ModelConditionState  = COLLAPSING
            Model         = RivWalkCurvT2D
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     RivWalkCurvT2D.RivWalkCurvT2D
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = None
        End
        AnimationState = RUBBLE
        End

        ModelConditionState  = POST_RUBBLE
            Model         = None
        End
        AnimationState = POST_RUBBLE
        End

        ModelConditionState  = POST_COLLAPSE
            Model         = None
        End
        AnimationState = POST_COLLAPSE
        End

  End




  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI

    Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
    End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 1.0
    MaxHealthDamaged = 1.0
    MaxHealthReallyDamaged = 1.0

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

    Geometry              = BOX
    GeometryMajorRadius   = 50.0
    GeometryMinorRadius   = 55.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0 Y:0.0 Z:50.0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 60.0
    GeometryOffset          = X:0.0 Y:0.0 Z:0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

      GeometryContactPoint = X:-90  Y:70  Z:0 Grab
    GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
    GeometryContactPoint = X:-90  Y:-30 Z:10
    GeometryContactPoint = X:-60  Y:-30 Z:60
    GeometryContactPoint = X:-30   Y:-30 Z:10
    GeometryContactPoint = X:0    Y:-30 Z:60
    GeometryContactPoint = X:30   Y:-30 Z:10
    GeometryContactPoint = X:60  Y:-30 Z:60
    GeometryContactPoint = X:90  Y:-30 Z:10
    GeometryContactPoint = X:90 Y:-40 Z:0 Grab
    GeometryContactPoint = X:90 Y:70  Z:0 Grab
End





Object RivWalkCurvT3

SelectPortrait = BPRHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkCurvT3
    End






        ModelConditionState  = COLLAPSING
            Model         = RivWalkCurvT3D
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     RivWalkCurvT3D.RivWalkCurvT3D
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = None
        End
        AnimationState = RUBBLE
        End

        ModelConditionState  = POST_RUBBLE
            Model         = None
        End
        AnimationState = POST_RUBBLE
        End

        ModelConditionState  = POST_COLLAPSE
            Model         = None
        End
        AnimationState = POST_COLLAPSE
        End

  End




  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI

    Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
    End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 1.0
    MaxHealthDamaged = 1.0
    MaxHealthReallyDamaged = 1.0

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End


    Geometry              = BOX
    GeometryMajorRadius   = 50.0
    GeometryMinorRadius   = 55.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0 Y:0.0 Z:50.0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 60.0
    GeometryOffset          = X:0.0 Y:0.0 Z:0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

      GeometryContactPoint = X:-90  Y:70  Z:0 Grab
    GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
    GeometryContactPoint = X:-90  Y:-30 Z:10
    GeometryContactPoint = X:-60  Y:-30 Z:60
    GeometryContactPoint = X:-30   Y:-30 Z:10
    GeometryContactPoint = X:0    Y:-30 Z:60
    GeometryContactPoint = X:30   Y:-30 Z:10
    GeometryContactPoint = X:60  Y:-30 Z:60
    GeometryContactPoint = X:90  Y:-30 Z:10
    GeometryContactPoint = X:90 Y:-40 Z:0 Grab
    GeometryContactPoint = X:90 Y:70  Z:0 Grab
End


Object RivWalkRamp

SelectPortrait = BPRHelmsDeep

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkRamp
    End

    RampMesh1 = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI

    Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
    End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000
    End


    Geometry              = BOX
    GeometryMajorRadius   = 50.0
    GeometryMinorRadius   = 35.0
    GeometryHeight        = 52.0
    GeometryOffset          = X:0 Y:0.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 30.0
    GeometryMinorRadius   = 30.0
    GeometryHeight        = 50.0
    GeometryOffset          = X:0.0 Y:0.0 Z:0.0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

      GeometryContactPoint = X:-90  Y:70  Z:0 Grab
    GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
    GeometryContactPoint = X:-90  Y:-30 Z:10
    GeometryContactPoint = X:-60  Y:-30 Z:60
    GeometryContactPoint = X:-30   Y:-30 Z:10
    GeometryContactPoint = X:0    Y:-30 Z:60
    GeometryContactPoint = X:30   Y:-30 Z:10
    GeometryContactPoint = X:60  Y:-30 Z:60
    GeometryContactPoint = X:90  Y:-30 Z:10
    GeometryContactPoint = X:90 Y:-40 Z:0 Grab
    GeometryContactPoint = X:90 Y:70  Z:0 Grab
End



Object RivElHouse

    SelectPortrait  =  BPCElrondsHouse


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivElHouse
        End



        ModelConditionState  = DAMAGED
        Model         = RivElHouse_D1
            ParticleSysBone FireSmall01 FireBuildingLarge
            ParticleSysBone FireSmall02 FireBuildingMedium
            ParticleSysBone FireSmall03 FireBuildingMedium
            ParticleSysBone FireSmall04 FireBuildingSmall
            ParticleSysBone FireSmall05 SmokeBuildingLarge
        End
        AnimationState = DAMAGED
            EnteringStateFX    = FX_BuildingDamaged
        End

        ModelConditionState  = REALLYDAMAGED
        Model         = RivElHouse_D2
            ParticleSysBone FireSmall01 FireBuildingLarge
            ParticleSysBone FireSmall02 FireBuildingLarge
            ParticleSysBone FireSmall03 FireBuildingMedium
            ParticleSysBone FireSmall04 SmokeBuildingLarge
            ParticleSysBone FireSmall05 SmokeBuildingLarge
        End
        AnimationState = REALLYDAMAGED
              Animation                =    RubbleAnimation
                AnimationName        =    RivElHouse_D2.RivElHouse_D2
                AnimationMode        =    ONCE
             End
            EnteringStateFX    = FX_BuildingReallyDamaged
        End

        ModelConditionState  = COLLAPSING
            Model         = RivElHouse_D3
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     RivElHouse_D3.RivElHouse_D3
                AnimationMode        =    ONCE
              End
              EnteringStateFX    = FX_BuildingSinkSound
        End

        ModelConditionState  = RUBBLE
            Model         = RivElHouse_D3
        End
        AnimationState = RUBBLE
              Animation                =    RubbleAnimation
                AnimationName        =    RivElHouse_D3.RivElHouse_D3
                AnimationMode        =    ONCE
              End
              Flags                        = START_FRAME_LAST
        End

        ModelConditionState  = POST_RUBBLE
            Model         = None
        End
        AnimationState = POST_RUBBLE
        End

        ModelConditionState  = POST_COLLAPSE
            Model         = None
        End
        AnimationState = POST_COLLAPSE
        End

    End


    DisplayName         = OBJECT:ElrondsHouse
    Side                = Civilian
    EditorSorting       = STRUCTURE SELECTABLE
    Browser = REGION Rivendell STRUCTURE
    ThreatLevel = 1.0



    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone
    VoiceSelect = ElfFortressSelect


    RadarPriority       = STRUCTURE
    KindOf                = IMMOBILE STRUCTURE SELECTABLE FS_FACTORY DOZER_FACTORY COMMANDCENTER
    Body = ActiveBody ModuleTag_03
        MaxHealth = 10000.0
    End


    ArmorSet
        Conditions        = None
        Armor             = FortressArmor

    End

    CommandSet = CommandSetHouseOfElrond

    Behavior = ProductionUpdate ProductionUpdateModuleTag
    End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
      End

    Behavior = QueueProductionExitUpdate QueueProductionModuleTag
        UnitCreatePoint            = X:-10.0 Y:0.00 Z:0.0
        NaturalRallyPoint        = X:85.0 Y:-0.1480 Z:0.0
        AllowAirborneCreation    = Yes
        ExitDelay                = 50
    End

    AttackContactPoint    = X:-28.0        Y:0.0            Z:185.0        Swoop
    AttackContactPoint    = X:37.0        Y:-126.0        Z:175.0        Swoop
    AttackContactPoint    = X:-106.0        Y:136.0            Z:156.0        Swoop
    AttackContactPoint    = X:38.0        Y:109.0            Z:125.0        Swoop

    Geometry = BOX
    GeometryMajorRadius = 116.0
    GeometryMinorRadius = 94.0
    GeometryHeight = 171.0
    Shadow = SHADOW_VOLUME
    GeometryOffset        = X:-39 Y:145 Z:0

  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 82.0
  GeometryMinorRadius   = 66.0
  GeometryHeight        = 198.0
  GeometryOffset        = X:-68 Y:-6 Z:0

  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 138.0
  GeometryMinorRadius   = 72.0
  GeometryHeight        = 194.0
  GeometryOffset        = X:17 Y:-119 Z:0

  GeometryIsSmall = No
End



Object WOR_RivElHouse

    SelectPortrait  =  BPCElrondsHouse


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivElHouse
        End


        ModelConditionState   = AWAITING_CONSTRUCTION
            Model               = RivElHouse_A
        End
        AnimationState        = AWAITING_CONSTRUCTION
            Animation
                AnimationName    =RivElHouse_A.RivElHouse_A
                AnimationMode    = MANUAL
            End
            Flags                = START_FRAME_FIRST
        End

        ModelConditionState        =    ACTIVELY_BEING_CONSTRUCTED
            Model                =    RivElHouse_A
        End
        AnimationState        = ACTIVELY_BEING_CONSTRUCTED
            Animation
                AnimationName     = RivElHouse_A.RivElHouse_A
                AnimationMode     = MANUAL
            End
            Flags                = START_FRAME_FIRST
            StateName            = BeingConstructed
        End



        ModelConditionState  = DAMAGED
        Model         = RivElHouse_D1
            ParticleSysBone FireSmall01 FireBuildingLarge
            ParticleSysBone FireSmall02 FireBuildingMedium
            ParticleSysBone FireSmall03 FireBuildingMedium
            ParticleSysBone FireSmall04 FireBuildingSmall
            ParticleSysBone FireSmall05 SmokeBuildingLarge
        End
        AnimationState = DAMAGED
            EnteringStateFX    = FX_BuildingDamaged
        End

        ModelConditionState  = REALLYDAMAGED
        Model         = RivElHouse_D2
            ParticleSysBone FireSmall01 FireBuildingLarge
            ParticleSysBone FireSmall02 FireBuildingLarge
            ParticleSysBone FireSmall03 FireBuildingMedium
            ParticleSysBone FireSmall04 SmokeBuildingLarge
            ParticleSysBone FireSmall05 SmokeBuildingLarge
        End
        AnimationState = REALLYDAMAGED
              Animation                =    RubbleAnimation
                AnimationName        =    RivElHouse_D2.RivElHouse_D2
                AnimationMode        =    ONCE
             End
            EnteringStateFX    = FX_BuildingReallyDamaged
        End

        ModelConditionState  = COLLAPSING
            Model         = RivElHouse_D3
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     RivElHouse_D3.RivElHouse_D3
                AnimationMode        =    ONCE
              End
            EnteringStateFX    = FX_BuildingSinkSound
        End

        ModelConditionState  = RUBBLE
            Model         = RivElHouse_D3
        End
        AnimationState = RUBBLE
              Animation                =    RubbleAnimation
                AnimationName        =    RivElHouse_D3.RivElHouse_D3
                AnimationMode        =    ONCE
              End
              Flags                        = START_FRAME_LAST
        End

        ModelConditionState  = POST_RUBBLE
            Model         = None
        End
        AnimationState = POST_RUBBLE
        End

        ModelConditionState  = POST_COLLAPSE
            Model         = None
        End
        AnimationState = POST_COLLAPSE
        End
    End



    DisplayName        = OBJECT:ElrondsHouse
    Side            = WOR
    EditorSorting        = STRUCTURE
    ThreatLevel        = 1.0
    BuildCost        = 5000
    BuildTime        = 120.0
    VisionRange        = 400
    ShroudClearingRange    = 800

    ArmorSet
        Conditions    = None
        Armor        = HouseofElrondArmor

    End

    CommandSet        = CommandSetHouseOfElrondRebuild

    HealthBoxHeightOffset    = -200




    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone
    VoiceSelect = ElfFortressSelect



    KindOf            = VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER DONT_HIDE_IF_FOGGED
    RadarPriority        = STRUCTURE
    KeepSelectableWhenDead    = Yes


    Behavior = CommandSetUpgrade ModuleTag_CommandSetDwarven
        TriggeredBy    = Upgrade_DwarfFaction
        CommandSet    = DwarvenMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetMen
        TriggeredBy    = Upgrade_MenFaction
        CommandSet    = GondorMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModueTag_LevelCommandSet_Gandalf
        TriggeredBy         = Upgrade_GandalfWhite Upgrade_BandGefahrten
        RequiresAllTriggers = Yes
        CommandSet          = GondorMonumentFortressRebuildCommandSet_Gandalf
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetRohan
        TriggeredBy    = Upgrade_RohanFaction
        CommandSet    = RohanMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetKing
        TriggeredBy    = Upgrade_RuhmdesKonigsUpgrade
        CommandSet    = RohanMonumentFortressRebuildCommandSet_RuhmdesKonigs
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetImladris
        TriggeredBy    = Upgrade_ImladrisFaction
        CommandSet    = ImladrisMonumentFortressRebuildCommandSetMod_mapBruchtal
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetElven
        TriggeredBy    = Upgrade_LothlorienFaction
        CommandSet    = LothlorienMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModueTag_CommandSetNachRing
        TriggeredBy   = Upgrade_GaladrielRingannehmen
        CommandSet    = LothlorienMonumentFortressRebuildCommandSet_NachRing
    End
    Behavior = CommandSetUpgrade ModueTag_CommandSetOhneRing
        TriggeredBy   = Upgrade_GaladrielRingablehnen
        CommandSet    = LothlorienMonumentFortressRebuildCommandSet_OhneRing
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetArnor
        TriggeredBy    = Upgrade_ArnorFaction
        CommandSet    = ArnorMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetIsengard
        TriggeredBy    = Upgrade_IsengardFaction
        CommandSet    = IsengardMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetMordor
        TriggeredBy    = Upgrade_MordorFaction
        CommandSet    = MordorMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetWild
        TriggeredBy    = Upgrade_WildFaction
        CommandSet    = WildMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetAngmar
        TriggeredBy    = Upgrade_AngmarFaction
        CommandSet    = AngmarMonumentFortressRebuildCommandSetMod
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSet1
        TriggeredBy       = Upgrade_SubFactionErebor
        CommandSet        = DwarvenMonumentFortressRebuildCommandSet_Erebor
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSet2
        TriggeredBy       = Upgrade_SubFactionIronHills
        CommandSet        = DwarvenMonumentFortressRebuildCommandSet_Eisenberge
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSet3
        TriggeredBy       = Upgrade_SubFactionEredLuin
        CommandSet        = DwarvenMonumentFortressRebuildCommandSet_EredLuin
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSetKrone1
        TriggeredBy         = Upgrade_GreatGoblinCrown
        CommandSet          = WildMonumentFortressRebuildCommandSetMod_King
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSetKrone2
        TriggeredBy         = Upgrade_DurbutzCrown
        CommandSet          = WildMonumentFortressRebuildCommandSetMod_King
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSetKrone3
        TriggeredBy         = Upgrade_GorkilCrown
        CommandSet          = WildMonumentFortressRebuildCommandSetMod_King
    End




    Behavior = CastleUpgrade ModuleTag_PassOutAufmarschUpgrade
        TriggeredBy    = Upgrade_IsengardAufmarschTrigger
        Upgrade        = Upgrade_IsengardAufmarsch
    End

    Behavior = CastleUpgrade ModuleTag_PassOutNumenorUpgrade1
        TriggeredBy    = Upgrade_AngmarGefalleneDunedainTrigger
        Upgrade        = Upgrade_AngmarGefalleneDunedain
    End

    Behavior = CastleUpgrade ModuleTag_PassOutNumenorUpgrade2
        TriggeredBy    = Upgrade_AngmarSchwarzeGardeTrigger
        Upgrade        = Upgrade_AngmarSchwarzeGarde
    End

    Behavior = CastleUpgrade ModuleTag_PassOutNumenorUpgrade3
        TriggeredBy    = Upgrade_AngmarHexerdesZwielichtsTrigger
        Upgrade        = Upgrade_AngmarHexerdesZwielichts
    End

    Behavior = CastleUpgrade ModuleTag_PassOutNumenorUpgrade4
        TriggeredBy    = Upgrade_AngmarDieVerdammtenTrigger
        Upgrade        = Upgrade_AngmarDieVerdammten
    End

    Behavior = CastleUpgrade ModuleTag_PassOutMirkwoodUpgrade
        TriggeredBy    = Upgrade_BundnisWaldelbenTrigger
        Upgrade        = Upgrade_BundnisWaldelben
    End


    Behavior = ProductionUpdate ProductionUpdateModuleTag
    End

    Behavior = QueueProductionExitUpdate QueueProductionModuleTag
        UnitCreatePoint            = X:-10.0 Y:0.00 Z:0.0
        NaturalRallyPoint        = X:85.0 Y:-0.1480 Z:0.0
        ExitDelay            = 50
        AllowAirborneCreation        = Yes
    End

    Behavior = GettingBuiltBehavior GetBuiltBehaviorTag
        SelfBuildingLoop        = BuildingConstructionLoop
        SelfRepairFromDamageLoop    = NoSound
        SelfRepairFromRubbleLoop    = BuildingConstructionLoop
        SpawnTimer            = -1.0
        RebuildTimeSeconds        = 120
    End

    Body = ActiveBody ModuleTag_02
        MaxHealth            = MONUMENT_FORTRESS_HEALTH
        MaxHealthDamaged        = MONUMENT_FORTRESS_HEALTH_DAMAGED
        MaxHealthReallyDamaged        = MONUMENT_FORTRESS_HEALT_REALLY_DAMAGED
    End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
      End


    Behavior = AutoDepositUpdate AutoDepositModuleTag
        DepositTiming               = GENERIC_KEEP_MONEY_TIME
        DepositAmount               = GENERIC_KEEP_MONEY_AMOUNT
        InitialCaptureBonus         = 0
    End

    Behavior = TerrainResourceBehavior ModuleTag_NewMoneyDeadSpot
        Radius                = GENERIC_KEEP_MONEY_RANGE
        MaxIncome            = 0
        IncomeInterval            = 999999
        HighPriority            = Yes
    End
	
    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SummonPortalEnabler
        SpecialPowerTemplate         = SpellSummonUnderworldPortal
        TriggeredBy                  = Upgrade_GlobalFirstAgeSpell
    End

    Behavior = OCLSpecialPower ModuleTag_SummonPortal
        SpecialPowerTemplate         = SpellSummonUnderworldPortal
        OCL                          = OCL_SummonUnderworldPortal
        CreateLocation               = CREATE_AT_LOCATION
        StartsPaused                 = Yes
    End

    Behavior = AISpecialPowerUpdate SummonPortal_AI
        CommandButtonName  = Command_SummonUnderworldPortal
        SpecialPowerAIType = AI_SPELLBOOK_ASSIST_BATTLE_DEBUFF
        SpecialPowerRadius = 1000
        RandomizeTargetLocation = Yes
    End
	

    AttackContactPoint    = X:-28.0    Y:0.0        Z:185.0        Swoop
    AttackContactPoint    = X:37.0    Y:-126.0    Z:175.0        Swoop
    AttackContactPoint    = X:-106.0    Y:136.0        Z:156.0        Swoop
    AttackContactPoint    = X:38.0    Y:109.0        Z:125.0        Swoop

    Geometry        = BOX
    GeometryMajorRadius    = 116.0
    GeometryMinorRadius    = 94.0
    GeometryHeight        = 171.0

    Shadow            = SHADOW_VOLUME
    GeometryOffset        = X:-39 Y:145 Z:0

    AdditionalGeometry        = BOX
    GeometryMajorRadius       = 82.0
    GeometryMinorRadius       = 66.0
    GeometryHeight            = 198.0
    GeometryOffset        = X:-68 Y:-6 Z:0

    AdditionalGeometry        = BOX
    GeometryMajorRadius       = 138.0
    GeometryMinorRadius       = 72.0
    GeometryHeight            = 194.0
    GeometryOffset        = X:17 Y:-119 Z:0

    GeometryIsSmall        = No
End



Object RivGazebo


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivGazebo
        End
    End


    DisplayName         = OBJECT:Prop
    Side                = Civilian
    EditorSorting       = STRUCTURE
    Browser = REGION Rivendell STRUCTURE
    ThreatLevel = 1.0



    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone


    KindOf = IMMOBILE UNATTACKABLE STRUCTURE

    Body = ActiveBody ModuleTag_03
        MaxHealth = 99999.0
    End

    Geometry = BOX
    GeometryMajorRadius = 32.0
    GeometryMinorRadius = 20.0
    GeometryHeight = 75.0
    Shadow = SHADOW_VOLUME
    GeometryIsSmall = No
End




ObjectReskin RivGazebo_S RivGazebo


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivGazebo_S
        End
    End
End


Object RivCBTower


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivCBTower
        End



    ModelConditionState  = DAMAGED
      Model         = RivCBTower
      Texture = RivBuilding1.tga RivBuilding1_D1.tga
        ParticleSysBone FireSmall01 FireBuildingLarge
        ParticleSysBone FireSmall02 FireBuildingMedium
        ParticleSysBone FireSmall03 FireBuildingMedium
        ParticleSysBone FireSmall04 FireBuildingSmall
        ParticleSysBone FireSmall05 SmokeBuildingLarge
    End
    AnimationState = DAMAGED
    EnteringStateFX    = FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RivCBTower
      Texture = RivBuilding1.tga RivBuilding1_D1.tga
        ParticleSysBone FireSmall01 FireBuildingLarge
        ParticleSysBone FireSmall02 FireBuildingLarge
        ParticleSysBone FireSmall03 FireBuildingMedium
        ParticleSysBone FireSmall04 SmokeBuildingLarge
        ParticleSysBone FireSmall05 SmokeBuildingLarge
    End
    AnimationState = REALLYDAMAGED
    EnteringStateFX    = FX_BuildingReallyDamaged
    End

    ModelConditionState  = RUBBLE
      Model         = RivCBTower
      Texture = RivBuilding1.tga RivBuilding1_D1.tga
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = RUBBLE
    EnteringStateFX    = FX_BuildingReallyDamaged
    End

    End


    DisplayName         = OBJECT:ElrondsHouse
    Side                = Civilian
    EditorSorting       = STRUCTURE
    Browser = REGION Rivendell STRUCTURE
    ThreatLevel = 1.0




    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone



    KindOf = IMMOBILE STRUCTURE

    Body = ActiveBody ModuleTag_03
    MaxHealth = 2000.0
    End

    Geometry = BOX
    GeometryMajorRadius = 26.0
    GeometryMinorRadius = 75.0
    GeometryHeight = 75.0
    Shadow = SHADOW_VOLUME
    GeometryIsSmall = Yes
End



Object RivGTower


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivGTower
        End
    End


    DisplayName         = OBJECT:Prop
    Side                = Civilian
    EditorSorting       = STRUCTURE
    Browser = REGION Rivendell STRUCTURE
    ThreatLevel = 1.0




    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone



    KindOf = IMMOBILE UNATTACKABLE IGNORED_IN_GUI

    Body = ActiveBody ModuleTag_03
    MaxHealth = 2000.0
    End

    Geometry = BOX
    GeometryMajorRadius = 26.0
    GeometryMinorRadius = 26.0
    GeometryHeight = 100.0
    Shadow = SHADOW_VOLUME
    GeometryIsSmall = Yes
End



ObjectReskin RivGTower_Snow RivGTower


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivGTower_S
        End
    End
End





Object RivOPWall1


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivOPWall1
        End
    End


    DisplayName         = OBJECT:Prop
    Side                = Civilian
    EditorSorting       = STRUCTURE
    Browser = REGION Rivendell STRUCTURE
    ThreatLevel = 1.0




    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone



    KindOf = IMMOBILE UNATTACKABLE IGNORED_IN_GUI

    Body = ActiveBody ModuleTag_03
    MaxHealth = 9000.0
    End

    Geometry = BOX
    GeometryMajorRadius = 3.0
    GeometryMinorRadius = 80.0
    GeometryHeight = 32.0
    Shadow = SHADOW_VOLUME
    GeometryIsSmall = Yes
End



Object RivOPWall2


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivOPWall2
        End
    End


    DisplayName         = OBJECT:Prop
    Side                = Civilian
    EditorSorting       = STRUCTURE
    Browser = REGION Rivendell STRUCTURE
    ThreatLevel = 1.0



    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone




    KindOf = IMMOBILE UNATTACKABLE IGNORED_IN_GUI

    Body = ActiveBody ModuleTag_03
    MaxHealth = 9000.0
    End

    Geometry = BOX
    GeometryMajorRadius = 3.0
    GeometryMinorRadius = 60.0
    GeometryHeight = 32.0
    Shadow = SHADOW_VOLUME
    GeometryIsSmall = Yes
End



Object RivOPWall3


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivOPWall3
        End
    End


    DisplayName         = OBJECT:Prop
    Side                = Civilian
    EditorSorting       = STRUCTURE
    Browser = REGION Rivendell STRUCTURE
    ThreatLevel = 1.0




    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone



    KindOf = IMMOBILE UNATTACKABLE IGNORED_IN_GUI

    Body = ActiveBody ModuleTag_03
    MaxHealth = 9000.0
    End

    Geometry = BOX
    GeometryMajorRadius = 3.0
    GeometryMinorRadius = 80.0
    GeometryHeight = 32.0
    Shadow = SHADOW_VOLUME
    GeometryIsSmall = Yes
End



ObjectReskin RivOPWall3_Snow RivOPWall3


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivOPWall3_S
        End
    End
End



Object RivOPWall4


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivOPWall4
        End
    End


    DisplayName         = OBJECT:Prop
    Side                = Civilian
    EditorSorting       = STRUCTURE
    Browser = REGION Rivendell STRUCTURE
    ThreatLevel = 1.0




    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone



    KindOf = IMMOBILE UNATTACKABLE IGNORED_IN_GUI

    Body = ActiveBody ModuleTag_03
    MaxHealth = 9000.0
    End

    Geometry = BOX
    GeometryMajorRadius = 3.0
    GeometryMinorRadius = 60.0
    GeometryHeight = 32.0
    Shadow = SHADOW_VOLUME
    GeometryIsSmall = Yes
End



Object RivRHall


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivRHall
        End
    End


    DisplayName         = OBJECT:Prop
    Side                = Civilian
    EditorSorting       = STRUCTURE
    Browser = REGION Rivendell STRUCTURE
    ThreatLevel = 1.0



    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone




    KindOf = IMMOBILE UNATTACKABLE IGNORED_IN_GUI

    Body = ActiveBody ModuleTag_03
    MaxHealth = 9000.0
    End

    Geometry = BOX
    GeometryMajorRadius = 50.0
    GeometryMinorRadius = 110.0
    GeometryHeight = 100.0
    Shadow = SHADOW_VOLUME
    GeometryIsSmall = Yes
End



Object RivRTower

    SelectPortrait  =  BPCRivendallBattleTower


    Draw = W3DScriptedModelDraw ModuleTag_Draw

        ExtraPublicBone = ARROW_01
        ExtraPublicBone = ARROW_02
        ExtraPublicBone = ARROW_03
        ExtraPublicBone = ARROW_04
        ExtraPublicBone = ARROW_05
        ExtraPublicBone = ARROW_06
        ExtraPublicBone = ARROW_07
        ExtraPublicBone = ARROW_08
        ExtraPublicBone = ARROW_09
        ExtraPublicBone = ARROW_10
        ExtraPublicBone = ARROW_11
        ExtraPublicBone = ARROW_12

        DefaultModelConditionState
            Model = RivRTower
            WeaponLaunchBone = PRIMARY ARROW_
        End




        ModelConditionState  = DAMAGED
        Model         = RivRTower_D1
            ParticleSysBone FireSmall01 FireBuildingLarge
            ParticleSysBone FireSmall02 FireBuildingMedium
            ParticleSysBone FireSmall03 FireBuildingMedium
            ParticleSysBone FireSmall04 FireBuildingSmall
            ParticleSysBone FireSmall05 SmokeBuildingLarge
        End
        AnimationState = DAMAGED
            EnteringStateFX    = FX_BuildingDamaged
        End

        ModelConditionState  = REALLYDAMAGED
        Model         = RivRTower_D2
            ParticleSysBone FireSmall01 FireBuildingLarge
            ParticleSysBone FireSmall02 FireBuildingLarge
            ParticleSysBone FireSmall03 FireBuildingMedium
            ParticleSysBone FireSmall04 SmokeBuildingLarge
            ParticleSysBone FireSmall05 SmokeBuildingLarge
        End
        AnimationState = REALLYDAMAGED
              Animation                =    RubbleAnimation
                AnimationName        =    RivRTower_D2.RivRTower_D2
                AnimationMode        =    ONCE
              End
            EnteringStateFX    = FX_BuildingReallyDamaged
        End

        ModelConditionState  = RUBBLE
        Model         = RivRTower_D3
        ParticleSysBone SmokeLarge01 SmokeBuildingLarge
        End

        AnimationState = RUBBLE
              Animation                =    RubbleAnimation
                AnimationName        =    RivRTower_D3.RivRTower_D3
                AnimationMode        =    ONCE
              End
        EnteringStateFX    = FX_BuildingReallyDamaged
        End

        ModelConditionState  = POST_RUBBLE
        Model         = None
            ParticleSysBone NONE SmokeBuildingMediumRubble
        End

        ModelConditionState  = POST_COLLAPSE
        Model         = None
            ParticleSysBone NONE SmokeBuildingMediumRubble
        End

    End


    DisplayName         = OBJECT:RivendellBattleTower
    Side                = Civilian
    EditorSorting       = STRUCTURE
    Browser                = REGION Rivendell STRUCTURE
    ThreatLevel            = 1.0
     CommandSet            = NeutralBattleTowerCommandSet
    VisionRange         = VISION_BASE_DEFENSE
     ShroudClearingRange = SHROUD_CLEAR_BASE_DEFENSE
    BountyValue         = GONDOR_KEEP_BOUNTY_VALUE

    ArmorSet
        Conditions        = None
        Armor             = StructureArmor
    End




    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone



    RadarPriority       = STRUCTURE

    KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION GARRISON CAN_ATTACK GARRISONABLE_UNTIL_DESTROYED MADE_OF_STONE CHUNK_VENDOR ALWAYS_SHOW_HOUSE_COLOR GARRISONABLE_UNTIL_DESTROYED IGNORE_FOR_VICTORY

    Body = StructureBody ModuleTag_03
        MaxHealth                = 2000.0
        MaxHealthDamaged        = 1000.0
        MaxHealthReallyDamaged    = 500.0
    End

    Behavior = HordeGarrisonContain ModuleTag_hordeGarrison
         ObjectStatusOfContained            = UNSELECTABLE CAN_ATTACK ENCLOSED
         ContainMax                      = 1
         DamagePercentToUnits            = 0%
         PassengerFilter                    = ANY +INFANTRY +BANNER -CAVALRY -SUMMONED -WildSpiderling -WildSpiderlingHorde -COMBO_HORDE
         AllowEnemiesInside              = No
         AllowNeutralInside              = Yes
        AllowOwnPlayerInsideOverride    = Yes
         NumberOfExitPaths               = 1
         PassengerBonePrefix             = PassengerBone:ARROW_ KindOf:INFANTRY
         EntryPosition                    = X:0.0 Y:0.0 Z:0.0
        EntryOffset                        = X:0.0 Y:-55.0 Z:0.0
        ExitOffset                        = X:0.0 Y:-55.0 Z:0.0
        EnterSound                        = RuinedTowerEnterSound
        ShowPips                        = No
    End

    Behavior                  = StructureCollapseUpdate ModuleTag_06
        MinCollapseDelay        = 000
        MaxCollapseDelay        = 000
        CollapseDamping         = .5
        MaxShudder              = 0.6
        MinBurstDelay           = 250
        MaxBurstDelay           = 800
        BigBurstFrequency       = 4
        FXList                  = INITIAL   FX_StructureMediumCollapse
        FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse

        CollapseHeight            = 150
    End

    GeometryIsSmall        = No

    Geometry            = BOX
    GeometryMajorRadius = 35.0
    GeometryMinorRadius = 20.0
    GeometryHeight        = 80.0
    GeometryOffset        = X:0 Y:10 Z:0

    AdditionalGeometry    = BOX
    GeometryMajorRadius = 20.0
    GeometryMinorRadius = 35.0
    GeometryHeight        = 80.0
    GeometryOffset        = X:0 Y:10 Z:0

    Shadow = SHADOW_VOLUME
End




ObjectReskin RivRTower_Snow RivRTower


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivRTower_Snow
        End
    End

End



Object RivBridge


    Draw = W3DScriptedModelDraw ModuleTag_Draw

    WallBoundsMesh = P1
    RampMesh1 = P2
    RampMesh2 = P3

        DefaultModelConditionState
            Model = RivBridge
        End
    End


    DisplayName         = OBJECT:Prop
    Side                = Civilian
    EditorSorting       = STRUCTURE
    Browser = REGION Rivendell STRUCTURE
    ThreatLevel = 1.0




    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone



    KindOf = IMMOBILE UNATTACKABLE WALK_ON_TOP_OF_WALL STRUCTURE IGNORED_IN_GUI

    Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
    End

    Geometry            = BOX
    GeometryMajorRadius = 120.0
    GeometryMinorRadius = 235.0
    GeometryHeight        = 100.0
    Shadow                = SHADOW_VOLUME
    GeometryIsSmall        = No
End





Object RivBellTower


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivBTower
        End


        ModelConditionState  = DAMAGED
        Model         = RivBTower_D1
              ParticleSysBone FireSmall01 FireBuildingLarge
            ParticleSysBone FireSmall02 FireBuildingMedium
            ParticleSysBone FireSmall03 FireBuildingMedium
            ParticleSysBone FireSmall04 SmokeBuildingLarge
            ParticleSysBone FireSmall05 FireBuildingMedium
        End
        AnimationState = DAMAGED
        EnteringStateFX    = FX_BuildingDamaged
        End

        ModelConditionState  = REALLYDAMAGED
        Model         = RivBTower_D2
              ParticleSysBone FireSmall01 FireBuildingLarge
            ParticleSysBone FireSmall02 FireBuildingLarge
            ParticleSysBone FireSmall03 FireBuildingMedium
            ParticleSysBone FireSmall04 SmokeBuildingLarge
            ParticleSysBone FireSmall05 FireBuildingMedium
        End
        AnimationState = REALLYDAMAGED
             EnteringStateFX    = FX_BuildingDamaged
            Animation                =    RubbleAnimation
                    AnimationName        =    RivBTower_D2.RivBTower_D2
                    AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
        Model         = RivBTower_D3
        ParticleSysBone SmokeLarge01 SmokeBuildingLarge
        End

        AnimationState = RUBBLE
            Animation                =    RubbleAnimation
                    AnimationName        =    RivBTower_D3.RivBTower_D3
                    AnimationMode        =    ONCE
              End
              EnteringStateFX    = FX_BuildingSinkSound
        End

        ModelConditionState  = POST_RUBBLE
            Model         = None
            ParticleSysBone NONE SmokeBuildingMediumRubble
        End

        ModelConditionState  = POST_COLLAPSE
            Model         = None
            ParticleSysBone NONE SmokeBuildingMediumRubble
        End

    End


    DisplayName         = OBJECT:Prop
    Side                = Civilian
    EditorSorting       = STRUCTURE
    Browser                = REGION Rivendell STRUCTURE
    ThreatLevel            = 1.0
    VisionRange         = VISION_BASE_DEFENSE
     ShroudClearingRange = SHROUD_CLEAR_BASE_DEFENSE

    ArmorSet
        Conditions        = None
        Armor             = StructureArmor
    End

    WeaponSet
        Weapon                = PRIMARY GoodStructureBow
        AutoChooseSources    = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End




    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone



    KindOf    = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE


    Body = StructureBody ModuleTag_03
        MaxHealth                = 9000.0
        MaxHealthDamaged        = 4500.0
        MaxHealthReallyDamaged    = 2250.0
    End

    Behavior                  = StructureCollapseUpdate ModuleTag_StructureCollapseUpdate
        MinCollapseDelay        = 000
        MaxCollapseDelay        = 000
        CollapseDamping         = .5
        MaxShudder              = 0.6
        MinBurstDelay           = 250
        MaxBurstDelay           = 800
        BigBurstFrequency       = 4
        FXList                  = INITIAL   FX_StructureMediumCollapseNoSound
        FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
        DestroyObjectWhenDone    = Yes
        CollapseHeight            = 89
    End

    Behavior = AIUpdateInterface ModuleTag_SoWeCanUseWeapon
        AutoAcquireEnemiesWhenIdle    = Yes
        MoodAttackCheckRate            = 250
    End

    Geometry            = BOX
    GeometryMajorRadius = 26.0
    GeometryMinorRadius = 26.0
    GeometryHeight        = 200.0
    Shadow                = SHADOW_VOLUME
    GeometryIsSmall        = No
End




ObjectReskin RivBellTower_Snow RivBellTower


    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = RivBTower_S
        End
    End
End

