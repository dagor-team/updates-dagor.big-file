
Object HelmsDeepGate

  SelectPortrait = BPCHelmsDeep



  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = RBHDIGateTemp
    End

    IdleAnimationState
        Animation = IDLE
            AnimationName            =    RBHDIGateTemp.RBHDIGateTemp
            AnimationMode            =    ONCE
            AnimationBlendTime        = 0
        End
    End


    ModelConditionState  = DESTROYED_FRONT
      Model         = RBHDIGateTemp
    End
    AnimationState = DESTROYED_FRONT
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = RBHDIGateTemp
    End

    AnimationState = DESTROYED_RIGHT
    End


    ModelConditionState  = DESTROYED_BACK
      Model         = RBHDIGateTemp
    End

    AnimationState = DESTROYED_BACK
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = RBHDIGateTemp
    End

    AnimationState = DESTROYED_LEFT
    End


    ModelConditionState  = DAMAGED
      Model         = RBHDIGateTemp
    End
    AnimationState = DAMAGED
    EnteringStateFX    = FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDIGateTemp
    End
    AnimationState = REALLYDAMAGED
    EnteringStateFX    = FX_BuildingReallyDamaged
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDIGateTemp
    End

    AnimationState = RUBBLE
      BeginScript
      EndScript
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End


End


  DisplayName         = OBJECT:RBHelmsDeepGateDoorBig
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser 	      = REGION Helms_Deep STRUCTURE
  ThreatLevel 	      = 1.0

  BuildCost           = 500
  BuildTime           = 15.0
  VisionRange         = 160.0
  ShroudClearingRange = 160




    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone



  RadarPriority       = NOT_ON_RADAR
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


    Body                        = ActiveBody ModuleTag_05
        MaxHealth               = 1000.0
        MaxHealthDamaged        = 700.0
        MaxHealthReallyDamaged  = 300.0
    End

    ArmorSet
        Conditions        = None
        Armor             = DefaultWallArmor
        DamageFX          = GateDamageFX
    End

    Behavior = ProductionUpdate ModuleTag_06
    End

    Behavior                  = StructureCollapseUpdate ModuleTag_08
        MinCollapseDelay        = 000
        MaxCollapseDelay        = 000
        CollapseDamping         = .5
        MaxShudder              = 0.6
        MinBurstDelay           = 250
        MaxBurstDelay           = 800
        BigBurstFrequency       = 4
        FXList                  = INITIAL   FX_StructureMediumCollapse
        FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
        DestroyObjectWhenDone    = Yes
        CollapseHeight            = 155
    End

    Behavior = FakePathfindPortalBehaviour ModuleTag_FAKEPATHFIND
        AllowEnemies            = No
        AllowNonSkirmishAIUnits    = No
    End

    Behavior = AIGateUpdate ModuleTage_AIGateUpdate
        TriggerWidthX = 450.0
        TriggerWidthY = 225.0
    End
	
    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SummonPortalEnabler
        SpecialPowerTemplate         = SpellSummonUnderworldPortal
        TriggeredBy                  = Upgrade_GlobalFirstAgeSpell
    End

    Behavior = OCLSpecialPower ModuleTag_SummonPortal
        SpecialPowerTemplate         = SpellSummonUnderworldPortal
        OCL                          = OCL_SummonUnderworldPortal
        CreateLocation               = CREATE_AT_LOCATION
        StartsPaused                 = Yes
    End

    Behavior = AISpecialPowerUpdate SummonPortal_AI
        CommandButtonName  = Command_SummonUnderworldPortal
        SpecialPowerAIType = AI_SPELLBOOK_ASSIST_BATTLE_DEBUFF
        SpecialPowerRadius = 1000
        RandomizeTargetLocation = Yes
    End

    AttackContactPoint = X:-24 Y:-24 Z:92

    Geometry              = BOX
    GeometryMajorRadius   = 80.0
    GeometryMinorRadius   = 16.0
    GeometryHeight        = 60
    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME
End


Object HelmsDeepArcade

    SelectPortrait = BPCHelmsDeepArcade

    Draw = W3DScriptedModelDraw ModuleTag_Draw

        ExtraPublicBone = ARROW_01
        ExtraPublicBone = ARROW_02
        ExtraPublicBone = ARROW_03
        ExtraPublicBone = ARROW_04
        ExtraPublicBone = ARROW_05
        ExtraPublicBone = ARROW_06
        ExtraPublicBone = ARROW_07
        ExtraPublicBone = ARROW_08
        ExtraPublicBone = ARROW_09
        ExtraPublicBone = ARROW_10
        ExtraPublicBone = ARROW_11
        ExtraPublicBone = ARROW_12
        ExtraPublicBone = OBJECT05

        OkToChangeModelColor  = Yes
        UseStandardModelNames = Yes
        DefaultModelConditionState
        Model = RBHDArcade
        End



        ModelConditionState  = DAMAGED
        Model         = RBHDArcade_D2
        End
        AnimationState = DAMAGED
                Animation            =    DamagedAnimation
                AnimationName        =     RBHDArcade_D2.RBHDArcade_D2
                AnimationMode        =    ONCE
               End
            EnteringStateFX    = FX_BuildingDamaged
        End

        ModelConditionState  = REALLYDAMAGED
            Model         = RBHDArcade_D3
        End
        AnimationState = REALLYDAMAGED
                   Animation                =    ReallyDamagedAnimation
                AnimationName        =     RBHDArcade_D3.RBHDArcade_D3
                AnimationMode        =    ONCE
               End
            EnteringStateFX    = FX_BuildingReallyDamaged
        End

        ModelConditionState  = RUBBLE
            Model         = RBHDArcade_D4
            ParticleSysBone OBJECT05 FireBuildingLarge
            ParticleSysBone OBJECT05 SmokeBuildingLarge
        End
        AnimationState = RUBBLE
               Animation                =    RubbleAnimation
                AnimationName        =     RBHDArcade_D4.RBHDArcade_D4
                AnimationMode        =    ONCE
               End
            EnteringStateFX = FX_MinWallATransitionReallyDamaged
        End


    End

    PlacementViewAngle  = 0


    DisplayName         = OBJECT:HelmsDeepArcade
    Side                = Obsolete
    EditorSorting       = STRUCTURE
    Browser = REGION Helms_Deep STRUCTURE
    ThreatLevel = 10.0

    BuildCost           = 500
    BuildTime           = 120.0
    VisionRange         = 160.0
    ShroudClearingRange = 160

    ArmorSet
        Conditions        = None
        Armor             = StructureArmor
        DamageFX          = None
    End

    CommandSet            = HelmsDeepArcadeCommandSet




    #include "..\Includes\StandardBuildingEvaEvents.inc"

    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone
    VoiceSelect = MenFortressSelect

    CampnessValue = CAMPNESS_ALWAYS_CAMP



    RadarPriority       = STRUCTURE
    KindOf              = VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER

    Behavior = GettingBuiltBehavior ModuleTag_GBB
        WorkerName    = GondorWorkerNoSelect
        SpawnTimer  = 120
        RebuildWhenDead = Yes
    End

    Body                  = ActiveBody ModuleTag_B_03
        MaxHealth       = 7000.0
        MaxHealthDamaged = 3500
        MaxHealthReallyDamaged = 2000
    End

    Behavior = ProductionUpdate ProductionUpdateModuleTag
        GiveNoXP        = Yes
    End

    Behavior = QueueProductionExitUpdate ModuleTag_QueuePEU
        UnitCreatePoint        = X:0.0 Y:0.0 Z:0.0
        NaturalRallyPoint    = X:0.0 Y:-50.0 Z:0.0
        ExitDelay            = STANDARD_HERO_EXIT_DELAY
    End
	
    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SummonPortalEnabler
        SpecialPowerTemplate         = SpellSummonUnderworldPortal
        TriggeredBy                  = Upgrade_GlobalFirstAgeSpell
    End

    Behavior = OCLSpecialPower ModuleTag_SummonPortal
        SpecialPowerTemplate         = SpellSummonUnderworldPortal
        OCL                          = OCL_SummonUnderworldPortal
        CreateLocation               = CREATE_AT_LOCATION
        StartsPaused                 = Yes
    End

    Behavior = AISpecialPowerUpdate SummonPortal_AI
        CommandButtonName  = Command_SummonUnderworldPortal
        SpecialPowerAIType = AI_SPELLBOOK_ASSIST_BATTLE_DEBUFF
        SpecialPowerRadius = 1000
        RandomizeTargetLocation = Yes
    End


    Behavior = CommandSetUpgrade ModuleTag_CommandSetDwarven
        TriggeredBy    = Upgrade_DwarfFaction
        CommandSet    = DwarvenMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetMen
        TriggeredBy    = Upgrade_MenFaction
        CommandSet    = GondorMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetArnor
        TriggeredBy    = Upgrade_ArnorFaction
        CommandSet    = ArnorMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModueTag_LevelCommandSet_Gandalf
        TriggeredBy         = Upgrade_GandalfWhite Upgrade_BandGefahrten
        RequiresAllTriggers = Yes
        CommandSet          = GondorMonumentFortressRebuildCommandSet_Gandalf
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetRohan
        TriggeredBy    = Upgrade_RohanFaction
        CommandSet    = RohanMonumentFortressRebuildCommandSet_forHelmsKlamm
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetImladris
        TriggeredBy    = Upgrade_ImladrisFaction
        CommandSet    = ImladrisMonumentFortressRebuildCommandSetMod_mapBruchtal
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetLothlorien
        TriggeredBy    = Upgrade_LothlorienFaction
        CommandSet    = LothlorienMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModueTag_CommandSetLothlorienNachRing
        TriggeredBy   = Upgrade_GaladrielRingannehmen
        CommandSet    = LothlorienMonumentFortressRebuildCommandSet_NachRing
    End
    Behavior = CommandSetUpgrade ModueTag_CommandSetLothlorienOhneRing
        TriggeredBy   = Upgrade_GaladrielRingablehnen
        CommandSet    = LothlorienMonumentFortressRebuildCommandSet_OhneRing
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetIsengard
        TriggeredBy    = Upgrade_IsengardFaction
        CommandSet    = IsengardMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetMordor
        TriggeredBy    = Upgrade_MordorFaction
        CommandSet    = MordorMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetWild
        TriggeredBy    = Upgrade_WildFaction
        CommandSet    = WildMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetAngmar
        TriggeredBy    = Upgrade_AngmarFaction
        CommandSet    = AngmarMonumentFortressRebuildCommandSetMod
    End



    Behavior = CommandSetUpgrade ModuleTag_CommandSet1
        TriggeredBy       = Upgrade_SubFactionErebor
        CommandSet        = DwarvenMonumentFortressRebuildCommandSet_Erebor
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSet2
        TriggeredBy       = Upgrade_SubFactionIronHills
        CommandSet        = DwarvenMonumentFortressRebuildCommandSet_Eisenberge
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSet3
        TriggeredBy       = Upgrade_SubFactionEredLuin
        CommandSet        = DwarvenMonumentFortressRebuildCommandSet_EredLuin
    End




    Behavior = CommandSetUpgrade ModuleTag_CommandSetKrone1
        TriggeredBy         = Upgrade_GreatGoblinCrown
        CommandSet          = WildMonumentFortressRebuildCommandSetMod_King
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSetKrone2
        TriggeredBy         = Upgrade_DurbutzCrown
        CommandSet          = WildMonumentFortressRebuildCommandSetMod_King
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSetKrone3
        TriggeredBy         = Upgrade_GorkilCrown
        CommandSet          = WildMonumentFortressRebuildCommandSetMod_King
    End



    Behavior = AutoDepositUpdate AutoDepositModuleTag
        DepositTiming           = GENERIC_KEEP_MONEY_TIME
        DepositAmount           = 100
        InitialCaptureBonus     = 0
    End

    Behavior = CastleUpgrade ModuleTag_PassOutAufmarschUpgrade
        TriggeredBy    = Upgrade_IsengardAufmarschTrigger
        Upgrade        = Upgrade_IsengardAufmarsch
    End

    Behavior = CastleUpgrade ModuleTag_PassOutNumenorUpgrade1
        TriggeredBy    = Upgrade_AngmarGefalleneDunedainTrigger
        Upgrade        = Upgrade_AngmarGefalleneDunedain
    End

    Behavior = CastleUpgrade ModuleTag_PassOutNumenorUpgrade2
        TriggeredBy    = Upgrade_AngmarSchwarzeGardeTrigger
        Upgrade        = Upgrade_AngmarSchwarzeGarde
    End

    Behavior = CastleUpgrade ModuleTag_PassOutNumenorUpgrade3
        TriggeredBy    = Upgrade_AngmarHexerdesZwielichtsTrigger
        Upgrade        = Upgrade_AngmarHexerdesZwielichts
    End

    Behavior = CastleUpgrade ModuleTag_PassOutNumenorUpgrade4
        TriggeredBy    = Upgrade_AngmarDieVerdammtenTrigger
        Upgrade        = Upgrade_AngmarDieVerdammten
    End

    Geometry              = BOX
    GeometryMajorRadius   = 105.0
    GeometryMinorRadius   = 37.5
    GeometryHeight        = 100.0
    GeometryOffset        = X:0 Y:30 Z:0
    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME
End



Object WOR_HelmsDeepArcade

    SelectPortrait = BPCHelmsDeepArcade

    Draw = W3DScriptedModelDraw ModuleTag_Draw

        ExtraPublicBone = ARROW_01
        ExtraPublicBone = ARROW_02
        ExtraPublicBone = ARROW_03
        ExtraPublicBone = ARROW_04
        ExtraPublicBone = ARROW_05
        ExtraPublicBone = ARROW_06
        ExtraPublicBone = ARROW_07
        ExtraPublicBone = ARROW_08
        ExtraPublicBone = ARROW_09
        ExtraPublicBone = ARROW_10
        ExtraPublicBone = ARROW_11
        ExtraPublicBone = ARROW_12
        ExtraPublicBone = OBJECT05

        OkToChangeModelColor  = Yes
        UseStandardModelNames = Yes
        DefaultModelConditionState
        Model = RBHDArcade
        End



        ModelConditionState   = AWAITING_CONSTRUCTION
            Model               = RBHDArcade_A
        End
        AnimationState        = AWAITING_CONSTRUCTION
            Animation
                AnimationName    =RBHDArcade_A.RBHDArcade_A
                AnimationMode    = MANUAL
            End
            Flags                = START_FRAME_FIRST
        End

        ModelConditionState        =    ACTIVELY_BEING_CONSTRUCTED
            Model                =    RBHDArcade_A
        End
        AnimationState        = ACTIVELY_BEING_CONSTRUCTED
            Animation
                AnimationName     = RBHDArcade_A.RBHDArcade_A
                AnimationMode     = MANUAL
            End
            Flags                = START_FRAME_FIRST
            StateName            = BeingConstructed
        End



        ModelConditionState  = DAMAGED
        Model         = RBHDArcade_D2
        End
        AnimationState = DAMAGED
                Animation            =    DamagedAnimation
                AnimationName        =     RBHDArcade_D2.RBHDArcade_D2
                AnimationMode        =    ONCE
               End
            EnteringStateFX    = FX_BuildingDamaged
        End

        ModelConditionState  = REALLYDAMAGED
            Model         = RBHDArcade_D3
        End
        AnimationState = REALLYDAMAGED
                   Animation                =    ReallyDamagedAnimation
                AnimationName        =     RBHDArcade_D3.RBHDArcade_D3
                AnimationMode        =    ONCE
               End
            EnteringStateFX    = FX_BuildingReallyDamaged
        End

        ModelConditionState  = RUBBLE
            Model         = RBHDArcade_D4
            ParticleSysBone OBJECT05 FireBuildingLarge
            ParticleSysBone OBJECT05 SmokeBuildingLarge
        End
        AnimationState = RUBBLE
               Animation                =    RubbleAnimation
                AnimationName        =     RBHDArcade_D4.RBHDArcade_D4
                AnimationMode        =    ONCE
               End
            EnteringStateFX = FX_MinWallATransitionReallyDamaged
        End


    End

    PlacementViewAngle  = 0



    DisplayName        = OBJECT:HelmsDeepArcade
    Side            = WOR
    EditorSorting        = STRUCTURE
    Browser         = REGION Helms_Deep STRUCTURE
    ThreatLevel        = 1.0
    BuildCost        = 5000
    BuildTime        = 120.0
    VisionRange        = 400
    ShroudClearingRange    = 800

    ArmorSet
        Conditions    = None
        Armor        = StructureArmor
        DamageFX    = None
    End

    CommandSet        = HelmsDeepArcadeRebuildCommandSet



    #include "..\Includes\StandardBuildingEvaEvents.inc"

    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone
    VoiceSelect = MenFortressSelect

    CampnessValue = CAMPNESS_ALWAYS_CAMP




    Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SummonPortalEnabler
        SpecialPowerTemplate         = SpellSummonUnderworldPortal
        TriggeredBy                  = Upgrade_GlobalFirstAgeSpell
    End

    Behavior = OCLSpecialPower ModuleTag_SummonPortal
        SpecialPowerTemplate         = SpellSummonUnderworldPortal
        OCL                          = OCL_SummonUnderworldPortal
        CreateLocation               = CREATE_AT_LOCATION
        StartsPaused                 = Yes
    End

    Behavior = AISpecialPowerUpdate SummonPortal_AI
        CommandButtonName  = Command_SummonUnderworldPortal
        SpecialPowerAIType = AI_SPELLBOOK_ASSIST_BATTLE_DEBUFF
        SpecialPowerRadius = 1000
        RandomizeTargetLocation = Yes
    End




    KindOf            = VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER DONT_HIDE_IF_FOGGED
    RadarPriority        = STRUCTURE
    KeepSelectableWhenDead    = Yes



    Behavior = CommandSetUpgrade ModuleTag_CommandSetDwarven
        TriggeredBy    = Upgrade_DwarfFaction
        CommandSet    = DwarvenMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetMen
        TriggeredBy    = Upgrade_MenFaction
        CommandSet    = GondorMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModueTag_LevelCommandSet_Gandalf
        TriggeredBy         = Upgrade_GandalfWhite Upgrade_BandGefahrten
        RequiresAllTriggers = Yes
        CommandSet          = GondorMonumentFortressRebuildCommandSet_Gandalf
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetRohan
        TriggeredBy    = Upgrade_RohanFaction
        CommandSet    = RohanMonumentFortressRebuildCommandSet_forHelmsKlamm
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetImladris
        TriggeredBy    = Upgrade_ImladrisFaction
        CommandSet    = ImladrisMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetElven
        TriggeredBy    = Upgrade_LothlorienFaction
        CommandSet    = LothlorienMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModueTag_CommandSetNachRing
        TriggeredBy   = Upgrade_GaladrielRingannehmen
        CommandSet    = LothlorienMonumentFortressRebuildCommandSet_NachRing
    End
    Behavior = CommandSetUpgrade ModueTag_CommandSetOhneRing
        TriggeredBy   = Upgrade_GaladrielRingablehnen
        CommandSet    = LothlorienMonumentFortressRebuildCommandSet_OhneRing
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetArnor
        TriggeredBy    = Upgrade_ArnorFaction
        CommandSet    = ArnorMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetIsengard
        TriggeredBy    = Upgrade_IsengardFaction
        CommandSet    = IsengardMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetMordor
        TriggeredBy    = Upgrade_MordorFaction
        CommandSet    = MordorMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetWild
        TriggeredBy    = Upgrade_WildFaction
        CommandSet    = WildMonumentFortressRebuildCommandSetMod
    End
    Behavior = CommandSetUpgrade ModuleTag_CommandSetAngmar
        TriggeredBy    = Upgrade_AngmarFaction
        CommandSet    = AngmarMonumentFortressRebuildCommandSetMod
    End


    Behavior = CommandSetUpgrade ModuleTag_CommandSet1
        TriggeredBy       = Upgrade_SubFactionErebor
        CommandSet        = DwarvenMonumentFortressRebuildCommandSet_Erebor
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSet2
        TriggeredBy       = Upgrade_SubFactionIronHills
        CommandSet        = DwarvenMonumentFortressRebuildCommandSet_Eisenberge
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSet3
        TriggeredBy       = Upgrade_SubFactionEredLuin
        CommandSet        = DwarvenMonumentFortressRebuildCommandSet_EredLuin
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSetKrone1
        TriggeredBy         = Upgrade_GreatGoblinCrown
        CommandSet          = WildMonumentFortressRebuildCommandSetMod_King
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSetKrone2
        TriggeredBy         = Upgrade_DurbutzCrown
        CommandSet          = WildMonumentFortressRebuildCommandSetMod_King
    End

    Behavior = CommandSetUpgrade ModuleTag_CommandSetKrone3
        TriggeredBy         = Upgrade_GorkilCrown
        CommandSet          = WildMonumentFortressRebuildCommandSetMod_King
    End


    Behavior = FXListDie ModuleTag_AnnounceWeLostTheRing
        DeathFX               = AnnounceFortressDeathLostRingFX
    End

    Behavior = CreateObjectDie ModuleTag_DropTheRing
        CreationList          = OCL_TheOneRing
        UpgradeRequired       = Upgrade_RingHero Upgrade_FortressRingHero
    End
	
    Behavior = CreateObjectDie ModuleTag_DropTheRing2
        CreationList          = OCL_TheOneRing
        UpgradeRequired       = Upgrade_SauronSilmarilArrive
    End

    Behavior = ModelConditionUpgrade ModuleTag_ForFX
        TriggeredBy           = Upgrade_RingHero Upgrade_FortressRingHero
        RequiresAllTriggers   = Yes
        AddConditionFlags     = ONE_RING
    End
	
    Behavior = ModelConditionUpgrade ModuleTag_ForFX2
        TriggeredBy            	= Upgrade_SauronSilmarilArrive
        RequiresAllTriggers    	= Yes
        AddConditionFlags      	= ONE_RING
    End

    Draw = W3DScriptedModelDraw ModuleTag_RingFX
            DefaultModelConditionState
                  Model = None
            End

        ModelConditionState = ONE_RING UPGRADE_IVORY_TOWER
            Model = exsileffectf
            Shadow                       = SHADOW_ADDITIVE_DECAL_DYNAMIC
            ShadowSizeX                  = 400
            ShadowSizeY                  = 400
            ShadowTexture                = EXGandalfGlow
            ShadowOpacityStart           = 0
            ShadowOpacityFadeInTime      = 1000
            ShadowOpacityPeak            = 255
            ShadowOpacityFadeOutTime     = 1000
            ShadowOpacityEnd             = 0
            ShadowOverrideLODVisibility  = Yes
        End

        ModelConditionState = ONE_RING
            Model = exsileffect
            Shadow                       = SHADOW_ADDITIVE_DECAL_DYNAMIC
            ShadowSizeX                  = 400
            ShadowSizeY                  = 400
            ShadowTexture                = EXGandalfGlow
            ShadowOpacityStart           = 0
            ShadowOpacityFadeInTime      = 1000
            ShadowOpacityPeak            = 255
            ShadowOpacityFadeOutTime     = 1000
            ShadowOpacityEnd             = 0
            ShadowOverrideLODVisibility  = Yes
        End

        IdleAnimationState
            Animation
                AnimationName = EXSILEFFECT.EXSILEFFECT
                AnimationMode = LOOP
                AnimationSpeedFactorRange = 0.35 0.35
            End
        End
    End

    Behavior = CastleUpgrade ModuleTag_PassOutNumenorUpgradeNew1
        TriggeredBy    = Upgrade_AngmarGefalleneDunedainTrigger
        Upgrade        = Upgrade_AngmarGefalleneDunedain
    End

    Behavior = CastleUpgrade ModuleTag_PassOutNumenorUpgradeNew2
        TriggeredBy    = Upgrade_AngmarSchwarzeGardeTrigger
        Upgrade        = Upgrade_AngmarSchwarzeGarde
    End

    Behavior = CastleUpgrade ModuleTag_PassOutNumenorUpgradeNew3
        TriggeredBy    = Upgrade_AngmarHexerdesZwielichtsTrigger
        Upgrade        = Upgrade_AngmarHexerdesZwielichts
    End

    Behavior = CastleUpgrade ModuleTag_PassOutNumenorUpgradeNew4
        TriggeredBy    = Upgrade_AngmarDieVerdammtenTrigger
        Upgrade        = Upgrade_AngmarDieVerdammten
    End

    Behavior = StatusBitsUpgrade ModuleTag_ProductionLegalityArkenStone
        TriggeredBy 	= Upgrade_SmaugArkenStone
    End
	
    Behavior = CastleUpgrade ModuleTag_PassOutAufmarschUpgrade
        TriggeredBy    = Upgrade_IsengardAufmarschTrigger
        Upgrade        = Upgrade_IsengardAufmarsch
    End
	
    Behavior = CastleUpgrade ModuleTag_PassOutMirkwoodUpgrade
        TriggeredBy    = Upgrade_BundnisWaldelbenTrigger
        Upgrade        = Upgrade_BundnisWaldelben
    End


    Behavior = ProductionUpdate ProductionUpdateModuleTag
		ProductionModifier
		RequiredUpgrade = Upgrade_ObjectUnderAIControl
		TimeMultiplier  = TIME_MULTIPLIER_AI_HEROES
		HeroRevive      = Yes
		ModifierFilter  = NONE +HERO
	End
	ProductionModifier
		RequiredUpgrade = Upgrade_BrutalAIMultiPlayer Upgrade_BrutalAISinglePlayer
		CostMultiplier  = COST_MULTIPLIER_AI_HEROES
		HeroPurchase    = Yes
		HeroRevive      = Yes
		ModifierFilter  = NONE +HERO
	End
        GiveNoXP        = Yes
    End

    Behavior = QueueProductionExitUpdate ModuleTag_QueuePEU
        UnitCreatePoint            = X:0.0 Y:0.0 Z:0.0
        NaturalRallyPoint        = X:0.0 Y:-50.0 Z:0.0
        ExitDelay            = STANDARD_HERO_EXIT_DELAY
        AllowAirborneCreation        = Yes
    End


    Behavior = GettingBuiltBehavior GetBuiltBehaviorTag
        SelfBuildingLoop        = BuildingConstructionLoop
        SelfRepairFromDamageLoop    = NoSound
        SelfRepairFromRubbleLoop    = BuildingConstructionLoop
        SpawnTimer            = -1.0
        RebuildTimeSeconds        = 120
    End

    Body = ActiveBody ModuleTag_B_03
        MaxHealth            = MONUMENT_FORTRESS_HEALTH
        MaxHealthDamaged        = MONUMENT_FORTRESS_HEALTH_DAMAGED
        MaxHealthReallyDamaged        = MONUMENT_FORTRESS_HEALT_REALLY_DAMAGED
    End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

    Behavior = AutoDepositUpdate AutoDepositModuleTag
        DepositTiming               = GENERIC_KEEP_MONEY_TIME
        DepositAmount               = GENERIC_KEEP_MONEY_AMOUNT
        InitialCaptureBonus         = 0
    End

    Behavior = TerrainResourceBehavior ModuleTag_NewMoneyDeadSpot
        Radius                = GENERIC_KEEP_MONEY_RANGE
        MaxIncome            = 0
        IncomeInterval            = 999999
        HighPriority            = Yes
    End


    Geometry        = BOX
    GeometryMajorRadius    = 105.0
    GeometryMinorRadius    = 37.5
    GeometryHeight        = 100.0
    GeometryOffset        = X:0 Y:30 Z:0
    GeometryIsSmall        = No
    Shadow            = SHADOW_VOLUME
End




Object HelmsDeepCulvert

SelectPortrait = BPCHelmsDeep

    Draw = W3DScriptedModelDraw ModuleTag_Draw
        OkToChangeModelColor  = Yes
        UseStandardModelNames = Yes
        ExtraPublicBone = SIEGELADDER

        WallBoundsMesh = P1
        RampMesh1 = P2
        RampMesh2 = P3

        DefaultModelConditionState
            Model = RBHDDWCulv
        End


        ModelConditionState  = DAMAGED
        Model         = RBHDDWCulv_D1
        End


        AnimationState = DAMAGED
        EnteringStateFX    = FX_BuildingDamaged
        End

        ModelConditionState  = REALLYDAMAGED
            Model         = RBHDDWCulv_D2
        End
        AnimationState = REALLYDAMAGED
                       Animation        =    ReallyDamagedanimation
                AnimationName        =    RBHDDWCulv_D2.RBHDDWCulv_D2
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.5 0.5
            End
            EnteringStateFX = FX_MinWallATransitionReallyDamaged
        End

        ModelConditionState  = RUBBLE
        Model         = RBHDDWCulv_D3
        End

        AnimationState = RUBBLE
            Animation                =    Death
                AnimationName        =    RBHDDWCulv_D3.RBHDDWCulv_D3
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.5 0.5
            End
            EnteringStateFX = FX_MinWallATransitionRubble
        End

        ModelConditionState  = POST_RUBBLE
            Model         = None
        End

        ModelConditionState  = POST_COLLAPSE
            Model         = None
        End
    End


    Draw = W3DScriptedModelDraw Draw_PosternGate
        ExtraPublicBone = Post01
        ExtraPublicBone = Post02
        ExtraPublicBone = Post03
        ExtraPublicBone = Post04

        DefaultModelConditionState
            Model            = RBHDDWCulvPst
        End

        IdleAnimationState
            BeginScript
                CurDrawableHideModule("Draw_PosternGate")
            EndScript
        End

        AnimationState = RUBBLE
            BeginScript
                CurDrawableHideModule("Draw_PosternGate")
            EndScript
        End

        AnimationState = UPGRADE_POSTERN_GATE
            BeginScript
                CurDrawableShowModule("Draw_PosternGate")
            EndScript
            Animation
                AnimationName = RBHDDWCulvPst.RBHDDWCulvPst
                AnimationMode = ONCE
            End
            EnteringStateFX = FX_BuildingContructDustCulvert
        End
    End

    PlacementViewAngle  = 0


    DisplayName    = OBJECT:HelmsDeepCulvert
    Side            = Obsolete
    EditorSorting    = STRUCTURE
    Browser        = REGION Helms_Deep STRUCTURE
    ThreatLevel    = 1.0

    BuildCost           = 1
    BuildTime           = 5.0
    VisionRange         = 160.0
    ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










    RadarPriority    = NOT_ON_RADAR
    KindOf            = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE SELECTABLE IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED
     CommandSet        = PosternGateCommandSet




    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

    Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
    End

    Behavior = DynamicPortalBehaviour PosternGatePortal
        TriggeredBy                = Upgrade_PosternGate
        ConflictsWith            = Upgrade_OpenGarrison Upgrade_TrebuchetTurret
        CustomAnimAndDuration    = AnimState:UPGRADE_POSTERN_GATE AnimTime:0

        ObjectFilter    = POSTERNGATE_ALLOWABLE_OBJECTFILTER
        BonePrefix        = Post
        NumberOfBones    = 4
        WayPoint        = Index:0    Type:Walk
        WayPoint        = Index:1    Type:Walk
        WayPoint        = Index:2    Type:Walk
        WayPoint        = Index:3    Type:Walk
        WayPoint        = Index:2    Type:Walk
        WayPoint        = Index:1    Type:Walk
        Link            = From:0 Via:4 Via:5 To:3
        Link            = From:3 Via:1 Via:2 To:0
    End

    Behavior = ProductionUpdate ProductionUpdateModuleTag

    End

    Body                  = ActiveBody ModuleTag_B_03
        MaxHealth       = 6000.0
        MaxHealthDamaged = 3000
        MaxHealthReallyDamaged = 1000

        GrabObject = EntThrownBuildingRock
        GrabFX = FX_WallGrab
        GrabDamage = 490
        GrabOffset = X:16 Y:0
    End

    ArmorSet
        Conditions        = None
        Armor             = HelmsDeepWalls
        DamageFX          = None
    End


      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000
      End

    GeometryContactPoint = X:80 Y:0 Z:60 Menu

    Geometry              = BOX
    GeometryMajorRadius   = 222.0
    GeometryMinorRadius   = 46.0
    GeometryHeight        = 62.0
    GeometryOffset          = X:0 Y:12 Z:0
    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME


    GeometryContactPoint = X:180  Y:65  Z:0 Grab
    GeometryContactPoint = X:180  Y:-40 Z:0 Grab
    GeometryContactPoint = X:180  Y:-30 Z:10
    GeometryContactPoint = X:120  Y:-30 Z:60
    GeometryContactPoint = X:60   Y:-30 Z:10
    GeometryContactPoint = X:0    Y:-30 Z:60
    GeometryContactPoint = X:-60   Y:-30 Z:10
    GeometryContactPoint = X:-120  Y:-30 Z:60
    GeometryContactPoint = X:-180  Y:-30 Z:10
    GeometryContactPoint = X:-180 Y:-40 Z:0 Grab
    GeometryContactPoint = X:-180 Y:60  Z:0 Grab
End





Object HelmsDeepSectionAi

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RBHDDWSecA
    End



    ModelConditionState  = DAMAGED
      Model         = RBHDDWSecA_D1
    End


    AnimationState = DAMAGED
      EnteringStateFX = FX_MinWallATransitionDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDDWSecA_D2
    End
    AnimationState = REALLYDAMAGED
               Animation        =    ReallyDamagedanimation
        AnimationName        =    RBHDDWSecA_D2.RBHDDWSecA_D2
        AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.5 0.5
       End
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDDWSecA_D3
    End

    AnimationState = RUBBLE
        Animation                =    Death
            AnimationName        =    RBHDDWSecA_D3.RBHDDWSecA_D3
            AnimationMode        =    ONCE
            AnimationSpeedFactorRange = 0.5 0.5
        End
        EnteringStateFX = FX_MinWallATransitionRubble
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepSectionAi
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED

    Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
    End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End




    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End





      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End







    Geometry              = BOX
    GeometryMajorRadius   = 115.0
    GeometryMinorRadius   = 50.0
    GeometryHeight        = 60.0
    GeometryOffset          = X:0 Y:15.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 60.0
    GeometryOffset          = X:64 Y:20.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 60.0
    GeometryOffset          = X:-64 Y:20.0 Z:0


    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

      GeometryContactPoint = X:-90  Y:70  Z:0 Grab
    GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
    GeometryContactPoint = X:-90  Y:-30 Z:10
    GeometryContactPoint = X:-60  Y:-30 Z:60
    GeometryContactPoint = X:-30   Y:-30 Z:10
    GeometryContactPoint = X:0    Y:-30 Z:60
    GeometryContactPoint = X:30   Y:-30 Z:10
    GeometryContactPoint = X:60  Y:-30 Z:60
    GeometryContactPoint = X:90  Y:-30 Z:10
    GeometryContactPoint = X:90 Y:-40 Z:0 Grab
    GeometryContactPoint = X:90 Y:70  Z:0 Grab
End




Object HelmsDeepSectionB

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RBHDDWSecB
    End



    ModelConditionState  = DAMAGED
      Model         = RBHDDWSecB_D1
    End


    AnimationState = DAMAGED
      EnteringStateFX = FX_MinWallATransitionDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDDWSecB_D2
    End
    AnimationState = REALLYDAMAGED
               Animation        =    ReallyDamagedanimation
        AnimationName        =    RBHDDWSecB_D2.RBHDDWSecB_D2
        AnimationMode        =    ONCE
            AnimationSpeedFactorRange = 0.5 0.5
       End
        EnteringStateFX = FX_MinWallATransitionReallyDamaged
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDDWSecB_D3
    End

    AnimationState = RUBBLE
        Animation                =    Death
            AnimationName        =    RBHDDWSecB_D3.RBHDDWSecB_D3
            AnimationMode        =    ONCE
            AnimationSpeedFactorRange = 0.5 0.5
        End
        EnteringStateFX = FX_MinWallATransitionRubble
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepSectionB
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED

    Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
    End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End




    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End





      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

    Geometry              = BOX
    GeometryMajorRadius   = 115.0
    GeometryMinorRadius   = 60.0
    GeometryHeight        = 70.0
    GeometryOffset        = X:0 Y:18.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 60.0
    GeometryOffset          = X:0 Y:35.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 60.0
    GeometryOffset          = X:75.0 Y:35.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 60.0
    GeometryOffset          = X:-79.0 Y:32.0 Z:0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

    GeometryContactPoint = X:75  Y:80  Z:0 Grab
    GeometryContactPoint = X:85  Y:-50  Z:0 Grab
    GeometryContactPoint = X:85  Y:-35  Z:10
    GeometryContactPoint = X:55  Y:-35  Z:60
    GeometryContactPoint = X:25  Y:-35  Z:10
    GeometryContactPoint = X:0     Y:-20  Z:60
    GeometryContactPoint = X:-25 Y:-20  Z:10
    GeometryContactPoint = X:-55 Y:-20  Z:60
    GeometryContactPoint = X:-75 Y:-20  Z:10
    GeometryContactPoint = X:-75   Y:-25  Z:0 Grab
    GeometryContactPoint = X:-75  Y:80  Z:0 Grab
End




Object HelmsDeepSectionC

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = RBHDDWSecC
    End



    ModelConditionState  = DAMAGED
      Model         = RBHDDWSecC_D1
    End


    AnimationState = DAMAGED
      EnteringStateFX = FX_MinWallATransitionDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDDWSecC_D2
    End
    AnimationState = REALLYDAMAGED
               Animation                =    ReallyDamagedanimation
        AnimationName        =     RBHDDWSecC_D2.RBHDDWSecC_D2
        AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.5 0.5
       End
        EnteringStateFX = FX_MinWallATransitionReallyDamaged
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDDWSecC_D3
    End

    AnimationState = RUBBLE
        Animation                =    Death
            AnimationName        =    RBHDDWSecC_D3.RBHDDWSecC_D3
            AnimationMode        =    ONCE
            AnimationSpeedFactorRange = 0.5 0.5
        End
        EnteringStateFX = FX_MinWallATransitionRubble
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P2
    RampMesh1 = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepSectionC
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End




    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End





      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End







    Geometry              = BOX
    GeometryMajorRadius   = 110.0
    GeometryMinorRadius   = 50.0
    GeometryHeight        = 75.0
    GeometryOffset        = X:26 Y:11.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 70.0
    GeometryOffset          = X:-50.0 Y:15.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 60.0
    GeometryOffset          = X:50.0 Y:15.0 Z:0

    GeometryIsSmall       = No
    GeometryFrontAngle    = 90.0
    Shadow                = SHADOW_VOLUME

    GeometryContactPoint = X:30   Y:67  Z:0 Grab
    GeometryContactPoint = X:90  Y:-47 Z:0 Grab
    GeometryContactPoint = X:90  Y:-38 Z:10
    GeometryContactPoint = X:20   Y:-38 Z:70
    GeometryContactPoint = X:0  Y:-38 Z:10
    GeometryContactPoint = X:-25 Y:-38 Z:70
    GeometryContactPoint = X:-50  Y:-38 Z:10
    GeometryContactPoint = X:-50  Y:-47 Z:0 Grab
    GeometryContactPoint = X:-50  Y:67  Z:0 Grab
End



Object HelmsDeepdwStairsA1

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDDWSt1
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDDWSt1_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDDWSt1_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDDWSt1_D4
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P2
    RampMesh1 = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdwStairsA1
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End




    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End





      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

    Geometry              = BOX
    GeometryMajorRadius   = 85.0
    GeometryMinorRadius   = 50.0
    GeometryHeight        = 50.0
    GeometryOffset        = X:0 Y:0 Z:0
    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME


    GeometryContactPoint = X:-15 Y:55  Z:0 Grab
    GeometryContactPoint = X:-15 Y:45  Z:0
    GeometryContactPoint = X:-15 Y:45  Z:50
    GeometryContactPoint = X:35 Y:-45  Z:50
    GeometryContactPoint = X:85 Y:45  Z:50
    GeometryContactPoint = X:85 Y:45  Z:0
    GeometryContactPoint = X:85  Y:55  Z:0 Grab

End




Object HelmsDeepdwStairsA2

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDDWSt2
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDDWSt2_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDDWSt2_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDDWSt2_D4
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P2
    RampMesh1 = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdwStairsA2
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE  IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End




    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End





      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

    Geometry              = BOX
    GeometryMajorRadius   = 85.0
    GeometryMinorRadius   = 50.0
    GeometryHeight        = 50.0
    GeometryOffset        = X:0 Y:0 Z:0
    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

    GeometryContactPoint = X:-80 Y:55  Z:0 Grab
    GeometryContactPoint = X:-80 Y:45  Z:0
    GeometryContactPoint = X:-80 Y:45  Z:50
    GeometryContactPoint = X:-10 Y:-45  Z:50
    GeometryContactPoint = X:65 Y:45  Z:50
    GeometryContactPoint = X:65 Y:45  Z:0
    GeometryContactPoint = X:65  Y:55  Z:0 Grab
End




Object HelmsDeepCauseway

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDGatCy
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDGatCy_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDGatCy_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDGatCy_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    RampMesh1 = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepCauseway
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = InvulnerableArmor
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

  Geometry              = BOX
  GeometryMajorRadius   = 75.0
  GeometryMinorRadius   = 275.0
  GeometryHeight        = 25.0
  GeometryOffset        = X:17.0 Y:0 Z:0
  GeometryIsSmall       = No

  Shadow                = SHADOW_VOLUME
End




Object HelmsDeepGatehouseLeft

SelectPortrait = BPCHelmsDeep








    Draw = W3DScriptedModelDraw ModuleTag_Draw
        OkToChangeModelColor  = Yes
        UseStandardModelNames = Yes

        DefaultModelConditionState
            Model = RBHDGatHsL
        End

        ModelConditionState  = DAMAGED
            Model         = RBHDGatHsL_D1
        End

        ModelConditionState  = REALLYDAMAGED
            Model         = RBHDGatHsL_D1
        End

        ModelConditionState  = RUBBLE
            Model         = RBHDGatHsL_D1
        End

        ModelConditionState  = POST_RUBBLE
            Model         = None
        End

        ModelConditionState  = POST_COLLAPSE
            Model         = None
        End

        WallBoundsMesh = P1
        RampMesh1 = P2
        RaisedWallMesh = P3
    End


    Draw = W3DScriptedModelDraw Draw_PosternGate
        ExtraPublicBone = Post01
        ExtraPublicBone = Post02
        ExtraPublicBone = Post03
        ExtraPublicBone = Post04

        DefaultModelConditionState
            Model            = RBHDGatHsLPst
        End

        IdleAnimationState
            BeginScript
                CurDrawableHideModule("Draw_PosternGate")
            EndScript
        End

        AnimationState = UPGRADE_POSTERN_GATE
            BeginScript
                CurDrawableShowModule("Draw_PosternGate")
            EndScript
            Animation
                AnimationName = RBHDGatHsLPst.RBHDGatHsLPst
                AnimationMode = ONCE
            End
            EnteringStateFX = FX_BuildingContructDustCulvert
        End
    End

    PlacementViewAngle  = 0


    DisplayName         = OBJECT:HelmsDeepGatehouseLeft
    Side                = Obsolete
    EditorSorting       = STRUCTURE
    Browser = REGION Helms_Deep STRUCTURE
    ThreatLevel = 1.0

    BuildCost           = 1
    BuildTime           = 5.0
    VisionRange         = 160.0
    ShroudClearingRange = 160



    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone




    RadarPriority       = NOT_ON_RADAR
    KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE SELECTABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED
    CommandSet            = PosternGateCommandSetMk2

    Behavior = DynamicPortalBehaviour PosternGatePortal
        TriggeredBy                = Upgrade_PosternGate
        ConflictsWith            = Upgrade_OpenGarrison Upgrade_TrebuchetTurret
        CustomAnimAndDuration    = AnimState:UPGRADE_POSTERN_GATE AnimTime:0

        ObjectFilter    = POSTERNGATE_ALLOWABLE_OBJECTFILTER
        BonePrefix        = Post
        NumberOfBones    = 4
        WayPoint        = Index:0    Type:Walk
        WayPoint        = Index:1    Type:Walk
        WayPoint        = Index:2    Type:Walk
        WayPoint        = Index:3    Type:Walk
        WayPoint        = Index:2    Type:Walk
        WayPoint        = Index:1    Type:Walk
        Link            = From:0 Via:4 Via:5 To:3
        Link            = From:3 Via:1 Via:2 To:0
    End

    Behavior = ProductionUpdate ProductionUpdateModuleTag

    End



  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

    ArmorSet
        Conditions        = None
        Armor             = HelmsDeepWalls
        DamageFX          = None
    End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End






  Geometry              = BOX
  GeometryMajorRadius   = 74.0
  GeometryMinorRadius   = 95.0
  GeometryHeight        = 140.0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 130.0
    GeometryOffset          = X:-45.0 Y:0.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 130.0
    GeometryOffset          = X:45.0 Y:0.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 85.0
    GeometryOffset          = X:-12.0 Y:-25.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 85.0
    GeometryOffset          = X:60.0 Y:40.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 120.0
    GeometryOffset          = X:-20.0 Y:40.0 Z:0

  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

  GeometryContactPoint = X:-20  Y:-75 Z:0 Grab
  GeometryContactPoint = X:0    Y:40  Z:120
  GeometryContactPoint = X:55   Y:-35 Z:0 Grab

  GeometryContactPoint = X:65 Y:60  Z:60 Menu
End




Object HelmsDeepGatehouseRight

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDGatHsR
    End


    ModelConditionState  = DAMAGED
      Model         = RBHDGatHsR_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDGatHsR_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDGatHsR_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P1
    RampMesh1 = P2
    RaisedWallMesh = P3

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepGatehouseRight
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

  Geometry              = BOX
  GeometryMajorRadius   = 74.0
  GeometryMinorRadius   = 95.0
  GeometryHeight        = 140.0


    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 85.0
    GeometryOffset          = X:12.0 Y:-25.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 85.0
    GeometryOffset          = X:-60.0 Y:40.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 120.0
    GeometryOffset          = X:20.0 Y:40.0 Z:0


  GeometryIsSmall       = No
  GeometryFrontAngle    = -90.0
  Shadow                = SHADOW_VOLUME

  GeometryContactPoint = X:20  Y:-75 Z:0 Grab
  GeometryContactPoint = X:0  Y:40 Z:120
  GeometryContactPoint = X:-55  Y:-35 Z:0 Grab

End



Object HelmsDeepGatehouseCenter

SelectPortrait = BPCHelmsDeep







    Draw = W3DScriptedModelDraw ModuleTag_Draw
        OkToChangeModelColor  = Yes
        UseStandardModelNames = Yes







        DefaultModelConditionState
            Model = RBHDGatHs
        End

        ModelConditionState  = DAMAGED
            Model         = RBHDGatHs_D1
        End

        ModelConditionState  = REALLYDAMAGED
            Model         = RBHDGatHs_D1
        End

        ModelConditionState  = RUBBLE
            Model         = RBHDGatHs_D1
        End

        ModelConditionState  = POST_RUBBLE
            Model         = None
        End

        ModelConditionState  = POST_COLLAPSE
            Model         = None
        End



        RaisedWallMesh = P1
    End


  DisplayName         = OBJECT:HelmsDeepGatehouseRight
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE



    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










    RadarPriority       = NOT_ON_RADAR
    KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED




  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

    ArmorSet
        Conditions        = None
        Armor             = HelmsDeepWalls
        DamageFX          = None
    End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

    Geometry              = BOX
    GeometryMajorRadius   = 85.0
    GeometryMinorRadius   = 57.5
    GeometryHeight        = 30.0
    GeometryOffset        = X:0 Y:0 Z:110

    AdditionalGeometry    = BOX
    GeometryMajorRadius   = 20.0
    GeometryMinorRadius   = 60.0
    GeometryHeight        = 125.0
    GeometryOffset        = X:70 Y:0 Z:0

    AdditionalGeometry    = BOX
    GeometryMajorRadius   = 20.0
    GeometryMinorRadius   = 60.0
    GeometryHeight        = 125.0
    GeometryOffset          = X:-70 Y:0 Z:0

    GeometryFrontAngle    = -90.0
    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

    GeometryContactPoint = X:70  Y:-65 Z:0 Grab
    GeometryContactPoint = X:70  Y:-6 Z:0
    GeometryContactPoint = X:70  Y:-60 Z:0
    GeometryContactPoint = X:70  Y:-60  Z:125
    GeometryContactPoint = X:-70  Y:-60  Z:125
    GeometryContactPoint = X:-70 Y:-60 Z:0
    GeometryContactPoint = X:-70 Y:-65 Z:0 Grab
    GeometryContactPoint = X:-70 Y:65 Z:0 Grab
    GeometryContactPoint = X:-70 Y:60 Z:0
    GeometryContactPoint = X:-70 Y:60  Z:125
    GeometryContactPoint = X:70  Y:60  Z:125
    GeometryContactPoint = X:70  Y:60 Z:0
    GeometryContactPoint = X:70  Y:65 Z:0 Grab
End




Object HelmsDeepGate1

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDIGate1
    End

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepGate1
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = PRELOAD STRUCTURE IMMOBILE SCORE IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 5000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End


  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

  Geometry              = BOX
  GeometryMajorRadius   = 50.0
  GeometryMinorRadius   = 35.0
  GeometryHeight        = 60.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End




Object HelmsDeepGate2

 SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDIGate2
    End

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepGate2
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = PRELOAD STRUCTURE IMMOBILE SCORE IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

  Geometry              = BOX
  GeometryMajorRadius   = 50.0
  GeometryMinorRadius   = 35.0
  GeometryHeight        = 60.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End




Object HelmsDeepPavement01

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = HDki_Pavement01
    End

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepPavement01
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = PRELOAD STRUCTURE IMMOBILE SCORE IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End

  Behavior            = DestroyDie ModuleTag_07

  End

  Geometry              = BOX
  GeometryMajorRadius   = 50.0
  GeometryMinorRadius   = 35.0
  GeometryHeight        = 60.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End





Object HelmsDeepPavement02

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDIPave2
    End

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepPavement02
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = PRELOAD STRUCTURE IMMOBILE SCORE IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End

  Behavior            = DestroyDie ModuleTag_07

  End

  Geometry              = BOX
  GeometryMajorRadius   = 50.0
  GeometryMinorRadius   = 35.0
  GeometryHeight        = 60.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End




Object HelmsDeepRampart02

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDIRamp2
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDIRamp2_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDIRamp2_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDIRamp2_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P3
    RampMesh1 = P2
    RampMesh2 = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepRampart02
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End


  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

  Geometry              = BOX
  GeometryMajorRadius   = 42.0
  GeometryMinorRadius   = 65.0
  GeometryHeight        = 150.0
  GeometryIsSmall       = No
  GeometryFrontAngle    = -90.0
  Shadow                = SHADOW_VOLUME






End




Object HelmsDeepRampart03

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDIRamp3
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDIRamp3_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDIRamp3_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDIRamp3_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P2
    RampMesh1 = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepRampart03
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

    Geometry              = BOX
    GeometryMajorRadius   = 50.0
    GeometryMinorRadius   = 60.0
    GeometryHeight        = 170.0
    GeometryOffset        = X:0 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 170.0
    GeometryOffset          = X:0 Y:0 Z:0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME



    GeometryContactPoint = X:40 Y:-55 Z:0 Grab
    GeometryContactPoint = X:40 Y:-50 Z:150
    GeometryContactPoint = X:0 Y:0 Z:160 Grab
End




Object HelmsDeepRampart04

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDIRamp4
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDIRamp4_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDIRamp4_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDIRamp4_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End




  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepRampart04
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End







    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE CHUNK_VENDOR WALK_ON_TOP_OF_WALL NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

  Geometry              = BOX
  GeometryMajorRadius   = 120.0
  GeometryMinorRadius   = 50.0
  GeometryHeight        = 30.0
  GeometryOffset        = X:-33 Y:0 Z:165
  GeometryIsSmall       = No

  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 25.0
  GeometryMinorRadius   = 50.0
  GeometryHeight        = 100.0
  GeometryOffset        = X:60 Y:0 Z:95
  GeometryIsSmall       = No

  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 50.0
  GeometryMinorRadius   = 50.0
  GeometryHeight        = 100.0
  GeometryOffset        = X:-100 Y:0 Z:95
  GeometryIsSmall       = No


  Shadow                = SHADOW_VOLUME
End




Object HelmsDeepRampart05

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDIRamp5
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDIRamp5_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDIRamp5_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDIRamp5_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P2
    RampMesh1 = P1
    RampMesh2 = P3
    RaisedWallMesh = P2_OLD

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepRampart05
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

  Geometry                = BOX
  GeometryMajorRadius   = 120.0
  GeometryMinorRadius   = 70.0
  GeometryHeight        = 30.0
  GeometryOffset        = X:0 Y:0 Z:160

  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 120.0
  GeometryMinorRadius   = 70.0
  GeometryHeight        = 108.0


  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 120.0
  GeometryMinorRadius   = 70.0
  GeometryHeight        = 30.0
  GeometryOffset        = X:0 Y:0 Z:160

  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 70.0
  GeometryHeight        = 190.0
  GeometryOffset        = X:-80 Y:0 Z:0

  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 70.0
  GeometryHeight        = 190.0
  GeometryOffset        = X:80 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 190.0
    GeometryOffset          = X:90 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 190.0
    GeometryOffset          = X:0 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 190.0
    GeometryOffset          = X:-90 Y:0 Z:0

  GeometryFrontAngle    = -110.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

  GeometryContactPoint = X:-105  Y:-55 Z:0 Grab
  GeometryContactPoint = X:-40  Y:-20 Z:185
  GeometryContactPoint = X:0  Y:-20 Z:110 Grab
  GeometryContactPoint = X:40  Y:-20 Z:185
  GeometryContactPoint = X:105  Y:-55 Z:0 Grab

End





Object HelmsDeepRampart05a

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDIRamp5a
    End


    RampMesh1 = P01

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepRampart05a
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160





  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL NOT_AUTOACQUIRABLE NO_COLLIDE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000
  End


  Geometry              = BOX
  GeometryMajorRadius   = 10.0
  GeometryMinorRadius   = 10.0
  GeometryHeight        = 10.0
  GeometryIsSmall       = No
  Shadow                = NONE
End




Object HelmsDeepRampartInvisible

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDIRampInv
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDIRampInv
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDIRampInv
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDIRampInv
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    RampMesh1 = P01

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepRampart05Invisible
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000





  End







      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End







End





Object HelmsDeepkiSectionA3

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    WallBoundsMesh = P1
    RampMesh1 = P2 this is not in any way suitable for a ramp at this time.

    DefaultModelConditionState
      Model = RBHDISecA3
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDISecA3_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDISecA3_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDISecA3_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End


  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdiSectionA3
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

    Geometry              = BOX
    GeometryMajorRadius   = 141.0
    GeometryMinorRadius   = 54.0
    GeometryHeight        = 150.0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 150.0
    GeometryOffset          = X:90 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 150.0
    GeometryOffset          = X:0 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 150.0
    GeometryOffset          = X:-90 Y:0 Z:0

    GeometryIsSmall       = No
    GeometryFrontAngle    = -130.0
    Shadow                = SHADOW_VOLUME

    GeometryContactPoint = X:-105  Y:-45 Z:0   Grab
    GeometryContactPoint = X:0     Y:-15 Z:148 Grab
    GeometryContactPoint = X:105   Y:-45 Z:0   Grab
End




Object HelmsDeepkiSectionA5

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDISecA5
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDISecA5_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDISecA5_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDISecA5_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P1


  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdiSectionA5
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

     Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

  Geometry              = BOX
  GeometryMajorRadius   = 80.0
  GeometryMinorRadius   = 55.0
  GeometryHeight        = 150.0
   GeometryOffset        = X:65 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 150.0
    GeometryOffset          = X:100 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 150.0
    GeometryOffset          = X:30 Y:0 Z:0

  GeometryIsSmall       = No
  GeometryFrontAngle    = -90.0
  Shadow                = SHADOW_VOLUME
  End



Object HelmsDeepdiSectionA6

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDISecA6
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDISecA6_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDISecA6_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDISecA6_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P1


  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdiSectionA6
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160













  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

  Geometry              = BOX
  GeometryMajorRadius   = 80.0
  GeometryMinorRadius   = 55.0
  GeometryHeight        = 150.0
   GeometryOffset        = X:-68 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 150.0
    GeometryOffset          = X:-100 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 150.0
    GeometryOffset          = X:-30 Y:0 Z:0

  GeometryIsSmall       = No
  GeometryFrontAngle    = -90.0
  Shadow                = SHADOW_VOLUME
 End



Object HelmsDeepdiSectionA7

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDISecA7
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDISecA7_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDISecA7_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDISecA7_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P1


  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdiSectionA7
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160












  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

  Geometry              = BOX
  GeometryMajorRadius   = 80.0
  GeometryMinorRadius   = 55.0
  GeometryHeight        = 150.0
   GeometryOffset        = X:68 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 150.0
    GeometryOffset          = X:100 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 150.0
    GeometryOffset          = X:30 Y:0 Z:0


  GeometryIsSmall       = No
  GeometryFrontAngle    = -90.0
 Shadow                = SHADOW_VOLUME
 End




Object HelmsDeepdiSectionA8

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDISecA8
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDISecA8_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDISecA8_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDISecA8_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P1


  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdiSectionA8
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160













  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

  Geometry              = BOX
  GeometryMajorRadius   = 80.0
  GeometryMinorRadius   = 55.0
  GeometryHeight        = 150.0
  GeometryOffset        = X:-68 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 150.0
    GeometryOffset          = X:-100 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 150.0
    GeometryOffset          = X:-30 Y:0 Z:0

  GeometryIsSmall       = No
  GeometryFrontAngle    = -90.0
  Shadow                = SHADOW_VOLUME
  End





Object HelmsDeepkiSectionA4

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDISecA4
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDISecA4_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDISecA4_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDISecA4_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdiSectionA4
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160













    RadarPriority       = NOT_ON_RADAR
    KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


    Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
        GrabFX = FX_WallGrab
        GrabDamage = 490
        GrabOffset = X:16 Y:0
    End

    ArmorSet
        Conditions        = None
        Armor             = HelmsDeepWalls
        DamageFX          = None
    End

    Behavior            = DestroyDie ModuleTag_07

    End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = WallBonus
        RefreshDelay    = 2000


    End

    Geometry              = BOX
    GeometryMajorRadius   = 136.0
    GeometryMinorRadius   = 57.0
    GeometryHeight        = 150.0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 150.0
    GeometryOffset          = X:90 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 150.0
    GeometryOffset          = X:0 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 150.0
    GeometryOffset          = X:-90 Y:0 Z:0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

    GeometryContactPoint = X:-105 Y:-45 Z:0 Grab
    GeometryContactPoint = X:0    Y:0   Z:145 Grab
    GeometryContactPoint = X:105  Y:-45 Z:0 Grab
End




Object HelmsDeepkiSectionB

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDISecB
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDISecB_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDISecB_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDISecB_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdiSectionB
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160













  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

    Geometry              = BOX
    GeometryMajorRadius   = 80.0
    GeometryMinorRadius   = 60.0
    GeometryHeight        = 150.0
    GeometryOffset        = X:20 Y:-14 Z:0
    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

    GeometryContactPoint = X:-60 Y:-58 Z:0 Grab
    GeometryContactPoint = X:15   Y:-5   Z:145 Grab
    GeometryContactPoint = X:90  Y:-58 Z:0 Grab
End






Object HelmsDeepdiStair1

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDIStair1
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDIStair1_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDIStair1_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDIStair1_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P3
    RampMesh2 = P2
    RampMesh1 = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdiStair1
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160













  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = InvulnerableArmor
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = WallBonus
        RefreshDelay    = 2000


    End

    Geometry              = BOX
    GeometryMajorRadius   = 114.0
    GeometryMinorRadius   = 117.0
    GeometryHeight        = 115.0
    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

   AdditionalGeometry = Cylinder
   GeometryMajorRadius = 75
   GeometryMinorRadius = 75
   GeometryHeight      = 82
   GeometryOffset      = X:-22.024 Y:-127.849 Z:0

   AdditionalGeometry = Cylinder
   GeometryMajorRadius = 75
   GeometryMinorRadius = 75
   GeometryHeight      = 57
   GeometryOffset      = X:22.284 Y:-245 Z:0

   AdditionalGeometry = Cylinder
   GeometryMajorRadius = 70
   GeometryMinorRadius = 70
   GeometryHeight      = 36.5
   GeometryOffset      = X:84.753 Y:-330 Z:0

   AdditionalGeometry = Cylinder
   GeometryMajorRadius = 70
   GeometryMinorRadius = 70
   GeometryHeight      = 18.3
   GeometryOffset      = X:154.86 Y:-391 Z:0


   GeometryContactPoint = X:-105   Y:80  Z:0 Grab
   GeometryContactPoint = X:-90   Y:0  Z:95
   GeometryContactPoint = X:-90   Y:-80 Z:0 Grab
   GeometryContactPoint = X:-70   Y:-120 Z:75
   GeometryContactPoint = X:-65  Y:-180  Z:0 Grab
   GeometryContactPoint = X:-50   Y:-230  Z:45
   GeometryContactPoint = X:-40   Y:-280  Z:0 Grab
End





Object HelmsDeepdiStair2

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDIStair2
    End

    WallBoundsMesh = P2
    RampMesh1 = P3
    RampMesh2 = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdiStair1
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = WallBonus
        RefreshDelay    = 2000


    End

  Geometry              = BOX
  GeometryMajorRadius   = 142.0
  GeometryMinorRadius   = 161.0
  GeometryHeight        = 80.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End




Object HelmsDeepdiStep1

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDIStep1
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDIStep1_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDIStep1_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDIStep1_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    RampMesh1 = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdiStep1
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = InvulnerableArmor
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = WallBonus
        RefreshDelay    = 2000


    End

  Geometry              = BOX
  GeometryMajorRadius   = 90.0
  GeometryMinorRadius   = 20.0
  GeometryHeight        = 22.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End




Object HelmsDeepdiStep2

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDIStep2
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDIStep2_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDIStep2_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDIStep2_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    RampMesh1 = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdiStep2
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = InvulnerableArmor
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = WallBonus
        RefreshDelay    = 2000


    End

  Geometry              = BOX
  GeometryMajorRadius   = 50.0
  GeometryMinorRadius   = 50.0
  GeometryHeight        = 20.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End



Object HelmsDeepdiWall1

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDIWall1
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDIWall1_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDIWall1_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDIWall1_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdiWall
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = PRELOAD STRUCTURE IMMOBILE SCORE NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000
  End

  ArmorSet
    Conditions        = None
    Armor             = InvulnerableArmor
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

  Geometry              = BOX
  GeometryMajorRadius   = 9
  GeometryMinorRadius   = 30
  GeometryHeight        = 39
  GeometryOffset        = X:-50 Y:36 Z:0

  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 10
  GeometryMinorRadius   = 28
  GeometryHeight        = 39
  GeometryOffset        = X:-31 Y:-5 Z:0

  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 17
  GeometryMinorRadius   = 21
  GeometryHeight        = 39
  GeometryOffset        = X:-4 Y:-46 Z:0

  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End




Object HelmsDeepdiWall2

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDIWall2
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDIWall2_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDIWall2_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDIWall2_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdiWall
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = PRELOAD STRUCTURE IMMOBILE SCORE NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000
  End

  ArmorSet
    Conditions        = None
    Armor             = InvulnerableArmor
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

  Geometry              = BOX
  GeometryMajorRadius   = 17.0
  GeometryMinorRadius   = 27.5
  GeometryHeight        = 40.0
  GeometryOffset        = X:88 Y:-14 Z:0

  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 50
  GeometryMinorRadius   = 5.4
  GeometryHeight        = 41
  GeometryOffset        = X:55 Y:5.5 Z:0

  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 8.0
  GeometryMinorRadius   = 22.0
  GeometryHeight        = 40.0
  GeometryOffset        = X:14 Y:21 Z:0

  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End



Object HelmsDeepdoBridge1

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDOBrid1
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDOBrid1_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDOBrid1_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDOBrid1_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P1
    RampMesh1 = P2


  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdoBridge1
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = InvulnerableArmor
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

    Geometry              = BOX
    GeometryMajorRadius   = 50.0
    GeometryMinorRadius   = 150.0
    GeometryHeight        = 90.0
    GeometryOffset        = X:0 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:0 Y:90 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 60.0
    GeometryOffset          = X:0 Y:0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 45.0
    GeometryOffset          = X:0 Y:-90 Z:0

    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME


    GeometryContactPoint = X:-55 Y:-140  Z:0 Grab
    GeometryContactPoint = X:-50 Y:-140  Z:0
    GeometryContactPoint = X:-50 Y:0     Z:65
    GeometryContactPoint = X:-50 Y:140   Z:0
    GeometryContactPoint = X:-55 Y:140   Z:0 Grab
    GeometryContactPoint = X:-50 Y:140   Z:65
    GeometryContactPoint = X:50  Y:140   Z:65
    GeometryContactPoint = X:55  Y:140   Z:0 Grab
    GeometryContactPoint = X:50  Y:140   Z:0
    GeometryContactPoint = X:50  Y:0      Z:65
    GeometryContactPoint = X:50  Y:-140   Z:0
    GeometryContactPoint = X:55  Y:-140   Z:0 Grab

End




Object HelmsDeepdoSectionA2

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDOSecA2
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDOSecA2_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDOSecA2_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDOSecA2_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdoSectionA2
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

    Geometry              = BOX
    GeometryMajorRadius   = 130.0
    GeometryMinorRadius   = 55.0
    GeometryHeight        = 90.0
    GeometryOffset        = X:0 Y:14 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:-80.0 Y:15.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:0.0 Y:15.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:80.0 Y:15.0 Z:0

    GeometryIsSmall       = No
    GeometryFrontAngle    = -90.0
    Shadow                = SHADOW_VOLUME

    GeometryContactPoint = X:-110  Y:-47 Z:0 Grab
    GeometryContactPoint = X:0  Y:0 Z:85 Grab
    GeometryContactPoint = X:110  Y:-47 Z:0 Grab
End




Object HelmsDeepdoSectionA5

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDOSecA5
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDOSecA5_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDOSecA5_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDOSecA5_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdoSectionA5
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

       Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = WallBonus
        RefreshDelay    = 2000


    End

 Geometry              = BOX
  GeometryMajorRadius   = 57.0
  GeometryMinorRadius   = 125.0
  GeometryHeight        = 90.0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:10.0 Y:-80.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:10.0 Y:0.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:10.0 Y:80.0 Z:0

  GeometryIsSmall       = No
  GeometryFrontAngle    = 180.0
  Shadow                = SHADOW_VOLUME

  GeometryContactPoint = X:-45 Y:-100 Z:0 Grab
  GeometryContactPoint = X:0  Y:0 Z:75 Grab
  GeometryContactPoint = X:-45  Y:100 Z:0 Grab
End



Object HelmsDeepdoSectionB1

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDOSecB1
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDOSecB1_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDOSecB1_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDOSecB1_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdoSectionB1
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

  Geometry              = BOX
  GeometryMajorRadius   = 130.0
  GeometryMinorRadius   = 85.0
  GeometryHeight        = 90.0
  GeometryOffset        = X:0 Y:-10 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:-80.0 Y:15.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:0.0 Y:15.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:80.0 Y:15.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:40.0 Y:-60.0 Z:0

  GeometryIsSmall       = No
  GeometryFrontAngle    = -90.0
  Shadow                = SHADOW_VOLUME

  GeometryContactPoint = X:-100  Y:-20 Z:0 Grab
  GeometryContactPoint = X:-20  Y:0 Z:75 Grab
  GeometryContactPoint = X:30  Y:-93 Z:0 Grab
  GeometryContactPoint = X:120  Y:-30 Z:0 Grab
End




Object HelmsDeepdoSectionD

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDOSecD
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDOSecD_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDOSecD_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDOSecD_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P2
    RampMesh1 = P1

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdoSectionD
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

  Geometry              = BOX
  GeometryMajorRadius   = 92.0
  GeometryMinorRadius   = 107.0
  GeometryHeight        = 90.0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:65.0 Y:-130.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:65.0 Y:-50.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:65.0 Y:35.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:65.0 Y:120.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 80.0
    GeometryOffset          = X:-15.0 Y:60.0 Z:0

  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME


  GeometryContactPoint = X:-75 Y:30   Z:0 Grab
  GeometryContactPoint = X:-65 Y:30   Z:70
  GeometryContactPoint = X:15  Y:30   Z:70
  GeometryContactPoint = X:21  Y:-120 Z:0 Grab


End




Object HelmsDeepdoStairsA1

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDOStA1
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDOStA1_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDOStA1_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDOStA1_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P2
    RampMesh1 = P1
    RampMesh2 = P3

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdoStairsA1
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

    Geometry              = BOX
    GeometryMajorRadius   = 70.0
    GeometryMinorRadius   = 50.0
    GeometryHeight        = 25.0
    GeometryOffset        = X:-10 Y:0 Z:0
    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

    GeometryContactPoint = X:-10 Y:55  Z:0 Grab
    GeometryContactPoint = X:-10 Y:48  Z:0
    GeometryContactPoint = X:-10 Y:48  Z:25
    GeometryContactPoint = X:25 Y:-48  Z:25
    GeometryContactPoint = X:65 Y:48  Z:25
    GeometryContactPoint = X:65 Y:58  Z:0
    GeometryContactPoint = X:65  Y:55  Z:0 Grab
End




Object HelmsDeepdoStairsA4

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDOStA4
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDOStA4_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDOStA4_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDOStA4_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

    WallBoundsMesh = P2
    RampMesh1 = P1
    RampMesh2 = P3

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdoStairsA4
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = WallBonus
        RefreshDelay    = 2000


    End

    Geometry              = BOX
    GeometryMajorRadius   = 80.0
    GeometryMinorRadius   = 50.0
    GeometryHeight        = 45.0
    GeometryOffset        = X:0 Y:0 Z:0
    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

    GeometryContactPoint = X:-15 Y:55  Z:0 Grab
    GeometryContactPoint = X:-15 Y:48  Z:0
    GeometryContactPoint = X:-15 Y:48  Z:43
    GeometryContactPoint = X:30 Y:-48  Z:43
    GeometryContactPoint = X:80 Y:48  Z:43
    GeometryContactPoint = X:80 Y:48  Z:0
    GeometryContactPoint = X:80  Y:55  Z:0 Grab
End



Object HelmsDeepdoStairsA5

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDOStA5
    End

    WallBoundsMesh = P2
    RampMesh1 = P1
    RampMesh2 = P3

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepdoStairsA5
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160
















  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 6000.0
    MaxHealthDamaged = 3000
    MaxHealthReallyDamaged = 1000

    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes
        BonusName        = HelmsDeepWallBonus
        RefreshDelay    = 2000


    End

    Geometry              = BOX
    GeometryMajorRadius   = 80.0
    GeometryMinorRadius   = 50.0
    GeometryHeight        = 45.0
    GeometryOffset        = X:0 Y:0 Z:0
    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME

    GeometryContactPoint = X:-15 Y:50  Z:0 Grab
    GeometryContactPoint = X:-15 Y:43  Z:0
    GeometryContactPoint = X:-15 Y:43  Z:48
    GeometryContactPoint = X:30 Y:-43  Z:48
    GeometryContactPoint = X:75 Y:43  Z:48
    GeometryContactPoint = X:75 Y:43  Z:0
    GeometryContactPoint = X:75  Y:50  Z:0 Grab
End



Object HelmsDeepTower

SelectPortrait = BPCHelmsDeep






  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBHDTower
    End

    ModelConditionState  = DAMAGED
      Model         = RBHDTower_D1
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBHDTower_D1
    End

    ModelConditionState  = RUBBLE
      Model         = RBHDTower_D1
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End

  End

  PlacementViewAngle  = 0


  DisplayName         = OBJECT:HelmsDeepTower
  Side                = Obsolete
  EditorSorting       = STRUCTURE
  Browser = REGION Helms_Deep STRUCTURE
  ThreatLevel = 1.0

  BuildCost           = 1
  BuildTime           = 5.0
  VisionRange         = 160.0
  ShroudClearingRange = 160








    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone










  RadarPriority       = NOT_ON_RADAR
  KindOf              = PRELOAD STRUCTURE IMMOBILE SCORE NOT_AUTOACQUIRABLE IGNORED_IN_GUI IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED


  Body                  = ImmortalBody ModuleTag_B_03
    MaxHealth       = 10000.0
    MaxHealthDamaged = 5000
    MaxHealthReallyDamaged = 2500
  End

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepWalls
    DamageFX          = None
  End

  Behavior            = DestroyDie ModuleTag_07

  End

  Geometry              = CYLINDER
  GeometryMajorRadius   = 68.0
  GeometryMinorRadius   = 68.0
  GeometryHeight        = 420.0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 420.0
    GeometryOffset          = X:40.0 Y:-40.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 420.0
    GeometryOffset          = X:40.0 Y:40.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 420.0
    GeometryOffset          = X:-40.0 Y:40.0 Z:0

    AdditionalGeometry    = CYLINDER
    GeometryMajorRadius   = 40.0
    GeometryMinorRadius   = 40.0
    GeometryHeight        = 420.0
    GeometryOffset          = X:-40.0 Y:-40.0 Z:0


  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End




Object RBHelmsDeepGateDoorBig

SelectPortrait = BPCHelmsDeep



  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = RBHDGatDr
    End

    ModelConditionState = ACTIVELY_BEING_CONSTRUCTED
        Model    = None
    End

    ModelConditionState  = RUBBLE DOOR_1_OPENING
      Model         = RBHDGatDr_D4
    End
    AnimationState = RUBBLE DOOR_1_OPENING
        Animation = Open
            AnimationName    =    RBHDGatDr_D4.RBHDGatDr_D4
            AnimationMode    =    ONCE
        End
    End

      ModelConditionState  = RUBBLE
      Model         = RBHDGatDr_D3
    End
     AnimationState = RUBBLE
        Animation = Open
            AnimationName    =    RBHDGatDr_D3.RBHDGatDr_D3
            AnimationMode    =    ONCE
        End
    End

    AnimationState = DOOR_1_OPENING
        StateName = STATE_Open
        Animation = Open
            AnimationName    =    RBHDGatDr.RBHDGatDr
            AnimationMode    =    ONCE
            AnimationBlendTime = 0
        End
        Flags = START_FRAME_LAST
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Closed" then CurDrawableSetTransitionAnimState("TRANS_Closed_To_Open") end
        EndScript
    End
    TransitionState = TRANS_Closed_To_Open
        Animation = Open
            AnimationName    =    RBHDGatDr.RBHDGatDr
            AnimationMode    =    ONCE
        End
    End

    AnimationState = DOOR_1_CLOSING
        StateName = STATE_Closed
        Animation = Close
            AnimationName    =    RBHDGatDr.RBHDGatDr
            AnimationMode    =    ONCE_BACKWARDS
            AnimationBlendTime = 0
        End
        Flags = START_FRAME_FIRST
        BeginScript

            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Open" then CurDrawableSetTransitionAnimState("TRANS_Open_To_Closed") end
        EndScript
    End
    TransitionState = TRANS_Open_To_Closed
        Animation = Open
            AnimationName    =    RBHDGatDr.RBHDGatDr
            AnimationMode    =    ONCE_BACKWARDS
        End
        Flags = START_FRAME_LAST
    End

  End




    VoiceSelect        = GateSelect

    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone



  DisplayName        = OBJECT:RBHelmsDeepGateDoorBig
  Side                = Obsolete
  EditorSorting        = STRUCTURE
  ThreatLevel        = 1.0
  BuildCost            = MONUMENT_FORTRESS_GATE_BUILDCOST

  VisionRange         = 1600.0

  ArmorSet
    Conditions        = None
    Armor             = DefaultWallArmor
    DamageFX          = GateDamageFX
  End

    CommandSet = CastleGateCommandSet_NoSell



    KindOf                = STRUCTURE IMMOBILE SELECTABLE BLOCKING_GATE WALL_GATE IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP
    RadarPriority = NOT_ON_RADAR
    KeepSelectableWhenDead    = Yes

    Body                  = ActiveBody ModuleTag_02
        MaxHealth       = 5000.0
    End

    Behavior = AIUpdateInterface ModuleTag_AIForSequentialScriptsToWork
    End

    Behavior = DoCommandUpgrade Module_DoCommandCloseGate
        TriggeredBy     			    = Upgrade_AllFactionUpgrade
        GetUpgradeCommandButtonName = Command_ToggleGate
    End

    Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
        SelfBuildingLoop            = BuildingConstructionLoop
        SelfRepairFromDamageLoop    = NoSound
        SelfRepairFromRubbleLoop    = BuildingConstructionLoop
        SpawnTimer                    = -1.0
        RebuildTimeSeconds            = 40
    End

  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: MinisTirithGateDie Animation:GBMgatedoorSKL.GBMgatedoorA3 Frames: 1
    End

    Behavior = TransitionDamageFX ModleTag_hideBustedDoors
        PristineShowSubObject        HDG_GATER HDG_GATEL
        PristineHideSubObject        HDG_GATER_D1 HDG_GATER_D2 HDG_GATEL_D1 HDG_GATEL_D2
        DamagedShowSubObject        HDG_GATER_D1 HDG_GATEL_D1
        DamagedHideSubObject        HDG_GATER_D2 HDG_GATEL_D2 HDG_GATER HDG_GATEL
        ReallyDamagedShowSubObject    HDG_GATER_D2 HDG_GATEL_D2
        ReallyDamagedHideSubObject  HDG_GATER_D1  HDG_GATEL_D1 HDG_GATER HDG_GATEL
        DamagedFXList1 = Loc: X:0 Y:0 Z:0            FXList:FX_BasicSevereScreenShake
         ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0        FXList:FX_BasicSevereScreenShake
         RubbleFXList1 = Loc: X:0 Y:0 Z:0            FXList:FX_HelmsDeepGateRubble
    End

    Behavior = GateOpenAndCloseBehavior ModuleTag_GATE
        ResetTimeInMilliseconds = 12200
        OpenByDefault = Yes
        PercentOpenForPathing = 50
        SoundOpeningGateLoop = GateOpenStart
        SoundClosingGateLoop = GateCloseStart
        SoundFinishedOpeningGate = GateOpenEnd
        SoundFinishedClosingGate = GateCloseEnd
        TimeBeforePlayingOpenSound = 6000
        TimeBeforePlayingClosedSound = 6000
    End

    Behavior = FakePathfindPortalBehaviour ModuleTag_FAKEPATHFIND
        AllowEnemies            = No
        AllowNonSkirmishAIUnits    = No
    End

    Behavior = AIGateUpdate ModuleTage_AIGateUpdate
        TriggerWidthX = 450.0
        TriggerWidthY = 225.0
    End

    Geometry              = BOX
    GeometryMajorRadius   = 1.0
    GeometryMinorRadius   = 62.0
    GeometryHeight        = 64.0
    GeometryName          = Closed
    GeometryOffset          = X:-5.0 Y:0.0 Z: 0.0
    GeometryIsSmall       = No

    AdditionalGeometry    = BOX
    GeometryMajorRadius   = 17.0
    GeometryMinorRadius   = 10.0
    GeometryHeight        = 60.0
    GeometryOffset          = X:10 Y:45 Z:0
    GeometryName          = OpenLeft

    AdditionalGeometry    = BOX
    GeometryMajorRadius   = 17.0
    GeometryMinorRadius   = 10.0
    GeometryHeight        = 60.0
    GeometryOffset          = X:10 Y:-45 Z:0
    GeometryName          = OpenRight

    GeometryContactPoint =    X:23    Y:-39    Z:0 Ram
    GeometryContactPoint =    X:12    Y:-45    Z:60
    GeometryContactPoint =    X:0        Y:-50    Z:0
    GeometryContactPoint =    X:0        Y:-25    Z:60
    GeometryContactPoint =    X:0        Y:0        Z:0 Ram
    GeometryContactPoint =    X:0        Y:25    Z:60
    GeometryContactPoint =    X:0        Y:50    Z:0
    GeometryContactPoint =    X:12    Y:45    Z:60
    GeometryContactPoint =    X:23    Y:39    Z:0 Ram


    Shadow                = SHADOW_VOLUME
End





Object RBHelmsDeepGateDoorSmall

    SelectPortrait = BPCHelmsDeep



  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = RBHDIGatDr
    End

    ModelConditionState = ACTIVELY_BEING_CONSTRUCTED
        Model = None
    End

    ModelConditionState  = RUBBLE DOOR_1_OPENING
       Model         = RBHDIGATDR_D4
     End
     AnimationState = RUBBLE DOOR_1_OPENING
         Animation = Open
             AnimationName    =    RBHDIGATDR_D4.RBHDIGATDR_D4
             AnimationMode    =    ONCE
         End
     End

       ModelConditionState  = RUBBLE
       Model         = RBHDIGATDR_D3
     End
      AnimationState = RUBBLE
         Animation = Open
             AnimationName    =    RBHDIGATDR_D3.RBHDIGATDR_D3
             AnimationMode    =    ONCE
         End
     End

    AnimationState = DOOR_1_OPENING
        StateName = STATE_Open
        Animation = Open
            AnimationName    =    RBHDIGATDR.RBHDIGATDR
            AnimationMode    =    ONCE
            AnimationBlendTime = 0
        End
        Flags = START_FRAME_LAST
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Closed" then CurDrawableSetTransitionAnimState("TRANS_Closed_To_Open") end
        EndScript
    End
    TransitionState = TRANS_Closed_To_Open
        Animation = Open
            AnimationName    =    RBHDIGATDR.RBHDIGATDR
            AnimationMode    =    ONCE
        End
    End

    AnimationState = DOOR_1_CLOSING
        StateName = STATE_Closed
        Animation = Close
            AnimationName    =    RBHDIGATDR.RBHDIGATDR
            AnimationMode    =    ONCE_BACKWARDS
            AnimationBlendTime = 0
        End
        Flags = START_FRAME_FIRST
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Open" then CurDrawableSetTransitionAnimState("TRANS_Open_To_Closed") end
        EndScript
    End
    TransitionState = TRANS_Open_To_Closed
        Animation = Open
            AnimationName    =    RBHDIGATDR.RBHDIGATDR
            AnimationMode    =    ONCE_BACKWARDS
        End
        Flags = START_FRAME_LAST
    End

  End




    VoiceSelect        = GateSelect




  DisplayName        = OBJECT:RBHelmsDeepGateDoorSmall
  Side                = Obsolete
  EditorSorting        = STRUCTURE
  ThreatLevel        = 1.0
  BuildCost            = MONUMENT_FORTRESS_GATE_BUILDCOST

  VisionRange         = 1600.0

  ArmorSet
    Conditions        = None
    Armor             = DefaultWallArmor
    DamageFX          = GateDamageFX
  End

    CommandSet = CastleGateCommandSet



    KindOf                    = STRUCTURE IMMOBILE SELECTABLE BLOCKING_GATE WALL_GATE IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP
    RadarPriority            = NOT_ON_RADAR
    KeepSelectableWhenDead    = Yes

    Body                  = ActiveBody ModuleTag_02
        MaxHealth       = 3500.0
    End

    Behavior = AIUpdateInterface ModuleTag_AIForSequentialScriptsToWork
    End

    Behavior = DoCommandUpgrade Module_DoCommandCloseGate
        TriggeredBy     			    = Upgrade_AllFactionUpgrade
        GetUpgradeCommandButtonName = Command_ToggleGate
    End

    Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
        SelfBuildingLoop            = BuildingConstructionLoop
        SelfRepairFromDamageLoop    = NoSound
        SelfRepairFromRubbleLoop    = BuildingConstructionLoop
        SpawnTimer                    = -1.0
        RebuildTimeSeconds            = 40
    End




  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: MinisTirithGateDie Animation:GBMgatedoorSKL.GBMgatedoorA3 Frames: 1
    End

    Behavior = TransitionDamageFX ModleTag_hideBustedDoors
         PristineShowSubObject        HDG_GATER HDG_GATEL
         PristineHideSubObject        HDG_GATER_D1 HDG_GATER_D2 HDG_GATEL_D1 HDG_GATEL_D2
         DamagedShowSubObject        HDG_GATER_D1 HDG_GATEL_D1
         DamagedHideSubObject        HDG_GATER_D2 HDG_GATEL_D2 HDG_GATER HDG_GATEL
         ReallyDamagedShowSubObject    HDG_GATER_D2 HDG_GATEL_D2
         ReallyDamagedHideSubObject  HDG_GATER_D1  HDG_GATEL_D1 HDG_GATER HDG_GATEL
         DamagedFXList1 = Loc: X:0 Y:0 Z:0            FXList:FX_BasicSevereScreenShake
          ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0        FXList:FX_BasicSevereScreenShake
          RubbleFXList1 = Loc: X:0 Y:0 Z:0            FXList:FX_HelmsDeepGateRubble
     End

    Behavior = GateOpenAndCloseBehavior ModuleTag_GATE
        ResetTimeInMilliseconds = 12200
        OpenByDefault = Yes
        PercentOpenForPathing = 50
        SoundOpeningGateLoop = GateOpenStart
        SoundClosingGateLoop = GateCloseStart
        SoundFinishedOpeningGate = GateOpenEnd
        SoundFinishedClosingGate = GateCloseEnd
        TimeBeforePlayingOpenSound = 8500
        TimeBeforePlayingClosedSound = 8500
    End

    Behavior = FakePathfindPortalBehaviour ModuleTag_FAKEPATHFIND
        AllowEnemies            = No
        AllowNonSkirmishAIUnits    = No
    End

    Behavior = AIGateUpdate ModuleTage_AIGateUpdate
        TriggerWidthX = 450.0
        TriggerWidthY = 225.0
    End

    Geometry              = BOX
    GeometryMajorRadius   = 1.0
    GeometryMinorRadius   = 57.0
    GeometryHeight        = 56.0
    GeometryName          = Closed
    GeometryOffset          = X:-5.0 Y:0.0 Z: 0.0
    GeometryIsSmall       = No

    AdditionalGeometry    = BOX
    GeometryMajorRadius   = 20.0
    GeometryMinorRadius   = 5.0
    GeometryHeight        = 56.0
    GeometryOffset          = X:10 Y:50 Z:0
    GeometryName          = OpenLeft

    AdditionalGeometry    = BOX
    GeometryMajorRadius   = 20.0
    GeometryMinorRadius   = 5.0
    GeometryHeight        = 56.0
    GeometryOffset          = X:10 Y:-50 Z:0
    GeometryName          = OpenRight

    GeometryContactPoint = X:24        Y:-50    Z:0 Ram
    GeometryContactPoint = X:12        Y:-50    Z:45
    GeometryContactPoint = X:0        Y:-50    Z:0
    GeometryContactPoint = X:0        Y:-25    Z:54
    GeometryContactPoint = X:0        Y:0        Z:0 Ram
    GeometryContactPoint = X:0        Y:25    Z:54
    GeometryContactPoint = X:0        Y:50    Z:0
    GeometryContactPoint = X:12        Y:50    Z:45
    GeometryContactPoint = X:24        Y:50    Z:0 Ram

    Shadow                = SHADOW_VOLUME
End

